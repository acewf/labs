var _Mathtan=Math.tan,_StringfromCharCode=String.fromCharCode,_Mathsign=Math.sign,_NumberNEGATIVE_INFINITY=Number.NEGATIVE_INFINITY,_NumberPOSITIVE_INFINITY=Number.POSITIVE_INFINITY,_Mathacos=Math.acos,_Mathfloor=Math.floor,_NumberMAX_VALUE=Number.MAX_VALUE,_Mathceil=Math.ceil,_Mathatan=Math.atan2,_Mathsin=Math.sin,_Mathcos=Math.cos,_Mathmax=Math.max,_Mathabs=Math.abs,_Mathsqrt=Math.sqrt,_Mathmin=Math.min,_Mathround=Math.round,_MathPI=Math.PI;(function(E,S){'object'==typeof exports&&'object'==typeof module?module.exports=S():'function'==typeof define&&define.amd?define([],S):'object'==typeof exports?exports.MyLibrary=S():E.MyLibrary=S()})(this,function(){return function(T){function E(P){if(S[P])return S[P].exports;var M=S[P]={i:P,l:!1,exports:{}};return T[P].call(M.exports,M,M.exports,E),M.l=!0,M.exports}var S={};return E.m=T,E.c=S,E.i=function(P){return P},E.d=function(P,M,C){E.o(P,M)||Object.defineProperty(P,M,{configurable:!1,enumerable:!0,get:C})},E.n=function(P){var M=P&&P.__esModule?function(){return P['default']}:function(){return P};return E.d(M,'a',M),M},E.o=function(P,M){return Object.prototype.hasOwnProperty.call(P,M)},E.p='/public',E(E.s=199)}([function(T,E,S){'use strict';function P(Ae){if(Ae&&Ae.__esModule)return Ae;var Oe={};if(null!=Ae)for(var De in Ae)Object.prototype.hasOwnProperty.call(Ae,De)&&(Oe[De]=Ae[De]);return Oe.default=Ae,Oe}function M(Ae){return Ae&&Ae.__esModule?Ae:{default:Ae}}E.__esModule=!0,E.autoDetectRenderer=E.Application=E.Filter=E.SpriteMaskFilter=E.Quad=E.RenderTarget=E.ObjectRenderer=E.WebGLManager=E.Shader=E.CanvasRenderTarget=E.TextureUvs=E.VideoBaseTexture=E.BaseRenderTexture=E.RenderTexture=E.BaseTexture=E.Texture=E.Spritesheet=E.CanvasGraphicsRenderer=E.GraphicsRenderer=E.GraphicsData=E.Graphics=E.TextStyle=E.Text=E.SpriteRenderer=E.CanvasTinter=E.CanvasSpriteRenderer=E.Sprite=E.TransformBase=E.TransformStatic=E.Transform=E.Container=E.DisplayObject=E.Bounds=E.glCore=E.WebGLRenderer=E.CanvasRenderer=E.ticker=E.utils=E.settings=void 0;var C=S(1);Object.keys(C).forEach(function(Ae){'default'===Ae||'__esModule'===Ae||Object.defineProperty(E,Ae,{enumerable:!0,get:function(){return C[Ae]}})});var R=S(3);Object.keys(R).forEach(function(Ae){'default'===Ae||'__esModule'===Ae||Object.defineProperty(E,Ae,{enumerable:!0,get:function(){return R[Ae]}})});var I=S(5);Object.defineProperty(E,'glCore',{enumerable:!0,get:function(){return M(I).default}});var A=S(24);Object.defineProperty(E,'Bounds',{enumerable:!0,get:function(){return M(A).default}});var O=S(53);Object.defineProperty(E,'DisplayObject',{enumerable:!0,get:function(){return M(O).default}});var D=S(11);Object.defineProperty(E,'Container',{enumerable:!0,get:function(){return M(D).default}});var L=S(54);Object.defineProperty(E,'Transform',{enumerable:!0,get:function(){return M(L).default}});var N=S(55);Object.defineProperty(E,'TransformStatic',{enumerable:!0,get:function(){return M(N).default}});var F=S(25);Object.defineProperty(E,'TransformBase',{enumerable:!0,get:function(){return M(F).default}});var B=S(29);Object.defineProperty(E,'Sprite',{enumerable:!0,get:function(){return M(B).default}});var U=S(131);Object.defineProperty(E,'CanvasSpriteRenderer',{enumerable:!0,get:function(){return M(U).default}});var X=S(30);Object.defineProperty(E,'CanvasTinter',{enumerable:!0,get:function(){return M(X).default}});var V=S(133);Object.defineProperty(E,'SpriteRenderer',{enumerable:!0,get:function(){return M(V).default}});var Y=S(135);Object.defineProperty(E,'Text',{enumerable:!0,get:function(){return M(Y).default}});var G=S(65);Object.defineProperty(E,'TextStyle',{enumerable:!0,get:function(){return M(G).default}});var Z=S(103);Object.defineProperty(E,'Graphics',{enumerable:!0,get:function(){return M(Z).default}});var K=S(56);Object.defineProperty(E,'GraphicsData',{enumerable:!0,get:function(){return M(K).default}});var J=S(106);Object.defineProperty(E,'GraphicsRenderer',{enumerable:!0,get:function(){return M(J).default}});var Q=S(104);Object.defineProperty(E,'CanvasGraphicsRenderer',{enumerable:!0,get:function(){return M(Q).default}});var $=S(136);Object.defineProperty(E,'Spritesheet',{enumerable:!0,get:function(){return M($).default}});var te=S(9);Object.defineProperty(E,'Texture',{enumerable:!0,get:function(){return M(te).default}});var re=S(14);Object.defineProperty(E,'BaseTexture',{enumerable:!0,get:function(){return M(re).default}});var ne=S(31);Object.defineProperty(E,'RenderTexture',{enumerable:!0,get:function(){return M(ne).default}});var oe=S(66);Object.defineProperty(E,'BaseRenderTexture',{enumerable:!0,get:function(){return M(oe).default}});var ie=S(68);Object.defineProperty(E,'VideoBaseTexture',{enumerable:!0,get:function(){return M(ie).default}});var se=S(67);Object.defineProperty(E,'TextureUvs',{enumerable:!0,get:function(){return M(se).default}});var le=S(60);Object.defineProperty(E,'CanvasRenderTarget',{enumerable:!0,get:function(){return M(le).default}});var de=S(10);Object.defineProperty(E,'Shader',{enumerable:!0,get:function(){return M(de).default}});var ue=S(13);Object.defineProperty(E,'WebGLManager',{enumerable:!0,get:function(){return M(ue).default}});var pe=S(19);Object.defineProperty(E,'ObjectRenderer',{enumerable:!0,get:function(){return M(pe).default}});var ce=S(20);Object.defineProperty(E,'RenderTarget',{enumerable:!0,get:function(){return M(ce).default}});var fe=S(64);Object.defineProperty(E,'Quad',{enumerable:!0,get:function(){return M(fe).default}});var he=S(63);Object.defineProperty(E,'SpriteMaskFilter',{enumerable:!0,get:function(){return M(he).default}});var me=S(62);Object.defineProperty(E,'Filter',{enumerable:!0,get:function(){return M(me).default}});var ge=S(102);Object.defineProperty(E,'Application',{enumerable:!0,get:function(){return M(ge).default}});var _e=S(52);Object.defineProperty(E,'autoDetectRenderer',{enumerable:!0,get:function(){return _e.autoDetectRenderer}});var be=S(2),Te=P(be),ve=S(32),Ee=P(ve),Se=S(4),Pe=M(Se),Me=S(12),Ce=M(Me),Re=S(18),Ie=M(Re);E.settings=Pe.default,E.utils=Te,E.ticker=Ee,E.CanvasRenderer=Ce.default,E.WebGLRenderer=Ie.default},function(T,E){'use strict';E.__esModule=!0;var P=E.VERSION='4.4.4',M=E.PI_2=2*_MathPI,C=E.RAD_TO_DEG=180/_MathPI,R=E.DEG_TO_RAD=_MathPI/180,I=E.RENDERER_TYPE={UNKNOWN:0,WEBGL:1,CANVAS:2},A=E.BLEND_MODES={NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16},O=E.DRAW_MODES={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},D=E.SCALE_MODES={LINEAR:0,NEAREST:1},L=E.WRAP_MODES={CLAMP:0,REPEAT:1,MIRRORED_REPEAT:2},N=E.GC_MODES={AUTO:0,MANUAL:1},F=E.URL_FILE_EXTENSION=/\.(\w{3,4})(?:$|\?|#)/i,B=E.DATA_URI=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;(charset=[\w-]+|base64))?,(.*)/i,U=E.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,X=E.SHAPES={POLY:0,RECT:1,CIRC:2,ELIP:3,RREC:4},V=E.PRECISION={LOW:'lowp',MEDIUM:'mediump',HIGH:'highp'},Y=E.TRANSFORM_MODE={STATIC:0,DYNAMIC:1},G=E.TEXT_GRADIENT={LINEAR_VERTICAL:0,LINEAR_HORIZONTAL:1}},function(T,E,S){'use strict';function P(ce){if(ce&&ce.__esModule)return ce;var fe={};if(null!=ce)for(var he in ce)Object.prototype.hasOwnProperty.call(ce,he)&&(fe[he]=ce[he]);return fe.default=ce,fe}function M(ce){return ce&&ce.__esModule?ce:{default:ce}}E.__esModule=!0,E.BaseTextureCache=E.TextureCache=E.mixins=E.pluginTarget=E.EventEmitter=E.isMobile=void 0,E.uid=function(){return++le},E.hex2rgb=function(ce,fe){return fe=fe||[],fe[0]=(255&ce>>16)/255,fe[1]=(255&ce>>8)/255,fe[2]=(255&ce)/255,fe},E.hex2string=function(ce){return ce=ce.toString(16),ce='000000'.substr(0,6-ce.length)+ce,'#'+ce},E.rgb2hex=function(ce){return(255*ce[0]<<16)+(255*ce[1]<<8)+(0|255*ce[2])},E.getResolutionOfUrl=function(ce,fe){var he=J.default.RETINA_PREFIX.exec(ce);return he?parseFloat(he[1]):fe===void 0?1:fe},E.decomposeDataUri=function(ce){var fe=Z.DATA_URI.exec(ce);return fe?{mediaType:fe[1]?fe[1].toLowerCase():void 0,subType:fe[2]?fe[2].toLowerCase():void 0,encoding:fe[3]?fe[3].toLowerCase():void 0,data:fe[4]}:void 0},E.getUrlFileExtension=function(ce){var fe=Z.URL_FILE_EXTENSION.exec(ce);return fe?fe[1].toLowerCase():void 0},E.getSvgSize=function(ce){var fe=Z.SVG_SIZE.exec(ce),he={};return fe&&(he[fe[1]]=_Mathround(parseFloat(fe[3])),he[fe[5]]=_Mathround(parseFloat(fe[7]))),he},E.skipHello=function(){de=!0},E.sayHello=function(ce){if(!de){if(-1<navigator.userAgent.toLowerCase().indexOf('chrome')){var fe=['\n %c %c %c Pixi.js '+Z.VERSION+' - \u2730 '+ce+' \u2730  %c  %c  http://www.pixijs.com/  %c %c \u2665%c\u2665%c\u2665 \n\n','background: #ff66a5; padding:5px 0;','background: #ff66a5; padding:5px 0;','color: #ff66a5; background: #030307; padding:5px 0;','background: #ff66a5; padding:5px 0;','background: #ffc3dc; padding:5px 0;','background: #ff66a5; padding:5px 0;','color: #ff2424; background: #fff; padding:5px 0;','color: #ff2424; background: #fff; padding:5px 0;','color: #ff2424; background: #fff; padding:5px 0;'];window.console.log.apply(console,fe)}else window.console&&window.console.log('Pixi.js '+Z.VERSION+' - '+ce+' - http://www.pixijs.com/');de=!0}},E.isWebGLSupported=function(){var ce={stencil:!0,failIfMajorPerformanceCaveat:!0};try{if(!window.WebGLRenderingContext)return!1;var fe=document.createElement('canvas'),he=fe.getContext('webgl',ce)||fe.getContext('experimental-webgl',ce),me=!!(he&&he.getContextAttributes().stencil);if(he){var ge=he.getExtension('WEBGL_lose_context');ge&&ge.loseContext()}return he=null,me}catch(_e){return!1}},E.sign=function(ce){return 0===ce?0:0>ce?-1:1},E.removeItems=function(ce,fe,he){var me=ce.length;if(!(fe>=me||0===he)){he=fe+he>me?me-fe:he;for(var ge=me-he,_e=fe;_e<ge;++_e)ce[_e]=ce[_e+he];ce.length=ge}},E.destroyTextureCache=function(){var ce=void 0;for(ce in ue)ue[ce].destroy();for(ce in pe)pe[ce].destroy()},E.clearTextureCache=function(){var ce=void 0;for(ce in ue)delete ue[ce];for(ce in pe)delete pe[ce]};var Z=S(1),K=S(4),J=M(K),Q=S(8),$=M(Q),te=S(142),re=M(te),ne=S(141),oe=P(ne),ie=S(22),se=P(ie),le=0,de=!1;E.isMobile=se,E.EventEmitter=$.default,E.pluginTarget=re.default,E.mixins=oe;var ue=E.TextureCache={},pe=E.BaseTextureCache={}},function(T,E,S){'use strict';function P(F){return F&&F.__esModule?F:{default:F}}E.__esModule=!0;var M=S(27);Object.defineProperty(E,'Point',{enumerable:!0,get:function(){return P(M).default}});var C=S(58);Object.defineProperty(E,'ObservablePoint',{enumerable:!0,get:function(){return P(C).default}});var R=S(26);Object.defineProperty(E,'Matrix',{enumerable:!0,get:function(){return P(R).default}});var I=S(57);Object.defineProperty(E,'GroupD8',{enumerable:!0,get:function(){return P(I).default}});var A=S(113);Object.defineProperty(E,'Circle',{enumerable:!0,get:function(){return P(A).default}});var O=S(114);Object.defineProperty(E,'Ellipse',{enumerable:!0,get:function(){return P(O).default}});var D=S(115);Object.defineProperty(E,'Polygon',{enumerable:!0,get:function(){return P(D).default}});var L=S(28);Object.defineProperty(E,'Rectangle',{enumerable:!0,get:function(){return P(L).default}});var N=S(116);Object.defineProperty(E,'RoundedRectangle',{enumerable:!0,get:function(){return P(N).default}})},function(T,E,S){'use strict';function P(A){return A&&A.__esModule?A:{default:A}}E.__esModule=!0;var M=S(140),C=P(M),R=S(138),I=P(R);E.default={TARGET_FPMS:0.06,MIPMAP_TEXTURES:!0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:(0,C.default)(32),SPRITE_BATCH_SIZE:4096,RETINA_PREFIX:/@([0-9\.]+)x/,RENDER_OPTIONS:{view:null,antialias:!1,forceFXAA:!1,autoResize:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,roundPixels:!1},TRANSFORM_MODE:0,GC_MODE:0,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:0,SCALE_MODE:0,PRECISION_VERTEX:'highp',PRECISION_FRAGMENT:'mediump',CAN_UPLOAD_SAME_BUFFER:(0,I.default)()}},function(T,E,S){var P={createContext:S(98),setVertexAttribArrays:S(42),GLBuffer:S(94),GLFramebuffer:S(95),GLShader:S(96),GLTexture:S(41),VertexArrayObject:S(97),shader:S(99)};'undefined'!=typeof T&&T.exports&&(T.exports=P),'undefined'!=typeof window&&(window.PIXI=window.PIXI||{},window.PIXI.glCore=P)},function(T,E,S){(function(P){function M(O,D){for(var L=0,N=O.length-1,F;0<=N;N--)F=O[N],'.'===F?O.splice(N,1):'..'===F?(O.splice(N,1),L++):L&&(O.splice(N,1),L--);if(D)for(;L--;L)O.unshift('..');return O}function C(O,D){if(O.filter)return O.filter(D);for(var L=[],N=0;N<O.length;N++)D(O[N],N,O)&&L.push(O[N]);return L}var R=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,I=function(O){return R.exec(O).slice(1)};E.resolve=function(){for(var O='',D=!1,L=arguments.length-1,N;-1<=L&&!D;L--){if(N=0<=L?arguments[L]:P.cwd(),'string'!=typeof N)throw new TypeError('Arguments to path.resolve must be strings');else if(!N)continue;O=N+'/'+O,D='/'===N.charAt(0)}return O=M(C(O.split('/'),function(F){return!!F}),!D).join('/'),(D?'/':'')+O||'.'},E.normalize=function(O){var D=E.isAbsolute(O),L='/'===A(O,-1);return O=M(C(O.split('/'),function(N){return!!N}),!D).join('/'),O||D||(O='.'),O&&L&&(O+='/'),(D?'/':'')+O},E.isAbsolute=function(O){return'/'===O.charAt(0)},E.join=function(){var O=Array.prototype.slice.call(arguments,0);return E.normalize(C(O,function(D){if('string'!=typeof D)throw new TypeError('Arguments to path.join must be strings');return D}).join('/'))},E.relative=function(O,D){function L(Y){for(var G=0;G<Y.length&&''===Y[G];G++);for(var Z=Y.length-1;0<=Z&&''===Y[Z];Z--);return G>Z?[]:Y.slice(G,Z-G+1)}O=E.resolve(O).substr(1),D=E.resolve(D).substr(1);for(var N=L(O.split('/')),F=L(D.split('/')),B=_Mathmin(N.length,F.length),U=B,X=0;X<B;X++)if(N[X]!==F[X]){U=X;break}for(var V=[],X=U;X<N.length;X++)V.push('..');return V=V.concat(F.slice(U)),V.join('/')},E.sep='/',E.delimiter=':',E.dirname=function(O){var D=I(O),L=D[0],N=D[1];return L||N?(N&&(N=N.substr(0,N.length-1)),L+N):'.'},E.basename=function(O,D){var L=I(O)[2];return D&&L.substr(-1*D.length)===D&&(L=L.substr(0,L.length-D.length)),L},E.extname=function(O){return I(O)[3]};var A=function(O,D,L){return O.substr(D,L)}}).call(E,S(181))},function(T,E,S){'use strict';(function(P){function M(ne){if(ne&&ne.__esModule)return ne;var oe={};if(null!=ne)for(var ie in ne)Object.prototype.hasOwnProperty.call(ne,ie)&&(oe[ie]=ne[ie]);return oe.default=ne,oe}E.__esModule=!0,E.loader=E.prepare=E.particles=E.mesh=E.loaders=E.interaction=E.filters=E.extras=E.extract=E.accessibility=void 0;var C=S(175);Object.keys(C).forEach(function(ne){'default'===ne||'__esModule'===ne||Object.defineProperty(E,ne,{enumerable:!0,get:function(){return C[ne]}})});var R=S(144);Object.keys(R).forEach(function(ne){'default'===ne||'__esModule'===ne||Object.defineProperty(E,ne,{enumerable:!0,get:function(){return R[ne]}})});var I=S(0);Object.keys(I).forEach(function(ne){'default'===ne||'__esModule'===ne||Object.defineProperty(E,ne,{enumerable:!0,get:function(){return I[ne]}})});var A=S(101),O=M(A),D=S(146),L=M(D),N=S(34),F=M(N),B=S(75),U=M(B),X=S(77),V=M(X),Y=S(80),G=M(Y),Z=S(84),K=M(Z),J=S(85),Q=M(J),$=S(86),te=M($);I.utils.mixins.performMixins(),E.accessibility=O,E.extract=L,E.extras=F,E.filters=U,E.interaction=V,E.loaders=G,E.mesh=K,E.particles=Q,E.prepare=te;var re=G&&G.Loader?new G.Loader:null;E.loader=re,P.PIXI=E}).call(E,S(37))},function(T){'use strict';function P(){}function M(A,O,D){this.fn=A,this.context=O,this.once=D||!1}function C(){this._events=new P,this._eventsCount=0}var R=Object.prototype.hasOwnProperty,I='~';Object.create&&(P.prototype=Object.create(null),!new P().__proto__&&(I=!1)),C.prototype.eventNames=function(){var O=[],D,L;if(0===this._eventsCount)return O;for(L in D=this._events)R.call(D,L)&&O.push(I?L.slice(1):L);return Object.getOwnPropertySymbols?O.concat(Object.getOwnPropertySymbols(D)):O},C.prototype.listeners=function(O,D){var L=I?I+O:O,N=this._events[L];if(D)return!!N;if(!N)return[];if(N.fn)return[N.fn];for(var F=0,B=N.length,U=Array(B);F<B;F++)U[F]=N[F].fn;return U},C.prototype.emit=function(O,D,L,N,F,B){var U=I?I+O:O;if(!this._events[U])return!1;var X=this._events[U],V=arguments.length,Y,G;if(X.fn){switch(X.once&&this.removeListener(O,X.fn,void 0,!0),V){case 1:return X.fn.call(X.context),!0;case 2:return X.fn.call(X.context,D),!0;case 3:return X.fn.call(X.context,D,L),!0;case 4:return X.fn.call(X.context,D,L,N),!0;case 5:return X.fn.call(X.context,D,L,N,F),!0;case 6:return X.fn.call(X.context,D,L,N,F,B),!0;}for(G=1,Y=Array(V-1);G<V;G++)Y[G-1]=arguments[G];X.fn.apply(X.context,Y)}else{var Z=X.length,K;for(G=0;G<Z;G++)switch(X[G].once&&this.removeListener(O,X[G].fn,void 0,!0),V){case 1:X[G].fn.call(X[G].context);break;case 2:X[G].fn.call(X[G].context,D);break;case 3:X[G].fn.call(X[G].context,D,L);break;case 4:X[G].fn.call(X[G].context,D,L,N);break;default:if(!Y)for(K=1,Y=Array(V-1);K<V;K++)Y[K-1]=arguments[K];X[G].fn.apply(X[G].context,Y);}}return!0},C.prototype.on=function(O,D,L){var N=new M(D,L||this),F=I?I+O:O;return this._events[F]?this._events[F].fn?this._events[F]=[this._events[F],N]:this._events[F].push(N):(this._events[F]=N,this._eventsCount++),this},C.prototype.once=function(O,D,L){var N=new M(D,L||this,!0),F=I?I+O:O;return this._events[F]?this._events[F].fn?this._events[F]=[this._events[F],N]:this._events[F].push(N):(this._events[F]=N,this._eventsCount++),this},C.prototype.removeListener=function(O,D,L,N){var F=I?I+O:O;if(!this._events[F])return this;if(!D)return 0==--this._eventsCount?this._events=new P:delete this._events[F],this;var B=this._events[F];if(B.fn)B.fn!==D||N&&!B.once||L&&B.context!==L||(0==--this._eventsCount?this._events=new P:delete this._events[F]);else{for(var U=0,X=[],V=B.length;U<V;U++)(B[U].fn!==D||N&&!B[U].once||L&&B[U].context!==L)&&X.push(B[U]);X.length?this._events[F]=1===X.length?X[0]:X:0==--this._eventsCount?this._events=new P:delete this._events[F]}return this},C.prototype.removeAllListeners=function(O){var D;return O?(D=I?I+O:O,this._events[D]&&(0==--this._eventsCount?this._events=new P:delete this._events[D])):(this._events=new P,this._eventsCount=0),this},C.prototype.off=C.prototype.removeListener,C.prototype.addListener=C.prototype.on,C.prototype.setMaxListeners=function(){return this},C.prefixed=I,C.EventEmitter=C,T.exports=C},function(T,E,S){'use strict';function P(K){return K&&K.__esModule?K:{default:K}}function M(K,J){if(!(K instanceof J))throw new TypeError('Cannot call a class as a function')}function C(K,J){if(!K)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return J&&('object'==typeof J||'function'==typeof J)?J:K}function R(K,J){if('function'!=typeof J&&null!==J)throw new TypeError('Super expression must either be null or a function, not '+typeof J);K.prototype=Object.create(J&&J.prototype,{constructor:{value:K,enumerable:!1,writable:!0,configurable:!0}}),J&&(Object.setPrototypeOf?Object.setPrototypeOf(K,J):K.__proto__=J)}function A(K){K.destroy=function(){},K.on=function(){},K.once=function(){},K.emit=function(){}}E.__esModule=!0;var O=function(){function K(J,Q){for(var $=0,te;$<Q.length;$++)te=Q[$],te.enumerable=te.enumerable||!1,te.configurable=!0,'value'in te&&(te.writable=!0),Object.defineProperty(J,te.key,te)}return function(J,Q,$){return Q&&K(J.prototype,Q),$&&K(J,$),J}}(),D=S(14),L=P(D),N=S(68),F=P(N),B=S(67),U=P(B),X=S(8),V=P(X),Y=S(3),G=S(2),Z=function(K){function J(Q,$,te,re,ne){M(this,J);var oe=C(this,K.call(this));if(oe.noFrame=!1,$||(oe.noFrame=!0,$=new Y.Rectangle(0,0,1,1)),Q instanceof J&&(Q=Q.baseTexture),oe.baseTexture=Q,oe._frame=$,oe.trim=re,oe.valid=!1,oe.requiresUpdate=!1,oe._uvs=null,oe.orig=te||$,oe._rotate=+(ne||0),!0===ne)oe._rotate=2;else if(0!=oe._rotate%2)throw new Error('attempt to use diamond-shaped UVs. If you are sure, set rotation manually');return Q.hasLoaded?(oe.noFrame&&($=new Y.Rectangle(0,0,Q.width,Q.height),Q.on('update',oe.onBaseTextureUpdated,oe)),oe.frame=$):Q.once('loaded',oe.onBaseTextureLoaded,oe),oe._updateID=0,oe.transform=null,oe}return R(J,K),J.prototype.update=function(){this.baseTexture.update()},J.prototype.onBaseTextureLoaded=function($){this._updateID++,this.frame=this.noFrame?new Y.Rectangle(0,0,$.width,$.height):this._frame,this.baseTexture.on('update',this.onBaseTextureUpdated,this),this.emit('update',this)},J.prototype.onBaseTextureUpdated=function($){this._updateID++,this._frame.width=$.width,this._frame.height=$.height,this.emit('update',this)},J.prototype.destroy=function($){this.baseTexture&&($&&(G.TextureCache[this.baseTexture.imageUrl]&&delete G.TextureCache[this.baseTexture.imageUrl],this.baseTexture.destroy()),this.baseTexture.off('update',this.onBaseTextureUpdated,this),this.baseTexture.off('loaded',this.onBaseTextureLoaded,this),this.baseTexture=null),this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,this.off('dispose',this.dispose,this),this.off('update',this.update,this)},J.prototype.clone=function(){return new J(this.baseTexture,this.frame,this.orig,this.trim,this.rotate)},J.prototype._updateUvs=function(){this._uvs||(this._uvs=new U.default),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},J.fromImage=function($,te,re,ne){var oe=G.TextureCache[$];return oe||(oe=new J(L.default.fromImage($,te,re,ne)),G.TextureCache[$]=oe),oe},J.fromFrame=function($){var te=G.TextureCache[$];if(!te)throw new Error('The frameId "'+$+'" does not exist in the texture cache');return te},J.fromCanvas=function($,te){return new J(L.default.fromCanvas($,te))},J.fromVideo=function($,te){return'string'==typeof $?J.fromVideoUrl($,te):new J(F.default.fromVideo($,te))},J.fromVideoUrl=function($,te){return new J(F.default.fromUrl($,te))},J.from=function($){if('string'==typeof $){var te=G.TextureCache[$];if(!te){var re=null!==$.match(/\.(mp4|webm|ogg|h264|avi|mov)$/);return re?J.fromVideoUrl($):J.fromImage($)}return te}return $ instanceof HTMLImageElement?new J(L.default.from($)):$ instanceof HTMLCanvasElement?J.fromCanvas($):$ instanceof HTMLVideoElement?J.fromVideo($):$ instanceof L.default?new J($):$},J.fromLoader=function($,te,re){var ne=new L.default($,void 0,(0,G.getResolutionOfUrl)(te)),oe=new J(ne);return ne.imageUrl=te,re||(re=te),G.BaseTextureCache[re]=ne,G.TextureCache[re]=oe,re!==te&&(G.BaseTextureCache[te]=ne,G.TextureCache[te]=oe),oe},J.addTextureToCache=function($,te){G.TextureCache[te]=$},J.removeTextureFromCache=function($){var te=G.TextureCache[$];return delete G.TextureCache[$],delete G.BaseTextureCache[$],te},O(J,[{key:'frame',get:function(){return this._frame},set:function($){if(this._frame=$,this.noFrame=!1,$.x+$.width>this.baseTexture.width||$.y+$.height>this.baseTexture.height)throw new Error('Texture Error: frame does not fit inside the base Texture dimensions: X: '+$.x+' + '+$.width+' > '+this.baseTexture.width+' '+('Y: '+$.y+' + '+$.height+' > '+this.baseTexture.height));this.valid=$&&$.width&&$.height&&this.baseTexture.hasLoaded,this.trim||this.rotate||(this.orig=$),this.valid&&this._updateUvs()}},{key:'rotate',get:function(){return this._rotate},set:function($){this._rotate=$,this.valid&&this._updateUvs()}},{key:'width',get:function(){return this.orig.width}},{key:'height',get:function(){return this.orig.height}}]),J}(V.default);E.default=Z,Z.EMPTY=new Z(new L.default()),A(Z.EMPTY),A(Z.EMPTY.baseTexture),Z.WHITE=function(){var K=document.createElement('canvas');K.width=10,K.height=10;var J=K.getContext('2d');return J.fillStyle='white',J.fillRect(0,0,10,10),new Z(new L.default(K))}(),A(Z.WHITE),A(Z.WHITE.baseTexture)},function(T,E,S){'use strict';function M(N,F){if(!(N instanceof F))throw new TypeError('Cannot call a class as a function')}function C(N,F){if(!N)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return F&&('object'==typeof F||'function'==typeof F)?F:N}function R(N,F){if('function'!=typeof F&&null!==F)throw new TypeError('Super expression must either be null or a function, not '+typeof F);N.prototype=Object.create(F&&F.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),F&&(Object.setPrototypeOf?Object.setPrototypeOf(N,F):N.__proto__=F)}function I(N,F){if(N instanceof Array){if('precision'!==N[0].substring(0,9)){var B=N.slice(0);return B.unshift('precision '+F+' float;'),B}}else if('precision'!==N.substring(0,9))return'precision '+F+' float;\n'+N;return N}E.__esModule=!0;var A=S(5),O=S(4),D=function(N){return N&&N.__esModule?N:{default:N}}(O),L=function(N){function F(B,U,X){return M(this,F),C(this,N.call(this,B,I(U,D.default.PRECISION_VERTEX),I(X,D.default.PRECISION_FRAGMENT)))}return R(F,N),F}(A.GLShader);E.default=L},function(T,E,S){'use strict';function M(N,F){if(!(N instanceof F))throw new TypeError('Cannot call a class as a function')}function C(N,F){if(!N)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return F&&('object'==typeof F||'function'==typeof F)?F:N}function R(N,F){if('function'!=typeof F&&null!==F)throw new TypeError('Super expression must either be null or a function, not '+typeof F);N.prototype=Object.create(F&&F.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),F&&(Object.setPrototypeOf?Object.setPrototypeOf(N,F):N.__proto__=F)}E.__esModule=!0;var I=function(){function N(F,B){for(var U=0,X;U<B.length;U++)X=B[U],X.enumerable=X.enumerable||!1,X.configurable=!0,'value'in X&&(X.writable=!0),Object.defineProperty(F,X.key,X)}return function(F,B,U){return B&&N(F.prototype,B),U&&N(F,U),F}}(),A=S(2),O=S(53),D=function(N){return N&&N.__esModule?N:{default:N}}(O),L=function(N){function F(){M(this,F);var B=C(this,N.call(this));return B.children=[],B}return R(F,N),F.prototype.onChildrenChange=function(){},F.prototype.addChild=function(U){var X=arguments.length;if(1<X)for(var V=0;V<X;V++)this.addChild(arguments[V]);else U.parent&&U.parent.removeChild(U),U.parent=this,U.transform._parentID=-1,this.children.push(U),this._boundsID++,this.onChildrenChange(this.children.length-1),U.emit('added',this);return U},F.prototype.addChildAt=function(U,X){if(0>X||X>this.children.length)throw new Error(U+'addChildAt: The index '+X+' supplied is out of bounds '+this.children.length);return U.parent&&U.parent.removeChild(U),U.parent=this,U.transform._parentID=-1,this.children.splice(X,0,U),this._boundsID++,this.onChildrenChange(X),U.emit('added',this),U},F.prototype.swapChildren=function(U,X){if(U!==X){var V=this.getChildIndex(U),Y=this.getChildIndex(X);this.children[V]=X,this.children[Y]=U,this.onChildrenChange(V<Y?V:Y)}},F.prototype.getChildIndex=function(U){var X=this.children.indexOf(U);if(-1===X)throw new Error('The supplied DisplayObject must be a child of the caller');return X},F.prototype.setChildIndex=function(U,X){if(0>X||X>=this.children.length)throw new Error('The supplied index is out of bounds');var V=this.getChildIndex(U);(0,A.removeItems)(this.children,V,1),this.children.splice(X,0,U),this.onChildrenChange(X)},F.prototype.getChildAt=function(U){if(0>U||U>=this.children.length)throw new Error('getChildAt: Index ('+U+') does not exist.');return this.children[U]},F.prototype.removeChild=function(U){var X=arguments.length;if(1<X)for(var V=0;V<X;V++)this.removeChild(arguments[V]);else{var Y=this.children.indexOf(U);if(-1===Y)return null;U.parent=null,U.transform._parentID=-1,(0,A.removeItems)(this.children,Y,1),this._boundsID++,this.onChildrenChange(Y),U.emit('removed',this)}return U},F.prototype.removeChildAt=function(U){var X=this.getChildAt(U);return X.parent=null,X.transform._parentID=-1,(0,A.removeItems)(this.children,U,1),this._boundsID++,this.onChildrenChange(U),X.emit('removed',this),X},F.prototype.removeChildren=function(){var U=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,X=arguments[1],V=U,Y='number'==typeof X?X:this.children.length,G=Y-V,Z;if(0<G&&G<=Y){Z=this.children.splice(V,G);for(var K=0;K<Z.length;++K)Z[K].parent=null,Z[K].transform&&(Z[K].transform._parentID=-1);this._boundsID++,this.onChildrenChange(U);for(var J=0;J<Z.length;++J)Z[J].emit('removed',this);return Z}if(0==G&&0===this.children.length)return[];throw new RangeError('removeChildren: numeric values are outside the acceptable range.')},F.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var U=0,X=this.children.length,V;U<X;++U)V=this.children[U],V.visible&&V.updateTransform()},F.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var U=0,X;U<this.children.length;U++)(X=this.children[U],X.visible&&X.renderable)&&(X.calculateBounds(),X._mask?(X._mask.calculateBounds(),this._bounds.addBoundsMask(X._bounds,X._mask._bounds)):X.filterArea?this._bounds.addBoundsArea(X._bounds,X.filterArea):this._bounds.addBounds(X._bounds));this._lastBoundsID=this._boundsID},F.prototype._calculateBounds=function(){},F.prototype.renderWebGL=function(U){if(this.visible&&!(0>=this.worldAlpha)&&this.renderable)if(this._mask||this._filters)this.renderAdvancedWebGL(U);else{this._renderWebGL(U);for(var X=0,V=this.children.length;X<V;++X)this.children[X].renderWebGL(U)}},F.prototype.renderAdvancedWebGL=function(U){U.flush();var X=this._filters,V=this._mask;if(X){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var Y=0;Y<X.length;Y++)X[Y].enabled&&this._enabledFilters.push(X[Y]);this._enabledFilters.length&&U.filterManager.pushFilter(this,this._enabledFilters)}V&&U.maskManager.pushMask(this,this._mask),this._renderWebGL(U);for(var G=0,Z=this.children.length;G<Z;G++)this.children[G].renderWebGL(U);U.flush(),V&&U.maskManager.popMask(this,this._mask),X&&this._enabledFilters&&this._enabledFilters.length&&U.filterManager.popFilter()},F.prototype._renderWebGL=function(){},F.prototype._renderCanvas=function(){},F.prototype.renderCanvas=function(U){if(this.visible&&!(0>=this.worldAlpha)&&this.renderable){this._mask&&U.maskManager.pushMask(this._mask),this._renderCanvas(U);for(var X=0,V=this.children.length;X<V;++X)this.children[X].renderCanvas(U);this._mask&&U.maskManager.popMask(U)}},F.prototype.destroy=function(U){N.prototype.destroy.call(this);var X='boolean'==typeof U?U:U&&U.children,V=this.removeChildren(0,this.children.length);if(X)for(var Y=0;Y<V.length;++Y)V[Y].destroy(U)},I(F,[{key:'width',get:function(){return this.scale.x*this.getLocalBounds().width},set:function(U){var X=this.getLocalBounds().width;this.scale.x=0===X?1:U/X,this._width=U}},{key:'height',get:function(){return this.scale.y*this.getLocalBounds().height},set:function(U){var X=this.getLocalBounds().height;this.scale.y=0===X?1:U/X,this._height=U}}]),F}(D.default);E.default=L,L.prototype.containerUpdateTransform=L.prototype.updateTransform},function(T,E,S){'use strict';function P(Z){return Z&&Z.__esModule?Z:{default:Z}}function M(Z,K){if(!(Z instanceof K))throw new TypeError('Cannot call a class as a function')}function C(Z,K){if(!Z)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return K&&('object'==typeof K||'function'==typeof K)?K:Z}function R(Z,K){if('function'!=typeof K&&null!==K)throw new TypeError('Super expression must either be null or a function, not '+typeof K);Z.prototype=Object.create(K&&K.prototype,{constructor:{value:Z,enumerable:!1,writable:!0,configurable:!0}}),K&&(Object.setPrototypeOf?Object.setPrototypeOf(Z,K):Z.__proto__=K)}E.__esModule=!0;var I=S(59),A=P(I),O=S(117),D=P(O),L=S(60),N=P(L),F=S(118),B=P(F),U=S(2),X=S(1),V=S(4),Y=P(V),G=function(Z){function K(J,Q){var $=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};M(this,K);var te=C(this,Z.call(this,'Canvas',J,Q,$));return te.type=X.RENDERER_TYPE.CANVAS,te.rootContext=te.view.getContext('2d',{alpha:te.transparent}),te.refresh=!0,te.maskManager=new D.default(te),te.smoothProperty='imageSmoothingEnabled',te.rootContext.imageSmoothingEnabled||(te.rootContext.webkitImageSmoothingEnabled?te.smoothProperty='webkitImageSmoothingEnabled':te.rootContext.mozImageSmoothingEnabled?te.smoothProperty='mozImageSmoothingEnabled':te.rootContext.oImageSmoothingEnabled?te.smoothProperty='oImageSmoothingEnabled':te.rootContext.msImageSmoothingEnabled&&(te.smoothProperty='msImageSmoothingEnabled')),te.initPlugins(),te.blendModes=(0,B.default)(),te._activeBlendMode=null,te.context=null,te.renderingToScreen=!1,te.resize(J,Q),te}return R(K,Z),K.prototype.render=function(Q,$,te,re,ne){if(this.view){this.renderingToScreen=!$,this.emit('prerender');var oe=this.resolution;$?($=$.baseTexture||$,!$._canvasRenderTarget&&($._canvasRenderTarget=new N.default($.width,$.height,$.resolution),$.source=$._canvasRenderTarget.canvas,$.valid=!0),this.context=$._canvasRenderTarget.context,this.resolution=$._canvasRenderTarget.resolution):this.context=this.rootContext;var ie=this.context;if($||(this._lastObjectRendered=Q),!ne){var se=Q.parent,le=this._tempDisplayObjectParent.transform.worldTransform;re?(re.copy(le),this._tempDisplayObjectParent.transform._worldID=-1):le.identity(),Q.parent=this._tempDisplayObjectParent,Q.updateTransform(),Q.parent=se}ie.setTransform(1,0,0,1,0,0),ie.globalAlpha=1,ie.globalCompositeOperation=this.blendModes[X.BLEND_MODES.NORMAL],navigator.isCocoonJS&&this.view.screencanvas&&(ie.fillStyle='black',ie.clear()),(void 0===te?this.clearBeforeRender:te)&&this.renderingToScreen&&(this.transparent?ie.clearRect(0,0,this.width,this.height):(ie.fillStyle=this._backgroundColorString,ie.fillRect(0,0,this.width,this.height)));var de=this.context;this.context=ie,Q.renderCanvas(this),this.context=de,this.resolution=oe,this.emit('postrender')}},K.prototype.clear=function(Q){var $=this.context;Q=Q||this._backgroundColorString,!this.transparent&&Q?($.fillStyle=Q,$.fillRect(0,0,this.width,this.height)):$.clearRect(0,0,this.width,this.height)},K.prototype.setBlendMode=function(Q){this._activeBlendMode===Q||(this._activeBlendMode=Q,this.context.globalCompositeOperation=this.blendModes[Q])},K.prototype.destroy=function(Q){this.destroyPlugins(),Z.prototype.destroy.call(this,Q),this.context=null,this.refresh=!0,this.maskManager.destroy(),this.maskManager=null,this.smoothProperty=null},K.prototype.resize=function(Q,$){Z.prototype.resize.call(this,Q,$),this.smoothProperty&&(this.rootContext[this.smoothProperty]=Y.default.SCALE_MODE===X.SCALE_MODES.LINEAR)},K}(A.default);E.default=G,U.pluginTarget.mixin(G)},function(T,E){'use strict';function P(C,R){if(!(C instanceof R))throw new TypeError('Cannot call a class as a function')}E.__esModule=!0;var M=function(){function C(R){P(this,C),this.renderer=R,this.renderer.on('context',this.onContextChange,this)}return C.prototype.onContextChange=function(){},C.prototype.destroy=function(){this.renderer.off('context',this.onContextChange,this),this.renderer=null},C}();E.default=M},function(T,E,S){'use strict';function P(V){return V&&V.__esModule?V:{default:V}}function M(V,Y){if(!(V instanceof Y))throw new TypeError('Cannot call a class as a function')}function C(V,Y){if(!V)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return Y&&('object'==typeof Y||'function'==typeof Y)?Y:V}function R(V,Y){if('function'!=typeof Y&&null!==Y)throw new TypeError('Super expression must either be null or a function, not '+typeof Y);V.prototype=Object.create(Y&&Y.prototype,{constructor:{value:V,enumerable:!1,writable:!0,configurable:!0}}),Y&&(Object.setPrototypeOf?Object.setPrototypeOf(V,Y):V.__proto__=Y)}E.__esModule=!0;var I=S(2),A=S(4),O=P(A),D=S(8),L=P(D),N=S(139),F=P(N),B=S(21),U=P(B),X=function(V){function Y(G,Z,K){M(this,Y);var J=C(this,V.call(this));return J.uid=(0,I.uid)(),J.touched=0,J.resolution=K||O.default.RESOLUTION,J.width=100,J.height=100,J.realWidth=100,J.realHeight=100,J.scaleMode=void 0===Z?O.default.SCALE_MODE:Z,J.hasLoaded=!1,J.isLoading=!1,J.source=null,J.origSource=null,J.imageType=null,J.sourceScale=1,J.premultipliedAlpha=!0,J.imageUrl=null,J.isPowerOfTwo=!1,J.mipmap=O.default.MIPMAP_TEXTURES,J.wrapMode=O.default.WRAP_MODE,J._glTextures={},J._enabled=0,J._virtalBoundId=-1,G&&J.loadSource(G),J._destroyed=!1,J}return R(Y,V),Y.prototype.update=function(){'svg'!==this.imageType&&(this.realWidth=this.source.naturalWidth||this.source.videoWidth||this.source.width,this.realHeight=this.source.naturalHeight||this.source.videoHeight||this.source.height,this._updateDimensions()),this.emit('update',this)},Y.prototype._updateDimensions=function(){this.width=this.realWidth/this.resolution,this.height=this.realHeight/this.resolution,this.isPowerOfTwo=U.default.isPow2(this.realWidth)&&U.default.isPow2(this.realHeight)},Y.prototype.loadSource=function(Z){var K=this.isLoading;this.hasLoaded=!1,this.isLoading=!1,K&&this.source&&(this.source.onload=null,this.source.onerror=null);var J=!this.source;if(this.source=Z,(Z.src&&Z.complete||Z.getContext)&&Z.width&&Z.height)this._updateImageType(),'svg'===this.imageType?this._loadSvgSource():this._sourceLoaded(),J&&this.emit('loaded',this);else if(!Z.getContext){this.isLoading=!0;var Q=this;if(Z.onload=function(){if(Q._updateImageType(),Z.onload=null,Z.onerror=null,!!Q.isLoading)return Q.isLoading=!1,Q._sourceLoaded(),'svg'===Q.imageType?void Q._loadSvgSource():void Q.emit('loaded',Q)},Z.onerror=function(){Z.onload=null,Z.onerror=null,Q.isLoading&&(Q.isLoading=!1,Q.emit('error',Q))},Z.complete&&Z.src){if(Z.onload=null,Z.onerror=null,'svg'===Q.imageType)return void Q._loadSvgSource();this.isLoading=!1,Z.width&&Z.height?(this._sourceLoaded(),K&&this.emit('loaded',this)):K&&this.emit('error',this)}}},Y.prototype._updateImageType=function(){if(this.imageUrl){var Z=(0,I.decomposeDataUri)(this.imageUrl),K;if(Z&&'image'===Z.mediaType){var J=Z.subType.split('+')[0];if(K=(0,I.getUrlFileExtension)('.'+J),!K)throw new Error('Invalid image type in data URI.')}else K=(0,I.getUrlFileExtension)(this.imageUrl),K||(K='png');this.imageType=K}},Y.prototype._loadSvgSource=function(){if('svg'===this.imageType){var Z=(0,I.decomposeDataUri)(this.imageUrl);Z?this._loadSvgSourceUsingDataUri(Z):this._loadSvgSourceUsingXhr()}},Y.prototype._loadSvgSourceUsingDataUri=function(Z){var K;if('base64'===Z.encoding){if(!atob)throw new Error('Your browser doesn\'t support base64 conversions.');K=atob(Z.data)}else K=Z.data;this._loadSvgSourceUsingString(K)},Y.prototype._loadSvgSourceUsingXhr=function(){var Z=this,K=new XMLHttpRequest;K.onload=function(){if(K.readyState!==K.DONE||200!==K.status)throw new Error('Failed to load SVG using XHR.');Z._loadSvgSourceUsingString(K.response)},K.onerror=function(){return Z.emit('error',Z)},K.open('GET',this.imageUrl,!0),K.send()},Y.prototype._loadSvgSourceUsingString=function(Z){var K=(0,I.getSvgSize)(Z),J=K.width,Q=K.height;if(!J||!Q)throw new Error('The SVG image must have width and height defined (in pixels), canvas API needs them.');this.realWidth=_Mathround(J*this.sourceScale),this.realHeight=_Mathround(Q*this.sourceScale),this._updateDimensions();var $=document.createElement('canvas');$.width=this.realWidth,$.height=this.realHeight,$._pixiId='canvas_'+(0,I.uid)(),$.getContext('2d').drawImage(this.source,0,0,J,Q,0,0,this.realWidth,this.realHeight),this.origSource=this.source,this.source=$,I.BaseTextureCache[$._pixiId]=this,this.isLoading=!1,this._sourceLoaded(),this.emit('loaded',this)},Y.prototype._sourceLoaded=function(){this.hasLoaded=!0,this.update()},Y.prototype.destroy=function(){this.imageUrl&&(delete I.BaseTextureCache[this.imageUrl],delete I.TextureCache[this.imageUrl],this.imageUrl=null,!navigator.isCocoonJS&&(this.source.src='')),this.source&&this.source._pixiId&&delete I.BaseTextureCache[this.source._pixiId],this.source=null,this.dispose(),this._destroyed=!0},Y.prototype.dispose=function(){this.emit('dispose',this)},Y.prototype.updateSourceImage=function(Z){this.source.src=Z,this.loadSource(this.source)},Y.fromImage=function(Z,K,J,Q){var $=I.BaseTextureCache[Z];if(!$){var te=new Image;void 0===K&&0!==Z.indexOf('data:')&&(te.crossOrigin=(0,F.default)(Z)),$=new Y(te,J),$.imageUrl=Z,Q&&($.sourceScale=Q),$.resolution=(0,I.getResolutionOfUrl)(Z),te.src=Z,I.BaseTextureCache[Z]=$}return $},Y.fromCanvas=function(Z,K){Z._pixiId||(Z._pixiId='canvas_'+(0,I.uid)());var J=I.BaseTextureCache[Z._pixiId];return J||(J=new Y(Z,K),I.BaseTextureCache[Z._pixiId]=J),J},Y.from=function(Z,K,J){if('string'==typeof Z)return Y.fromImage(Z,void 0,K,J);if(Z instanceof HTMLImageElement){var Q=Z.src,$=I.BaseTextureCache[Q];return $||($=new Y(Z,K),$.imageUrl=Q,J&&($.sourceScale=J),$.resolution=(0,I.getResolutionOfUrl)(Q),I.BaseTextureCache[Q]=$),$}return Z instanceof HTMLCanvasElement?Y.fromCanvas(Z,K):Z},Y}(L.default);E.default=X},function(T,E,S){'use strict';function M(F,B){if(!(F instanceof B))throw new TypeError('Cannot call a class as a function')}function C(F,B){if(!F)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return B&&('object'==typeof B||'function'==typeof B)?B:F}function R(F,B){if('function'!=typeof B&&null!==B)throw new TypeError('Super expression must either be null or a function, not '+typeof B);F.prototype=Object.create(B&&B.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),B&&(Object.setPrototypeOf?Object.setPrototypeOf(F,B):F.__proto__=B)}E.__esModule=!0;var I=function(){function F(B,U){for(var X=0,V;X<U.length;X++)V=U[X],V.enumerable=V.enumerable||!1,V.configurable=!0,'value'in V&&(V.writable=!0),Object.defineProperty(B,V.key,V)}return function(B,U,X){return U&&F(B.prototype,U),X&&F(B,X),B}}(),A=S(0),O=function(F){if(F&&F.__esModule)return F;var B={};if(null!=F)for(var U in F)Object.prototype.hasOwnProperty.call(F,U)&&(B[U]=F[U]);return B.default=F,B}(A),D=new O.Point,L=new O.Polygon,N=function(F){function B(U,X,V,Y,G){M(this,B);var Z=C(this,F.call(this));return Z._texture=null,Z.uvs=V||new Float32Array([0,0,1,0,1,1,0,1]),Z.vertices=X||new Float32Array([0,0,100,0,100,100,0,100]),Z.indices=Y||new Uint16Array([0,1,3,2]),Z.dirty=0,Z.indexDirty=0,Z.blendMode=O.BLEND_MODES.NORMAL,Z.canvasPadding=0,Z.drawMode=G||B.DRAW_MODES.TRIANGLE_MESH,Z.texture=U,Z.shader=null,Z.tintRgb=new Float32Array([1,1,1]),Z._glDatas={},Z.pluginName='mesh',Z}return R(B,F),B.prototype._renderWebGL=function(X){X.setObjectRenderer(X.plugins[this.pluginName]),X.plugins[this.pluginName].render(this)},B.prototype._renderCanvas=function(X){X.plugins[this.pluginName].render(this)},B.prototype._onTextureUpdate=function(){},B.prototype._calculateBounds=function(){this._bounds.addVertices(this.transform,this.vertices,0,this.vertices.length)},B.prototype.containsPoint=function(X){if(!this.getBounds().contains(X.x,X.y))return!1;this.worldTransform.applyInverse(X,D);for(var V=this.vertices,Y=L.points,G=this.indices,Z=this.indices.length,K=this.drawMode===B.DRAW_MODES.TRIANGLES?3:1,J=0;J+2<Z;J+=K){var Q=2*G[J],$=2*G[J+1],te=2*G[J+2];if(Y[0]=V[Q],Y[1]=V[Q+1],Y[2]=V[$],Y[3]=V[$+1],Y[4]=V[te],Y[5]=V[te+1],L.contains(D.x,D.y))return!0}return!1},I(B,[{key:'texture',get:function(){return this._texture},set:function(X){this._texture===X||(this._texture=X,X&&(X.baseTexture.hasLoaded?this._onTextureUpdate():X.once('update',this._onTextureUpdate,this)))}},{key:'tint',get:function(){return O.utils.rgb2hex(this.tintRgb)},set:function(X){this.tintRgb=O.utils.hex2rgb(X,this.tintRgb)}}]),B}(O.Container);E.default=N,N.DRAW_MODES={TRIANGLE_MESH:0,TRIANGLES:1}},function(T,E,S){'use strict';function P(F){if(F&&F.__esModule)return F;var B={};if(null!=F)for(var U in F)Object.prototype.hasOwnProperty.call(F,U)&&(B[U]=F[U]);return B.default=F,B}function M(F){return F&&F.__esModule?F:{default:F}}E.__esModule=!0;var C=S(188),R=M(C),I=S(36),A=M(I),O=S(88),D=P(O),L=S(89),N=P(L);R.default.Resource=A.default,R.default.async=D,R.default.base64=N,T.exports=R.default,E.default=R.default},function(T,E,S){'use strict';function P(I,A){var O=I.points;if(0!==O.length){var D=new C.Point(O[0],O[1]),L=new C.Point(O[O.length-2],O[O.length-1]);if(D.x===L.x&&D.y===L.y){O=O.slice(),O.pop(),O.pop(),L=new C.Point(O[O.length-2],O[O.length-1]);var N=L.x+0.5*(D.x-L.x),F=L.y+0.5*(D.y-L.y);O.unshift(N,F),O.push(N,F)}var B=A.points,U=A.indices,X=O.length/2,V=O.length,Y=B.length/6,G=I.lineWidth/2,Z=(0,R.hex2rgb)(I.lineColor),K=I.lineAlpha,J=Z[0]*K,Q=Z[1]*K,$=Z[2]*K,te=O[0],re=O[1],ne=O[2],oe=O[3],ie=0,se=0,le=-(re-oe),de=te-ne,ue=0,pe=0,ce=0,fe=0,he=_Mathsqrt(le*le+de*de);le/=he,de/=he,le*=G,de*=G,B.push(te-le,re-de,J,Q,$,K),B.push(te+le,re+de,J,Q,$,K);for(var me=1;me<X-1;++me){te=O[2*(me-1)],re=O[2*(me-1)+1],ne=O[2*me],oe=O[2*me+1],ie=O[2*(me+1)],se=O[2*(me+1)+1],le=-(re-oe),de=te-ne,he=_Mathsqrt(le*le+de*de),le/=he,de/=he,le*=G,de*=G,ue=-(oe-se),pe=ne-ie,he=_Mathsqrt(ue*ue+pe*pe),ue/=he,pe/=he,ue*=G,pe*=G;var ge=-de+re-(-de+oe),_e=-le+ne-(-le+te),be=(-le+te)*(-de+oe)-(-le+ne)*(-de+re),Te=-pe+se-(-pe+oe),ve=-ue+ne-(-ue+ie),Ee=(-ue+ie)*(-pe+oe)-(-ue+ne)*(-pe+se),Se=ge*ve-Te*_e;if(0.1>_Mathabs(Se)){Se+=10.1,B.push(ne-le,oe-de,J,Q,$,K),B.push(ne+le,oe+de,J,Q,$,K);continue}var Pe=(_e*Ee-ve*be)/Se,Me=(Te*be-ge*Ee)/Se,Ce=(Pe-ne)*(Pe-ne)+(Me-oe)*(Me-oe);Ce>196*G*G?(ce=le-ue,fe=de-pe,he=_Mathsqrt(ce*ce+fe*fe),ce/=he,fe/=he,ce*=G,fe*=G,B.push(ne-ce,oe-fe),B.push(J,Q,$,K),B.push(ne+ce,oe+fe),B.push(J,Q,$,K),B.push(ne-ce,oe-fe),B.push(J,Q,$,K),V++):(B.push(Pe,Me),B.push(J,Q,$,K),B.push(ne-(Pe-ne),oe-(Me-oe)),B.push(J,Q,$,K))}te=O[2*(X-2)],re=O[2*(X-2)+1],ne=O[2*(X-1)],oe=O[2*(X-1)+1],le=-(re-oe),de=te-ne,he=_Mathsqrt(le*le+de*de),le/=he,de/=he,le*=G,de*=G,B.push(ne-le,oe-de),B.push(J,Q,$,K),B.push(ne+le,oe+de),B.push(J,Q,$,K),U.push(Y);for(var Re=0;Re<V;++Re)U.push(Y++);U.push(Y-1)}}function M(I,A){var O=0,D=I.points;if(0!==D.length){var L=A.points,N=D.length/2,F=(0,R.hex2rgb)(I.lineColor),B=I.lineAlpha,U=F[0]*B,X=F[1]*B,V=F[2]*B;for(O=1;O<N;O++){var Y=D[2*(O-1)],G=D[2*(O-1)+1],Z=D[2*O],K=D[2*O+1];L.push(Y,G),L.push(U,X,V,B),L.push(Z,K),L.push(U,X,V,B)}}}E.__esModule=!0,E.default=function(I,A){I.nativeLines?M(I,A):P(I,A)};var C=S(3),R=S(2)},function(T,E,S){'use strict';function P(he){return he&&he.__esModule?he:{default:he}}function M(he,me){if(!(he instanceof me))throw new TypeError('Cannot call a class as a function')}function C(he,me){if(!he)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return me&&('object'==typeof me||'function'==typeof me)?me:he}function R(he,me){if('function'!=typeof me&&null!==me)throw new TypeError('Super expression must either be null or a function, not '+typeof me);he.prototype=Object.create(me&&me.prototype,{constructor:{value:he,enumerable:!1,writable:!0,configurable:!0}}),me&&(Object.setPrototypeOf?Object.setPrototypeOf(he,me):he.__proto__=me)}E.__esModule=!0;var I=S(59),A=P(I),O=S(125),D=P(O),L=S(126),N=P(L),F=S(124),B=P(F),U=S(20),X=P(U),V=S(19),Y=P(V),G=S(120),Z=P(G),K=S(14),J=P(K),Q=S(119),$=P(Q),te=S(121),re=P(te),ne=S(129),oe=P(ne),ie=S(130),se=P(ie),le=S(2),de=S(5),ue=P(de),pe=S(1),ce=0,fe=function(he){function me(ge,_e){var be=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};M(this,me);var Te=C(this,he.call(this,'WebGL',ge,_e,be));return Te.legacy=!!be.legacy,Te.legacy&&(ue.default.VertexArrayObject.FORCE_NATIVE=!0),Te.type=pe.RENDERER_TYPE.WEBGL,Te.handleContextLost=Te.handleContextLost.bind(Te),Te.handleContextRestored=Te.handleContextRestored.bind(Te),Te.view.addEventListener('webglcontextlost',Te.handleContextLost,!1),Te.view.addEventListener('webglcontextrestored',Te.handleContextRestored,!1),Te._contextOptions={alpha:Te.transparent,antialias:be.antialias,premultipliedAlpha:Te.transparent&&'notMultiplied'!==Te.transparent,stencil:!0,preserveDrawingBuffer:be.preserveDrawingBuffer},Te._backgroundColorRgba[3]=Te.transparent?0:1,Te.maskManager=new D.default(Te),Te.stencilManager=new N.default(Te),Te.emptyRenderer=new Y.default(Te),Te.currentRenderer=Te.emptyRenderer,Te.initPlugins(),be.context&&(0,se.default)(be.context),Te.gl=be.context||ue.default.createContext(Te.view,Te._contextOptions),Te.CONTEXT_UID=ce++,Te.state=new re.default(Te.gl),Te.renderingToScreen=!0,Te.boundTextures=null,Te._activeShader=null,Te._activeVao=null,Te._activeRenderTarget=null,Te._initContext(),Te.filterManager=new B.default(Te),Te.drawModes=(0,oe.default)(Te.gl),Te._nextTextureLocation=0,Te.setBlendMode(0),Te}return R(me,he),me.prototype._initContext=function(){var _e=this.gl;_e.isContextLost()&&_e.getExtension('WEBGL_lose_context')&&_e.getExtension('WEBGL_lose_context').restoreContext();var be=_e.getParameter(_e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures=Array(be),this.emptyTextures=Array(be),this.textureManager=new Z.default(this),this.textureGC=new $.default(this),this.state.resetToDefault(),this.rootRenderTarget=new X.default(_e,this.width,this.height,null,this.resolution,!0),this.rootRenderTarget.clearColor=this._backgroundColorRgba,this.bindRenderTarget(this.rootRenderTarget);var Te=new ue.default.GLTexture.fromData(_e,null,1,1),ve={_glTextures:{}};ve._glTextures[this.CONTEXT_UID]={};for(var Ee=0,Se;Ee<be;Ee++)Se=new J.default,Se._glTextures[this.CONTEXT_UID]=Te,this.boundTextures[Ee]=ve,this.emptyTextures[Ee]=Se,this.bindTexture(null,Ee);this.emit('context',_e),this.resize(this.screen.width,this.screen.height)},me.prototype.render=function(_e,be,Te,ve,Ee){if(this.renderingToScreen=!be,this.emit('prerender'),this.gl&&!this.gl.isContextLost()){if(this._nextTextureLocation=0,be||(this._lastObjectRendered=_e),!Ee){var Se=_e.parent;_e.parent=this._tempDisplayObjectParent,_e.updateTransform(),_e.parent=Se}this.bindRenderTexture(be,ve),this.currentRenderer.start(),(void 0===Te?this.clearBeforeRender:Te)&&this._activeRenderTarget.clear(),_e.renderWebGL(this),this.currentRenderer.flush(),this.textureGC.update(),this.emit('postrender')}},me.prototype.setObjectRenderer=function(_e){this.currentRenderer===_e||(this.currentRenderer.stop(),this.currentRenderer=_e,this.currentRenderer.start())},me.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},me.prototype.resize=function(_e,be){A.default.prototype.resize.call(this,_e,be),this.rootRenderTarget.resize(_e,be),this._activeRenderTarget===this.rootRenderTarget&&(this.rootRenderTarget.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=this.rootRenderTarget.projectionMatrix.toArray(!0)))},me.prototype.setBlendMode=function(_e){this.state.setBlendMode(_e)},me.prototype.clear=function(_e){this._activeRenderTarget.clear(_e)},me.prototype.setTransform=function(_e){this._activeRenderTarget.transform=_e},me.prototype.clearRenderTexture=function(_e,be){var Te=_e.baseTexture,ve=Te._glRenderTargets[this.CONTEXT_UID];return ve&&ve.clear(be),this},me.prototype.bindRenderTexture=function(_e,be){var Te;if(_e){var ve=_e.baseTexture;ve._glRenderTargets[this.CONTEXT_UID]||this.textureManager.updateTexture(ve,0),this.unbindTexture(ve),Te=ve._glRenderTargets[this.CONTEXT_UID],Te.setFrame(_e.frame)}else Te=this.rootRenderTarget;return Te.transform=be,this.bindRenderTarget(Te),this},me.prototype.bindRenderTarget=function(_e){return _e!==this._activeRenderTarget&&(this._activeRenderTarget=_e,_e.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=_e.projectionMatrix.toArray(!0)),this.stencilManager.setMaskStack(_e.stencilMaskStack)),this},me.prototype.bindShader=function(_e,be){return this._activeShader!==_e&&(this._activeShader=_e,_e.bind(),!1!==be&&(_e.uniforms.projectionMatrix=this._activeRenderTarget.projectionMatrix.toArray(!0))),this},me.prototype.bindTexture=function(_e,be,Te){if(_e=_e||this.emptyTextures[be],_e=_e.baseTexture||_e,_e.touched=this.textureGC.count,!Te){for(var ve=0;ve<this.boundTextures.length;ve++)if(this.boundTextures[ve]===_e)return ve;void 0===be&&(this._nextTextureLocation++,this._nextTextureLocation%=this.boundTextures.length,be=this.boundTextures.length-this._nextTextureLocation-1)}else be=be||0;var Ee=this.gl,Se=_e._glTextures[this.CONTEXT_UID];return Se?(this.boundTextures[be]=_e,Ee.activeTexture(Ee.TEXTURE0+be),Ee.bindTexture(Ee.TEXTURE_2D,Se.texture)):this.textureManager.updateTexture(_e,be),be},me.prototype.unbindTexture=function(_e){var be=this.gl;_e=_e.baseTexture||_e;for(var Te=0;Te<this.boundTextures.length;Te++)this.boundTextures[Te]===_e&&(this.boundTextures[Te]=this.emptyTextures[Te],be.activeTexture(be.TEXTURE0+Te),be.bindTexture(be.TEXTURE_2D,this.emptyTextures[Te]._glTextures[this.CONTEXT_UID].texture));return this},me.prototype.createVao=function(){return new ue.default.VertexArrayObject(this.gl,this.state.attribState)},me.prototype.bindVao=function(_e){return this._activeVao===_e?this:(_e?_e.bind():this._activeVao&&this._activeVao.unbind(),this._activeVao=_e,this)},me.prototype.reset=function(){return this.setObjectRenderer(this.emptyRenderer),this._activeShader=null,this._activeRenderTarget=this.rootRenderTarget,this.rootRenderTarget.activate(),this.state.resetToDefault(),this},me.prototype.handleContextLost=function(_e){_e.preventDefault()},me.prototype.handleContextRestored=function(){this._initContext(),this.textureManager.removeAll()},me.prototype.destroy=function(_e){this.destroyPlugins(),this.view.removeEventListener('webglcontextlost',this.handleContextLost),this.view.removeEventListener('webglcontextrestored',this.handleContextRestored),this.textureManager.destroy(),he.prototype.destroy.call(this,_e),this.uid=0,this.maskManager.destroy(),this.stencilManager.destroy(),this.filterManager.destroy(),this.maskManager=null,this.filterManager=null,this.textureManager=null,this.currentRenderer=null,this.handleContextLost=null,this.handleContextRestored=null,this._contextOptions=null,this.gl.useProgram(null),this.gl.getExtension('WEBGL_lose_context')&&this.gl.getExtension('WEBGL_lose_context').loseContext(),this.gl=null},me}(A.default);E.default=fe,le.pluginTarget.mixin(fe)},function(T,E,S){'use strict';function M(D,L){if(!(D instanceof L))throw new TypeError('Cannot call a class as a function')}function C(D,L){if(!D)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return L&&('object'==typeof L||'function'==typeof L)?L:D}function R(D,L){if('function'!=typeof L&&null!==L)throw new TypeError('Super expression must either be null or a function, not '+typeof L);D.prototype=Object.create(L&&L.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),L&&(Object.setPrototypeOf?Object.setPrototypeOf(D,L):D.__proto__=L)}E.__esModule=!0;var I=S(13),A=function(D){return D&&D.__esModule?D:{default:D}}(I),O=function(D){function L(){return M(this,L),C(this,D.apply(this,arguments))}return R(L,D),L.prototype.start=function(){},L.prototype.stop=function(){this.flush()},L.prototype.flush=function(){},L.prototype.render=function(){},L}(A.default);E.default=O},function(T,E,S){'use strict';function M(L,N){if(!(L instanceof N))throw new TypeError('Cannot call a class as a function')}E.__esModule=!0;var C=S(3),R=S(1),I=S(4),A=function(L){return L&&L.__esModule?L:{default:L}}(I),O=S(5),D=function(){function L(N,F,B,U,X,V){M(this,L),this.gl=N,this.frameBuffer=null,this.texture=null,this.clearColor=[0,0,0,0],this.size=new C.Rectangle(0,0,1,1),this.resolution=X||A.default.RESOLUTION,this.projectionMatrix=new C.Matrix,this.transform=null,this.frame=null,this.defaultFrame=new C.Rectangle,this.destinationFrame=null,this.sourceFrame=null,this.stencilBuffer=null,this.stencilMaskStack=[],this.filterData=null,this.scaleMode=void 0===U?A.default.SCALE_MODE:U,this.root=V,this.root?(this.frameBuffer=new O.GLFramebuffer(N,100,100),this.frameBuffer.framebuffer=null):(this.frameBuffer=O.GLFramebuffer.createRGBA(N,100,100),this.scaleMode===R.SCALE_MODES.NEAREST?this.frameBuffer.texture.enableNearestScaling():this.frameBuffer.texture.enableLinearScaling(),this.texture=this.frameBuffer.texture),this.setFrame(),this.resize(F,B)}return L.prototype.clear=function(F){var B=F||this.clearColor;this.frameBuffer.clear(B[0],B[1],B[2],B[3])},L.prototype.attachStencilBuffer=function(){this.root||this.frameBuffer.enableStencil()},L.prototype.setFrame=function(F,B){this.destinationFrame=F||this.destinationFrame||this.defaultFrame,this.sourceFrame=B||this.sourceFrame||F},L.prototype.activate=function(){var F=this.gl;this.frameBuffer.bind(),this.calculateProjection(this.destinationFrame,this.sourceFrame),this.transform&&this.projectionMatrix.append(this.transform),this.destinationFrame===this.sourceFrame?F.disable(F.SCISSOR_TEST):(F.enable(F.SCISSOR_TEST),F.scissor(0|this.destinationFrame.x,0|this.destinationFrame.y,0|this.destinationFrame.width*this.resolution,0|this.destinationFrame.height*this.resolution)),F.viewport(0|this.destinationFrame.x,0|this.destinationFrame.y,0|this.destinationFrame.width*this.resolution,0|this.destinationFrame.height*this.resolution)},L.prototype.calculateProjection=function(F,B){var U=this.projectionMatrix;B=B||F,U.identity(),this.root?(U.a=2*(1/F.width),U.d=2*(-1/F.height),U.tx=-1-B.x*U.a,U.ty=1-B.y*U.d):(U.a=2*(1/F.width),U.d=2*(1/F.height),U.tx=-1-B.x*U.a,U.ty=-1-B.y*U.d)},L.prototype.resize=function(F,B){if(F|=0,B|=0,this.size.width!==F||this.size.height!==B){this.size.width=F,this.size.height=B,this.defaultFrame.width=F,this.defaultFrame.height=B,this.frameBuffer.resize(F*this.resolution,B*this.resolution);var U=this.frame||this.size;this.calculateProjection(U)}},L.prototype.destroy=function(){this.frameBuffer.destroy(),this.frameBuffer=null,this.texture=null},L}();E.default=D},function(T,E){'use strict';'use restrict';function P(R){var I=32;return R&=-R,R&&I--,65535&R&&(I-=16),16711935&R&&(I-=8),252645135&R&&(I-=4),858993459&R&&(I-=2),1431655765&R&&(I-=1),I}var M=32;E.INT_BITS=M,E.INT_MAX=2147483647,E.INT_MIN=-1<<M-1,E.sign=function(R){return(0<R)-(0>R)},E.abs=function(R){var I=R>>M-1;return(R^I)-I},E.min=function(R,I){return I^(R^I)&-(R<I)},E.max=function(R,I){return R^(R^I)&-(R<I)},E.isPow2=function(R){return!(R&R-1)&&!!R},E.log2=function(R){var I,A;return I=(65535<R)<<4,R>>>=I,A=(255<R)<<3,R>>>=A,I|=A,A=(15<R)<<2,R>>>=A,I|=A,A=(3<R)<<1,R>>>=A,I|=A,I|R>>1},E.log10=function(R){return 1e9<=R?9:1e8<=R?8:1e7<=R?7:1e6<=R?6:1e5<=R?5:1e4<=R?4:1e3<=R?3:100<=R?2:10<=R?1:0},E.popCount=function(R){return R-=1431655765&R>>>1,R=(858993459&R)+(858993459&R>>>2),16843009*(252645135&R+(R>>>4))>>>24},E.countTrailingZeros=P,E.nextPow2=function(R){return R+=0===R,--R,R|=R>>>1,R|=R>>>2,R|=R>>>4,R|=R>>>8,R|=R>>>16,R+1},E.prevPow2=function(R){return R|=R>>>1,R|=R>>>2,R|=R>>>4,R|=R>>>8,R|=R>>>16,R-(R>>>1)},E.parity=function(R){return R^=R>>>16,R^=R>>>8,R^=R>>>4,R&=15,1&27030>>>R};var C=Array(256);(function(R){for(var I=0;256>I;++I){var A=I,O=I,D=7;for(A>>>=1;A;A>>>=1)O<<=1,O|=1&A,--D;R[I]=255&O<<D}})(C),E.reverse=function(R){return C[255&R]<<24|C[255&R>>>8]<<16|C[255&R>>>16]<<8|C[255&R>>>24]},E.interleave2=function(R,I){return R&=65535,R=16711935&(R|R<<8),R=252645135&(R|R<<4),R=858993459&(R|R<<2),R=1431655765&(R|R<<1),I&=65535,I=16711935&(I|I<<8),I=252645135&(I|I<<4),I=858993459&(I|I<<2),I=1431655765&(I|I<<1),R|I<<1},E.deinterleave2=function(R,I){return R=1431655765&R>>>I,R=858993459&(R|R>>>1),R=252645135&(R|R>>>2),R=16711935&(R|R>>>4),R=65535&(R|R>>>16),R<<16>>16},E.interleave3=function(R,I,A){return R&=1023,R=4278190335&(R|R<<16),R=251719695&(R|R<<8),R=3272356035&(R|R<<4),R=1227133513&(R|R<<2),I&=1023,I=4278190335&(I|I<<16),I=251719695&(I|I<<8),I=3272356035&(I|I<<4),I=1227133513&(I|I<<2),R|=I<<1,A&=1023,A=4278190335&(A|A<<16),A=251719695&(A|A<<8),A=3272356035&(A|A<<4),A=1227133513&(A|A<<2),R|A<<2},E.deinterleave3=function(R,I){return R=1227133513&R>>>I,R=3272356035&(R|R>>>2),R=251719695&(R|R>>>4),R=4278190335&(R|R>>>8),R=1023&(R|R>>>16),R<<22>>22},E.nextCombination=function(R){var I=R|R-1;return I+1|(~I&-~I)-1>>>P(R)+1}},function(T,E){var P,M,C;/**
 * isMobile.js v0.4.1
 *
 * A simple library to detect Apple phones and tablets,
 * Android phones and tablets, other mobile devices (like blackberry, mini-opera and windows phone),
 * and any kind of seven inch device, via user agent sniffing.
 *
 * @author: Kai Mallea (kmallea@gmail.com)
 *
 * @license: http://creativecommons.org/publicdomain/zero/1.0/
 */(function(R){var I=/iPhone/i,A=/iPod/i,O=/iPad/i,D=/(?=.*\bAndroid\b)(?=.*\bMobile\b)/i,L=/Android/i,N=/(?=.*\bAndroid\b)(?=.*\bSD4930UR\b)/i,F=/(?=.*\bAndroid\b)(?=.*\b(?:KFOT|KFTT|KFJWI|KFJWA|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|KFARWI|KFASWI|KFSAWI|KFSAWA)\b)/i,B=/Windows Phone/i,U=/(?=.*\bWindows\b)(?=.*\bARM\b)/i,X=/BlackBerry/i,V=/BB10/i,Y=/Opera Mini/i,G=/(CriOS|Chrome)(?=.*\bMobile\b)/i,Z=/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,K=/(?:Nexus 7|BNTV250|Kindle Fire|Silk|GT-P1000)/i,J=function(te,re){return te.test(re)},Q=function(te){var re=te||navigator.userAgent,ne=re.split('[FBAN');if('undefined'!=typeof ne[1]&&(re=ne[0]),ne=re.split('Twitter'),'undefined'!=typeof ne[1]&&(re=ne[0]),this.apple={phone:J(I,re),ipod:J(A,re),tablet:!J(I,re)&&J(O,re),device:J(I,re)||J(A,re)||J(O,re)},this.amazon={phone:J(N,re),tablet:!J(N,re)&&J(F,re),device:J(N,re)||J(F,re)},this.android={phone:J(N,re)||J(D,re),tablet:!J(N,re)&&!J(D,re)&&(J(F,re)||J(L,re)),device:J(N,re)||J(F,re)||J(D,re)||J(L,re)},this.windows={phone:J(B,re),tablet:J(U,re),device:J(B,re)||J(U,re)},this.other={blackberry:J(X,re),blackberry10:J(V,re),opera:J(Y,re),firefox:J(Z,re),chrome:J(G,re),device:J(X,re)||J(V,re)||J(Y,re)||J(Z,re)||J(G,re)},this.seven_inch=J(K,re),this.any=this.apple.device||this.android.device||this.windows.device||this.other.device||this.seven_inch,this.phone=this.apple.phone||this.android.phone||this.windows.phone,this.tablet=this.apple.tablet||this.android.tablet||this.windows.tablet,'undefined'==typeof window)return this},$=function(){var te=new Q;return te.Class=Q,te};'undefined'!=typeof T&&T.exports&&'undefined'==typeof window?T.exports=Q:'undefined'!=typeof T&&T.exports&&'undefined'!=typeof window?T.exports=$():(M=[],P=R.isMobile=$(),C='function'==typeof P?P.apply(E,M):P,!(C!==void 0&&(T.exports=C)))})(this)},function(T){var P=null,M={FLOAT:'float',FLOAT_VEC2:'vec2',FLOAT_VEC3:'vec3',FLOAT_VEC4:'vec4',INT:'int',INT_VEC2:'ivec2',INT_VEC3:'ivec3',INT_VEC4:'ivec4',BOOL:'bool',BOOL_VEC2:'bvec2',BOOL_VEC3:'bvec3',BOOL_VEC4:'bvec4',FLOAT_MAT2:'mat2',FLOAT_MAT3:'mat3',FLOAT_MAT4:'mat4',SAMPLER_2D:'sampler2D'};T.exports=function(C,R){if(!P){var I=Object.keys(M);P={};for(var A=0,O;A<I.length;++A)O=I[A],P[C[O]]=M[O]}return P[R]}},function(T,E,S){'use strict';function P(R,I){if(!(R instanceof I))throw new TypeError('Cannot call a class as a function')}E.__esModule=!0;var M=S(3),C=function(){function R(){P(this,R),this.minX=Infinity,this.minY=Infinity,this.maxX=-Infinity,this.maxY=-Infinity,this.rect=null}return R.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},R.prototype.clear=function(){this.updateID++,this.minX=Infinity,this.minY=Infinity,this.maxX=-Infinity,this.maxY=-Infinity},R.prototype.getRectangle=function(A){return this.minX>this.maxX||this.minY>this.maxY?M.Rectangle.EMPTY:(A=A||new M.Rectangle(0,0,1,1),A.x=this.minX,A.y=this.minY,A.width=this.maxX-this.minX,A.height=this.maxY-this.minY,A)},R.prototype.addPoint=function(A){this.minX=_Mathmin(this.minX,A.x),this.maxX=_Mathmax(this.maxX,A.x),this.minY=_Mathmin(this.minY,A.y),this.maxY=_Mathmax(this.maxY,A.y)},R.prototype.addQuad=function(A){var O=this.minX,D=this.minY,L=this.maxX,N=this.maxY,F=A[0],B=A[1];O=F<O?F:O,D=B<D?B:D,L=F>L?F:L,N=B>N?B:N,F=A[2],B=A[3],O=F<O?F:O,D=B<D?B:D,L=F>L?F:L,N=B>N?B:N,F=A[4],B=A[5],O=F<O?F:O,D=B<D?B:D,L=F>L?F:L,N=B>N?B:N,F=A[6],B=A[7],O=F<O?F:O,D=B<D?B:D,L=F>L?F:L,N=B>N?B:N,this.minX=O,this.minY=D,this.maxX=L,this.maxY=N},R.prototype.addFrame=function(A,O,D,L,N){var F=A.worldTransform,B=F.a,U=F.b,X=F.c,V=F.d,Y=F.tx,G=F.ty,Z=this.minX,K=this.minY,J=this.maxX,Q=this.maxY,$=B*O+X*D+Y,te=U*O+V*D+G;Z=$<Z?$:Z,K=te<K?te:K,J=$>J?$:J,Q=te>Q?te:Q,$=B*L+X*D+Y,te=U*L+V*D+G,Z=$<Z?$:Z,K=te<K?te:K,J=$>J?$:J,Q=te>Q?te:Q,$=B*O+X*N+Y,te=U*O+V*N+G,Z=$<Z?$:Z,K=te<K?te:K,J=$>J?$:J,Q=te>Q?te:Q,$=B*L+X*N+Y,te=U*L+V*N+G,Z=$<Z?$:Z,K=te<K?te:K,J=$>J?$:J,Q=te>Q?te:Q,this.minX=Z,this.minY=K,this.maxX=J,this.maxY=Q},R.prototype.addVertices=function(A,O,D,L){for(var N=A.worldTransform,F=N.a,B=N.b,U=N.c,X=N.d,V=N.tx,Y=N.ty,G=this.minX,Z=this.minY,K=this.maxX,J=this.maxY,Q=D;Q<L;Q+=2){var $=O[Q],te=O[Q+1],re=F*$+U*te+V,ne=X*te+B*$+Y;G=re<G?re:G,Z=ne<Z?ne:Z,K=re>K?re:K,J=ne>J?ne:J}this.minX=G,this.minY=Z,this.maxX=K,this.maxY=J},R.prototype.addBounds=function(A){var O=this.minX,D=this.minY,L=this.maxX,N=this.maxY;this.minX=A.minX<O?A.minX:O,this.minY=A.minY<D?A.minY:D,this.maxX=A.maxX>L?A.maxX:L,this.maxY=A.maxY>N?A.maxY:N},R.prototype.addBoundsMask=function(A,O){var D=A.minX>O.minX?A.minX:O.minX,L=A.minY>O.minY?A.minY:O.minY,N=A.maxX<O.maxX?A.maxX:O.maxX,F=A.maxY<O.maxY?A.maxY:O.maxY;if(D<=N&&L<=F){var B=this.minX,U=this.minY,X=this.maxX,V=this.maxY;this.minX=D<B?D:B,this.minY=L<U?L:U,this.maxX=N>X?N:X,this.maxY=F>V?F:V}},R.prototype.addBoundsArea=function(A,O){var D=A.minX>O.x?A.minX:O.x,L=A.minY>O.y?A.minY:O.y,N=A.maxX<O.x+O.width?A.maxX:O.x+O.width,F=A.maxY<O.y+O.height?A.maxY:O.y+O.height;if(D<=N&&L<=F){var B=this.minX,U=this.minY,X=this.maxX,V=this.maxY;this.minX=D<B?D:B,this.minY=L<U?L:U,this.maxX=N>X?N:X,this.maxY=F>V?F:V}},R}();E.default=C},function(T,E,S){'use strict';function P(R,I){if(!(R instanceof I))throw new TypeError('Cannot call a class as a function')}E.__esModule=!0;var M=S(3),C=function(){function R(){P(this,R),this.worldTransform=new M.Matrix,this.localTransform=new M.Matrix,this._worldID=0,this._parentID=0}return R.prototype.updateLocalTransform=function(){},R.prototype.updateTransform=function(A){var O=A.worldTransform,D=this.worldTransform,L=this.localTransform;D.a=L.a*O.a+L.b*O.c,D.b=L.a*O.b+L.b*O.d,D.c=L.c*O.a+L.d*O.c,D.d=L.c*O.b+L.d*O.d,D.tx=L.tx*O.a+L.ty*O.c+O.tx,D.ty=L.tx*O.b+L.ty*O.d+O.ty,this._worldID++},R}();E.default=C,C.prototype.updateWorldTransform=C.prototype.updateTransform,C.IDENTITY=new C},function(T,E,S){'use strict';function M(O,D){if(!(O instanceof D))throw new TypeError('Cannot call a class as a function')}E.__esModule=!0;var C=function(){function O(D,L){for(var N=0,F;N<L.length;N++)F=L[N],F.enumerable=F.enumerable||!1,F.configurable=!0,'value'in F&&(F.writable=!0),Object.defineProperty(D,F.key,F)}return function(D,L,N){return L&&O(D.prototype,L),N&&O(D,N),D}}(),R=S(27),I=function(O){return O&&O.__esModule?O:{default:O}}(R),A=function(){function O(){var D=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,L=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,N=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,F=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,B=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,U=5<arguments.length&&void 0!==arguments[5]?arguments[5]:0;M(this,O),this.a=D,this.b=L,this.c=N,this.d=F,this.tx=B,this.ty=U,this.array=null}return O.prototype.fromArray=function(L){this.a=L[0],this.b=L[1],this.c=L[3],this.d=L[4],this.tx=L[2],this.ty=L[5]},O.prototype.set=function(L,N,F,B,U,X){return this.a=L,this.b=N,this.c=F,this.d=B,this.tx=U,this.ty=X,this},O.prototype.toArray=function(L,N){this.array||(this.array=new Float32Array(9));var F=N||this.array;return L?(F[0]=this.a,F[1]=this.b,F[2]=0,F[3]=this.c,F[4]=this.d,F[5]=0,F[6]=this.tx,F[7]=this.ty,F[8]=1):(F[0]=this.a,F[1]=this.c,F[2]=this.tx,F[3]=this.b,F[4]=this.d,F[5]=this.ty,F[6]=0,F[7]=0,F[8]=1),F},O.prototype.apply=function(L,N){N=N||new I.default;var F=L.x,B=L.y;return N.x=this.a*F+this.c*B+this.tx,N.y=this.b*F+this.d*B+this.ty,N},O.prototype.applyInverse=function(L,N){N=N||new I.default;var F=1/(this.a*this.d+this.c*-this.b),B=L.x,U=L.y;return N.x=this.d*F*B+-this.c*F*U+(this.ty*this.c-this.tx*this.d)*F,N.y=this.a*F*U+-this.b*F*B+(-this.ty*this.a+this.tx*this.b)*F,N},O.prototype.translate=function(L,N){return this.tx+=L,this.ty+=N,this},O.prototype.scale=function(L,N){return this.a*=L,this.d*=N,this.c*=L,this.b*=N,this.tx*=L,this.ty*=N,this},O.prototype.rotate=function(L){var N=_Mathcos(L),F=_Mathsin(L),B=this.a,U=this.c,X=this.tx;return this.a=B*N-this.b*F,this.b=B*F+this.b*N,this.c=U*N-this.d*F,this.d=U*F+this.d*N,this.tx=X*N-this.ty*F,this.ty=X*F+this.ty*N,this},O.prototype.append=function(L){var N=this.a,F=this.b,B=this.c,U=this.d;return this.a=L.a*N+L.b*B,this.b=L.a*F+L.b*U,this.c=L.c*N+L.d*B,this.d=L.c*F+L.d*U,this.tx=L.tx*N+L.ty*B+this.tx,this.ty=L.tx*F+L.ty*U+this.ty,this},O.prototype.setTransform=function(L,N,F,B,U,X,V,Y,G){var Z=_Mathsin(V),K=_Mathcos(V),J=_Mathcos(G),Q=_Mathsin(G),$=-_Mathsin(Y),te=_Mathcos(Y),re=K*U,ne=Z*U,oe=-Z*X,ie=K*X;return this.a=J*re+Q*oe,this.b=J*ne+Q*ie,this.c=$*re+te*oe,this.d=$*ne+te*ie,this.tx=L+(F*re+B*oe),this.ty=N+(F*ne+B*ie),this},O.prototype.prepend=function(L){var N=this.tx;if(1!==L.a||0!==L.b||0!==L.c||1!==L.d){var F=this.a,B=this.c;this.a=F*L.a+this.b*L.c,this.b=F*L.b+this.b*L.d,this.c=B*L.a+this.d*L.c,this.d=B*L.b+this.d*L.d}return this.tx=N*L.a+this.ty*L.c+L.tx,this.ty=N*L.b+this.ty*L.d+L.ty,this},O.prototype.decompose=function(L){var N=this.a,F=this.b,B=this.c,U=this.d,X=-_Mathatan(-B,U),V=_Mathatan(F,N),Y=_Mathabs(X+V);return 1e-5>Y?(L.rotation=V,0>N&&0<=U&&(L.rotation+=0>=L.rotation?_MathPI:-_MathPI),L.skew.x=L.skew.y=0):(L.skew.x=X,L.skew.y=V),L.scale.x=_Mathsqrt(N*N+F*F),L.scale.y=_Mathsqrt(B*B+U*U),L.position.x=this.tx,L.position.y=this.ty,L},O.prototype.invert=function(){var L=this.a,N=this.b,F=this.c,B=this.d,U=this.tx,X=L*B-N*F;return this.a=B/X,this.b=-N/X,this.c=-F/X,this.d=L/X,this.tx=(F*this.ty-B*U)/X,this.ty=-(L*this.ty-N*U)/X,this},O.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},O.prototype.clone=function(){var L=new O;return L.a=this.a,L.b=this.b,L.c=this.c,L.d=this.d,L.tx=this.tx,L.ty=this.ty,L},O.prototype.copy=function(L){return L.a=this.a,L.b=this.b,L.c=this.c,L.d=this.d,L.tx=this.tx,L.ty=this.ty,L},C(O,null,[{key:'IDENTITY',get:function(){return new O}},{key:'TEMP_MATRIX',get:function(){return new O}}]),O}();E.default=A},function(T,E){'use strict';function P(C,R){if(!(C instanceof R))throw new TypeError('Cannot call a class as a function')}E.__esModule=!0;var M=function(){function C(){var R=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,I=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;P(this,C),this.x=R,this.y=I}return C.prototype.clone=function(){return new C(this.x,this.y)},C.prototype.copy=function(I){this.set(I.x,I.y)},C.prototype.equals=function(I){return I.x===this.x&&I.y===this.y},C.prototype.set=function(I,A){this.x=I||0,this.y=A||(0===A?0:this.x)},C}();E.default=M},function(T,E,S){'use strict';function P(I,A){if(!(I instanceof A))throw new TypeError('Cannot call a class as a function')}E.__esModule=!0;var M=function(){function I(A,O){for(var D=0,L;D<O.length;D++)L=O[D],L.enumerable=L.enumerable||!1,L.configurable=!0,'value'in L&&(L.writable=!0),Object.defineProperty(A,L.key,L)}return function(A,O,D){return O&&I(A.prototype,O),D&&I(A,D),A}}(),C=S(1),R=function(){function I(){var A=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,O=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,D=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,L=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0;P(this,I),this.x=A,this.y=O,this.width=D,this.height=L,this.type=C.SHAPES.RECT}return I.prototype.clone=function(){return new I(this.x,this.y,this.width,this.height)},I.prototype.copy=function(O){return this.x=O.x,this.y=O.y,this.width=O.width,this.height=O.height,this},I.prototype.contains=function(O,D){return 0>=this.width||0>=this.height?!1:O>=this.x&&O<this.x+this.width&&D>=this.y&&D<this.y+this.height},I.prototype.pad=function(O,D){O=O||0,D=D||(0===D?0:O),this.x-=O,this.y-=D,this.width+=2*O,this.height+=2*D},I.prototype.fit=function(O){this.x<O.x&&(this.width+=this.x,0>this.width&&(this.width=0),this.x=O.x),this.y<O.y&&(this.height+=this.y,0>this.height&&(this.height=0),this.y=O.y),this.x+this.width>O.x+O.width&&(this.width=O.width-this.x,0>this.width&&(this.width=0)),this.y+this.height>O.y+O.height&&(this.height=O.height-this.y,0>this.height&&(this.height=0))},I.prototype.enlarge=function(O){var D=_Mathmin(this.x,O.x),L=_Mathmax(this.x+this.width,O.x+O.width),N=_Mathmin(this.y,O.y),F=_Mathmax(this.y+this.height,O.y+O.height);this.x=D,this.width=L-D,this.y=N,this.height=F-N},M(I,[{key:'left',get:function(){return this.x}},{key:'right',get:function(){return this.x+this.width}},{key:'top',get:function(){return this.y}},{key:'bottom',get:function(){return this.y+this.height}}],[{key:'EMPTY',get:function(){return new I(0,0,0,0)}}]),I}();E.default=R},function(T,E,S){'use strict';function P(V){return V&&V.__esModule?V:{default:V}}function M(V,Y){if(!(V instanceof Y))throw new TypeError('Cannot call a class as a function')}function C(V,Y){if(!V)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return Y&&('object'==typeof Y||'function'==typeof Y)?Y:V}function R(V,Y){if('function'!=typeof Y&&null!==Y)throw new TypeError('Super expression must either be null or a function, not '+typeof Y);V.prototype=Object.create(Y&&Y.prototype,{constructor:{value:V,enumerable:!1,writable:!0,configurable:!0}}),Y&&(Object.setPrototypeOf?Object.setPrototypeOf(V,Y):V.__proto__=Y)}E.__esModule=!0;var I=function(){function V(Y,G){for(var Z=0,K;Z<G.length;Z++)K=G[Z],K.enumerable=K.enumerable||!1,K.configurable=!0,'value'in K&&(K.writable=!0),Object.defineProperty(Y,K.key,K)}return function(Y,G,Z){return G&&V(Y.prototype,G),Z&&V(Y,Z),Y}}(),A=S(3),O=S(2),D=S(1),L=S(9),N=P(L),F=S(11),B=P(F),U=new A.Point,X=function(V){function Y(G){M(this,Y);var Z=C(this,V.call(this));return Z._anchor=new A.ObservablePoint(Z._onAnchorUpdate,Z),Z._texture=null,Z._width=0,Z._height=0,Z._tint=null,Z._tintRGB=null,Z.tint=16777215,Z.blendMode=D.BLEND_MODES.NORMAL,Z.shader=null,Z.cachedTint=16777215,Z.texture=G||N.default.EMPTY,Z.vertexData=new Float32Array(8),Z.vertexTrimmedData=null,Z._transformID=-1,Z._textureID=-1,Z._transformTrimmedID=-1,Z._textureTrimmedID=-1,Z.pluginName='sprite',Z}return R(Y,V),Y.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._width&&(this.scale.x=(0,O.sign)(this.scale.x)*this._width/this.texture.orig.width),this._height&&(this.scale.y=(0,O.sign)(this.scale.y)*this._height/this.texture.orig.height)},Y.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},Y.prototype.calculateVertices=function(){if(this._transformID!==this.transform._worldID||this._textureID!==this._texture._updateID){this._transformID=this.transform._worldID,this._textureID=this._texture._updateID;var Z=this._texture,K=this.transform.worldTransform,J=K.a,Q=K.b,$=K.c,te=K.d,re=K.tx,ne=K.ty,oe=this.vertexData,ie=Z.trim,se=Z.orig,le=this._anchor,de=0,ue=0,pe=0,ce=0;ie?(ue=ie.x-le._x*se.width,de=ue+ie.width,ce=ie.y-le._y*se.height,pe=ce+ie.height):(ue=-le._x*se.width,de=ue+se.width,ce=-le._y*se.height,pe=ce+se.height),oe[0]=J*ue+$*ce+re,oe[1]=te*ce+Q*ue+ne,oe[2]=J*de+$*ce+re,oe[3]=te*ce+Q*de+ne,oe[4]=J*de+$*pe+re,oe[5]=te*pe+Q*de+ne,oe[6]=J*ue+$*pe+re,oe[7]=te*pe+Q*ue+ne}},Y.prototype.calculateTrimmedVertices=function(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var Z=this._texture,K=this.vertexTrimmedData,J=Z.orig,Q=this._anchor,$=this.transform.worldTransform,te=$.a,re=$.b,ne=$.c,oe=$.d,ie=$.tx,se=$.ty,le=-Q._x*J.width,de=le+J.width,ue=-Q._y*J.height,pe=ue+J.height;K[0]=te*le+ne*ue+ie,K[1]=oe*ue+re*le+se,K[2]=te*de+ne*ue+ie,K[3]=oe*ue+re*de+se,K[4]=te*de+ne*pe+ie,K[5]=oe*pe+re*de+se,K[6]=te*le+ne*pe+ie,K[7]=oe*pe+re*le+se},Y.prototype._renderWebGL=function(Z){this.calculateVertices(),Z.setObjectRenderer(Z.plugins[this.pluginName]),Z.plugins[this.pluginName].render(this)},Y.prototype._renderCanvas=function(Z){Z.plugins[this.pluginName].render(this)},Y.prototype._calculateBounds=function(){var Z=this._texture.trim,K=this._texture.orig;Z&&(Z.width!==K.width||Z.height!==K.height)?(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData)):(this.calculateVertices(),this._bounds.addQuad(this.vertexData))},Y.prototype.getLocalBounds=function(Z){return 0===this.children.length?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._x),Z||(!this._localBoundsRect&&(this._localBoundsRect=new A.Rectangle),Z=this._localBoundsRect),this._bounds.getRectangle(Z)):V.prototype.getLocalBounds.call(this,Z)},Y.prototype.containsPoint=function(Z){this.worldTransform.applyInverse(Z,U);var K=this._texture.orig.width,J=this._texture.orig.height,Q=-K*this.anchor.x,$=0;return U.x>Q&&U.x<Q+K&&($=-J*this.anchor.y,U.y>$&&U.y<$+J)},Y.prototype.destroy=function(Z){V.prototype.destroy.call(this,Z),this._anchor=null;var K='boolean'==typeof Z?Z:Z&&Z.texture;if(K){var J='boolean'==typeof Z?Z:Z&&Z.baseTexture;this._texture.destroy(!!J)}this._texture=null,this.shader=null},Y.from=function(Z){return new Y(N.default.from(Z))},Y.fromFrame=function(Z){var K=O.TextureCache[Z];if(!K)throw new Error('The frameId "'+Z+'" does not exist in the texture cache');return new Y(K)},Y.fromImage=function(Z,K,J){return new Y(N.default.fromImage(Z,K,J))},I(Y,[{key:'width',get:function(){return _Mathabs(this.scale.x)*this._texture.orig.width},set:function(Z){var K=(0,O.sign)(this.scale.x)||1;this.scale.x=K*Z/this._texture.orig.width,this._width=Z}},{key:'height',get:function(){return _Mathabs(this.scale.y)*this._texture.orig.height},set:function(Z){var K=(0,O.sign)(this.scale.y)||1;this.scale.y=K*Z/this._texture.orig.height,this._height=Z}},{key:'anchor',get:function(){return this._anchor},set:function(Z){this._anchor.copy(Z)}},{key:'tint',get:function(){return this._tint},set:function(Z){this._tint=Z,this._tintRGB=(Z>>16)+(65280&Z)+((255&Z)<<16)}},{key:'texture',get:function(){return this._texture},set:function(Z){this._texture===Z||(this._texture=Z,this.cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,Z&&(Z.baseTexture.hasLoaded?this._onTextureUpdate():Z.once('update',this._onTextureUpdate,this)))}}]),Y}(B.default);E.default=X},function(T,E,S){'use strict';E.__esModule=!0;var M=S(2),C=S(61),R=function(A){return A&&A.__esModule?A:{default:A}}(C),I={getTintedTexture:function(O,D){var L=O.texture;D=I.roundColor(D);var N='#'+('00000'+(0|D).toString(16)).substr(-6);if(L.tintCache=L.tintCache||{},L.tintCache[N])return L.tintCache[N];var F=I.canvas||document.createElement('canvas');if(I.tintMethod(L,D,F),I.convertTintToImage){var B=new Image;B.src=F.toDataURL(),L.tintCache[N]=B}else L.tintCache[N]=F,I.canvas=null;return F},tintWithMultiply:function(O,D,L){var N=L.getContext('2d'),F=O._frame.clone(),B=O.baseTexture.resolution;F.x*=B,F.y*=B,F.width*=B,F.height*=B,L.width=_Mathceil(F.width),L.height=_Mathceil(F.height),N.fillStyle='#'+('00000'+(0|D).toString(16)).substr(-6),N.fillRect(0,0,F.width,F.height),N.globalCompositeOperation='multiply',N.drawImage(O.baseTexture.source,F.x,F.y,F.width,F.height,0,0,F.width,F.height),N.globalCompositeOperation='destination-atop',N.drawImage(O.baseTexture.source,F.x,F.y,F.width,F.height,0,0,F.width,F.height)},tintWithOverlay:function(O,D,L){var N=L.getContext('2d'),F=O._frame.clone(),B=O.baseTexture.resolution;F.x*=B,F.y*=B,F.width*=B,F.height*=B,L.width=_Mathceil(F.width),L.height=_Mathceil(F.height),N.globalCompositeOperation='copy',N.fillStyle='#'+('00000'+(0|D).toString(16)).substr(-6),N.fillRect(0,0,F.width,F.height),N.globalCompositeOperation='destination-atop',N.drawImage(O.baseTexture.source,F.x,F.y,F.width,F.height,0,0,F.width,F.height)},tintWithPerPixel:function(O,D,L){var N=L.getContext('2d'),F=O._frame.clone(),B=O.baseTexture.resolution;F.x*=B,F.y*=B,F.width*=B,F.height*=B,L.width=_Mathceil(F.width),L.height=_Mathceil(F.height),N.globalCompositeOperation='copy',N.drawImage(O.baseTexture.source,F.x,F.y,F.width,F.height,0,0,F.width,F.height);for(var U=(0,M.hex2rgb)(D),X=U[0],V=U[1],Y=U[2],G=N.getImageData(0,0,F.width,F.height),Z=G.data,K=0;K<Z.length;K+=4)Z[K+0]*=X,Z[K+1]*=V,Z[K+2]*=Y;N.putImageData(G,0,0)},roundColor:function(O){var D=I.cacheStepsPerColorChannel,L=(0,M.hex2rgb)(O);return L[0]=_Mathmin(255,L[0]/D*D),L[1]=_Mathmin(255,L[1]/D*D),L[2]=_Mathmin(255,L[2]/D*D),(0,M.rgb2hex)(L)},cacheStepsPerColorChannel:8,convertTintToImage:!1,canUseMultiply:(0,R.default)(),tintMethod:0};I.tintMethod=I.canUseMultiply?I.tintWithMultiply:I.tintWithPerPixel,E.default=I},function(T,E,S){'use strict';function P(N){return N&&N.__esModule?N:{default:N}}function M(N,F){if(!(N instanceof F))throw new TypeError('Cannot call a class as a function')}function C(N,F){if(!N)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return F&&('object'==typeof F||'function'==typeof F)?F:N}function R(N,F){if('function'!=typeof F&&null!==F)throw new TypeError('Super expression must either be null or a function, not '+typeof F);N.prototype=Object.create(F&&F.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),F&&(Object.setPrototypeOf?Object.setPrototypeOf(N,F):N.__proto__=F)}E.__esModule=!0;var I=S(66),A=P(I),O=S(9),D=P(O),L=function(N){function F(B,U){M(this,F);var X=null;if(!(B instanceof A.default)){var V=arguments[1],Y=arguments[2],G=arguments[3],Z=arguments[4];console.warn('Please use RenderTexture.create('+V+', '+Y+') instead of the ctor directly.'),X=arguments[0],U=null,B=new A.default(V,Y,G,Z)}var K=C(this,N.call(this,B,U));return K.legacyRenderer=X,K.valid=!0,K._updateUvs(),K}return R(F,N),F.prototype.resize=function(U,X,V){this.valid=0<U&&0<X,this._frame.width=this.orig.width=U,this._frame.height=this.orig.height=X,V||this.baseTexture.resize(U,X),this._updateUvs()},F.create=function(U,X,V,Y){return new F(new A.default(U,X,V,Y))},F}(D.default);E.default=L},function(T,E,S){'use strict';E.__esModule=!0,E.Ticker=E.shared=void 0;var M=S(137),C=function(I){return I&&I.__esModule?I:{default:I}}(M),R=new C.default;R.autoStart=!0,E.shared=R,E.Ticker=C.default},function(T,E){'use strict';E.__esModule=!0,E.default=function(M){for(var C=6*M,R=new Uint16Array(C),I=0,A=0;I<C;I+=6,A+=4)R[I+0]=A+0,R[I+1]=A+1,R[I+2]=A+2,R[I+3]=A+0,R[I+4]=A+2,R[I+5]=A+3;return R}},function(T,E,S){'use strict';function P(O){return O&&O.__esModule?O:{default:O}}E.__esModule=!0,E.BitmapText=E.TilingSpriteRenderer=E.TilingSprite=E.AnimatedSprite=E.TextureTransform=void 0;var M=S(69);Object.defineProperty(E,'TextureTransform',{enumerable:!0,get:function(){return P(M).default}});var C=S(148);Object.defineProperty(E,'AnimatedSprite',{enumerable:!0,get:function(){return P(C).default}});var R=S(150);Object.defineProperty(E,'TilingSprite',{enumerable:!0,get:function(){return P(R).default}});var I=S(154);Object.defineProperty(E,'TilingSpriteRenderer',{enumerable:!0,get:function(){return P(I).default}});var A=S(149);Object.defineProperty(E,'BitmapText',{enumerable:!0,get:function(){return P(A).default}}),S(151),S(152),S(153)},function(T,E,S){'use strict';function C(X,V){if(!(X instanceof V))throw new TypeError('Cannot call a class as a function')}function R(X,V){return!!(V instanceof L.Text)&&(V.updateText(!0),!0)}function I(X,V){if(V instanceof L.TextStyle){var Y=L.Text.getFontStyle(V);return L.Text.fontPropertiesCache[Y]||L.Text.calculateFontProperties(Y),!0}return!1}function A(X,V){if(X instanceof L.Text){-1===V.indexOf(X.style)&&V.push(X.style),-1===V.indexOf(X)&&V.push(X);var Y=X._texture.baseTexture;return-1===V.indexOf(Y)&&V.push(Y),!0}return!1}function O(X,V){return!!(X instanceof L.TextStyle)&&(-1===V.indexOf(X)&&V.push(X),!0)}E.__esModule=!0;var D=S(0),L=function(X){if(X&&X.__esModule)return X;var V={};if(null!=X)for(var Y in X)Object.prototype.hasOwnProperty.call(X,Y)&&(V[Y]=X[Y]);return V.default=X,V}(D),N=S(87),F=function(X){return X&&X.__esModule?X:{default:X}}(N),B=L.ticker.shared;L.settings.UPLOADS_PER_FRAME=4;var U=function(){function X(V){var Y=this;C(this,X),this.limiter=new F.default(L.settings.UPLOADS_PER_FRAME),this.renderer=V,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){Y.queue&&Y.prepareItems()},this.register(A,R),this.register(O,I)}return X.prototype.upload=function(Y,G){'function'==typeof Y&&(G=Y,Y=null),Y&&this.add(Y),this.queue.length?(G&&this.completes.push(G),!this.ticking&&(this.ticking=!0,B.addOnce(this.tick,this))):G&&G()},X.prototype.tick=function(){setTimeout(this.delayedTick,0)},X.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var Y=this.queue[0],G=!1;if(Y&&!Y._destroyed)for(var Z=0,K=this.uploadHooks.length;Z<K;Z++)if(this.uploadHooks[Z](this.uploadHookHelper,Y)){this.queue.shift(),G=!0;break}G||this.queue.shift()}if(!this.queue.length){this.ticking=!1;var J=this.completes.slice(0);this.completes.length=0;for(var Q=0,$=J.length;Q<$;Q++)J[Q]()}else B.addOnce(this.tick,this)},X.prototype.register=function(Y,G){return Y&&this.addHooks.push(Y),G&&this.uploadHooks.push(G),this},X.prototype.add=function(Y){for(var G=0,Z=this.addHooks.length;G<Z&&!this.addHooks[G](Y,this.queue);G++);if(Y instanceof L.Container)for(var K=Y.children.length-1;0<=K;K--)this.add(Y.children[K]);return this},X.prototype.destroy=function(){this.ticking&&B.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},X}();E.default=U},function(T,E,S){'use strict';function P(K){return K&&K.__esModule?K:{default:K}}function M(K,J){if(!(K instanceof J))throw new TypeError('Cannot call a class as a function')}function C(){}function R(K,J,Q){J&&0===J.indexOf('.')&&(J=J.substring(1));J&&(K[J]=Q)}function I(K){return K.toString().replace('object ','')}E.__esModule=!0;var A=function(){function K(J,Q){for(var $=0,te;$<Q.length;$++)te=Q[$],te.enumerable=te.enumerable||!1,te.configurable=!0,'value'in te&&(te.writable=!0),Object.defineProperty(J,te.key,te)}return function(J,Q,$){return Q&&K(J.prototype,Q),$&&K(J,$),J}}(),O=S(40),D=P(O),L=S(39),N=P(L),F=!(!window.XDomainRequest||'withCredentials'in new XMLHttpRequest),B=null,X=200,Z=function(){function K(J,Q,$){if(M(this,K),'string'!=typeof J||'string'!=typeof Q)throw new Error('Both name and url are required for constructing a resource.');$=$||{},this._flags=0,this._setFlag(K.STATUS_FLAGS.DATA_URL,0===Q.indexOf('data:')),this.name=J,this.url=Q,this.extension=this._getExtension(),this.data=null,this.crossOrigin=!0===$.crossOrigin?'anonymous':$.crossOrigin,this.loadType=$.loadType||this._determineLoadType(),this.xhrType=$.xhrType,this.metadata=$.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=K.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=C,this._onLoadBinding=null,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this._boundXdrOnTimeout=this._xdrOnTimeout.bind(this),this.onStart=new N.default,this.onProgress=new N.default,this.onComplete=new N.default,this.onAfterMiddleware=new N.default}return K.setExtensionLoadType=function(Q,$){R(K._loadTypeMap,Q,$)},K.setExtensionXhrType=function(Q,$){R(K._xhrTypeMap,Q,$)},K.prototype.complete=function(){if(this.data&&this.data.removeEventListener&&(this.data.removeEventListener('error',this._boundOnError,!1),this.data.removeEventListener('load',this._boundComplete,!1),this.data.removeEventListener('progress',this._boundOnProgress,!1),this.data.removeEventListener('canplaythrough',this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener('error',this._boundXhrOnError,!1),this.xhr.removeEventListener('abort',this._boundXhrOnAbort,!1),this.xhr.removeEventListener('progress',this._boundOnProgress,!1),this.xhr.removeEventListener('load',this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null)),this.isComplete)throw new Error('Complete called again for an already completed resource.');this._setFlag(K.STATUS_FLAGS.COMPLETE,!0),this._setFlag(K.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},K.prototype.abort=function(Q){if(!this.error){if(this.error=new Error(Q),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=K.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this.complete()}},K.prototype.load=function(Q){var $=this;if(!this.isLoading){if(this.isComplete)return void(Q&&setTimeout(function(){return Q($)},1));switch(Q&&this.onComplete.once(Q),this._setFlag(K.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),(!1===this.crossOrigin||'string'!=typeof this.crossOrigin)&&(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case K.LOAD_TYPE.IMAGE:this.type=K.TYPE.IMAGE,this._loadElement('image');break;case K.LOAD_TYPE.AUDIO:this.type=K.TYPE.AUDIO,this._loadSourceElement('audio');break;case K.LOAD_TYPE.VIDEO:this.type=K.TYPE.VIDEO,this._loadSourceElement('video');break;case K.LOAD_TYPE.XHR:default:F&&this.crossOrigin?this._loadXdr():this._loadXhr();}}},K.prototype._hasFlag=function(Q){return!!(this._flags&Q)},K.prototype._setFlag=function(Q,$){this._flags=$?this._flags|Q:this._flags&~Q},K.prototype._loadElement=function(Q){this.data=this.metadata.loadElement?this.metadata.loadElement:'image'===Q&&'undefined'!=typeof window.Image?new Image:document.createElement(Q),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener('error',this._boundOnError,!1),this.data.addEventListener('load',this._boundComplete,!1),this.data.addEventListener('progress',this._boundOnProgress,!1)},K.prototype._loadSourceElement=function(Q){if(this.data=this.metadata.loadElement?this.metadata.loadElement:'audio'===Q&&'undefined'!=typeof window.Audio?new Audio:document.createElement(Q),null===this.data)return void this.abort('Unsupported element: '+Q);if(!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var $=0;$<this.url.length;++$)this.data.appendChild(this._createSource(Q,this.url[$]));else this.data.appendChild(this._createSource(Q,this.url));this.data.addEventListener('error',this._boundOnError,!1),this.data.addEventListener('load',this._boundComplete,!1),this.data.addEventListener('progress',this._boundOnProgress,!1),this.data.addEventListener('canplaythrough',this._boundComplete,!1),this.data.load()},K.prototype._loadXhr=function(){'string'!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var Q=this.xhr=new XMLHttpRequest;Q.open('GET',this.url,!0),Q.responseType=this.xhrType===K.XHR_RESPONSE_TYPE.JSON||this.xhrType===K.XHR_RESPONSE_TYPE.DOCUMENT?K.XHR_RESPONSE_TYPE.TEXT:this.xhrType,Q.addEventListener('error',this._boundXhrOnError,!1),Q.addEventListener('abort',this._boundXhrOnAbort,!1),Q.addEventListener('progress',this._boundOnProgress,!1),Q.addEventListener('load',this._boundXhrOnLoad,!1),Q.send()},K.prototype._loadXdr=function(){'string'!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var Q=this.xhr=new XDomainRequest;Q.timeout=5e3,Q.onerror=this._boundXhrOnError,Q.ontimeout=this._boundXdrOnTimeout,Q.onprogress=this._boundOnProgress,Q.onload=this._boundXhrOnLoad,Q.open('GET',this.url,!0),setTimeout(function(){return Q.send()},1)},K.prototype._createSource=function(Q,$,te){te||(te=Q+'/'+$.substr($.lastIndexOf('.')+1));var re=document.createElement('source');return re.src=$,re.type=te,re},K.prototype._onError=function(Q){this.abort('Failed to load element using: '+Q.target.nodeName)},K.prototype._onProgress=function(Q){Q&&Q.lengthComputable&&this.onProgress.dispatch(this,Q.loaded/Q.total)},K.prototype._xhrOnError=function(){var Q=this.xhr;this.abort(I(Q)+' Request failed. Status: '+Q.status+', text: "'+Q.statusText+'"')},K.prototype._xhrOnAbort=function(){this.abort(I(this.xhr)+' Request was aborted by the user.')},K.prototype._xdrOnTimeout=function(){this.abort(I(this.xhr)+' Request timed out.')},K.prototype._xhrOnLoad=function(){var Q=this.xhr,$='',te='undefined'==typeof Q.status?X:Q.status;(''===Q.responseType||'text'===Q.responseType||'undefined'==typeof Q.responseType)&&($=Q.responseText),te===0&&0<$.length?te=X:te===1223&&(te=204);var re=0|te/100;if(re!=2)return void this.abort('['+Q.status+'] '+Q.statusText+': '+Q.responseURL);if(this.xhrType===K.XHR_RESPONSE_TYPE.TEXT)this.data=$,this.type=K.TYPE.TEXT;else if(this.xhrType===K.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse($),this.type=K.TYPE.JSON}catch(ie){return void this.abort('Error trying to parse loaded json: '+ie)}else if(this.xhrType===K.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var ne=new DOMParser;this.data=ne.parseFromString($,'text/xml')}else{var oe=document.createElement('div');oe.innerHTML=$,this.data=oe}this.type=K.TYPE.XML}catch(ie){return void this.abort('Error trying to parse loaded xml: '+ie)}else this.data=Q.response||$;this.complete()},K.prototype._determineCrossOrigin=function(Q,$){if(0===Q.indexOf('data:'))return'';$=$||window.location,B||(B=document.createElement('a')),B.href=Q,Q=(0,D.default)(B.href,{strictMode:!0});var te=!Q.port&&''===$.port||Q.port===$.port,re=Q.protocol?Q.protocol+':':'';return Q.host===$.hostname&&te&&re===$.protocol?'':'anonymous'},K.prototype._determineXhrType=function(){return K._xhrTypeMap[this.extension]||K.XHR_RESPONSE_TYPE.TEXT},K.prototype._determineLoadType=function(){return K._loadTypeMap[this.extension]||K.LOAD_TYPE.XHR},K.prototype._getExtension=function(){var Q=this.url,$='';if(this.isDataUrl){var te=Q.indexOf('/');$=Q.substring(te+1,Q.indexOf(';',te))}else{var re=Q.indexOf('?');-1!==re&&(Q=Q.substring(0,re)),$=Q.substring(Q.lastIndexOf('.')+1)}return $.toLowerCase()},K.prototype._getMimeFromXhrType=function(Q){switch(Q){case K.XHR_RESPONSE_TYPE.BUFFER:return'application/octet-binary';case K.XHR_RESPONSE_TYPE.BLOB:return'application/blob';case K.XHR_RESPONSE_TYPE.DOCUMENT:return'application/xml';case K.XHR_RESPONSE_TYPE.JSON:return'application/json';case K.XHR_RESPONSE_TYPE.DEFAULT:case K.XHR_RESPONSE_TYPE.TEXT:default:return'text/plain';}},A(K,[{key:'isDataUrl',get:function(){return this._hasFlag(K.STATUS_FLAGS.DATA_URL)}},{key:'isComplete',get:function(){return this._hasFlag(K.STATUS_FLAGS.COMPLETE)}},{key:'isLoading',get:function(){return this._hasFlag(K.STATUS_FLAGS.LOADING)}}]),K}();E.default=Z,Z.STATUS_FLAGS={NONE:0,DATA_URL:1,COMPLETE:2,LOADING:4},Z.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6},Z.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},Z.XHR_RESPONSE_TYPE={DEFAULT:'text',BUFFER:'arraybuffer',BLOB:'blob',DOCUMENT:'document',JSON:'json',TEXT:'text'},Z._loadTypeMap={gif:Z.LOAD_TYPE.IMAGE,png:Z.LOAD_TYPE.IMAGE,bmp:Z.LOAD_TYPE.IMAGE,jpg:Z.LOAD_TYPE.IMAGE,jpeg:Z.LOAD_TYPE.IMAGE,tif:Z.LOAD_TYPE.IMAGE,tiff:Z.LOAD_TYPE.IMAGE,webp:Z.LOAD_TYPE.IMAGE,tga:Z.LOAD_TYPE.IMAGE,svg:Z.LOAD_TYPE.IMAGE,'svg+xml':Z.LOAD_TYPE.IMAGE,mp3:Z.LOAD_TYPE.AUDIO,ogg:Z.LOAD_TYPE.AUDIO,wav:Z.LOAD_TYPE.AUDIO,mp4:Z.LOAD_TYPE.VIDEO,webm:Z.LOAD_TYPE.VIDEO},Z._xhrTypeMap={xhtml:Z.XHR_RESPONSE_TYPE.DOCUMENT,html:Z.XHR_RESPONSE_TYPE.DOCUMENT,htm:Z.XHR_RESPONSE_TYPE.DOCUMENT,xml:Z.XHR_RESPONSE_TYPE.DOCUMENT,tmx:Z.XHR_RESPONSE_TYPE.DOCUMENT,svg:Z.XHR_RESPONSE_TYPE.DOCUMENT,tsx:Z.XHR_RESPONSE_TYPE.DOCUMENT,gif:Z.XHR_RESPONSE_TYPE.BLOB,png:Z.XHR_RESPONSE_TYPE.BLOB,bmp:Z.XHR_RESPONSE_TYPE.BLOB,jpg:Z.XHR_RESPONSE_TYPE.BLOB,jpeg:Z.XHR_RESPONSE_TYPE.BLOB,tif:Z.XHR_RESPONSE_TYPE.BLOB,tiff:Z.XHR_RESPONSE_TYPE.BLOB,webp:Z.XHR_RESPONSE_TYPE.BLOB,tga:Z.XHR_RESPONSE_TYPE.BLOB,json:Z.XHR_RESPONSE_TYPE.JSON,text:Z.XHR_RESPONSE_TYPE.TEXT,txt:Z.XHR_RESPONSE_TYPE.TEXT,ttf:Z.XHR_RESPONSE_TYPE.BUFFER,otf:Z.XHR_RESPONSE_TYPE.BUFFER},Z.EMPTY_GIF='data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=='},function(T){var S=function(){return this}();try{S=S||Function('return this')()||(1,eval)('this')}catch(P){'object'==typeof window&&(S=window)}T.exports=S},function(T){'use strict';function P(de,ue,pe){pe=pe||2;var ce=ue&&ue.length,fe=ce?ue[0]*pe:de.length,he=M(de,0,fe,pe,!0),me=[];if(!he)return me;var ge,_e,be,Te,ve,Ee,Se;if(ce&&(he=L(de,ue,he,pe)),de.length>80*pe){ge=be=de[0],_e=Te=de[1];for(var Pe=pe;Pe<fe;Pe+=pe)ve=de[Pe],Ee=de[Pe+1],ve<ge&&(ge=ve),Ee<_e&&(_e=Ee),ve>be&&(be=ve),Ee>Te&&(Te=Ee);Se=_Mathmax(be-ge,Te-_e)}return R(he,me,pe,ge,_e,Se),me}function M(de,ue,pe,ce,fe){var he,me;if(fe===0<le(de,ue,pe,ce))for(he=ue;he<pe;he+=ce)me=oe(he,de[he],de[he+1],me);else for(he=pe-ce;he>=ue;he-=ce)me=oe(he,de[he],de[he+1],me);return me&&J(me,me.next)&&(ie(me),me=me.next),me}function C(de,ue){if(!de)return de;ue||(ue=de);var pe=de,ce;do if(ce=!1,!pe.steiner&&(J(pe,pe.next)||0===K(pe.prev,pe,pe.next))){if(ie(pe),pe=ue=pe.prev,pe===pe.next)return null;ce=!0}else pe=pe.next;while(ce||pe!==ue);return ue}function R(de,ue,pe,ce,fe,he,me){if(de){!me&&he&&U(de,ce,fe,he);for(var ge=de,_e,be;de.prev!==de.next;){if(_e=de.prev,be=de.next,he?A(de,ce,fe,he):I(de)){ue.push(_e.i/pe),ue.push(de.i/pe),ue.push(be.i/pe),ie(de),de=be.next,ge=be.next;continue}if(de=be,de===ge){me?1===me?(de=O(de,ue,pe),R(de,ue,pe,ce,fe,he,2)):2===me&&D(de,ue,pe,ce,fe,he):R(C(de),ue,pe,ce,fe,he,1);break}}}}function I(de){var ue=de.prev,pe=de,ce=de.next;if(0<=K(ue,pe,ce))return!1;for(var fe=de.next.next;fe!==de.prev;){if(G(ue.x,ue.y,pe.x,pe.y,ce.x,ce.y,fe.x,fe.y)&&0<=K(fe.prev,fe,fe.next))return!1;fe=fe.next}return!0}function A(de,ue,pe,ce){var fe=de.prev,he=de,me=de.next;if(0<=K(fe,he,me))return!1;for(var ge=fe.x<he.x?fe.x<me.x?fe.x:me.x:he.x<me.x?he.x:me.x,_e=fe.y<he.y?fe.y<me.y?fe.y:me.y:he.y<me.y?he.y:me.y,be=fe.x>he.x?fe.x>me.x?fe.x:me.x:he.x>me.x?he.x:me.x,Te=fe.y>he.y?fe.y>me.y?fe.y:me.y:he.y>me.y?he.y:me.y,ve=V(ge,_e,ue,pe,ce),Ee=V(be,Te,ue,pe,ce),Se=de.nextZ;Se&&Se.z<=Ee;){if(Se!==de.prev&&Se!==de.next&&G(fe.x,fe.y,he.x,he.y,me.x,me.y,Se.x,Se.y)&&0<=K(Se.prev,Se,Se.next))return!1;Se=Se.nextZ}for(Se=de.prevZ;Se&&Se.z>=ve;){if(Se!==de.prev&&Se!==de.next&&G(fe.x,fe.y,he.x,he.y,me.x,me.y,Se.x,Se.y)&&0<=K(Se.prev,Se,Se.next))return!1;Se=Se.prevZ}return!0}function O(de,ue,pe){var ce=de;do{var fe=ce.prev,he=ce.next.next;!J(fe,he)&&Q(fe,ce,ce.next,he)&&te(fe,he)&&te(he,fe)&&(ue.push(fe.i/pe),ue.push(ce.i/pe),ue.push(he.i/pe),ie(ce),ie(ce.next),ce=de=he),ce=ce.next}while(ce!==de);return ce}function D(de,ue,pe,ce,fe,he){var me=de;do{for(var ge=me.next.next;ge!==me.prev;){if(me.i!==ge.i&&Z(me,ge)){var _e=ne(me,ge);return me=C(me,me.next),_e=C(_e,_e.next),R(me,ue,pe,ce,fe,he),void R(_e,ue,pe,ce,fe,he)}ge=ge.next}me=me.next}while(me!==de)}function L(de,ue,pe,ce){var fe=[],he,me,ge,_e,be;for(he=0,me=ue.length;he<me;he++)ge=ue[he]*ce,_e=he<me-1?ue[he+1]*ce:de.length,be=M(de,ge,_e,ce,!1),be===be.next&&(be.steiner=!0),fe.push(Y(be));for(fe.sort(N),he=0;he<fe.length;he++)F(fe[he],pe),pe=C(pe,pe.next);return pe}function N(de,ue){return de.x-ue.x}function F(de,ue){if(ue=B(de,ue),ue){var pe=ne(ue,de);C(pe,pe.next)}}function B(de,ue){var pe=ue,ce=de.x,fe=de.y,he=-Infinity,me;do{if(fe<=pe.y&&fe>=pe.next.y){var ge=pe.x+(fe-pe.y)*(pe.next.x-pe.x)/(pe.next.y-pe.y);if(ge<=ce&&ge>he){if(he=ge,ge===ce){if(fe===pe.y)return pe;if(fe===pe.next.y)return pe.next}me=pe.x<pe.next.x?pe:pe.next}}pe=pe.next}while(pe!==ue);if(!me)return null;if(ce===he)return me.prev;var _e=me,be=me.x,Te=me.y,ve=Infinity,Ee;for(pe=me.next;pe!==_e;)ce>=pe.x&&pe.x>=be&&G(fe<Te?ce:he,fe,be,Te,fe<Te?he:ce,fe,pe.x,pe.y)&&(Ee=_Mathabs(fe-pe.y)/(ce-pe.x),(Ee<ve||Ee===ve&&pe.x>me.x)&&te(pe,de)&&(me=pe,ve=Ee)),pe=pe.next;return me}function U(de,ue,pe,ce){var fe=de;do null===fe.z&&(fe.z=V(fe.x,fe.y,ue,pe,ce)),fe.prevZ=fe.prev,fe.nextZ=fe.next,fe=fe.next;while(fe!==de);fe.prevZ.nextZ=null,fe.prevZ=null,X(fe)}function X(de){var be=1,ue,pe,ce,fe,he,me,ge,_e;do{for(pe=de,de=null,he=null,me=0;pe;){for(me++,ce=pe,ge=0,ue=0;ue<be&&(ge++,ce=ce.nextZ,!!ce);ue++);for(_e=be;0<ge||0<_e&&ce;)0===ge?(fe=ce,ce=ce.nextZ,_e--):0!==_e&&ce?pe.z<=ce.z?(fe=pe,pe=pe.nextZ,ge--):(fe=ce,ce=ce.nextZ,_e--):(fe=pe,pe=pe.nextZ,ge--),he?he.nextZ=fe:de=fe,fe.prevZ=he,he=fe;pe=ce}he.nextZ=null,be*=2}while(1<me);return de}function V(de,ue,pe,ce,fe){return de=32767*(de-pe)/fe,ue=32767*(ue-ce)/fe,de=16711935&(de|de<<8),de=252645135&(de|de<<4),de=858993459&(de|de<<2),de=1431655765&(de|de<<1),ue=16711935&(ue|ue<<8),ue=252645135&(ue|ue<<4),ue=858993459&(ue|ue<<2),ue=1431655765&(ue|ue<<1),de|ue<<1}function Y(de){var ue=de,pe=de;do ue.x<pe.x&&(pe=ue),ue=ue.next;while(ue!==de);return pe}function G(de,ue,pe,ce,fe,he,me,ge){return 0<=(fe-me)*(ue-ge)-(de-me)*(he-ge)&&0<=(de-me)*(ce-ge)-(pe-me)*(ue-ge)&&0<=(pe-me)*(he-ge)-(fe-me)*(ce-ge)}function Z(de,ue){return de.next.i!==ue.i&&de.prev.i!==ue.i&&!$(de,ue)&&te(de,ue)&&te(ue,de)&&re(de,ue)}function K(de,ue,pe){return(ue.y-de.y)*(pe.x-ue.x)-(ue.x-de.x)*(pe.y-ue.y)}function J(de,ue){return de.x===ue.x&&de.y===ue.y}function Q(de,ue,pe,ce){return J(de,ue)&&J(pe,ce)||J(de,ce)&&J(pe,ue)||0<K(de,ue,pe)!=0<K(de,ue,ce)&&0<K(pe,ce,de)!=0<K(pe,ce,ue)}function $(de,ue){var pe=de;do{if(pe.i!==de.i&&pe.next.i!==de.i&&pe.i!==ue.i&&pe.next.i!==ue.i&&Q(pe,pe.next,de,ue))return!0;pe=pe.next}while(pe!==de);return!1}function te(de,ue){return 0>K(de.prev,de,de.next)?0<=K(de,ue,de.next)&&0<=K(de,de.prev,ue):0>K(de,ue,de.prev)||0>K(de,de.next,ue)}function re(de,ue){var pe=de,ce=!1,fe=(de.x+ue.x)/2,he=(de.y+ue.y)/2;do pe.y>he!=pe.next.y>he&&fe<(pe.next.x-pe.x)*(he-pe.y)/(pe.next.y-pe.y)+pe.x&&(ce=!ce),pe=pe.next;while(pe!==de);return ce}function ne(de,ue){var pe=new se(de.i,de.x,de.y),ce=new se(ue.i,ue.x,ue.y),fe=de.next,he=ue.prev;return de.next=ue,ue.prev=de,pe.next=fe,fe.prev=pe,ce.next=pe,pe.prev=ce,he.next=ce,ce.prev=he,ce}function oe(de,ue,pe,ce){var fe=new se(de,ue,pe);return ce?(fe.next=ce.next,fe.prev=ce,ce.next.prev=fe,ce.next=fe):(fe.prev=fe,fe.next=fe),fe}function ie(de){de.next.prev=de.prev,de.prev.next=de.next,de.prevZ&&(de.prevZ.nextZ=de.nextZ),de.nextZ&&(de.nextZ.prevZ=de.prevZ)}function se(de,ue,pe){this.i=de,this.x=ue,this.y=pe,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function le(de,ue,pe,ce){for(var fe=0,he=ue,me=pe-ce;he<pe;he+=ce)fe+=(de[me]-de[he])*(de[he+1]+de[me+1]),me=he;return fe}T.exports=P,P.deviation=function(de,ue,pe,ce){var fe=ue&&ue.length,he=fe?ue[0]*pe:de.length,me=_Mathabs(le(de,0,he,pe));if(fe)for(var ge=0,_e=ue.length;ge<_e;ge++){var be=ue[ge]*pe,Te=ge<_e-1?ue[ge+1]*pe:de.length;me-=_Mathabs(le(de,be,Te,pe))}var ve=0;for(ge=0;ge<ce.length;ge+=3){var Ee=ce[ge]*pe,Se=ce[ge+1]*pe,Pe=ce[ge+2]*pe;ve+=_Mathabs((de[Ee]-de[Pe])*(de[Se+1]-de[Ee+1])-(de[Ee]-de[Se])*(de[Pe+1]-de[Ee+1]))}return 0===me&&0===ve?0:_Mathabs((ve-me)/me)},P.flatten=function(de){for(var ue=de[0][0].length,pe={vertices:[],holes:[],dimensions:ue},ce=0,fe=0;fe<de.length;fe++){for(var he=0;he<de[fe].length;he++)for(var me=0;me<ue;me++)pe.vertices.push(de[fe][he][me]);0<fe&&(ce+=de[fe-1].length,pe.holes.push(ce))}return pe}},function(T,E){'use strict';function P(A,O){if(!(A instanceof O))throw new TypeError('Cannot call a class as a function')}function M(A,O){return A._head?(A._tail._next=O,O._prev=A._tail,A._tail=O):(A._head=O,A._tail=O),O._owner=A,O}Object.defineProperty(E,'__esModule',{value:!0});var C=function(){function A(O,D){for(var L=0,N;L<D.length;L++)N=D[L],N.enumerable=N.enumerable||!1,N.configurable=!0,'value'in N&&(N.writable=!0),Object.defineProperty(O,N.key,N)}return function(O,D,L){return D&&A(O.prototype,D),L&&A(O,L),O}}(),R=function(){function A(O,D,L){void 0===D&&(D=!1),P(this,A),this._fn=O,this._once=D,this._thisArg=L,this._next=this._prev=this._owner=null}return C(A,[{key:'detach',value:function(){return null!==this._owner&&(this._owner.detach(this),!0)}}]),A}(),I=function(){function A(){P(this,A),this._head=this._tail=void 0}return C(A,[{key:'handlers',value:function(){var D=0>=arguments.length||void 0===arguments[0]?!1:arguments[0],L=this._head;if(D)return!!L;for(var N=[];L;)N.push(L),L=L._next;return N}},{key:'has',value:function(D){if(!(D instanceof R))throw new Error('MiniSignal#has(): First arg must be a MiniSignalBinding object.');return D._owner===this}},{key:'dispatch',value:function(){var D=this._head;if(!D)return!1;for(;D;)D._once&&this.detach(D),D._fn.apply(D._thisArg,arguments),D=D._next;return!0}},{key:'add',value:function(D){var L=1>=arguments.length||void 0===arguments[1]?null:arguments[1];if('function'!=typeof D)throw new Error('MiniSignal#add(): First arg must be a Function.');return M(this,new R(D,!1,L))}},{key:'once',value:function(D){var L=1>=arguments.length||void 0===arguments[1]?null:arguments[1];if('function'!=typeof D)throw new Error('MiniSignal#once(): First arg must be a Function.');return M(this,new R(D,!0,L))}},{key:'detach',value:function(D){if(!(D instanceof R))throw new Error('MiniSignal#detach(): First arg must be a MiniSignalBinding object.');return D._owner===this?(D._prev&&(D._prev._next=D._next),D._next&&(D._next._prev=D._prev),D===this._head?(this._head=D._next,null===D._next&&(this._tail=null)):D===this._tail&&(this._tail=D._prev,this._tail._next=null),D._owner=null,this):this}},{key:'detachAll',value:function(){var D=this._head;if(!D)return this;for(this._head=this._tail=null;D;)D._owner=null,D=D._next;return this}}]),A}();I.MiniSignalBinding=R,E['default']=I,T.exports=E['default']},function(T){'use strict';T.exports=function(M,C){C=C||{};for(var R={key:['source','protocol','authority','userInfo','user','password','host','port','relative','path','directory','file','query','anchor'],q:{name:'queryKey',parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},I=R.parser[C.strictMode?'strict':'loose'].exec(M),A={},O=14;O--;)A[R.key[O]]=I[O]||'';return A[R.q.name]={},A[R.key[12]].replace(R.q.parser,function(D,L,N){L&&(A[R.q.name][L]=N)}),A}},function(T){var S=function(M,C,R,I,A){this.gl=M,this.texture=M.createTexture(),this.mipmap=!1,this.premultiplyAlpha=!1,this.width=C||-1,this.height=R||-1,this.format=I||M.RGBA,this.type=A||M.UNSIGNED_BYTE};S.prototype.upload=function(M){this.bind();var C=this.gl;C.pixelStorei(C.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha);var R=M.videoWidth||M.width,I=M.videoHeight||M.height;I!==this.height||R!==this.width?C.texImage2D(C.TEXTURE_2D,0,this.format,this.format,this.type,M):C.texSubImage2D(C.TEXTURE_2D,0,0,0,this.format,this.type,M),this.width=R,this.height=I};var P=!1;S.prototype.uploadData=function(M,C,R){this.bind();var I=this.gl;if(M instanceof Float32Array){if(!P){var A=I.getExtension('OES_texture_float');if(A)P=!0;else throw new Error('floating point textures not available')}this.type=I.FLOAT}else this.type=this.type||I.UNSIGNED_BYTE;I.pixelStorei(I.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha),C!==this.width||R!==this.height?I.texImage2D(I.TEXTURE_2D,0,this.format,C,R,0,this.format,this.type,M||null):I.texSubImage2D(I.TEXTURE_2D,0,0,0,C,R,this.format,this.type,M||null),this.width=C,this.height=R},S.prototype.bind=function(M){var C=this.gl;M!==void 0&&C.activeTexture(C.TEXTURE0+M),C.bindTexture(C.TEXTURE_2D,this.texture)},S.prototype.unbind=function(){var M=this.gl;M.bindTexture(M.TEXTURE_2D,null)},S.prototype.minFilter=function(M){var C=this.gl;this.bind(),this.mipmap?C.texParameteri(C.TEXTURE_2D,C.TEXTURE_MIN_FILTER,M?C.LINEAR_MIPMAP_LINEAR:C.NEAREST_MIPMAP_NEAREST):C.texParameteri(C.TEXTURE_2D,C.TEXTURE_MIN_FILTER,M?C.LINEAR:C.NEAREST)},S.prototype.magFilter=function(M){var C=this.gl;this.bind(),C.texParameteri(C.TEXTURE_2D,C.TEXTURE_MAG_FILTER,M?C.LINEAR:C.NEAREST)},S.prototype.enableMipmap=function(){var M=this.gl;this.bind(),this.mipmap=!0,M.generateMipmap(M.TEXTURE_2D)},S.prototype.enableLinearScaling=function(){this.minFilter(!0),this.magFilter(!0)},S.prototype.enableNearestScaling=function(){this.minFilter(!1),this.magFilter(!1)},S.prototype.enableWrapClamp=function(){var M=this.gl;this.bind(),M.texParameteri(M.TEXTURE_2D,M.TEXTURE_WRAP_S,M.CLAMP_TO_EDGE),M.texParameteri(M.TEXTURE_2D,M.TEXTURE_WRAP_T,M.CLAMP_TO_EDGE)},S.prototype.enableWrapRepeat=function(){var M=this.gl;this.bind(),M.texParameteri(M.TEXTURE_2D,M.TEXTURE_WRAP_S,M.REPEAT),M.texParameteri(M.TEXTURE_2D,M.TEXTURE_WRAP_T,M.REPEAT)},S.prototype.enableWrapMirrorRepeat=function(){var M=this.gl;this.bind(),M.texParameteri(M.TEXTURE_2D,M.TEXTURE_WRAP_S,M.MIRRORED_REPEAT),M.texParameteri(M.TEXTURE_2D,M.TEXTURE_WRAP_T,M.MIRRORED_REPEAT)},S.prototype.destroy=function(){var M=this.gl;M.deleteTexture(this.texture)},S.fromSource=function(M,C,R){var I=new S(M);return I.premultiplyAlpha=R||!1,I.upload(C),I},S.fromData=function(M,C,R,I){var A=new S(M);return A.uploadData(C,R,I),A},T.exports=S},function(T){T.exports=function(P,M,C){var R;if(C){var I=C.tempAttribState,A=C.attribState;for(R=0;R<I.length;R++)I[R]=!1;for(R=0;R<M.length;R++)I[M[R].attribute.location]=!0;for(R=0;R<A.length;R++)A[R]!==I[R]&&(A[R]=I[R],C.attribState[R]?P.enableVertexAttribArray(R):P.disableVertexAttribArray(R))}else for(R=0;R<M.length;R++){var O=M[R];P.enableVertexAttribArray(O.attribute.location)}}},function(T){var P=function(M,C,R){var I=M.createShader(C);return M.shaderSource(I,R),M.compileShader(I),M.getShaderParameter(I,M.COMPILE_STATUS)?I:(console.log(M.getShaderInfoLog(I)),null)};T.exports=function(M,C,R,I){var A=P(M,M.VERTEX_SHADER,C),O=P(M,M.FRAGMENT_SHADER,R),D=M.createProgram();if(M.attachShader(D,A),M.attachShader(D,O),I)for(var L in I)M.bindAttribLocation(D,I[L],L);return M.linkProgram(D),M.getProgramParameter(D,M.LINK_STATUS)||(console.error('Pixi.js Error: Could not initialize shader.'),console.error('gl.VALIDATE_STATUS',M.getProgramParameter(D,M.VALIDATE_STATUS)),console.error('gl.getError()',M.getError()),''!==M.getProgramInfoLog(D)&&console.warn('Pixi.js Warning: gl.getProgramInfoLog()',M.getProgramInfoLog(D)),M.deleteProgram(D),D=null),M.deleteShader(A),M.deleteShader(O),D}},function(T){var P=function(M){for(var C=Array(M),R=0;R<C.length;R++)C[R]=!1;return C};T.exports=function(M,C){return'float'===M?0:'vec2'===M?new Float32Array(2*C):'vec3'===M?new Float32Array(3*C):'vec4'===M?new Float32Array(4*C):'int'===M||'sampler2D'===M?0:'ivec2'===M?new Int32Array(2*C):'ivec3'===M?new Int32Array(3*C):'ivec4'===M?new Int32Array(4*C):'bool'!=M&&('bvec2'===M?P(2*C):'bvec3'===M?P(3*C):'bvec4'===M?P(4*C):'mat2'===M?new Float32Array([1,0,0,1]):'mat3'===M?new Float32Array([1,0,0,0,1,0,0,0,1]):'mat4'===M?new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]):void 0)}},function(T,E,S){var P=S(23),M=S(48),R=function(I,A,O,D){gl.vertexAttribPointer(this.location,this.size,I||gl.FLOAT,A||!1,O||0,D||0)};T.exports=function(I,A){for(var O={},D=I.getProgramParameter(A,I.ACTIVE_ATTRIBUTES),L=0;L<D;L++){var N=I.getActiveAttrib(A,L),F=P(I,N.type);O[N.name]={type:F,size:M(F),location:I.getAttribLocation(A,N.name),pointer:R}}return O}},function(T,E,S){var P=S(23),M=S(44);T.exports=function(R,I){for(var A={},O=R.getProgramParameter(I,R.ACTIVE_UNIFORMS),D=0;D<O;D++){var L=R.getActiveUniform(I,D),N=L.name.replace(/\[.*?\]/,''),F=P(R,L.type);A[N]={type:F,size:L.size,location:R.getUniformLocation(I,N),value:M(F,L.size)}}return A}},function(T){var P=function(D){var L=R.replace('%%',D);return new Function(L)},M=function(D,L){var N=I.replace(/%%/g,D),F;return F=1===L.size?A[L.type]:O[L.type],F&&(N+='\nthis.gl.'+F+';'),new Function('value',N)},C=function(D,L){for(var N=L,F=0,B;F<D.length-1;F++)B=N[D[F]]||{data:{}},N[D[F]]=B,N=B;return N},R=['return this.data.%%.value;'].join('\n'),I=['this.data.%%.value = value;','var location = this.data.%%.location;'].join('\n'),A={float:'uniform1f(location, value)',vec2:'uniform2f(location, value[0], value[1])',vec3:'uniform3f(location, value[0], value[1], value[2])',vec4:'uniform4f(location, value[0], value[1], value[2], value[3])',int:'uniform1i(location, value)',ivec2:'uniform2i(location, value[0], value[1])',ivec3:'uniform3i(location, value[0], value[1], value[2])',ivec4:'uniform4i(location, value[0], value[1], value[2], value[3])',bool:'uniform1i(location, value)',bvec2:'uniform2i(location, value[0], value[1])',bvec3:'uniform3i(location, value[0], value[1], value[2])',bvec4:'uniform4i(location, value[0], value[1], value[2], value[3])',mat2:'uniformMatrix2fv(location, false, value)',mat3:'uniformMatrix3fv(location, false, value)',mat4:'uniformMatrix4fv(location, false, value)',sampler2D:'uniform1i(location, value)'},O={float:'uniform1fv(location, value)',vec2:'uniform2fv(location, value)',vec3:'uniform3fv(location, value)',vec4:'uniform4fv(location, value)',int:'uniform1iv(location, value)',ivec2:'uniform2iv(location, value)',ivec3:'uniform3iv(location, value)',ivec4:'uniform4iv(location, value)',bool:'uniform1iv(location, value)',bvec2:'uniform2iv(location, value)',bvec3:'uniform3iv(location, value)',bvec4:'uniform4iv(location, value)',sampler2D:'uniform1iv(location, value)'};T.exports=function(D,L){for(var N={data:{},gl:D},F=Object.keys(L),B=0;B<F.length;B++){var U=F[B],X=U.split('.'),V=X[X.length-1],Y=C(X,N),G=L[U];Y.data[V]=G,Y.gl=D,Object.defineProperty(Y,V,{get:P(V),set:M(V,G)})}return N}},function(T){var P={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};T.exports=function(M){return P[M]}},function(T){T.exports=function(P,M){return'precision'===P.substring(0,9)?P:'precision '+M+' float;\n'+P}},function(){var S=this&&this.__extends||function(){var M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,R){C.__proto__=R}||function(C,R){for(var I in R)R.hasOwnProperty(I)&&(C[I]=R[I])};return function(C,R){function I(){this.constructor=C}M(C,R),C.prototype=null===R?Object.create(R):(I.prototype=R.prototype,new I)}}(),P;(function(M){var C;(function(R){var I=function(){function $(te,re,ne){if(null==te)throw new Error('name cannot be null.');if(null==re)throw new Error('timelines cannot be null.');this.name=te,this.timelines=re,this.duration=ne}return $.prototype.apply=function(te,re,ne,oe,ie,se,le,de){if(null==te)throw new Error('skeleton cannot be null.');oe&&0!=this.duration&&(ne%=this.duration,0<re&&(re%=this.duration));for(var ue=this.timelines,pe=0,ce=ue.length;pe<ce;pe++)ue[pe].apply(te,re,ne,ie,se,le,de)},$.binarySearch=function(te,re,ne){void 0===ne&&(ne=1);var oe=0,ie=te.length/ne-2;if(0==ie)return ne;for(var se=ie>>>1;;){if(te[(se+1)*ne]<=re?oe=se+1:ie=se,oe==ie)return(oe+1)*ne;se=oe+ie>>>1}},$.linearSearch=function(te,re,ne){for(var oe=0,ie=te.length-ne;oe<=ie;oe+=ne)if(te[oe]>re)return oe;return-1},$}();R.Animation=I;var A;(function($){$[$.rotate=0]='rotate',$[$.translate=1]='translate',$[$.scale=2]='scale',$[$.shear=3]='shear',$[$.attachment=4]='attachment',$[$.color=5]='color',$[$.deform=6]='deform',$[$.event=7]='event',$[$.drawOrder=8]='drawOrder',$[$.ikConstraint=9]='ikConstraint',$[$.transformConstraint=10]='transformConstraint',$[$.pathConstraintPosition=11]='pathConstraintPosition',$[$.pathConstraintSpacing=12]='pathConstraintSpacing',$[$.pathConstraintMix=13]='pathConstraintMix'})(A=R.TimelineType||(R.TimelineType={}));var O=function(){function $(te){if(0>=te)throw new Error('frameCount must be > 0: '+te);this.curves=R.Utils.newFloatArray((te-1)*$.BEZIER_SIZE)}return $.prototype.getFrameCount=function(){return this.curves.length/$.BEZIER_SIZE+1},$.prototype.setLinear=function(te){this.curves[te*$.BEZIER_SIZE]=$.LINEAR},$.prototype.setStepped=function(te){this.curves[te*$.BEZIER_SIZE]=$.STEPPED},$.prototype.getCurveType=function(te){var re=te*$.BEZIER_SIZE;if(re==this.curves.length)return $.LINEAR;var ne=this.curves[re];return ne==$.LINEAR?$.LINEAR:ne==$.STEPPED?$.STEPPED:$.BEZIER},$.prototype.setCurve=function(te,re,ne,oe,ie){var se=0.03*(2*-re+oe),le=0.03*(2*-ne+ie),de=6e-3*(3*(re-oe)+1),ue=6e-3*(3*(ne-ie)+1),pe=2*se+de,ce=2*le+ue,fe=0.3*re+se+0.16666667*de,he=0.3*ne+le+0.16666667*ue,me=te*$.BEZIER_SIZE,ge=this.curves;ge[me++]=$.BEZIER;for(var _e=fe,be=he,Te=me+$.BEZIER_SIZE-1;me<Te;me+=2)ge[me]=_e,ge[me+1]=be,fe+=pe,he+=ce,pe+=de,ce+=ue,_e+=fe,be+=he},$.prototype.getCurvePercent=function(te,re){re=R.MathUtils.clamp(re,0,1);var ne=this.curves,oe=te*$.BEZIER_SIZE,ie=ne[oe];if(ie==$.LINEAR)return re;if(ie==$.STEPPED)return 0;oe++;for(var se=0,le=oe,de=oe+$.BEZIER_SIZE-1;oe<de;oe+=2)if(se=ne[oe],se>=re){var ue=void 0,pe=void 0;return oe==le?(ue=0,pe=0):(ue=ne[oe-2],pe=ne[oe-1]),pe+(ne[oe+1]-pe)*(re-ue)/(se-ue)}var ce=ne[oe-1];return ce+(1-ce)*(re-se)/(1-se)},$}();O.LINEAR=0,O.STEPPED=1,O.BEZIER=2,O.BEZIER_SIZE=19,R.CurveTimeline=O;var D=function($){function te(re){var ne=$.call(this,re)||this;return ne.frames=R.Utils.newFloatArray(re<<1),ne}return S(te,$),te.prototype.getPropertyId=function(){return(A.rotate<<24)+this.boneIndex},te.prototype.setFrame=function(re,ne,oe){re<<=1,this.frames[re]=ne,this.frames[re+te.ROTATION]=oe},te.prototype.apply=function(re,ne,oe,ie,se,le){var ue=this.frames,pe=re.bones[this.boneIndex];if(oe<ue[0])return void(le&&(pe.rotation=pe.data.rotation));if(oe>=ue[ue.length-te.ENTRIES]){if(le)pe.rotation=pe.data.rotation+ue[ue.length+te.PREV_ROTATION]*se;else{var ce=pe.data.rotation+ue[ue.length+te.PREV_ROTATION]-pe.rotation;ce-=360*(16384-(0|16384.499999999996-ce/360)),pe.rotation+=ce*se}return}var fe=I.binarySearch(ue,oe,te.ENTRIES),he=ue[fe+te.PREV_ROTATION],me=ue[fe],ge=this.getCurvePercent((fe>>1)-1,1-(oe-me)/(ue[fe+te.PREV_TIME]-me)),_e=ue[fe+te.ROTATION]-he;_e-=360*(16384-(0|16384.499999999996-_e/360)),_e=he+_e*ge,le?(_e-=360*(16384-(0|16384.499999999996-_e/360)),pe.rotation=pe.data.rotation+_e*se):(_e=pe.data.rotation+_e-pe.rotation,_e-=360*(16384-(0|16384.499999999996-_e/360)),pe.rotation+=_e*se)},te}(O);D.ENTRIES=2,D.PREV_TIME=-2,D.PREV_ROTATION=-1,D.ROTATION=1,R.RotateTimeline=D;var L=function($){function te(re){var ne=$.call(this,re)||this;return ne.frames=R.Utils.newFloatArray(re*te.ENTRIES),ne}return S(te,$),te.prototype.getPropertyId=function(){return(A.translate<<24)+this.boneIndex},te.prototype.setFrame=function(re,ne,oe,ie){re*=te.ENTRIES,this.frames[re]=ne,this.frames[re+te.X]=oe,this.frames[re+te.Y]=ie},te.prototype.apply=function(re,ne,oe,ie,se,le){var ue=this.frames,pe=re.bones[this.boneIndex];if(oe<ue[0])return void(le&&(pe.x=pe.data.x,pe.y=pe.data.y));var ce=0,fe=0;if(oe>=ue[ue.length-te.ENTRIES])ce=ue[ue.length+te.PREV_X],fe=ue[ue.length+te.PREV_Y];else{var he=I.binarySearch(ue,oe,te.ENTRIES);ce=ue[he+te.PREV_X],fe=ue[he+te.PREV_Y];var me=ue[he],ge=this.getCurvePercent(he/te.ENTRIES-1,1-(oe-me)/(ue[he+te.PREV_TIME]-me));ce+=(ue[he+te.X]-ce)*ge,fe+=(ue[he+te.Y]-fe)*ge}le?(pe.x=pe.data.x+ce*se,pe.y=pe.data.y+fe*se):(pe.x+=(pe.data.x+ce-pe.x)*se,pe.y+=(pe.data.y+fe-pe.y)*se)},te}(O);L.ENTRIES=3,L.PREV_TIME=-3,L.PREV_X=-2,L.PREV_Y=-1,L.X=1,L.Y=2,R.TranslateTimeline=L;var N=function($){function te(re){return $.call(this,re)||this}return S(te,$),te.prototype.getPropertyId=function(){return(A.scale<<24)+this.boneIndex},te.prototype.apply=function(re,ne,oe,ie,se,le,de){var ue=this.frames,pe=re.bones[this.boneIndex];if(oe<ue[0])return void(le&&(pe.scaleX=pe.data.scaleX,pe.scaleY=pe.data.scaleY));var ce=0,fe=0;if(oe>=ue[ue.length-te.ENTRIES])ce=ue[ue.length+te.PREV_X]*pe.data.scaleX,fe=ue[ue.length+te.PREV_Y]*pe.data.scaleY;else{var he=I.binarySearch(ue,oe,te.ENTRIES);ce=ue[he+te.PREV_X],fe=ue[he+te.PREV_Y];var me=ue[he],ge=this.getCurvePercent(he/te.ENTRIES-1,1-(oe-me)/(ue[he+te.PREV_TIME]-me));ce=(ce+(ue[he+te.X]-ce)*ge)*pe.data.scaleX,fe=(fe+(ue[he+te.Y]-fe)*ge)*pe.data.scaleY}if(1==se)pe.scaleX=ce,pe.scaleY=fe;else{var _e=0,be=0;le?(_e=pe.data.scaleX,be=pe.data.scaleY):(_e=pe.scaleX,be=pe.scaleY),de?(ce=_Mathabs(ce)*R.MathUtils.signum(_e),fe=_Mathabs(fe)*R.MathUtils.signum(be)):(_e=_Mathabs(_e)*R.MathUtils.signum(ce),be=_Mathabs(be)*R.MathUtils.signum(fe)),pe.scaleX=_e+(ce-_e)*se,pe.scaleY=be+(fe-be)*se}},te}(L);R.ScaleTimeline=N;var F=function($){function te(re){return $.call(this,re)||this}return S(te,$),te.prototype.getPropertyId=function(){return(A.shear<<24)+this.boneIndex},te.prototype.apply=function(re,ne,oe,ie,se,le){var ue=this.frames,pe=re.bones[this.boneIndex];if(oe<ue[0])return void(le&&(pe.shearX=pe.data.shearX,pe.shearY=pe.data.shearY));var ce=0,fe=0;if(oe>=ue[ue.length-te.ENTRIES])ce=ue[ue.length+te.PREV_X],fe=ue[ue.length+te.PREV_Y];else{var he=I.binarySearch(ue,oe,te.ENTRIES);ce=ue[he+te.PREV_X],fe=ue[he+te.PREV_Y];var me=ue[he],ge=this.getCurvePercent(he/te.ENTRIES-1,1-(oe-me)/(ue[he+te.PREV_TIME]-me));ce+=(ue[he+te.X]-ce)*ge,fe+=(ue[he+te.Y]-fe)*ge}le?(pe.shearX=pe.data.shearX+ce*se,pe.shearY=pe.data.shearY+fe*se):(pe.shearX+=(pe.data.shearX+ce-pe.shearX)*se,pe.shearY+=(pe.data.shearY+fe-pe.shearY)*se)},te}(L);R.ShearTimeline=F;var B=function($){function te(re){var ne=$.call(this,re)||this;return ne.frames=R.Utils.newFloatArray(re*te.ENTRIES),ne}return S(te,$),te.prototype.getPropertyId=function(){return(A.color<<24)+this.slotIndex},te.prototype.setFrame=function(re,ne,oe,ie,se,le){re*=te.ENTRIES,this.frames[re]=ne,this.frames[re+te.R]=oe,this.frames[re+te.G]=ie,this.frames[re+te.B]=se,this.frames[re+te.A]=le},te.prototype.apply=function(re,ne,oe,ie,se,le){var ue=re.slots[this.slotIndex],pe=this.frames;if(oe<pe[0])return void(le&&ue.color.setFromColor(ue.data.color));var ce=0,fe=0,he=0,me=0;if(oe>=pe[pe.length-te.ENTRIES]){var ge=pe.length;ce=pe[ge+te.PREV_R],fe=pe[ge+te.PREV_G],he=pe[ge+te.PREV_B],me=pe[ge+te.PREV_A]}else{var _e=I.binarySearch(pe,oe,te.ENTRIES);ce=pe[_e+te.PREV_R],fe=pe[_e+te.PREV_G],he=pe[_e+te.PREV_B],me=pe[_e+te.PREV_A];var be=pe[_e],Te=this.getCurvePercent(_e/te.ENTRIES-1,1-(oe-be)/(pe[_e+te.PREV_TIME]-be));ce+=(pe[_e+te.R]-ce)*Te,fe+=(pe[_e+te.G]-fe)*Te,he+=(pe[_e+te.B]-he)*Te,me+=(pe[_e+te.A]-me)*Te}if(1==se)ue.color.set(ce,fe,he,me);else{var ve=ue.color;le&&ve.setFromColor(ue.data.color),ve.add((ce-ve.r)*se,(fe-ve.g)*se,(he-ve.b)*se,(me-ve.a)*se)}},te}(O);B.ENTRIES=5,B.PREV_TIME=-5,B.PREV_R=-4,B.PREV_G=-3,B.PREV_B=-2,B.PREV_A=-1,B.R=1,B.G=2,B.B=3,B.A=4,R.ColorTimeline=B;var U=function(){function $(te){this.frames=R.Utils.newFloatArray(te),this.attachmentNames=Array(te)}return $.prototype.getPropertyId=function(){return(A.attachment<<24)+this.slotIndex},$.prototype.getFrameCount=function(){return this.frames.length},$.prototype.setFrame=function(te,re,ne){this.frames[te]=re,this.attachmentNames[te]=ne},$.prototype.apply=function(te,re,ne,oe,ie,se,le){var de=te.slots[this.slotIndex];if(le&&se){var ue=de.data.attachmentName;return void de.setAttachment(null==ue?null:te.getAttachment(this.slotIndex,ue))}var pe=this.frames;if(ne<pe[0]){if(se){var ce=de.data.attachmentName;de.setAttachment(null==ce?null:te.getAttachment(this.slotIndex,ce))}return}var fe=0;fe=ne>=pe[pe.length-1]?pe.length-1:I.binarySearch(pe,ne,1)-1;var he=this.attachmentNames[fe];te.slots[this.slotIndex].setAttachment(null==he?null:te.getAttachment(this.slotIndex,he))},$}();R.AttachmentTimeline=U;var X=function($){function te(re){var ne=$.call(this,re)||this;return ne.frames=R.Utils.newFloatArray(re),ne.frameVertices=Array(re),ne}return S(te,$),te.prototype.getPropertyId=function(){return(A.deform<<24)+this.slotIndex},te.prototype.setFrame=function(re,ne,oe){this.frames[re]=ne,this.frameVertices[re]=oe},te.prototype.apply=function(re,ne,oe,ie,se,le){var ue=re.slots[this.slotIndex],pe=ue.getAttachment();if(pe instanceof R.VertexAttachment&&pe.applyDeform(this.attachment)){var ce=this.frames,fe=ue.attachmentVertices;if(oe<ce[0])return void(le&&R.Utils.setArraySize(fe,0));var he=this.frameVertices,me=he[0].length;fe.length!=me&&(se=1);var ge=R.Utils.setArraySize(fe,me);if(oe>=ce[ce.length-1]){var _e=he[ce.length-1];if(1==se)R.Utils.arrayCopy(_e,0,ge,0,me);else if(le){var be=pe;if(null==be.bones)for(var Te=be.vertices,ve=0,Ee;ve<me;ve++)Ee=Te[ve],ge[ve]=Ee+(_e[ve]-Ee)*se;else for(var ve=0;ve<me;ve++)ge[ve]=_e[ve]*se}else for(var ve=0;ve<me;ve++)ge[ve]+=(_e[ve]-ge[ve])*se;return}var Se=I.binarySearch(ce,oe),Pe=he[Se-1],Me=he[Se],Ce=ce[Se],Re=this.getCurvePercent(Se-1,1-(oe-Ce)/(ce[Se-1]-Ce));if(1==se)for(var ve=0,Ie;ve<me;ve++)Ie=Pe[ve],ge[ve]=Ie+(Me[ve]-Ie)*Re;else if(le){var be=pe;if(null==be.bones)for(var Te=be.vertices,ve=0;ve<me;ve++){var Ie=Pe[ve],Ee=Te[ve];ge[ve]=Ee+(Ie+(Me[ve]-Ie)*Re-Ee)*se}else for(var ve=0,Ie;ve<me;ve++)Ie=Pe[ve],ge[ve]=(Ie+(Me[ve]-Ie)*Re)*se}else for(var ve=0,Ie;ve<me;ve++)Ie=Pe[ve],ge[ve]+=(Ie+(Me[ve]-Ie)*Re-ge[ve])*se}},te}(O);R.DeformTimeline=X;var V=function(){function $(te){this.frames=R.Utils.newFloatArray(te),this.events=Array(te)}return $.prototype.getPropertyId=function(){return A.event<<24},$.prototype.getFrameCount=function(){return this.frames.length},$.prototype.setFrame=function(te,re){this.frames[te]=re.time,this.events[te]=re},$.prototype.apply=function(te,re,ne,oe,ie,se,le){if(null!=oe){var de=this.frames,ue=this.frames.length;if(re>ne)this.apply(te,re,Number.MAX_VALUE,oe,ie,se,le),re=-1;else if(re>=de[ue-1])return;if(!(ne<de[0])){var pe=0;if(re<de[0])pe=0;else{pe=I.binarySearch(de,re);for(var ce=de[pe];0<pe&&de[pe-1]==ce;)pe--}for(;pe<ue&&ne>=de[pe];pe++)oe.push(this.events[pe])}}},$}();R.EventTimeline=V;var Y=function(){function $(te){this.frames=R.Utils.newFloatArray(te),this.drawOrders=Array(te)}return $.prototype.getPropertyId=function(){return A.drawOrder<<24},$.prototype.getFrameCount=function(){return this.frames.length},$.prototype.setFrame=function(te,re,ne){this.frames[te]=re,this.drawOrders[te]=ne},$.prototype.apply=function(te,re,ne,oe,ie,se,le){var de=te.drawOrder,ue=te.slots;if(le&&se)return void R.Utils.arrayCopy(te.slots,0,te.drawOrder,0,te.slots.length);var pe=this.frames;if(ne<pe[0])return void(se&&R.Utils.arrayCopy(te.slots,0,te.drawOrder,0,te.slots.length));var ce=0;ce=ne>=pe[pe.length-1]?pe.length-1:I.binarySearch(pe,ne)-1;var fe=this.drawOrders[ce];if(null==fe)R.Utils.arrayCopy(ue,0,de,0,ue.length);else for(var he=0,me=fe.length;he<me;he++)de[he]=ue[fe[he]]},$}();R.DrawOrderTimeline=Y;var G=function($){function te(re){var ne=$.call(this,re)||this;return ne.frames=R.Utils.newFloatArray(re*te.ENTRIES),ne}return S(te,$),te.prototype.getPropertyId=function(){return(A.ikConstraint<<24)+this.ikConstraintIndex},te.prototype.setFrame=function(re,ne,oe,ie){re*=te.ENTRIES,this.frames[re]=ne,this.frames[re+te.MIX]=oe,this.frames[re+te.BEND_DIRECTION]=ie},te.prototype.apply=function(re,ne,oe,ie,se,le,de){var ue=this.frames,pe=re.ikConstraints[this.ikConstraintIndex];if(oe<ue[0])return void(le&&(pe.mix=pe.data.mix,pe.bendDirection=pe.data.bendDirection));if(oe>=ue[ue.length-te.ENTRIES])return void(le?(pe.mix=pe.data.mix+(ue[ue.length+te.PREV_MIX]-pe.data.mix)*se,pe.bendDirection=de?pe.data.bendDirection:ue[ue.length+te.PREV_BEND_DIRECTION]):(pe.mix+=(ue[ue.length+te.PREV_MIX]-pe.mix)*se,!de&&(pe.bendDirection=ue[ue.length+te.PREV_BEND_DIRECTION])));var ce=I.binarySearch(ue,oe,te.ENTRIES),fe=ue[ce+te.PREV_MIX],he=ue[ce],me=this.getCurvePercent(ce/te.ENTRIES-1,1-(oe-he)/(ue[ce+te.PREV_TIME]-he));le?(pe.mix=pe.data.mix+(fe+(ue[ce+te.MIX]-fe)*me-pe.data.mix)*se,pe.bendDirection=de?pe.data.bendDirection:ue[ce+te.PREV_BEND_DIRECTION]):(pe.mix+=(fe+(ue[ce+te.MIX]-fe)*me-pe.mix)*se,!de&&(pe.bendDirection=ue[ce+te.PREV_BEND_DIRECTION]))},te}(O);G.ENTRIES=3,G.PREV_TIME=-3,G.PREV_MIX=-2,G.PREV_BEND_DIRECTION=-1,G.MIX=1,G.BEND_DIRECTION=2,R.IkConstraintTimeline=G;var Z=function($){function te(re){var ne=$.call(this,re)||this;return ne.frames=R.Utils.newFloatArray(re*te.ENTRIES),ne}return S(te,$),te.prototype.getPropertyId=function(){return(A.transformConstraint<<24)+this.transformConstraintIndex},te.prototype.setFrame=function(re,ne,oe,ie,se,le){re*=te.ENTRIES,this.frames[re]=ne,this.frames[re+te.ROTATE]=oe,this.frames[re+te.TRANSLATE]=ie,this.frames[re+te.SCALE]=se,this.frames[re+te.SHEAR]=le},te.prototype.apply=function(re,ne,oe,ie,se,le){var ue=this.frames,pe=re.transformConstraints[this.transformConstraintIndex];if(oe<ue[0]){if(le){var ce=pe.data;pe.rotateMix=ce.rotateMix,pe.translateMix=ce.rotateMix,pe.scaleMix=ce.scaleMix,pe.shearMix=ce.shearMix}return}var fe=0,he=0,me=0,ge=0;if(oe>=ue[ue.length-te.ENTRIES]){var _e=ue.length;fe=ue[_e+te.PREV_ROTATE],he=ue[_e+te.PREV_TRANSLATE],me=ue[_e+te.PREV_SCALE],ge=ue[_e+te.PREV_SHEAR]}else{var be=I.binarySearch(ue,oe,te.ENTRIES);fe=ue[be+te.PREV_ROTATE],he=ue[be+te.PREV_TRANSLATE],me=ue[be+te.PREV_SCALE],ge=ue[be+te.PREV_SHEAR];var Te=ue[be],ve=this.getCurvePercent(be/te.ENTRIES-1,1-(oe-Te)/(ue[be+te.PREV_TIME]-Te));fe+=(ue[be+te.ROTATE]-fe)*ve,he+=(ue[be+te.TRANSLATE]-he)*ve,me+=(ue[be+te.SCALE]-me)*ve,ge+=(ue[be+te.SHEAR]-ge)*ve}if(le){var ce=pe.data;pe.rotateMix=ce.rotateMix+(fe-ce.rotateMix)*se,pe.translateMix=ce.translateMix+(he-ce.translateMix)*se,pe.scaleMix=ce.scaleMix+(me-ce.scaleMix)*se,pe.shearMix=ce.shearMix+(ge-ce.shearMix)*se}else pe.rotateMix+=(fe-pe.rotateMix)*se,pe.translateMix+=(he-pe.translateMix)*se,pe.scaleMix+=(me-pe.scaleMix)*se,pe.shearMix+=(ge-pe.shearMix)*se},te}(O);Z.ENTRIES=5,Z.PREV_TIME=-5,Z.PREV_ROTATE=-4,Z.PREV_TRANSLATE=-3,Z.PREV_SCALE=-2,Z.PREV_SHEAR=-1,Z.ROTATE=1,Z.TRANSLATE=2,Z.SCALE=3,Z.SHEAR=4,R.TransformConstraintTimeline=Z;var K=function($){function te(re){var ne=$.call(this,re)||this;return ne.frames=R.Utils.newFloatArray(re*te.ENTRIES),ne}return S(te,$),te.prototype.getPropertyId=function(){return(A.pathConstraintPosition<<24)+this.pathConstraintIndex},te.prototype.setFrame=function(re,ne,oe){re*=te.ENTRIES,this.frames[re]=ne,this.frames[re+te.VALUE]=oe},te.prototype.apply=function(re,ne,oe,ie,se,le){var ue=this.frames,pe=re.pathConstraints[this.pathConstraintIndex];if(oe<ue[0])return void(le&&(pe.position=pe.data.position));var ce=0;if(oe>=ue[ue.length-te.ENTRIES])ce=ue[ue.length+te.PREV_VALUE];else{var fe=I.binarySearch(ue,oe,te.ENTRIES);ce=ue[fe+te.PREV_VALUE];var he=ue[fe],me=this.getCurvePercent(fe/te.ENTRIES-1,1-(oe-he)/(ue[fe+te.PREV_TIME]-he));ce+=(ue[fe+te.VALUE]-ce)*me}le?pe.position=pe.data.position+(ce-pe.data.position)*se:pe.position+=(ce-pe.position)*se},te}(O);K.ENTRIES=2,K.PREV_TIME=-2,K.PREV_VALUE=-1,K.VALUE=1,R.PathConstraintPositionTimeline=K;var J=function($){function te(re){return $.call(this,re)||this}return S(te,$),te.prototype.getPropertyId=function(){return(A.pathConstraintSpacing<<24)+this.pathConstraintIndex},te.prototype.apply=function(re,ne,oe,ie,se,le){var ue=this.frames,pe=re.pathConstraints[this.pathConstraintIndex];if(oe<ue[0])return void(le&&(pe.spacing=pe.data.spacing));var ce=0;if(oe>=ue[ue.length-te.ENTRIES])ce=ue[ue.length+te.PREV_VALUE];else{var fe=I.binarySearch(ue,oe,te.ENTRIES);ce=ue[fe+te.PREV_VALUE];var he=ue[fe],me=this.getCurvePercent(fe/te.ENTRIES-1,1-(oe-he)/(ue[fe+te.PREV_TIME]-he));ce+=(ue[fe+te.VALUE]-ce)*me}le?pe.spacing=pe.data.spacing+(ce-pe.data.spacing)*se:pe.spacing+=(ce-pe.spacing)*se},te}(K);R.PathConstraintSpacingTimeline=J;var Q=function($){function te(re){var ne=$.call(this,re)||this;return ne.frames=R.Utils.newFloatArray(re*te.ENTRIES),ne}return S(te,$),te.prototype.getPropertyId=function(){return(A.pathConstraintMix<<24)+this.pathConstraintIndex},te.prototype.setFrame=function(re,ne,oe,ie){re*=te.ENTRIES,this.frames[re]=ne,this.frames[re+te.ROTATE]=oe,this.frames[re+te.TRANSLATE]=ie},te.prototype.apply=function(re,ne,oe,ie,se,le){var ue=this.frames,pe=re.pathConstraints[this.pathConstraintIndex];if(oe<ue[0])return void(le&&(pe.rotateMix=pe.data.rotateMix,pe.translateMix=pe.data.translateMix));var ce=0,fe=0;if(oe>=ue[ue.length-te.ENTRIES])ce=ue[ue.length+te.PREV_ROTATE],fe=ue[ue.length+te.PREV_TRANSLATE];else{var he=I.binarySearch(ue,oe,te.ENTRIES);ce=ue[he+te.PREV_ROTATE],fe=ue[he+te.PREV_TRANSLATE];var me=ue[he],ge=this.getCurvePercent(he/te.ENTRIES-1,1-(oe-me)/(ue[he+te.PREV_TIME]-me));ce+=(ue[he+te.ROTATE]-ce)*ge,fe+=(ue[he+te.TRANSLATE]-fe)*ge}le?(pe.rotateMix=pe.data.rotateMix+(ce-pe.data.rotateMix)*se,pe.translateMix=pe.data.translateMix+(fe-pe.data.translateMix)*se):(pe.rotateMix+=(ce-pe.rotateMix)*se,pe.translateMix+=(fe-pe.translateMix)*se)},te}(O);Q.ENTRIES=3,Q.PREV_TIME=-3,Q.PREV_ROTATE=-2,Q.PREV_TRANSLATE=-1,Q.ROTATE=1,Q.TRANSLATE=2,R.PathConstraintMixTimeline=Q})(C=M.core||(M.core={}))})(P||(P={})),function(M){var C;(function(R){var I=function(){function N(F){this.tracks=[],this.events=[],this.listeners=[],this.queue=new O(this),this.propertyIDs=new R.IntSet,this.animationsChanged=!1,this.timeScale=1,this.trackEntryPool=new R.Pool(function(){return new A}),this.data=F}return N.prototype.update=function(F){F*=this.timeScale;for(var B=this.tracks,U=0,X=B.length,V;U<X;U++)if(V=B[U],null!=V){V.animationLast=V.nextAnimationLast,V.trackLast=V.nextTrackLast;var Y=F*V.timeScale;if(0<V.delay){if(V.delay-=Y,0<V.delay)continue;Y=-V.delay,V.delay=0}var G=V.next;if(null!=G){var Z=V.trackLast-G.delay;if(0<=Z){for(G.delay=0,G.trackTime=Z+F*G.timeScale,V.trackTime+=Y,this.setCurrent(U,G,!0);null!=G.mixingFrom;)G.mixTime+=Y,G=G.mixingFrom;continue}}else if(V.trackLast>=V.trackEnd&&null==V.mixingFrom){B[U]=null,this.queue.end(V),this.disposeNext(V);continue}this.updateMixingFrom(V,F),V.trackTime+=Y}this.queue.drain()},N.prototype.updateMixingFrom=function(F,B){var U=F.mixingFrom;if(null!=U)return this.updateMixingFrom(U,B),F.mixTime>=F.mixDuration&&null!=U.mixingFrom&&0<F.mixTime?(F.mixingFrom=null,void this.queue.end(U)):void(U.animationLast=U.nextAnimationLast,U.trackLast=U.nextTrackLast,U.trackTime+=B*U.timeScale,F.mixTime+=B*U.timeScale)},N.prototype.apply=function(F){if(null==F)throw new Error('skeleton cannot be null.');this.animationsChanged&&this._animationsChanged();for(var B=this.events,U=this.tracks,X=0,V=U.length,Y;X<V;X++)if(Y=U[X],!(null==Y||0<Y.delay)){var G=Y.alpha;null==Y.mixingFrom?Y.trackTime>=Y.trackEnd&&(G=0):G*=this.applyMixingFrom(Y,F);var Z=Y.animationLast,K=Y.getAnimationTime(),J=Y.animation.timelines.length,Q=Y.animation.timelines;if(1==G)for(var $=0;$<J;$++)Q[$].apply(F,Z,K,B,1,!0,!1);else{var te=0==Y.timelinesRotation.length;te&&R.Utils.setArraySize(Y.timelinesRotation,J<<1,null);for(var re=Y.timelinesRotation,ne=Y.timelinesFirst,$=0,oe;$<J;$++)oe=Q[$],oe instanceof R.RotateTimeline?this.applyRotateTimeline(oe,F,K,G,ne[$],re,$<<1,te):oe.apply(F,Z,K,B,G,ne[$],!1)}this.queueEvents(Y,K),B.length=0,Y.nextAnimationLast=K,Y.nextTrackLast=Y.trackTime}this.queue.drain()},N.prototype.applyMixingFrom=function(F,B){var U=F.mixingFrom;null!=U.mixingFrom&&this.applyMixingFrom(U,B);var X=0;0==F.mixDuration?X=1:(X=F.mixTime/F.mixDuration,1<X&&(X=1));var V=X<U.eventThreshold?this.events:null,Y=X<U.attachmentThreshold,G=X<U.drawOrderThreshold,Z=U.animationLast,K=U.getAnimationTime(),J=U.animation.timelines.length,Q=U.animation.timelines,$=U.timelinesFirst,te=U.alpha*F.mixAlpha*(1-X),re=0==U.timelinesRotation.length;re&&R.Utils.setArraySize(U.timelinesRotation,J<<1,null);for(var ne=U.timelinesRotation,oe=0;oe<J;oe++){var ie=Q[oe],se=$[oe];if(ie instanceof R.RotateTimeline)this.applyRotateTimeline(ie,B,K,te,se,ne,oe<<1,re);else{if(!se){if(!Y&&ie instanceof R.AttachmentTimeline)continue;if(!G&&ie instanceof R.DrawOrderTimeline)continue}ie.apply(B,Z,K,V,te,se,!0)}}return 0<F.mixDuration&&this.queueEvents(U,K),this.events.length=0,U.nextAnimationLast=K,U.nextTrackLast=U.trackTime,X},N.prototype.applyRotateTimeline=function(F,B,U,X,V,Y,G,Z){if(Z&&(Y[G]=0),1==X)return void F.apply(B,0,U,null,1,V,!1);var K=F,J=K.frames,Q=B.bones[K.boneIndex];if(U<J[0])return void(V&&(Q.rotation=Q.data.rotation));var $=0;if(U>=J[J.length-R.RotateTimeline.ENTRIES])$=Q.data.rotation+J[J.length+R.RotateTimeline.PREV_ROTATION];else{var te=R.Animation.binarySearch(J,U,R.RotateTimeline.ENTRIES),re=J[te+R.RotateTimeline.PREV_ROTATION],ne=J[te],oe=K.getCurvePercent((te>>1)-1,1-(U-ne)/(J[te+R.RotateTimeline.PREV_TIME]-ne));$=J[te+R.RotateTimeline.ROTATION]-re,$-=360*(16384-(0|16384.499999999996-$/360)),$=re+$*oe+Q.data.rotation,$-=360*(16384-(0|16384.499999999996-$/360))}var ie=V?Q.data.rotation:Q.rotation,se=0,le=$-ie;if(0==le)se=Y[G];else{le-=360*(16384-(0|16384.499999999996-le/360));var de=0,ue=0;Z?(de=0,ue=le):(de=Y[G],ue=Y[G+1]);var pe=0<le,ce=0<=de;R.MathUtils.signum(ue)!=R.MathUtils.signum(le)&&90>=_Mathabs(ue)&&(180<_Mathabs(de)&&(de+=360*R.MathUtils.signum(de)),ce=pe),se=le+de-de%360,ce!=pe&&(se+=360*R.MathUtils.signum(de)),Y[G]=se}Y[G+1]=le,ie+=se*X,Q.rotation=ie-360*(16384-(0|16384.499999999996-ie/360))},N.prototype.queueEvents=function(F,B){for(var U=F.animationStart,X=F.animationEnd,V=X-U,Y=F.trackLast%V,G=this.events,Z=0,K=G.length,J;Z<K&&(J=G[Z],!(J.time<Y));Z++)J.time>X||this.queue.event(F,J);for((F.loop?Y>F.trackTime%V:B>=X&&F.animationLast<X)&&this.queue.complete(F);Z<K;Z++){var Q=G[Z];Q.time<U||this.queue.event(F,G[Z])}},N.prototype.clearTracks=function(){var F=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var B=0,U=this.tracks.length;B<U;B++)this.clearTrack(B);this.tracks.length=0,this.queue.drainDisabled=F,this.queue.drain()},N.prototype.clearTrack=function(F){if(!(F>=this.tracks.length)){var B=this.tracks[F];if(null!=B){this.queue.end(B),this.disposeNext(B);for(var U=B,X;X=U.mixingFrom,null!=X;)this.queue.end(X),U.mixingFrom=null,U=X;this.tracks[B.trackIndex]=null,this.queue.drain()}}},N.prototype.setCurrent=function(F,B,U){var X=this.expandToIndex(F);this.tracks[F]=B,null!=X&&(U&&this.queue.interrupt(X),B.mixingFrom=X,B.mixTime=0,X.timelinesRotation.length=0,null!=X.mixingFrom&&0<X.mixDuration&&(B.mixAlpha*=_Mathmin(X.mixTime/X.mixDuration,1))),this.queue.start(B)},N.prototype.setAnimation=function(F,B,U){var X=this.data.skeletonData.findAnimation(B);if(null==X)throw new Error('Animation not found: '+B);return this.setAnimationWith(F,X,U)},N.prototype.setAnimationWith=function(F,B,U){if(null==B)throw new Error('animation cannot be null.');var X=!0,V=this.expandToIndex(F);null!=V&&(-1==V.nextTrackLast?(this.tracks[F]=V.mixingFrom,this.queue.interrupt(V),this.queue.end(V),this.disposeNext(V),V=V.mixingFrom,X=!1):this.disposeNext(V));var Y=this.trackEntry(F,B,U,V);return this.setCurrent(F,Y,X),this.queue.drain(),Y},N.prototype.addAnimation=function(F,B,U,X){var V=this.data.skeletonData.findAnimation(B);if(null==V)throw new Error('Animation not found: '+B);return this.addAnimationWith(F,V,U,X)},N.prototype.addAnimationWith=function(F,B,U,X){if(null==B)throw new Error('animation cannot be null.');var V=this.expandToIndex(F);if(null!=V)for(;null!=V.next;)V=V.next;var Y=this.trackEntry(F,B,U,V);if(null==V)this.setCurrent(F,Y,!0),this.queue.drain();else if(V.next=Y,0>=X){var G=V.animationEnd-V.animationStart;0==G?X=0:X+=G*(1+(0|V.trackTime/G))-this.data.getMix(V.animation,B)}return Y.delay=X,Y},N.prototype.setEmptyAnimation=function(F,B){var U=this.setAnimationWith(F,N.emptyAnimation,!1);return U.mixDuration=B,U.trackEnd=B,U},N.prototype.addEmptyAnimation=function(F,B,U){0>=U&&(U-=B);var X=this.addAnimationWith(F,N.emptyAnimation,!1,U);return X.mixDuration=B,X.trackEnd=B,X},N.prototype.setEmptyAnimations=function(F){var B=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var U=0,X=this.tracks.length,V;U<X;U++)V=this.tracks[U],null!=V&&this.setEmptyAnimation(V.trackIndex,F);this.queue.drainDisabled=B,this.queue.drain()},N.prototype.expandToIndex=function(F){return F<this.tracks.length?this.tracks[F]:(R.Utils.ensureArrayCapacity(this.tracks,F-this.tracks.length+1,null),this.tracks.length=F+1,null)},N.prototype.trackEntry=function(F,B,U,X){var V=this.trackEntryPool.obtain();return V.trackIndex=F,V.animation=B,V.loop=U,V.eventThreshold=0,V.attachmentThreshold=0,V.drawOrderThreshold=0,V.animationStart=0,V.animationEnd=B.duration,V.animationLast=-1,V.nextAnimationLast=-1,V.delay=0,V.trackTime=0,V.trackLast=-1,V.nextTrackLast=-1,V.trackEnd=_NumberMAX_VALUE,V.timeScale=1,V.alpha=1,V.mixAlpha=1,V.mixTime=0,V.mixDuration=null==X?0:this.data.getMix(X.animation,B),V},N.prototype.disposeNext=function(F){for(var B=F.next;null!=B;)this.queue.dispose(B),B=B.next;F.next=null},N.prototype._animationsChanged=function(){this.animationsChanged=!1;var F=this.propertyIDs,B=0,U=this.tracks.length;for(F.clear();B<U;B++){var X=this.tracks[B];if(null!=X){this.setTimelinesFirst(X),B++;break}}for(;B<U;B++){var X=this.tracks[B];null!=X&&this.checkTimelinesFirst(X)}},N.prototype.setTimelinesFirst=function(F){if(null!=F.mixingFrom)return this.setTimelinesFirst(F.mixingFrom),void this.checkTimelinesUsage(F,F.timelinesFirst);for(var B=this.propertyIDs,U=F.animation.timelines,X=U.length,V=R.Utils.setArraySize(F.timelinesFirst,X,!1),Y=0;Y<X;Y++)B.add(U[Y].getPropertyId()),V[Y]=!0},N.prototype.checkTimelinesFirst=function(F){null!=F.mixingFrom&&this.checkTimelinesFirst(F.mixingFrom),this.checkTimelinesUsage(F,F.timelinesFirst)},N.prototype.checkTimelinesUsage=function(F,B){for(var U=this.propertyIDs,X=F.animation.timelines,V=X.length,Y=R.Utils.setArraySize(B,V),G=0;G<V;G++)Y[G]=U.add(X[G].getPropertyId())},N.prototype.getCurrent=function(F){return F>=this.tracks.length?null:this.tracks[F]},N.prototype.addListener=function(F){if(null==F)throw new Error('listener cannot be null.');this.listeners.push(F)},N.prototype.removeListener=function(F){var B=this.listeners.indexOf(F);0<=B&&this.listeners.splice(B,1)},N.prototype.clearListeners=function(){this.listeners.length=0},N.prototype.clearListenerNotifications=function(){this.queue.clear()},N.prototype.setAnimationByName=function(F,B,U){N.deprecatedWarning1||(N.deprecatedWarning1=!0,console.warn('Deprecation Warning: AnimationState.setAnimationByName is deprecated, please use setAnimation from now on.')),this.setAnimation(F,B,U)},N.prototype.addAnimationByName=function(F,B,U,X){N.deprecatedWarning2||(N.deprecatedWarning2=!0,console.warn('Deprecation Warning: AnimationState.addAnimationByName is deprecated, please use addAnimation from now on.')),this.addAnimation(F,B,U,X)},N.prototype.hasAnimation=function(F){var B=this.data.skeletonData.findAnimation(F);return null!==B},N.prototype.hasAnimationByName=function(F){return N.deprecatedWarning3||(N.deprecatedWarning3=!0,console.warn('Deprecation Warning: AnimationState.hasAnimationByName is deprecated, please use hasAnimation from now on.')),this.hasAnimation(F)},N}();I.emptyAnimation=new R.Animation('<empty>',[],0),I.deprecatedWarning1=!1,I.deprecatedWarning2=!1,I.deprecatedWarning3=!1,R.AnimationState=I;var A=function(){function N(){this.timelinesFirst=[],this.timelinesRotation=[]}return N.prototype.reset=function(){this.next=null,this.mixingFrom=null,this.animation=null,this.listener=null,this.timelinesFirst.length=0,this.timelinesRotation.length=0},N.prototype.getAnimationTime=function(){if(this.loop){var F=this.animationEnd-this.animationStart;return 0==F?this.animationStart:this.trackTime%F+this.animationStart}return _Mathmin(this.trackTime+this.animationStart,this.animationEnd)},N.prototype.setAnimationLast=function(F){this.animationLast=F,this.nextAnimationLast=F},N.prototype.isComplete=function(){return this.trackTime>=this.animationEnd-this.animationStart},N.prototype.resetRotationDirections=function(){this.timelinesRotation.length=0},Object.defineProperty(N.prototype,'time',{get:function(){return N.deprecatedWarning1||(N.deprecatedWarning1=!0,console.warn('Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.')),this.trackTime},set:function(F){N.deprecatedWarning1||(N.deprecatedWarning1=!0,console.warn('Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.')),this.trackTime=F},enumerable:!0,configurable:!0}),Object.defineProperty(N.prototype,'endTime',{get:function(){return N.deprecatedWarning2||(N.deprecatedWarning2=!0,console.warn('Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.')),this.trackTime},set:function(F){N.deprecatedWarning2||(N.deprecatedWarning2=!0,console.warn('Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.')),this.trackTime=F},enumerable:!0,configurable:!0}),N.prototype.loopsCount=function(){return _Mathfloor(this.trackTime/this.trackEnd)},N}();A.deprecatedWarning1=!1,A.deprecatedWarning2=!1,R.TrackEntry=A;var O=function(){function N(F){this.objects=[],this.drainDisabled=!1,this.animState=F}return N.prototype.start=function(F){this.objects.push(D.start),this.objects.push(F),this.animState.animationsChanged=!0},N.prototype.interrupt=function(F){this.objects.push(D.interrupt),this.objects.push(F)},N.prototype.end=function(F){this.objects.push(D.end),this.objects.push(F),this.animState.animationsChanged=!0},N.prototype.dispose=function(F){this.objects.push(D.dispose),this.objects.push(F)},N.prototype.complete=function(F){this.objects.push(D.complete),this.objects.push(F)},N.prototype.event=function(F,B){this.objects.push(D.event),this.objects.push(F),this.objects.push(B)},N.prototype.deprecateStuff=function(){return N.deprecatedWarning1||(N.deprecatedWarning1=!0,console.warn('Deprecation Warning: onComplete, onStart, onEnd, onEvent art deprecated, please use listeners from now on. \'state.addListener({ complete: function(track, event) { } })\'')),!0},N.prototype.drain=function(){if(!this.drainDisabled){this.drainDisabled=!0;for(var F=this.objects,B=this.animState.listeners,U=0;U<F.length;U+=2){var X=F[U],V=F[U+1];switch(X){case D.start:null!=V.listener&&V.listener.start&&V.listener.start(V);for(var Y=0;Y<B.length;Y++)B[Y].start&&B[Y].start(V);V.onStart&&this.deprecateStuff()&&V.onStart(V.trackIndex),this.animState.onStart&&this.deprecateStuff()&&this.deprecateStuff&&this.animState.onStart(V.trackIndex);break;case D.interrupt:null!=V.listener&&V.listener.interrupt&&V.listener.interrupt(V);for(var Y=0;Y<B.length;Y++)B[Y].interrupt&&B[Y].interrupt(V);break;case D.end:null!=V.listener&&V.listener.end&&V.listener.end(V);for(var Y=0;Y<B.length;Y++)B[Y].end&&B[Y].end(V);V.onEnd&&this.deprecateStuff()&&V.onEnd(V.trackIndex),this.animState.onEnd&&this.deprecateStuff()&&this.animState.onEnd(V.trackIndex);case D.dispose:null!=V.listener&&V.listener.dispose&&V.listener.dispose(V);for(var Y=0;Y<B.length;Y++)B[Y].dispose&&B[Y].dispose(V);this.animState.trackEntryPool.free(V);break;case D.complete:null!=V.listener&&V.listener.complete&&V.listener.complete(V);for(var Y=0;Y<B.length;Y++)B[Y].complete&&B[Y].complete(V);var G=R.MathUtils.toInt(V.loopsCount());V.onComplete&&this.deprecateStuff()&&V.onComplete(V.trackIndex,G),this.animState.onComplete&&this.deprecateStuff()&&this.animState.onComplete(V.trackIndex,G);break;case D.event:var Z=F[U++ +2];null!=V.listener&&V.listener.event&&V.listener.event(V,Z);for(var Y=0;Y<B.length;Y++)B[Y].event&&B[Y].event(V,Z);V.onEvent&&this.deprecateStuff()&&V.onEvent(V.trackIndex,Z),this.animState.onEvent&&this.deprecateStuff()&&this.animState.onEvent(V.trackIndex,Z);}}this.clear(),this.drainDisabled=!1}},N.prototype.clear=function(){this.objects.length=0},N}();O.deprecatedWarning1=!1,R.EventQueue=O;var D;(function(N){N[N.start=0]='start',N[N.interrupt=1]='interrupt',N[N.end=2]='end',N[N.dispose=3]='dispose',N[N.complete=4]='complete',N[N.event=5]='event'})(D=R.EventType||(R.EventType={}));var L=function(){function N(){}return N.prototype.start=function(){},N.prototype.interrupt=function(){},N.prototype.end=function(){},N.prototype.dispose=function(){},N.prototype.complete=function(){},N.prototype.event=function(){},N}();R.AnimationStateAdapter2=L})(C=M.core||(M.core={}))}(P||(P={})),function(M){var C;(function(R){var I=function(){function A(O){if(this.animationToMixTime={},this.defaultMix=0,null==O)throw new Error('skeletonData cannot be null.');this.skeletonData=O}return A.prototype.setMix=function(O,D,L){var N=this.skeletonData.findAnimation(O);if(null==N)throw new Error('Animation not found: '+O);var F=this.skeletonData.findAnimation(D);if(null==F)throw new Error('Animation not found: '+D);this.setMixWith(N,F,L)},A.prototype.setMixByName=function(O,D,L){A.deprecatedWarning1||(A.deprecatedWarning1=!0,console.warn('Deprecation Warning: AnimationStateData.setMixByName is deprecated, please use setMix from now on.')),this.setMix(O,D,L)},A.prototype.setMixWith=function(O,D,L){if(null==O)throw new Error('from cannot be null.');if(null==D)throw new Error('to cannot be null.');var N=O.name+D.name;this.animationToMixTime[N]=L},A.prototype.getMix=function(O,D){var L=O.name+D.name,N=this.animationToMixTime[L];return void 0===N?this.defaultMix:N},A}();I.deprecatedWarning1=!1,R.AnimationStateData=I})(C=M.core||(M.core={}))}(P||(P={})),function(M){var C;(function(R){var I=function(){function A(O){this.atlas=O}return A.prototype.newRegionAttachment=function(O,D,L){var N=this.atlas.findRegion(L);if(null==N)throw new Error('Region not found in atlas: '+L+' (region attachment: '+D+')');var F=new R.RegionAttachment(D);return F.region=N,F},A.prototype.newMeshAttachment=function(O,D,L){var N=this.atlas.findRegion(L);if(null==N)throw new Error('Region not found in atlas: '+L+' (mesh attachment: '+D+')');var F=new R.MeshAttachment(D);return F.region=N,F},A.prototype.newBoundingBoxAttachment=function(O,D){return new R.BoundingBoxAttachment(D)},A.prototype.newPathAttachment=function(O,D){return new R.PathAttachment(D)},A}();R.AtlasAttachmentLoader=I})(C=M.core||(M.core={}))}(P||(P={})),function(M){var C;(function(R){var I=function(){return function(D){if(null==D)throw new Error('name cannot be null.');this.name=D}}();R.Attachment=I;var A=function(O){function D(L){var N=O.call(this,L)||this;return N.worldVerticesLength=0,N}return S(D,O),D.prototype.computeWorldVertices=function(L,N){this.computeWorldVerticesWith(L,0,this.worldVerticesLength,N,0)},D.prototype.computeWorldVerticesWith=function(L,N,F,B,U){F+=U;var X=L.bone.skeleton,V=L.attachmentVertices,Y=this.vertices,G=this.bones;if(null==G){0<V.length&&(Y=V);for(var Z=L.bone,K=Z.matrix,J=K.tx,Q=K.ty,$=K.a,te=K.c,re=K.b,ne=K.d,oe=N,ie=U;ie<F;oe+=2,ie+=2){var se=Y[oe],le=Y[oe+1];B[ie]=se*$+le*te+J,B[ie+1]=se*re+le*ne+Q}return}for(var de=0,ue=0,pe=0,ce;pe<N;pe+=2)ce=G[de],de+=ce+1,ue+=ce;var fe=X.bones;if(0==V.length)for(var ie=U,te=3*ue;ie<F;ie+=2){var he=0,me=0,ce=G[de++];for(ce+=de;de<ce;de++,te+=3){var Z=fe[G[de]],K=Z.matrix,se=Y[te],le=Y[te+1],ge=Y[te+2];he+=(se*K.a+le*K.c+K.tx)*ge,me+=(se*K.b+le*K.d+K.ty)*ge}B[ie]=he,B[ie+1]=me}else for(var _e=V,ie=U,te=3*ue,be=ue<<1;ie<F;ie+=2){var he=0,me=0,ce=G[de++];for(ce+=de;de<ce;de++,te+=3,be+=2){var Z=fe[G[de]],K=Z.matrix,se=Y[te]+_e[be],le=Y[te+1]+_e[be+1],ge=Y[te+2];he+=(se*K.a+le*K.c+K.tx)*ge,me+=(se*K.b+le*K.d+K.ty)*ge}B[ie]=he,B[ie+1]=me}},D.prototype.applyDeform=function(L){return this==L},D}(I);R.VertexAttachment=A})(C=M.core||(M.core={}))}(P||(P={})),function(M){var C;(function(R){var I;(function(A){A[A.Region=0]='Region',A[A.BoundingBox=1]='BoundingBox',A[A.Mesh=2]='Mesh',A[A.LinkedMesh=3]='LinkedMesh',A[A.Path=4]='Path'})(I=R.AttachmentType||(R.AttachmentType={}))})(C=M.core||(M.core={}))}(P||(P={})),function(M){var C;(function(R){var I=function(A){function O(D){var L=A.call(this,D)||this;return L.color=new R.Color(1,1,1,1),L}return S(O,A),O}(R.VertexAttachment);R.BoundingBoxAttachment=I})(C=M.core||(M.core={}))}(P||(P={})),function(M){var C;(function(R){var I=function(A){function O(D){var L=A.call(this,D)||this;return L.color=new R.Color(1,1,1,1),L.inheritDeform=!1,L.tempColor=new R.Color(0,0,0,0),L}return S(O,A),O.prototype.updateWorldVertices=function(){return[]},O.prototype.updateUVs=function(D,L){var N=this.regionUVs,F=N.length;if(L&&L.length==F||(L=R.Utils.newFloatArray(F)),null!=D){for(var B=D.texture,U=B._uvs,X=D.width,V=D.height,Y=D.originalWidth,G=D.originalHeight,Z=D.offsetX,K=D.pixiOffsetY,J=0;J<F;J+=2){var Q=this.regionUVs[J],$=this.regionUVs[J+1];Q=(Q*Y-Z)/X,$=($*G-K)/V,L[J]=(U.x0*(1-Q)+U.x1*Q)*(1-$)+(U.x3*(1-Q)+U.x2*Q)*$,L[J+1]=(U.y0*(1-Q)+U.y1*Q)*(1-$)+(U.y3*(1-Q)+U.y2*Q)*$}return L}},O.prototype.applyDeform=function(D){return this==D||this.inheritDeform&&this.parentMesh==D},O.prototype.getParentMesh=function(){return this.parentMesh},O.prototype.setParentMesh=function(D){this.parentMesh=D,null!=D&&(this.bones=D.bones,this.vertices=D.vertices,this.regionUVs=D.regionUVs,this.triangles=D.triangles,this.hullLength=D.hullLength,this.worldVerticesLength=D.worldVerticesLength)},O}(R.VertexAttachment);R.MeshAttachment=I})(C=M.core||(M.core={}))}(P||(P={})),function(M){var C;(function(R){var I=function(A){function O(D){var L=A.call(this,D)||this;return L.closed=!1,L.constantSpeed=!1,L.color=new R.Color(1,1,1,1),L}return S(O,A),O}(R.VertexAttachment);R.PathAttachment=I})(C=M.core||(M.core={}))}(P||(P={})),function(M){var C;(function(R){var I=function(A){function O(D){var L=A.call(this,D)||this;return L.x=0,L.y=0,L.scaleX=1,L.scaleY=1,L.rotation=0,L.width=0,L.height=0,L.color=new R.Color(1,1,1,1),L}return S(O,A),O.prototype.updateWorldVertices=function(){return[]},O}(R.Attachment);R.RegionAttachment=I})(C=M.core||(M.core={}))}(P||(P={})),function(M){var C;(function(R){var I;(function(A){A[A.Normal=0]='Normal',A[A.Additive=1]='Additive',A[A.Multiply=2]='Multiply',A[A.Screen=3]='Screen'})(I=R.BlendMode||(R.BlendMode={}))})(C=M.core||(M.core={}))}(P||(P={})),function(M){var C;(function(R){var I=function(){function A(O,D,L){if(this.matrix=new PIXI.Matrix,this.children=[],this.x=0,this.y=0,this.rotation=0,this.scaleX=0,this.scaleY=0,this.shearX=0,this.shearY=0,this.ax=0,this.ay=0,this.arotation=0,this.ascaleX=0,this.ascaleY=0,this.ashearX=0,this.ashearY=0,this.appliedValid=!1,this.sorted=!1,null==O)throw new Error('data cannot be null.');if(null==D)throw new Error('skeleton cannot be null.');this.data=O,this.skeleton=D,this.parent=L,this.setToSetupPose()}return Object.defineProperty(A.prototype,'worldX',{get:function(){return this.matrix.tx},enumerable:!0,configurable:!0}),Object.defineProperty(A.prototype,'worldY',{get:function(){return this.matrix.ty},enumerable:!0,configurable:!0}),A.prototype.update=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},A.prototype.updateWorldTransform=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},A.prototype.updateWorldTransformWith=function(O,D,L,N,F,B,U){this.ax=O,this.ay=D,this.arotation=L,this.ascaleX=N,this.ascaleY=F,this.ashearX=B,this.ashearY=U,this.appliedValid=!0;var X=this.parent,V=this.matrix;if(null==X){var Y=L+90+U,G=R.MathUtils.cosDeg(L+B)*N,Z=R.MathUtils.cosDeg(Y)*F,K=R.MathUtils.sinDeg(L+B)*N,J=R.MathUtils.sinDeg(Y)*F,Q=this.skeleton;return Q.flipX&&(O=-O,G=-G,Z=-Z),Q.flipY!==A.yDown&&(D=-D,K=-K,J=-J),V.a=G,V.c=Z,V.b=K,V.d=J,V.tx=O+Q.x,void(V.ty=D+Q.y)}var $=X.matrix.a,te=X.matrix.c,re=X.matrix.b,ne=X.matrix.d;switch(V.tx=$*O+te*D+X.matrix.tx,V.ty=re*O+ne*D+X.matrix.ty,this.data.transformMode){case R.TransformMode.Normal:{var Y=L+90+U,G=R.MathUtils.cosDeg(L+B)*N,Z=R.MathUtils.cosDeg(Y)*F,K=R.MathUtils.sinDeg(L+B)*N,J=R.MathUtils.sinDeg(Y)*F;return V.a=$*G+te*K,V.c=$*Z+te*J,V.b=re*G+ne*K,void(V.d=re*Z+ne*J)}case R.TransformMode.OnlyTranslation:{var Y=L+90+U;V.a=R.MathUtils.cosDeg(L+B)*N,V.c=R.MathUtils.cosDeg(Y)*F,V.b=R.MathUtils.sinDeg(L+B)*N,V.d=R.MathUtils.sinDeg(Y)*F;break}case R.TransformMode.NoRotationOrReflection:{var oe=$*$+re*re,ie=0;1e-4<oe?(oe=_Mathabs($*ne-te*re)/oe,te=re*oe,ne=$*oe,ie=_Mathatan(re,$)*R.MathUtils.radDeg):($=0,re=0,ie=90-_Mathatan(ne,te)*R.MathUtils.radDeg);var se=L+B-ie,le=L+U-ie+90,G=R.MathUtils.cosDeg(se)*N,Z=R.MathUtils.cosDeg(le)*F,K=R.MathUtils.sinDeg(se)*N,J=R.MathUtils.sinDeg(le)*F;V.a=$*G-te*K,V.c=$*Z-te*J,V.b=re*G+ne*K,V.d=re*Z+ne*J;break}case R.TransformMode.NoScale:case R.TransformMode.NoScaleOrReflection:{var de=R.MathUtils.cosDeg(L),ue=R.MathUtils.sinDeg(L),pe=$*de+te*ue,ce=re*de+ne*ue,oe=_Mathsqrt(pe*pe+ce*ce);1e-5<oe&&(oe=1/oe),pe*=oe,ce*=oe,oe=_Mathsqrt(pe*pe+ce*ce);var fe=_MathPI/2+_Mathatan(ce,pe),he=_Mathcos(fe)*oe,me=_Mathsin(fe)*oe,G=R.MathUtils.cosDeg(B)*N,Z=R.MathUtils.cosDeg(90+U)*F,K=R.MathUtils.sinDeg(B)*N,J=R.MathUtils.sinDeg(90+U)*F;return V.a=pe*G+he*K,V.c=pe*Z+he*J,V.b=ce*G+me*K,V.d=ce*Z+me*J,void((this.data.transformMode==R.TransformMode.NoScaleOrReflection?this.skeleton.flipX!=this.skeleton.flipY!=A.yDown:0>$*ne-te*re)&&(V.c=-V.c,V.d=-V.d))}}this.skeleton.flipX&&(V.a=-V.a,V.c=-V.c),this.skeleton.flipY!=A.yDown&&(V.b=-V.b,V.d=-V.d)},A.prototype.setToSetupPose=function(){var O=this.data;this.x=O.x,this.y=O.y,this.rotation=O.rotation,this.scaleX=O.scaleX,this.scaleY=O.scaleY,this.shearX=O.shearX,this.shearY=O.shearY},A.prototype.getWorldRotationX=function(){return _Mathatan(this.matrix.b,this.matrix.a)*R.MathUtils.radDeg},A.prototype.getWorldRotationY=function(){return _Mathatan(this.matrix.d,this.matrix.c)*R.MathUtils.radDeg},A.prototype.getWorldScaleX=function(){var O=this.matrix;return _Mathsqrt(O.a*O.a+O.c*O.c)},A.prototype.getWorldScaleY=function(){var O=this.matrix;return _Mathsqrt(O.b*O.b+O.d*O.d)},A.prototype.worldToLocalRotationX=function(){var O=this.parent;if(null==O)return this.arotation;var D=O.matrix,L=this.matrix;return _Mathatan(D.a*L.b-D.b*L.a,D.d*L.a-D.c*L.b)*R.MathUtils.radDeg},A.prototype.worldToLocalRotationY=function(){var O=this.parent;if(null==O)return this.arotation;var D=O.matrix,L=this.matrix;return _Mathatan(D.a*L.d-D.b*L.c,D.d*L.c-D.c*L.d)*R.MathUtils.radDeg},A.prototype.rotateWorld=function(O){var D=this.matrix,L=this.matrix.a,N=D.c,F=D.b,B=D.d,U=R.MathUtils.cosDeg(O),X=R.MathUtils.sinDeg(O);D.a=U*L-X*F,D.c=U*N-X*B,D.b=X*L+U*F,D.d=X*N+U*B,this.appliedValid=!1},A.prototype.updateAppliedTransform=function(){this.appliedValid=!0;var O=this.parent,D=this.matrix;if(null==O)return this.ax=D.tx,this.ay=D.ty,this.arotation=_Mathatan(D.b,D.a)*R.MathUtils.radDeg,this.ascaleX=_Mathsqrt(D.a*D.a+D.b*D.b),this.ascaleY=_Mathsqrt(D.c*D.c+D.d*D.d),this.ashearX=0,void(this.ashearY=_Mathatan(D.a*D.c+D.b*D.d,D.a*D.d-D.b*D.c)*R.MathUtils.radDeg);var L=O.matrix,N=1/(L.a*L.d-L.b*L.c),F=D.tx-L.tx,B=D.ty-L.ty;this.ax=F*L.d*N-B*L.c*N,this.ay=B*L.a*N-F*L.b*N;var U=N*L.d,X=N*L.a,V=N*L.c,Y=N*L.b,G=U*D.a-V*D.b,Z=U*D.c-V*D.d,K=X*D.b-Y*D.a,J=X*D.d-Y*D.c;if(this.ashearX=0,this.ascaleX=_Mathsqrt(G*G+K*K),1e-4<this.ascaleX){var Q=G*J-Z*K;this.ascaleY=Q/this.ascaleX,this.ashearY=_Mathatan(G*Z+K*J,Q)*R.MathUtils.radDeg,this.arotation=_Mathatan(K,G)*R.MathUtils.radDeg}else this.ascaleX=0,this.ascaleY=_Mathsqrt(Z*Z+J*J),this.ashearY=0,this.arotation=90-_Mathatan(J,Z)*R.MathUtils.radDeg},A.prototype.worldToLocal=function(O){var D=this.matrix,L=D.a,N=D.c,F=D.b,B=D.d,U=1/(L*B-N*F),X=O.x-D.tx,V=O.y-D.ty;return O.x=X*B*U-V*N*U,O.y=V*L*U-X*F*U,O},A.prototype.localToWorld=function(O){var D=this.matrix,L=O.x,N=O.y;return O.x=L*D.a+N*D.c+D.tx,O.y=L*D.b+N*D.d+D.ty,O},A}();I.yDown=!1,R.Bone=I})(C=M.core||(M.core={}))}(P||(P={})),function(M){var C;(function(R){var I=function(){return function(D,L,N){if(this.x=0,this.y=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.shearX=0,this.shearY=0,this.transformMode=A.Normal,0>D)throw new Error('index must be >= 0.');if(null==L)throw new Error('name cannot be null.');this.index=D,this.name=L,this.parent=N}}();R.BoneData=I;var A;(function(O){O[O.Normal=0]='Normal',O[O.OnlyTranslation=1]='OnlyTranslation',O[O.NoRotationOrReflection=2]='NoRotationOrReflection',O[O.NoScale=3]='NoScale',O[O.NoScaleOrReflection=4]='NoScaleOrReflection'})(A=R.TransformMode||(R.TransformMode={}))})(C=M.core||(M.core={}))}(P||(P={})),function(M){var C;(function(R){var I=function(){return function(O,D){if(null==D)throw new Error('data cannot be null.');this.time=O,this.data=D}}();R.Event=I})(C=M.core||(M.core={}))}(P||(P={})),function(M){var C;(function(R){var I=function(){return function(O){this.name=O}}();R.EventData=I})(C=M.core||(M.core={}))}(P||(P={})),function(M){var C;(function(R){var I=function(){function A(O,D){if(this.mix=1,this.bendDirection=0,this.level=0,null==O)throw new Error('data cannot be null.');if(null==D)throw new Error('skeleton cannot be null.');this.data=O,this.mix=O.mix,this.bendDirection=O.bendDirection,this.bones=[];for(var L=0;L<O.bones.length;L++)this.bones.push(D.findBone(O.bones[L].name));this.target=D.findBone(O.target.name)}return A.prototype.getOrder=function(){return this.data.order},A.prototype.apply=function(){this.update()},A.prototype.update=function(){var O=this.target,D=this.bones;switch(D.length){case 1:this.apply1(D[0],O.worldX,O.worldY,this.mix);break;case 2:this.apply2(D[0],D[1],O.worldX,O.worldY,this.bendDirection,this.mix);}},A.prototype.apply1=function(O,D,L,N){O.appliedValid||O.updateAppliedTransform();var F=O.parent.matrix,B=1/(F.a*F.d-F.b*F.c),U=D-F.tx,X=L-F.ty,V=(U*F.d-X*F.c)*B-O.ax,Y=(X*F.a-U*F.b)*B-O.ay,G=_Mathatan(Y,V)*R.MathUtils.radDeg-O.ashearX-O.arotation;0>O.ascaleX&&(G+=180),180<G?G-=360:-180>G&&(G+=360),O.updateWorldTransformWith(O.ax,O.ay,O.arotation+G*N,O.ascaleX,O.ascaleY,O.ashearX,O.ashearY)},A.prototype.apply2=function(O,D,L,N,F,B){if(0==B)return void D.updateWorldTransform();O.appliedValid||O.updateAppliedTransform(),D.appliedValid||D.updateAppliedTransform();var U=O.ax,X=O.ay,V=O.ascaleX,Y=O.ascaleY,G=D.ascaleX,Z=0,K=0,J=0;0>V?(V=-V,Z=180,J=-1):(Z=0,J=1),0>Y&&(Y=-Y,J=-J),0>G?(G=-G,K=180):K=0;var Q=O.matrix,$=D.ax,te=0,re=0,ne=0,oe=Q.a,ie=Q.c,se=Q.b,le=Q.d,de=1e-4>=_Mathabs(V-Y);de?(te=D.ay,re=oe*$+ie*te+Q.tx,ne=se*$+le*te+Q.ty):(te=0,re=oe*$+Q.tx,ne=se*$+Q.ty);var ue=O.parent,pe=O.parent.matrix;oe=pe.a,ie=pe.c,se=pe.b,le=pe.d;var ce=1/(oe*le-ie*se),fe=L-pe.tx,he=N-pe.ty,me=(fe*le-he*ie)*ce-U,ge=(he*oe-fe*se)*ce-X;fe=re-pe.tx,he=ne-pe.ty;var _e=(fe*le-he*ie)*ce-U,be=(he*oe-fe*se)*ce-X,Te=_Mathsqrt(_e*_e+be*be),ve=D.data.length*G,Ee=0,Se=0;outer:if(de){ve*=V;var Pe=(me*me+ge*ge-Te*Te-ve*ve)/(2*Te*ve);-1>Pe?Pe=-1:1<Pe&&(Pe=1),Se=_Mathacos(Pe)*F,oe=Te+ve*Pe,ie=ve*_Mathsin(Se),Ee=_Mathatan(ge*oe-me*ie,me*oe+ge*ie)}else{oe=V*ve,ie=Y*ve;var Me=oe*oe,Ce=ie*ie,Re=me*me+ge*ge,Ie=_Mathatan(ge,me);se=Ce*Te*Te+Me*Re-Me*Ce;var Ae=-2*Ce*Te,Oe=Ce-Me;if(le=Ae*Ae-4*Oe*se,0<=le){var De=_Mathsqrt(le);0>Ae&&(De=-De),De=-(Ae+De)/2;var we=De/Oe,ke=se/De,Le=_Mathabs(we)<_Mathabs(ke)?we:ke;if(Le*Le<=Re){he=_Mathsqrt(Re-Le*Le)*F,Ee=Ie-_Mathatan(he,Le),Se=_Mathatan(he/Y,(Le-Te)/V);break outer}}var Ne=0,Fe=_NumberMAX_VALUE,Be=0,Ue=0,Xe=0,Ve=0,We=0,Ye=0;fe=Te+oe,le=fe*fe,le>Ve&&(Xe=0,Ve=le,We=fe),fe=Te-oe,le=fe*fe,le<Fe&&(Ne=R.MathUtils.PI,Fe=le,Be=fe);var je=_Mathacos(-oe*Te/(Me-Ce));fe=oe*_Mathcos(je)+Te,he=ie*_Mathsin(je),le=fe*fe+he*he,le<Fe&&(Ne=je,Fe=le,Be=fe,Ue=he),le>Ve&&(Xe=je,Ve=le,We=fe,Ye=he),Re<=(Fe+Ve)/2?(Ee=Ie-_Mathatan(Ue*F,Be),Se=Ne*F):(Ee=Ie-_Mathatan(Ye*F,We),Se=Xe*F)}var Ge=_Mathatan(te,$)*J,He=O.arotation;Ee=(Ee-Ge)*R.MathUtils.radDeg+Z-He,180<Ee?Ee-=360:-180>Ee&&(Ee+=360),O.updateWorldTransformWith(U,X,He+Ee*B,O.ascaleX,O.ascaleY,0,0),He=D.arotation,Se=((Se+Ge)*R.MathUtils.radDeg-D.ashearX)*J+K-He,180<Se?Se-=360:-180>Se&&(Se+=360),D.updateWorldTransformWith($,te,He+Se*B,D.ascaleX,D.ascaleY,D.ashearX,D.ashearY)},A}();R.IkConstraint=I})(C=M.core||(M.core={}))}(P||(P={})),function(M){var C;(function(R){var I=function(){return function(O){this.order=0,this.bones=[],this.bendDirection=1,this.mix=1,this.name=O}}();R.IkConstraintData=I})(C=M.core||(M.core={}))}(P||(P={})),function(M){var C;(function(R){var I=function(){function A(O,D){if(this.position=0,this.spacing=0,this.rotateMix=0,this.translateMix=0,this.spaces=[],this.positions=[],this.world=[],this.curves=[],this.lengths=[],this.segments=[],null==O)throw new Error('data cannot be null.');if(null==D)throw new Error('skeleton cannot be null.');this.data=O,this.bones=[];for(var L=0,N=O.bones.length;L<N;L++)this.bones.push(D.findBone(O.bones[L].name));this.target=D.findSlot(O.target.name),this.position=O.position,this.spacing=O.spacing,this.rotateMix=O.rotateMix,this.translateMix=O.translateMix}return A.prototype.apply=function(){this.update()},A.prototype.update=function(){var O=this.target.getAttachment();if(O instanceof R.PathAttachment){var D=this.rotateMix,L=this.translateMix,F=0<D;if(0<L||F){var B=this.data,U=B.spacingMode,X=U==R.SpacingMode.Length,V=B.rotateMode,Y=V==R.RotateMode.Tangent,G=V==R.RotateMode.ChainScale,Z=this.bones.length,K=Y?Z:Z+1,J=this.bones,Q=R.Utils.setArraySize(this.spaces,K),$=null,te=this.spacing;if(G||X){G&&($=R.Utils.setArraySize(this.lengths,Z));for(var re=0;re<K-1;){var oe=J[re],ie=oe.matrix,se=oe.data.length,le=se*ie.a,de=se*ie.b;se=_Mathsqrt(le*le+de*de),G&&($[re]=se),Q[++re]=X?_Mathmax(0,se+te):te}}else for(var re=1;re<K;re++)Q[re]=te;var ue=this.computeWorldPositions(O,K,Y,B.positionMode==R.PositionMode.Percent,U==R.SpacingMode.Percent),pe=ue[0],ce=ue[1],fe=B.offsetRotation,he=!1;if(0==fe)he=V==R.RotateMode.Chain;else{he=!1;var me=this.target.bone.matrix;fe*=0<me.a*me.d-me.b*me.c?R.MathUtils.degRad:-R.MathUtils.degRad}for(var re=0,ge=3;re<Z;re++,ge+=3){var oe=J[re],ie=oe.matrix;ie.tx+=(pe-ie.tx)*L,ie.ty+=(ce-ie.ty)*L;var le=ue[ge],de=ue[ge+1],_e=le-pe,be=de-ce;if(G){var Te=$[re];if(0!=Te){var ve=(_Mathsqrt(_e*_e+be*be)/Te-1)*D+1;ie.a*=ve,ie.b*=ve}}if(pe=le,ce=de,F){var Ee=ie.a,Se=ie.c,Pe=ie.b,Me=ie.d,Ce=0,Re=0,Ie=0;if(Ce=Y?ue[ge-1]:0==Q[re+1]?ue[ge+2]:_Mathatan(be,_e),Ce-=_Mathatan(Pe,Ee),he){Re=_Mathcos(Ce),Ie=_Mathsin(Ce);var Ae=oe.data.length;pe+=(Ae*(Re*Ee-Ie*Pe)-_e)*D,ce+=(Ae*(Ie*Ee+Re*Pe)-be)*D}else Ce+=fe;Ce>R.MathUtils.PI?Ce-=R.MathUtils.PI2:Ce<-R.MathUtils.PI&&(Ce+=R.MathUtils.PI2),Ce*=D,Re=_Mathcos(Ce),Ie=_Mathsin(Ce),ie.a=Re*Ee-Ie*Pe,ie.c=Re*Se-Ie*Me,ie.b=Ie*Ee+Re*Pe,ie.d=Ie*Se+Re*Me}oe.appliedValid=!1}}}},A.prototype.computeWorldPositions=function(O,D,L,N,F){var B=this.target,U=this.position,X=this.spaces,V=R.Utils.setArraySize(this.positions,3*D+2),Y=null,G=O.closed,Z=O.worldVerticesLength,K=Z/6,J=A.NONE;if(!O.constantSpeed){var Q=O.lengths;K-=G?1:2;var $=Q[K];if(N&&(U*=$),F)for(var te=0;te<D;te++)X[te]*=$;Y=R.Utils.setArraySize(this.world,8);for(var te=0,re=0,ne=0,oe;te<D;te++,re+=3){oe=X[te],U+=oe;var ie=U;if(G)ie%=$,0>ie&&(ie+=$),ne=0;else if(0>ie){J!=A.BEFORE&&(J=A.BEFORE,O.computeWorldVerticesWith(B,2,4,Y,0)),this.addBeforePosition(ie,Y,0,V,re);continue}else if(ie>$){J!=A.AFTER&&(J=A.AFTER,O.computeWorldVerticesWith(B,Z-6,4,Y,0)),this.addAfterPosition(ie-$,Y,0,V,re);continue}for(;;ne++){var se=Q[ne];if(!(ie>se)){if(0==ne)ie/=se;else{var le=Q[ne-1];ie=(ie-le)/(se-le)}break}}ne!=J&&(J=ne,G&&ne==K?(O.computeWorldVerticesWith(B,Z-4,4,Y,0),O.computeWorldVerticesWith(B,0,4,Y,4)):O.computeWorldVerticesWith(B,6*ne+2,8,Y,0)),this.addCurvePosition(ie,Y[0],Y[1],Y[2],Y[3],Y[4],Y[5],Y[6],Y[7],V,re,L||0<te&&0==oe)}return V}G?(Z+=2,Y=R.Utils.setArraySize(this.world,Z),O.computeWorldVerticesWith(B,2,Z-4,Y,0),O.computeWorldVerticesWith(B,0,2,Y,Z-4),Y[Z-2]=Y[0],Y[Z-1]=Y[1]):(K--,Z-=4,Y=R.Utils.setArraySize(this.world,Z),O.computeWorldVerticesWith(B,2,Z,Y,0));for(var de=R.Utils.setArraySize(this.curves,K),ue=0,pe=Y[0],ce=Y[1],fe=0,he=0,me=0,ge=0,_e=0,be=0,Te=0,ve=0,Ee=0,Se=0,Pe=0,Me=0,Ce=0,Re=0,te=0,Ie=2;te<K;te++,Ie+=6)fe=Y[Ie],he=Y[Ie+1],me=Y[Ie+2],ge=Y[Ie+3],_e=Y[Ie+4],be=Y[Ie+5],Te=0.1875*(pe-2*fe+me),ve=0.1875*(ce-2*he+ge),Ee=0.09375*(3*(fe-me)-pe+_e),Se=0.09375*(3*(he-ge)-ce+be),Pe=2*Te+Ee,Me=2*ve+Se,Ce=0.75*(fe-pe)+Te+0.16666667*Ee,Re=0.75*(he-ce)+ve+0.16666667*Se,ue+=_Mathsqrt(Ce*Ce+Re*Re),Ce+=Pe,Re+=Me,Pe+=Ee,Me+=Se,ue+=_Mathsqrt(Ce*Ce+Re*Re),Ce+=Pe,Re+=Me,ue+=_Mathsqrt(Ce*Ce+Re*Re),Ce+=Pe+Ee,Re+=Me+Se,ue+=_Mathsqrt(Ce*Ce+Re*Re),de[te]=ue,pe=_e,ce=be;if(N&&(U*=ue),F)for(var te=0;te<D;te++)X[te]*=ue;for(var Ae=this.segments,Oe=0,te=0,re=0,ne=0,De=0,oe;te<D;te++,re+=3){oe=X[te],U+=oe;var ie=U;if(G)ie%=ue,0>ie&&(ie+=ue),ne=0;else if(0>ie){this.addBeforePosition(ie,Y,0,V,re);continue}else if(ie>ue){this.addAfterPosition(ie-ue,Y,Z-4,V,re);continue}for(;;ne++){var we=de[ne];if(!(ie>we)){if(0==ne)ie/=we;else{var le=de[ne-1];ie=(ie-le)/(we-le)}break}}if(ne!=J){J=ne;var ke=6*ne;for(pe=Y[ke],ce=Y[ke+1],fe=Y[ke+2],he=Y[ke+3],me=Y[ke+4],ge=Y[ke+5],_e=Y[ke+6],be=Y[ke+7],Te=0.03*(pe-2*fe+me),ve=0.03*(ce-2*he+ge),Ee=6e-3*(3*(fe-me)-pe+_e),Se=6e-3*(3*(he-ge)-ce+be),Pe=2*Te+Ee,Me=2*ve+Se,Ce=0.3*(fe-pe)+Te+0.16666667*Ee,Re=0.3*(he-ce)+ve+0.16666667*Se,Oe=_Mathsqrt(Ce*Ce+Re*Re),Ae[0]=Oe,ke=1;8>ke;ke++)Ce+=Pe,Re+=Me,Pe+=Ee,Me+=Se,Oe+=_Mathsqrt(Ce*Ce+Re*Re),Ae[ke]=Oe;Ce+=Pe,Re+=Me,Oe+=_Mathsqrt(Ce*Ce+Re*Re),Ae[8]=Oe,Ce+=Pe+Ee,Re+=Me+Se,Oe+=_Mathsqrt(Ce*Ce+Re*Re),Ae[9]=Oe,De=0}for(ie*=Oe;;De++){var Le=Ae[De];if(!(ie>Le)){if(0==De)ie/=Le;else{var le=Ae[De-1];ie=De+(ie-le)/(Le-le)}break}}this.addCurvePosition(0.1*ie,pe,ce,fe,he,me,ge,_e,be,V,re,L||0<te&&0==oe)}return V},A.prototype.addBeforePosition=function(O,D,L,N,F){var B=D[L],U=D[L+1],X=D[L+2]-B,V=D[L+3]-U,Y=_Mathatan(V,X);N[F]=B+O*_Mathcos(Y),N[F+1]=U+O*_Mathsin(Y),N[F+2]=Y},A.prototype.addAfterPosition=function(O,D,L,N,F){var B=D[L+2],U=D[L+3],X=B-D[L],V=U-D[L+1],Y=_Mathatan(V,X);N[F]=B+O*_Mathcos(Y),N[F+1]=U+O*_Mathsin(Y),N[F+2]=Y},A.prototype.addCurvePosition=function(O,D,L,N,F,B,U,X,V,Y,G,Z){(0==O||isNaN(O))&&(O=1e-4);var K=O*O,J=K*O,Q=1-O,$=Q*Q,te=$*Q,re=Q*O,ne=3*re,oe=Q*ne,ie=ne*O,se=D*te+N*oe+B*ie+X*J,le=L*te+F*oe+U*ie+V*J;Y[G]=se,Y[G+1]=le,Z&&(Y[G+2]=_Mathatan(le-(L*$+2*(F*re)+U*K),se-(D*$+2*(N*re)+B*K)))},A.prototype.getOrder=function(){return this.data.order},A}();I.NONE=-1,I.BEFORE=-2,I.AFTER=-3,R.PathConstraint=I})(C=M.core||(M.core={}))}(P||(P={})),function(M){var C;(function(R){var I=function(){return function(N){this.order=0,this.bones=[],this.name=N}}();R.PathConstraintData=I;var A;(function(L){L[L.Fixed=0]='Fixed',L[L.Percent=1]='Percent'})(A=R.PositionMode||(R.PositionMode={}));var O;(function(L){L[L.Length=0]='Length',L[L.Fixed=1]='Fixed',L[L.Percent=2]='Percent'})(O=R.SpacingMode||(R.SpacingMode={}));var D;(function(L){L[L.Tangent=0]='Tangent',L[L.Chain=1]='Chain',L[L.ChainScale=2]='ChainScale'})(D=R.RotateMode||(R.RotateMode={}))})(C=M.core||(M.core={}))}(P||(P={})),function(M){var C;(function(R){var I=function(){function A(O){if(this._updateCache=[],this.updateCacheReset=[],this.time=0,this.flipX=!1,this.flipY=!1,this.x=0,this.y=0,null==O)throw new Error('data cannot be null.');this.data=O,this.bones=[];for(var D=0;D<O.bones.length;D++){var L=O.bones[D],N=void 0;if(null==L.parent)N=new R.Bone(L,this,null);else{var F=this.bones[L.parent.index];N=new R.Bone(L,this,F),F.children.push(N)}this.bones.push(N)}this.slots=[],this.drawOrder=[];for(var D=0;D<O.slots.length;D++){var B=O.slots[D],N=this.bones[B.boneData.index],U=new R.Slot(B,N);this.slots.push(U),this.drawOrder.push(U)}this.ikConstraints=[];for(var D=0,X;D<O.ikConstraints.length;D++)X=O.ikConstraints[D],this.ikConstraints.push(new R.IkConstraint(X,this));this.transformConstraints=[];for(var D=0,V;D<O.transformConstraints.length;D++)V=O.transformConstraints[D],this.transformConstraints.push(new R.TransformConstraint(V,this));this.pathConstraints=[];for(var D=0,Y;D<O.pathConstraints.length;D++)Y=O.pathConstraints[D],this.pathConstraints.push(new R.PathConstraint(Y,this));this.color=new R.Color(1,1,1,1),this.updateCache()}return A.prototype.updateCache=function(){var O=this._updateCache;O.length=0,this.updateCacheReset.length=0;for(var D=this.bones,L=0,N=D.length;L<N;L++)D[L].sorted=!1;var F=this.ikConstraints,B=this.transformConstraints,U=this.pathConstraints,X=F.length,V=B.length,Y=U.length;outer:for(var L=0;L<X+V+Y;L++){for(var Z=0,K;Z<X;Z++)if(K=F[Z],K.data.order==L){this.sortIkConstraint(K);continue outer}for(var Z=0,K;Z<V;Z++)if(K=B[Z],K.data.order==L){this.sortTransformConstraint(K);continue outer}for(var Z=0,K;Z<Y;Z++)if(K=U[Z],K.data.order==L){this.sortPathConstraint(K);continue outer}}for(var L=0,N=D.length;L<N;L++)this.sortBone(D[L])},A.prototype.sortIkConstraint=function(O){var D=O.target;this.sortBone(D);var L=O.bones,N=L[0];if(this.sortBone(N),1<L.length){var F=L[L.length-1];-1<this._updateCache.indexOf(F)||this.updateCacheReset.push(F)}this._updateCache.push(O),this.sortReset(N.children),L[L.length-1].sorted=!0},A.prototype.sortPathConstraint=function(O){var D=O.target,L=D.data.index,N=D.bone;null!=this.skin&&this.sortPathConstraintAttachment(this.skin,L,N),null!=this.data.defaultSkin&&this.data.defaultSkin!=this.skin&&this.sortPathConstraintAttachment(this.data.defaultSkin,L,N);for(var F=0,B=this.data.skins.length;F<B;F++)this.sortPathConstraintAttachment(this.data.skins[F],L,N);var U=D.getAttachment();U instanceof R.PathAttachment&&this.sortPathConstraintAttachmentWith(U,N);for(var X=O.bones,V=X.length,F=0;F<V;F++)this.sortBone(X[F]);this._updateCache.push(O);for(var F=0;F<V;F++)this.sortReset(X[F].children);for(var F=0;F<V;F++)X[F].sorted=!0},A.prototype.sortTransformConstraint=function(O){this.sortBone(O.target);for(var D=O.bones,L=D.length,N=0;N<L;N++)this.sortBone(D[N]);this._updateCache.push(O);for(var N=0;N<L;N++)this.sortReset(D[N].children);for(var N=0;N<L;N++)D[N].sorted=!0},A.prototype.sortPathConstraintAttachment=function(O,D,L){var N=O.attachments[D];if(N)for(var F in N)this.sortPathConstraintAttachmentWith(N[F],L)},A.prototype.sortPathConstraintAttachmentWith=function(O,D){if(O instanceof R.PathAttachment){var L=O.bones;if(null==L)this.sortBone(D);else for(var N=this.bones,F=0,B;F<L.length;){B=L[F++];for(var U=F+B,X;F<U;F++)X=L[F],this.sortBone(N[X])}}},A.prototype.sortBone=function(O){if(!O.sorted){var D=O.parent;null!=D&&this.sortBone(D),O.sorted=!0,this._updateCache.push(O)}},A.prototype.sortReset=function(O){for(var D=0,L=O.length,N;D<L;D++)N=O[D],N.sorted&&this.sortReset(N.children),N.sorted=!1},A.prototype.updateWorldTransform=function(){for(var O=this.updateCacheReset,D=0,L=O.length,N;D<L;D++)N=O[D],N.ax=N.x,N.ay=N.y,N.arotation=N.rotation,N.ascaleX=N.scaleX,N.ascaleY=N.scaleY,N.ashearX=N.shearX,N.ashearY=N.shearY,N.appliedValid=!0;for(var F=this._updateCache,D=0,L=F.length;D<L;D++)F[D].update()},A.prototype.setToSetupPose=function(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()},A.prototype.setBonesToSetupPose=function(){for(var O=this.bones,D=0,L=O.length;D<L;D++)O[D].setToSetupPose();for(var N=this.ikConstraints,D=0,L=N.length,F;D<L;D++)F=N[D],F.bendDirection=F.data.bendDirection,F.mix=F.data.mix;for(var B=this.transformConstraints,D=0,L=B.length;D<L;D++){var F=B[D],U=F.data;F.rotateMix=U.rotateMix,F.translateMix=U.translateMix,F.scaleMix=U.scaleMix,F.shearMix=U.shearMix}for(var X=this.pathConstraints,D=0,L=X.length;D<L;D++){var F=X[D],U=F.data;F.position=U.position,F.spacing=U.spacing,F.rotateMix=U.rotateMix,F.translateMix=U.translateMix}},A.prototype.setSlotsToSetupPose=function(){var O=this.slots;R.Utils.arrayCopy(O,0,this.drawOrder,0,O.length);for(var D=0,L=O.length;D<L;D++)O[D].setToSetupPose()},A.prototype.getRootBone=function(){return 0==this.bones.length?null:this.bones[0]},A.prototype.findBone=function(O){if(null==O)throw new Error('boneName cannot be null.');for(var D=this.bones,L=0,N=D.length,F;L<N;L++)if(F=D[L],F.data.name==O)return F;return null},A.prototype.findBoneIndex=function(O){if(null==O)throw new Error('boneName cannot be null.');for(var D=this.bones,L=0,N=D.length;L<N;L++)if(D[L].data.name==O)return L;return-1},A.prototype.findSlot=function(O){if(null==O)throw new Error('slotName cannot be null.');for(var D=this.slots,L=0,N=D.length,F;L<N;L++)if(F=D[L],F.data.name==O)return F;return null},A.prototype.findSlotIndex=function(O){if(null==O)throw new Error('slotName cannot be null.');for(var D=this.slots,L=0,N=D.length;L<N;L++)if(D[L].data.name==O)return L;return-1},A.prototype.setSkinByName=function(O){var D=this.data.findSkin(O);if(null==D)throw new Error('Skin not found: '+O);this.setSkin(D)},A.prototype.setSkin=function(O){if(null!=O)if(null!=this.skin)O.attachAll(this,this.skin);else for(var D=this.slots,L=0,N=D.length;L<N;L++){var F=D[L],B=F.data.attachmentName;if(null!=B){var U=O.getAttachment(L,B);null!=U&&F.setAttachment(U)}}this.skin=O},A.prototype.getAttachmentByName=function(O,D){return this.getAttachment(this.data.findSlotIndex(O),D)},A.prototype.getAttachment=function(O,D){if(null==D)throw new Error('attachmentName cannot be null.');if(null!=this.skin){var L=this.skin.getAttachment(O,D);if(null!=L)return L}return null==this.data.defaultSkin?null:this.data.defaultSkin.getAttachment(O,D)},A.prototype.setAttachment=function(O,D){if(null==O)throw new Error('slotName cannot be null.');for(var L=this.slots,N=0,F=L.length,B;N<F;N++)if(B=L[N],B.data.name==O){var U=null;if(null!=D&&(U=this.getAttachment(N,D),null==U))throw new Error('Attachment not found: '+D+', for slot: '+O);return void B.setAttachment(U)}throw new Error('Slot not found: '+O)},A.prototype.findIkConstraint=function(O){if(null==O)throw new Error('constraintName cannot be null.');for(var D=this.ikConstraints,L=0,N=D.length,F;L<N;L++)if(F=D[L],F.data.name==O)return F;return null},A.prototype.findTransformConstraint=function(O){if(null==O)throw new Error('constraintName cannot be null.');for(var D=this.transformConstraints,L=0,N=D.length,F;L<N;L++)if(F=D[L],F.data.name==O)return F;return null},A.prototype.findPathConstraint=function(O){if(null==O)throw new Error('constraintName cannot be null.');for(var D=this.pathConstraints,L=0,N=D.length,F;L<N;L++)if(F=D[L],F.data.name==O)return F;return null},A.prototype.getBounds=function(O,D){if(null==O)throw new Error('offset cannot be null.');if(null==D)throw new Error('size cannot be null.');for(var L=this.drawOrder,N=_NumberPOSITIVE_INFINITY,F=_NumberPOSITIVE_INFINITY,B=_NumberNEGATIVE_INFINITY,U=_NumberNEGATIVE_INFINITY,X=0,V=L.length;X<V;X++){var Y=L[X],G=null,Z=Y.getAttachment();if(Z instanceof R.RegionAttachment?G=Z.updateWorldVertices(Y,!1):Z instanceof R.MeshAttachment&&(G=Z.updateWorldVertices(Y,!0)),null!=G)for(var K=0,J=G.length;K<J;K+=8){var Q=G[K],$=G[K+1];N=_Mathmin(N,Q),F=_Mathmin(F,$),B=_Mathmax(B,Q),U=_Mathmax(U,$)}}O.set(N,F),D.set(B-N,U-F)},A.prototype.update=function(O){this.time+=O},A}();R.Skeleton=I})(C=M.core||(M.core={}))}(P||(P={})),function(M){var C;(function(R){var I=function(){function A(){this.minX=0,this.minY=0,this.maxX=0,this.maxY=0,this.boundingBoxes=[],this.polygons=[],this.polygonPool=new R.Pool(function(){return R.Utils.newFloatArray(16)})}return A.prototype.update=function(O,D){if(null==O)throw new Error('skeleton cannot be null.');var L=this.boundingBoxes,N=this.polygons,F=this.polygonPool,B=O.slots,U=B.length;L.length=0,F.freeAll(N),N.length=0;for(var X=0;X<U;X++){var V=B[X],Y=V.getAttachment();if(Y instanceof R.BoundingBoxAttachment){var G=Y;L.push(G);var Z=F.obtain();Z.length!=G.worldVerticesLength&&(Z=R.Utils.newFloatArray(G.worldVerticesLength)),N.push(Z),G.computeWorldVertices(V,Z)}}D&&this.aabbCompute()},A.prototype.aabbCompute=function(){for(var O=_NumberPOSITIVE_INFINITY,D=_NumberPOSITIVE_INFINITY,L=_NumberNEGATIVE_INFINITY,N=_NumberNEGATIVE_INFINITY,F=this.polygons,B=0,U=F.length;B<U;B++)for(var X=F[B],V=X,Y=0,G=X.length;Y<G;Y+=2){var Z=V[Y],K=V[Y+1];O=_Mathmin(O,Z),D=_Mathmin(D,K),L=_Mathmax(L,Z),N=_Mathmax(N,K)}this.minX=O,this.minY=D,this.maxX=L,this.maxY=N},A.prototype.aabbContainsPoint=function(O,D){return O>=this.minX&&O<=this.maxX&&D>=this.minY&&D<=this.maxY},A.prototype.aabbIntersectsSegment=function(O,D,L,N){var F=this.minX,B=this.minY,U=this.maxX,X=this.maxY;if(O<=F&&L<=F||D<=B&&N<=B||O>=U&&L>=U||D>=X&&N>=X)return!1;var V=(N-D)/(L-O),Y=V*(F-O)+D;if(Y>B&&Y<X)return!0;if(Y=V*(U-O)+D,Y>B&&Y<X)return!0;var G=(B-D)/V+O;return G>F&&G<U||(G=(X-D)/V+O,G>F&&G<U)},A.prototype.aabbIntersectsSkeleton=function(O){return this.minX<O.maxX&&this.maxX>O.minX&&this.minY<O.maxY&&this.maxY>O.minY},A.prototype.containsPoint=function(O,D){for(var L=this.polygons,N=0,F=L.length;N<F;N++)if(this.containsPointPolygon(L[N],O,D))return this.boundingBoxes[N];return null},A.prototype.containsPointPolygon=function(O,D,L){for(var N=O,F=O.length,B=F-2,U=!1,X=0;X<F;X+=2){var V=N[X+1],Y=N[B+1];if(V<L&&Y>=L||Y<L&&V>=L){var G=N[X];G+(L-V)/(Y-V)*(N[B]-G)<D&&(U=!U)}B=X}return U},A.prototype.intersectsSegment=function(O,D,L,N){for(var F=this.polygons,B=0,U=F.length;B<U;B++)if(this.intersectsSegmentPolygon(F[B],O,D,L,N))return this.boundingBoxes[B];return null},A.prototype.intersectsSegmentPolygon=function(O,D,L,N,F){for(var B=O,U=O.length,X=D-N,V=L-F,Y=D*F-L*N,G=B[U-2],Z=B[U-1],K=0;K<U;K+=2){var J=B[K],Q=B[K+1],$=G*Q-Z*J,te=G-J,re=Z-Q,ne=X*re-V*te,oe=(Y*te-X*$)/ne;if((oe>=G&&oe<=J||oe>=J&&oe<=G)&&(oe>=D&&oe<=N||oe>=N&&oe<=D)){var ie=(Y*re-V*$)/ne;if((ie>=Z&&ie<=Q||ie>=Q&&ie<=Z)&&(ie>=L&&ie<=F||ie>=F&&ie<=L))return!0}G=J,Z=Q}return!1},A.prototype.getPolygon=function(O){if(null==O)throw new Error('boundingBox cannot be null.');var D=this.boundingBoxes.indexOf(O);return-1==D?null:this.polygons[D]},A.prototype.getWidth=function(){return this.maxX-this.minX},A.prototype.getHeight=function(){return this.maxY-this.minY},A}();R.SkeletonBounds=I})(C=M.core||(M.core={}))}(P||(P={})),function(M){var C;(function(R){var I=function(){function A(){this.bones=[],this.slots=[],this.skins=[],this.events=[],this.animations=[],this.ikConstraints=[],this.transformConstraints=[],this.pathConstraints=[],this.fps=0}return A.prototype.findBone=function(O){if(null==O)throw new Error('boneName cannot be null.');for(var D=this.bones,L=0,N=D.length,F;L<N;L++)if(F=D[L],F.name==O)return F;return null},A.prototype.findBoneIndex=function(O){if(null==O)throw new Error('boneName cannot be null.');for(var D=this.bones,L=0,N=D.length;L<N;L++)if(D[L].name==O)return L;return-1},A.prototype.findSlot=function(O){if(null==O)throw new Error('slotName cannot be null.');for(var D=this.slots,L=0,N=D.length,F;L<N;L++)if(F=D[L],F.name==O)return F;return null},A.prototype.findSlotIndex=function(O){if(null==O)throw new Error('slotName cannot be null.');for(var D=this.slots,L=0,N=D.length;L<N;L++)if(D[L].name==O)return L;return-1},A.prototype.findSkin=function(O){if(null==O)throw new Error('skinName cannot be null.');for(var D=this.skins,L=0,N=D.length,F;L<N;L++)if(F=D[L],F.name==O)return F;return null},A.prototype.findEvent=function(O){if(null==O)throw new Error('eventDataName cannot be null.');for(var D=this.events,L=0,N=D.length,F;L<N;L++)if(F=D[L],F.name==O)return F;return null},A.prototype.findAnimation=function(O){if(null==O)throw new Error('animationName cannot be null.');for(var D=this.animations,L=0,N=D.length,F;L<N;L++)if(F=D[L],F.name==O)return F;return null},A.prototype.findIkConstraint=function(O){if(null==O)throw new Error('constraintName cannot be null.');for(var D=this.ikConstraints,L=0,N=D.length,F;L<N;L++)if(F=D[L],F.name==O)return F;return null},A.prototype.findTransformConstraint=function(O){if(null==O)throw new Error('constraintName cannot be null.');for(var D=this.transformConstraints,L=0,N=D.length,F;L<N;L++)if(F=D[L],F.name==O)return F;return null},A.prototype.findPathConstraint=function(O){if(null==O)throw new Error('constraintName cannot be null.');for(var D=this.pathConstraints,L=0,N=D.length,F;L<N;L++)if(F=D[L],F.name==O)return F;return null},A.prototype.findPathConstraintIndex=function(O){if(null==O)throw new Error('pathConstraintName cannot be null.');for(var D=this.pathConstraints,L=0,N=D.length;L<N;L++)if(D[L].name==O)return L;return-1},A}();R.SkeletonData=I})(C=M.core||(M.core={}))}(P||(P={})),function(M){var C;(function(R){var I=function(){function O(D){this.scale=1,this.linkedMeshes=[],this.attachmentLoader=D}return O.prototype.readSkeletonData=function(D){var L=this.scale,N=new R.SkeletonData,F='string'==typeof D?JSON.parse(D):D,B=F.skeleton;if(null!=B&&(N.hash=B.hash,N.version=B.spine,N.width=B.width,N.height=B.height,N.fps=B.fps,N.imagesPath=B.images),F.bones)for(var U=0;U<F.bones.length;U++){var X=F.bones[U],V=null,Y=this.getValue(X,'parent',null);if(null!=Y&&(V=N.findBone(Y),null==V))throw new Error('Parent bone not found: '+Y);var G=new R.BoneData(N.bones.length,X.name,V);G.length=this.getValue(X,'length',0)*L,G.x=this.getValue(X,'x',0)*L,G.y=this.getValue(X,'y',0)*L,G.rotation=this.getValue(X,'rotation',0),G.scaleX=this.getValue(X,'scaleX',1),G.scaleY=this.getValue(X,'scaleY',1),G.shearX=this.getValue(X,'shearX',0),G.shearY=this.getValue(X,'shearY',0),G.transformMode=X.hasOwnProperty('inheritScale')||X.hasOwnProperty('inheritRotation')?O.transformModeLegacy(this.getValue(X,'inheritRotation',!0),this.getValue(X,'inheritScale',!0)):O.transformModeFromString(this.getValue(X,'transform','normal')),N.bones.push(G)}if(F.slots)for(var U=0;U<F.slots.length;U++){var Z=F.slots[U],K=Z.name,J=Z.bone,Q=N.findBone(J);if(null==Q)throw new Error('Slot bone not found: '+J);var G=new R.SlotData(N.slots.length,K,Q),$=this.getValue(Z,'color',null);null!=$&&G.color.setFromString($),G.attachmentName=this.getValue(Z,'attachment',null),G.blendMode=O.blendModeFromString(this.getValue(Z,'blend','normal')),N.slots.push(G)}if(F.ik)for(var U=0;U<F.ik.length;U++){var te=F.ik[U],G=new R.IkConstraintData(te.name);G.order=this.getValue(te,'order',0);for(var re=0;re<te.bones.length;re++){var J=te.bones[re],ne=N.findBone(J);if(null==ne)throw new Error('IK bone not found: '+J);G.bones.push(ne)}var oe=te.target;if(G.target=N.findBone(oe),null==G.target)throw new Error('IK target bone not found: '+oe);G.bendDirection=this.getValue(te,'bendPositive',!0)?1:-1,G.mix=this.getValue(te,'mix',1),N.ikConstraints.push(G)}if(F.transform)for(var U=0;U<F.transform.length;U++){var te=F.transform[U],G=new R.TransformConstraintData(te.name);G.order=this.getValue(te,'order',0);for(var re=0;re<te.bones.length;re++){var J=te.bones[re],ne=N.findBone(J);if(null==ne)throw new Error('Transform constraint bone not found: '+J);G.bones.push(ne)}var oe=te.target;if(G.target=N.findBone(oe),null==G.target)throw new Error('Transform constraint target bone not found: '+oe);G.offsetRotation=this.getValue(te,'rotation',0),G.offsetX=this.getValue(te,'x',0)*L,G.offsetY=this.getValue(te,'y',0)*L,G.offsetScaleX=this.getValue(te,'scaleX',0),G.offsetScaleY=this.getValue(te,'scaleY',0),G.offsetShearY=this.getValue(te,'shearY',0),G.rotateMix=this.getValue(te,'rotateMix',1),G.translateMix=this.getValue(te,'translateMix',1),G.scaleMix=this.getValue(te,'scaleMix',1),G.shearMix=this.getValue(te,'shearMix',1),N.transformConstraints.push(G)}if(F.path)for(var U=0;U<F.path.length;U++){var te=F.path[U],G=new R.PathConstraintData(te.name);G.order=this.getValue(te,'order',0);for(var re=0;re<te.bones.length;re++){var J=te.bones[re],ne=N.findBone(J);if(null==ne)throw new Error('Transform constraint bone not found: '+J);G.bones.push(ne)}var oe=te.target;if(G.target=N.findSlot(oe),null==G.target)throw new Error('Path target slot not found: '+oe);G.positionMode=O.positionModeFromString(this.getValue(te,'positionMode','percent')),G.spacingMode=O.spacingModeFromString(this.getValue(te,'spacingMode','length')),G.rotateMode=O.rotateModeFromString(this.getValue(te,'rotateMode','tangent')),G.offsetRotation=this.getValue(te,'rotation',0),G.position=this.getValue(te,'position',0),G.positionMode==R.PositionMode.Fixed&&(G.position*=L),G.spacing=this.getValue(te,'spacing',0),(G.spacingMode==R.SpacingMode.Length||G.spacingMode==R.SpacingMode.Fixed)&&(G.spacing*=L),G.rotateMix=this.getValue(te,'rotateMix',1),G.translateMix=this.getValue(te,'translateMix',1),N.pathConstraints.push(G)}if(F.skins)for(var ie in F.skins){var se=F.skins[ie],le=new R.Skin(ie);for(var K in se){var de=N.findSlotIndex(K);if(-1==de)throw new Error('Slot not found: '+K);var Z=se[K];for(var ue in Z){var pe=this.readAttachment(Z[ue],le,de,ue);null!=pe&&le.addAttachment(de,ue,pe)}}N.skins.push(le),'default'==le.name&&(N.defaultSkin=le)}for(var U=0,ce=this.linkedMeshes.length;U<ce;U++){var fe=this.linkedMeshes[U],le=null==fe.skin?N.defaultSkin:N.findSkin(fe.skin);if(null==le)throw new Error('Skin not found: '+fe.skin);var he=le.getAttachment(fe.slotIndex,fe.parent);if(null==he)throw new Error('Parent mesh not found: '+fe.parent);fe.mesh.setParentMesh(he)}if(this.linkedMeshes.length=0,F.events)for(var me in F.events){var ge=F.events[me],G=new R.EventData(me);G.intValue=this.getValue(ge,'int',0),G.floatValue=this.getValue(ge,'float',0),G.stringValue=this.getValue(ge,'string',''),N.events.push(G)}if(F.animations)for(var _e in F.animations){var be=F.animations[_e];this.readAnimation(be,_e,N)}return N},O.prototype.readAttachment=function(D,L,N,F){var B=this.scale;F=this.getValue(D,'name',F);var U=this.getValue(D,'type','region');switch(U){case'region':{var X=this.getValue(D,'path',F),V=this.attachmentLoader.newRegionAttachment(L,F,X);if(null==V)return null;V.path=X,V.x=this.getValue(D,'x',0)*B,V.y=this.getValue(D,'y',0)*B,V.scaleX=this.getValue(D,'scaleX',1),V.scaleY=this.getValue(D,'scaleY',1),V.rotation=this.getValue(D,'rotation',0),V.width=D.width*B,V.height=D.height*B;var Y=this.getValue(D,'color',null);return null!=Y&&V.color.setFromString(Y),V}case'boundingbox':{var G=this.attachmentLoader.newBoundingBoxAttachment(L,F);if(null==G)return null;this.readVertices(D,G,D.vertexCount<<1);var Y=this.getValue(D,'color',null);return null!=Y&&G.color.setFromString(Y),G}case'weightedmesh':case'skinnedmesh':case'mesh':case'linkedmesh':{var X=this.getValue(D,'path',F),Z=this.attachmentLoader.newMeshAttachment(L,F,X);if(null==Z)return null;Z.path=X;var Y=this.getValue(D,'color',null);null!=Y&&Z.color.setFromString(Y);var K=this.getValue(D,'parent',null);if(null!=K)return Z.inheritDeform=this.getValue(D,'deform',!0),this.linkedMeshes.push(new A(Z,this.getValue(D,'skin',null),N,K)),Z;var J=D.uvs;return this.readVertices(D,Z,J.length),Z.triangles=D.triangles,Z.regionUVs=J,Z.hullLength=2*this.getValue(D,'hull',0),Z}case'path':{var X=this.attachmentLoader.newPathAttachment(L,F);if(null==X)return null;X.closed=this.getValue(D,'closed',!1),X.constantSpeed=this.getValue(D,'constantSpeed',!0);var Q=D.vertexCount;this.readVertices(D,X,Q<<1);for(var $=R.Utils.newArray(Q/3,0),te=0;te<D.lengths.length;te++)$[te++]=D.lengths[te]*B;X.lengths=$;var Y=this.getValue(D,'color',null);return null!=Y&&X.color.setFromString(Y),X}}return null},O.prototype.readVertices=function(D,L,N){var F=this.scale;L.worldVerticesLength=N;var B=D.vertices;if(N==B.length){if(1!=F)for(var U=0,X=B.length;U<X;U++)B[U]*=F;return void(L.vertices=R.Utils.toFloatArray(B))}for(var V=[],Y=[],U=0,X=B.length,G;U<X;){G=B[U++],Y.push(G);for(var Z=U+4*G;U<Z;U+=4)Y.push(B[U]),V.push(B[U+1]*F),V.push(B[U+2]*F),V.push(B[U+3])}L.bones=Y,L.vertices=R.Utils.toFloatArray(V)},O.prototype.readAnimation=function(D,L,N){var F=this.scale,B=[],U=0;if(D.slots)for(var X in D.slots){var V=D.slots[X],Y=N.findSlotIndex(X);if(-1==Y)throw new Error('Slot not found: '+X);for(var G in V){var Z=V[G];if('color'==G){var K=new R.ColorTimeline(Z.length);K.slotIndex=Y;for(var J=0,Q=0;Q<Z.length;Q++){var $=Z[Q],te=new R.Color;te.setFromString($.color),K.setFrame(J,$.time,te.r,te.g,te.b,te.a),this.readCurve($,K,J),J++}B.push(K),U=_Mathmax(U,K.frames[(K.getFrameCount()-1)*R.ColorTimeline.ENTRIES])}else if(G='attachment'){var K=new R.AttachmentTimeline(Z.length);K.slotIndex=Y;for(var J=0,Q=0,$;Q<Z.length;Q++)$=Z[Q],K.setFrame(J++,$.time,$.name);B.push(K),U=_Mathmax(U,K.frames[K.getFrameCount()-1])}else throw new Error('Invalid timeline type for a slot: '+G+' ('+X+')')}}if(D.bones)for(var re in D.bones){var ne=D.bones[re],oe=N.findBoneIndex(re);if(-1==oe)throw new Error('Bone not found: '+re);for(var G in ne){var Z=ne[G];if('rotate'==G){var K=new R.RotateTimeline(Z.length);K.boneIndex=oe;for(var J=0,Q=0,$;Q<Z.length;Q++)$=Z[Q],K.setFrame(J,$.time,$.angle),this.readCurve($,K,J),J++;B.push(K),U=_Mathmax(U,K.frames[(K.getFrameCount()-1)*R.RotateTimeline.ENTRIES])}else if('translate'==G||'scale'==G||'shear'==G){var K=null,ie=1;'scale'==G?K=new R.ScaleTimeline(Z.length):'shear'==G?K=new R.ShearTimeline(Z.length):(K=new R.TranslateTimeline(Z.length),ie=F),K.boneIndex=oe;for(var J=0,Q=0;Q<Z.length;Q++){var $=Z[Q],se=this.getValue($,'x',0),le=this.getValue($,'y',0);K.setFrame(J,$.time,se*ie,le*ie),this.readCurve($,K,J),J++}B.push(K),U=_Mathmax(U,K.frames[(K.getFrameCount()-1)*R.TranslateTimeline.ENTRIES])}else throw new Error('Invalid timeline type for a bone: '+G+' ('+re+')')}}if(D.ik)for(var de in D.ik){var ue=D.ik[de],pe=N.findIkConstraint(de),K=new R.IkConstraintTimeline(ue.length);K.ikConstraintIndex=N.ikConstraints.indexOf(pe);for(var J=0,Q=0,$;Q<ue.length;Q++)$=ue[Q],K.setFrame(J,$.time,this.getValue($,'mix',1),this.getValue($,'bendPositive',!0)?1:-1),this.readCurve($,K,J),J++;B.push(K),U=_Mathmax(U,K.frames[(K.getFrameCount()-1)*R.IkConstraintTimeline.ENTRIES])}if(D.transform)for(var de in D.transform){var ue=D.transform[de],pe=N.findTransformConstraint(de),K=new R.TransformConstraintTimeline(ue.length);K.transformConstraintIndex=N.transformConstraints.indexOf(pe);for(var J=0,Q=0,$;Q<ue.length;Q++)$=ue[Q],K.setFrame(J,$.time,this.getValue($,'rotateMix',1),this.getValue($,'translateMix',1),this.getValue($,'scaleMix',1),this.getValue($,'shearMix',1)),this.readCurve($,K,J),J++;B.push(K),U=_Mathmax(U,K.frames[(K.getFrameCount()-1)*R.TransformConstraintTimeline.ENTRIES])}if(D.paths)for(var de in D.paths){var ue=D.paths[de],ce=N.findPathConstraintIndex(de);if(-1==ce)throw new Error('Path constraint not found: '+de);var fe=N.pathConstraints[ce];for(var G in ue){var Z=ue[G];if('position'==G||'spacing'==G){var K=null,ie=1;'spacing'==G?(K=new R.PathConstraintSpacingTimeline(Z.length),(fe.spacingMode==R.SpacingMode.Length||fe.spacingMode==R.SpacingMode.Fixed)&&(ie=F)):(K=new R.PathConstraintPositionTimeline(Z.length),fe.positionMode==R.PositionMode.Fixed&&(ie=F)),K.pathConstraintIndex=ce;for(var J=0,Q=0,$;Q<Z.length;Q++)$=Z[Q],K.setFrame(J,$.time,this.getValue($,G,0)*ie),this.readCurve($,K,J),J++;B.push(K),U=_Mathmax(U,K.frames[(K.getFrameCount()-1)*R.PathConstraintPositionTimeline.ENTRIES])}else if('mix'==G){var K=new R.PathConstraintMixTimeline(Z.length);K.pathConstraintIndex=ce;for(var J=0,Q=0,$;Q<Z.length;Q++)$=Z[Q],K.setFrame(J,$.time,this.getValue($,'rotateMix',1),this.getValue($,'translateMix',1)),this.readCurve($,K,J),J++;B.push(K),U=_Mathmax(U,K.frames[(K.getFrameCount()-1)*R.PathConstraintMixTimeline.ENTRIES])}}}if(D.deform)for(var he in D.deform){var me=D.deform[he],ge=N.findSkin(he);if(null==ge)throw new Error('Skin not found: '+he);for(var X in me){var V=me[X],Y=N.findSlotIndex(X);if(-1==Y)throw new Error('Slot not found: '+V.name);for(var G in V){var Z=V[G],_e=ge.getAttachment(Y,G);if(null==_e)throw new Error('Deform attachment not found: '+Z.name);var be=null!=_e.bones,Te=_e.vertices,ve=be?2*(Te.length/3):Te.length,K=new R.DeformTimeline(Z.length);K.slotIndex=Y,K.attachment=_e;for(var J=0,Ee=0;Ee<Z.length;Ee++){var $=Z[Ee],Se=void 0,Pe=this.getValue($,'vertices',null);if(null==Pe)Se=be?R.Utils.newFloatArray(ve):Te;else{Se=R.Utils.newFloatArray(ve);var Me=this.getValue($,'offset',0);if(R.Utils.arrayCopy(Pe,0,Se,Me,Pe.length),1!=F)for(var Q=Me,Ce=Q+Pe.length;Q<Ce;Q++)Se[Q]*=F;if(!be)for(var Q=0;Q<ve;Q++)Se[Q]+=Te[Q]}K.setFrame(J,$.time,Se),this.readCurve($,K,J),J++}B.push(K),U=_Mathmax(U,K.frames[K.getFrameCount()-1])}}}var Re=D.drawOrder;if(null==Re&&(Re=D.draworder),null!=Re){for(var K=new R.DrawOrderTimeline(Re.length),Ie=N.slots.length,J=0,Ee=0;Ee<Re.length;Ee++){var Ae=Re[Ee],Oe=null,De=this.getValue(Ae,'offsets',null);if(null!=De){Oe=R.Utils.newArray(Ie,-1);for(var we=R.Utils.newArray(Ie-De.length,0),ke=0,Le=0,Q=0;Q<De.length;Q++){var Ne=De[Q],Y=N.findSlotIndex(Ne.slot);if(-1==Y)throw new Error('Slot not found: '+Ne.slot);for(;ke!=Y;)we[Le++]=ke++;Oe[ke+Ne.offset]=ke++}for(;ke<Ie;)we[Le++]=ke++;for(var Q=Ie-1;0<=Q;Q--)-1==Oe[Q]&&(Oe[Q]=we[--Le])}K.setFrame(J++,Ae.time,Oe)}B.push(K),U=_Mathmax(U,K.frames[K.getFrameCount()-1])}if(D.events){for(var K=new R.EventTimeline(D.events.length),J=0,Q=0;Q<D.events.length;Q++){var Fe=D.events[Q],Be=N.findEvent(Fe.name);if(null==Be)throw new Error('Event not found: '+Fe.name);var Ue=new R.Event(Fe.time,Be);Ue.intValue=this.getValue(Fe,'int',Be.intValue),Ue.floatValue=this.getValue(Fe,'float',Be.floatValue),Ue.stringValue=this.getValue(Fe,'string',Be.stringValue),K.setFrame(J++,Ue)}B.push(K),U=_Mathmax(U,K.frames[K.getFrameCount()-1])}if(isNaN(U))throw new Error('Error while parsing animation, duration is NaN');N.animations.push(new R.Animation(L,B,U))},O.prototype.readCurve=function(D,L,N){if(D.curve)if('stepped'===D.curve)L.setStepped(N);else if('[object Array]'===Object.prototype.toString.call(D.curve)){var F=D.curve;L.setCurve(N,F[0],F[1],F[2],F[3])}},O.prototype.getValue=function(D,L,N){return void 0===D[L]?N:D[L]},O.blendModeFromString=function(D){if('multiply'===D)return PIXI.BLEND_MODES.MULTIPLY;if('additive'===D)return PIXI.BLEND_MODES.ADD;if('screen'===D)return PIXI.BLEND_MODES.SCREEN;if('normal'===D)return PIXI.BLEND_MODES.NORMAL;throw new Error('Unknown blend mode: '+D)},O.positionModeFromString=function(D){if(D=D.toLowerCase(),'fixed'==D)return R.PositionMode.Fixed;if('percent'==D)return R.PositionMode.Percent;throw new Error('Unknown position mode: '+D)},O.spacingModeFromString=function(D){if(D=D.toLowerCase(),'length'==D)return R.SpacingMode.Length;if('fixed'==D)return R.SpacingMode.Fixed;if('percent'==D)return R.SpacingMode.Percent;throw new Error('Unknown position mode: '+D)},O.rotateModeFromString=function(D){if(D=D.toLowerCase(),'tangent'==D)return R.RotateMode.Tangent;if('chain'==D)return R.RotateMode.Chain;if('chainscale'==D)return R.RotateMode.ChainScale;throw new Error('Unknown rotate mode: '+D)},O.transformModeFromString=function(D){if(D=D.toLowerCase(),'normal'==D)return R.TransformMode.Normal;if('onlytranslation'==D)return R.TransformMode.OnlyTranslation;if('norotationorreflection'==D)return R.TransformMode.NoRotationOrReflection;if('noscale'==D)return R.TransformMode.NoScale;if('noscaleorreflection'==D)return R.TransformMode.NoScaleOrReflection;throw new Error('Unknown transform mode: '+D)},O.transformModeLegacy=function(D,L){return console.log('Deprecation Warning: re-export your model with spine 3.5, or downgrade to pixi-spine 1.1 branch. There were many breaking changes, place breakpoint here if you want to know which model is broken'),D&&L?R.TransformMode.Normal:D?R.TransformMode.NoScaleOrReflection:L?R.TransformMode.NoRotationOrReflection:R.TransformMode.OnlyTranslation},O}();R.SkeletonJson=I;var A=function(){return function(D,L,N,F){this.mesh=D,this.skin=L,this.slotIndex=N,this.parent=F}}()})(C=M.core||(M.core={}))}(P||(P={})),function(M){var C;(function(R){var I=function(){function A(O){if(this.attachments=[],null==O)throw new Error('name cannot be null.');this.name=O}return A.prototype.addAttachment=function(O,D,L){if(null==L)throw new Error('attachment cannot be null.');var N=this.attachments;O>=N.length&&(N.length=O+1),N[O]||(N[O]={}),N[O][D]=L},A.prototype.getAttachment=function(O,D){var L=this.attachments[O];return L?L[D]:null},A.prototype.attachAll=function(O,D){for(var L=0,N=0;N<O.slots.length;N++){var F=O.slots[N],B=F.getAttachment();if(B&&L<D.attachments.length){var U=D.attachments[L];for(var X in U){var V=U[X];if(B==V){var Y=this.getAttachment(L,name);null!=Y&&F.setAttachment(Y);break}}}L++}},A}();R.Skin=I})(C=M.core||(M.core={}))}(P||(P={})),function(M){var C;(function(R){var I=function(){function A(O,D){if(this.attachmentVertices=[],null==O)throw new Error('data cannot be null.');if(null==D)throw new Error('bone cannot be null.');this.data=O,this.bone=D,this.color=new R.Color,this.blendMode=O.blendMode,this.setToSetupPose()}return A.prototype.getAttachment=function(){return this.attachment},A.prototype.setAttachment=function(O){this.attachment==O||(this.attachment=O,this.attachmentTime=this.bone.skeleton.time,this.attachmentVertices.length=0)},A.prototype.setAttachmentTime=function(O){this.attachmentTime=this.bone.skeleton.time-O},A.prototype.getAttachmentTime=function(){return this.bone.skeleton.time-this.attachmentTime},A.prototype.setToSetupPose=function(){this.color.setFromColor(this.data.color),null==this.data.attachmentName?this.attachment=null:(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName)))},A}();R.Slot=I})(C=M.core||(M.core={}))}(P||(P={})),function(M){var C;(function(R){var I=function(){return function(O,D,L){if(this.color=new R.Color(1,1,1,1),0>O)throw new Error('index must be >= 0.');if(null==D)throw new Error('name cannot be null.');if(null==L)throw new Error('boneData cannot be null.');this.index=O,this.name=D,this.boneData=L}}();R.SlotData=I})(C=M.core||(M.core={}))}(P||(P={})),function(M){var C;(function(R){var I=function(){function L(N){this._image=N}return L.prototype.getImage=function(){return this._image},L.filterFromString=function(N){switch(N.toLowerCase()){case'nearest':return A.Nearest;case'linear':return A.Linear;case'mipmap':return A.MipMap;case'mipmapnearestnearest':return A.MipMapNearestNearest;case'mipmaplinearnearest':return A.MipMapLinearNearest;case'mipmapnearestlinear':return A.MipMapNearestLinear;case'mipmaplinearlinear':return A.MipMapLinearLinear;default:throw new Error('Unknown texture filter '+N);}},L.wrapFromString=function(N){switch(N.toLowerCase()){case'mirroredtepeat':return O.MirroredRepeat;case'clamptoedge':return O.ClampToEdge;case'repeat':return O.Repeat;default:throw new Error('Unknown texture wrap '+N);}},L}();R.Texture=I;var A;(function(L){L[L.Nearest=9728]='Nearest',L[L.Linear=9729]='Linear',L[L.MipMap=9987]='MipMap',L[L.MipMapNearestNearest=9984]='MipMapNearestNearest',L[L.MipMapLinearNearest=9985]='MipMapLinearNearest',L[L.MipMapNearestLinear=9986]='MipMapNearestLinear',L[L.MipMapLinearLinear=9987]='MipMapLinearLinear'})(A=R.TextureFilter||(R.TextureFilter={}));var O;(function(L){L[L.MirroredRepeat=33648]='MirroredRepeat',L[L.ClampToEdge=33071]='ClampToEdge',L[L.Repeat=10497]='Repeat'})(O=R.TextureWrap||(R.TextureWrap={}));var D=function(){function L(){this.size=null}return Object.defineProperty(L.prototype,'width',{get:function(){var N=this.texture;return'3'==PIXI.VERSION[0]?N.crop.width:N.trim?N.trim.width:N.orig.width},enumerable:!0,configurable:!0}),Object.defineProperty(L.prototype,'height',{get:function(){var N=this.texture;return'3'==PIXI.VERSION[0]?N.crop.height:N.trim?N.trim.height:N.orig.height},enumerable:!0,configurable:!0}),Object.defineProperty(L.prototype,'u',{get:function(){return this.texture._uvs.x0},enumerable:!0,configurable:!0}),Object.defineProperty(L.prototype,'v',{get:function(){return this.texture._uvs.y0},enumerable:!0,configurable:!0}),Object.defineProperty(L.prototype,'u2',{get:function(){return this.texture._uvs.x2},enumerable:!0,configurable:!0}),Object.defineProperty(L.prototype,'v2',{get:function(){return this.texture._uvs.y2},enumerable:!0,configurable:!0}),Object.defineProperty(L.prototype,'offsetX',{get:function(){var N=this.texture;return N.trim?N.trim.x:0},enumerable:!0,configurable:!0}),Object.defineProperty(L.prototype,'offsetY',{get:function(){return console.warn('Deprecation Warning: @Hackerham: I guess, if you are using PIXI-SPINE ATLAS region.offsetY, you want a texture, right? Use region.texture from now on.'),this.spineOffsetY},enumerable:!0,configurable:!0}),Object.defineProperty(L.prototype,'pixiOffsetY',{get:function(){var N=this.texture;return N.trim?N.trim.y:0},enumerable:!0,configurable:!0}),Object.defineProperty(L.prototype,'spineOffsetY',{get:function(){var N=this.texture;return this.originalHeight-this.height-(N.trim?N.trim.y:0)},enumerable:!0,configurable:!0}),Object.defineProperty(L.prototype,'originalWidth',{get:function(){var N=this.texture;return'3'==PIXI.VERSION[0]?N.trim?N.trim.width:N.crop.width:N.orig.width},enumerable:!0,configurable:!0}),Object.defineProperty(L.prototype,'originalHeight',{get:function(){var N=this.texture;return'3'==PIXI.VERSION[0]?N.trim?N.trim.height:N.crop.height:N.orig.height},enumerable:!0,configurable:!0}),Object.defineProperty(L.prototype,'x',{get:function(){return this.texture.frame.x},enumerable:!0,configurable:!0}),Object.defineProperty(L.prototype,'y',{get:function(){return this.texture.frame.y},enumerable:!0,configurable:!0}),Object.defineProperty(L.prototype,'rotate',{get:function(){return 0!==this.texture.rotate},enumerable:!0,configurable:!0}),L}();R.TextureRegion=D})(C=M.core||(M.core={}))}(P||(P={})),function(M){var C;(function(R){var I=function(){function L(N,F,B){this.pages=[],this.regions=[],N&&this.addSpineAtlas(N,F,B)}return L.prototype.addTexture=function(N,F){for(var B=this.pages,U=null,X=0;X<B.length;X++)if(B[X].baseTexture===F.baseTexture){U=B[X];break}if(null===U){U=new O,U.name='texturePage';var V=F.baseTexture;U.width=V.realWidth,U.height=V.realHeight,U.baseTexture=V,U.minFilter=U.magFilter=R.TextureFilter.Nearest,U.uWrap=R.TextureWrap.ClampToEdge,U.vWrap=R.TextureWrap.ClampToEdge,B.push(U)}var Y=new D;return Y.name=N,Y.page=U,Y.texture=F,Y.index=-1,this.regions.push(Y),Y},L.prototype.addTextureHash=function(N,F){for(var B in N)N.hasOwnProperty(B)&&this.addTexture(F&&-1!==B.indexOf('.')?B.substr(0,B.lastIndexOf('.')):B,N[B])},L.prototype.addSpineAtlas=function(N,F,B){return this.load(N,F,B)},L.prototype.load=function(N,F,B){var U=this;if(null==F)throw new Error('textureLoader cannot be null.');var X=new A(N),V=[,,,,],Y=null,G=function(){for(;;){var Z=X.readLine();if(null==Z)return B&&B(U);if(Z=Z.trim(),0==Z.length)Y=null;else if(!Y){Y=new O,Y.name=Z,2==X.readTuple(V)&&(Y.width=parseInt(V[0]),Y.height=parseInt(V[1]),X.readTuple(V)),X.readTuple(V),Y.minFilter=R.Texture.filterFromString(V[0]),Y.magFilter=R.Texture.filterFromString(V[1]);var K=X.readValue();Y.uWrap=R.TextureWrap.ClampToEdge,Y.vWrap=R.TextureWrap.ClampToEdge,'x'==K?Y.uWrap=R.TextureWrap.Repeat:'y'==K?Y.vWrap=R.TextureWrap.Repeat:'xy'==K&&(Y.uWrap=Y.vWrap=R.TextureWrap.Repeat),F(Z,function(me){Y.baseTexture=me,me.hasLoaded||(me.width=Y.width,me.height=Y.height),U.pages.push(Y),Y.setFilters(),Y.width&&Y.height||(Y.width=me.realWidth,Y.height=me.realHeight,(!Y.width||!Y.height)&&console.log('ERROR spine atlas page '+Y.name+': meshes wont work if you dont specify size in atlas (http://www.html5gamedevs.com/topic/18888-pixi-spines-and-meshes/?p=107121)')),G()}),U.pages.push(Y);break}else{var J=new D;J.name=Z,J.page=Y;var Q='true'==X.readValue()?6:0;X.readTuple(V);var $=parseInt(V[0]),te=parseInt(V[1]);X.readTuple(V);var re=parseInt(V[0]),ne=parseInt(V[1]),oe=Y.baseTexture.resolution;$/=oe,te/=oe,re/=oe,ne/=oe;var ie=new PIXI.Rectangle($,te,Q?ne:re,Q?re:ne);4==X.readTuple(V)&&4==X.readTuple(V)&&X.readTuple(V);var se=parseInt(V[0])/oe,le=parseInt(V[1])/oe;X.readTuple(V);var de=parseInt(V[0])/oe,ue=parseInt(V[1])/oe,pe=new PIXI.Rectangle(0,0,se,le),ce=new PIXI.Rectangle(de,le-ne-ue,re,ne);if('4'==PIXI.VERSION[0])J.texture=new PIXI.Texture(J.page.baseTexture,ie,pe,ce,Q);else{var fe=new PIXI.Rectangle($,te,re,ne),he=fe.clone();ce.width=se,ce.height=le,J.texture=new PIXI.Texture(J.page.baseTexture,fe,he,ce,Q)}J.index=parseInt(X.readValue()),J.texture._updateUvs(),U.regions.push(J)}}};G()},L.prototype.findRegion=function(N){for(var F=0;F<this.regions.length;F++)if(this.regions[F].name==N)return this.regions[F];return null},L.prototype.dispose=function(){for(var N=0;N<this.pages.length;N++)this.pages[N].baseTexture.dispose()},L}();R.TextureAtlas=I;var A=function(){function L(N){this.index=0,this.lines=N.split(/\r\n|\r|\n/)}return L.prototype.readLine=function(){return this.index>=this.lines.length?null:this.lines[this.index++]},L.prototype.readValue=function(){var N=this.readLine(),F=N.indexOf(':');if(-1==F)throw new Error('Invalid line: '+N);return N.substring(F+1).trim()},L.prototype.readTuple=function(N){var F=this.readLine(),B=F.indexOf(':');if(-1==B)throw new Error('Invalid line: '+F);for(var U=0,X=B+1,V;3>U&&(V=F.indexOf(',',X),-1!=V);U++)N[U]=F.substr(X,V-X).trim(),X=V+1;return N[U]=F.substring(X).trim(),U+1},L}(),O=function(){function L(){}return L.prototype.setFilters=function(){var N=this.baseTexture,F=this.minFilter;F==R.TextureFilter.Linear?N.scaleMode=PIXI.SCALE_MODES.LINEAR:this.minFilter==R.TextureFilter.Nearest?N.scaleMode=PIXI.SCALE_MODES.NEAREST:(N.mipmap=!0,N.scaleMode=F==R.TextureFilter.MipMapNearestNearest?PIXI.SCALE_MODES.NEAREST:PIXI.SCALE_MODES.LINEAR)},L}();R.TextureAtlasPage=O;var D=function(L){function N(){return null!==L&&L.apply(this,arguments)||this}return S(N,L),N}(R.TextureRegion);R.TextureAtlasRegion=D})(C=M.core||(M.core={}))}(P||(P={})),function(M){var C;(function(R){var I=function(){function A(O,D){if(this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.temp=new R.Vector2,null==O)throw new Error('data cannot be null.');if(null==D)throw new Error('skeleton cannot be null.');this.data=O,this.rotateMix=O.rotateMix,this.translateMix=O.translateMix,this.scaleMix=O.scaleMix,this.shearMix=O.shearMix,this.bones=[];for(var L=0;L<O.bones.length;L++)this.bones.push(D.findBone(O.bones[L].name));this.target=D.findBone(O.target.name)}return A.prototype.apply=function(){this.update()},A.prototype.update=function(){for(var O=this.rotateMix,D=this.translateMix,L=this.scaleMix,N=this.shearMix,F=this.target,B=F.matrix.a,U=F.matrix.c,X=F.matrix.b,V=F.matrix.d,Y=this.bones,G=0,Z=Y.length;G<Z;G++){var K=Y[G],J=K.matrix,Q=!1;if(0!=O){var $=J.a,te=J.c,re=J.b,ne=J.d,oe=_Mathatan(X,B)-_Mathatan(re,$)+this.data.offsetRotation*R.MathUtils.degRad;oe>R.MathUtils.PI?oe-=R.MathUtils.PI2:oe<-R.MathUtils.PI&&(oe+=R.MathUtils.PI2),oe*=O;var ie=_Mathcos(oe),se=_Mathsin(oe);J.a=ie*$-se*re,J.c=ie*te-se*ne,J.b=se*$+ie*re,J.d=se*te+ie*ne,Q=!0}if(0!=D){var le=this.temp;F.localToWorld(le.set(this.data.offsetX,this.data.offsetY)),J.tx+=(le.x-J.tx)*D,J.ty+=(le.y-J.ty)*D,Q=!0}if(0<L){var de=_Mathsqrt(J.a*J.a+J.b*J.b),ue=_Mathsqrt(B*B+X*X);1e-5<de&&(de=(de+(ue-de+this.data.offsetScaleX)*L)/de),J.a*=de,J.b*=de,de=_Mathsqrt(J.c*J.c+J.d*J.d),ue=_Mathsqrt(U*U+V*V),1e-5<de&&(de=(de+(ue-de+this.data.offsetScaleY)*L)/de),J.c*=de,J.d*=de,Q=!0}if(0<N){var te=J.c,ne=J.d,pe=_Mathatan(ne,te),oe=_Mathatan(V,U)-_Mathatan(X,B)-(pe-_Mathatan(J.b,J.a));oe>R.MathUtils.PI?oe-=R.MathUtils.PI2:oe<-R.MathUtils.PI&&(oe+=R.MathUtils.PI2),oe=pe+(oe+this.data.offsetShearY*R.MathUtils.degRad)*N;var de=_Mathsqrt(te*te+ne*ne);J.c=_Mathcos(oe)*de,J.d=_Mathsin(oe)*de,Q=!0}Q&&(K.appliedValid=!1)}},A.prototype.getOrder=function(){return this.data.order},A}();R.TransformConstraint=I})(C=M.core||(M.core={}))}(P||(P={})),function(M){var C;(function(R){var I=function(){return function(O){if(this.order=0,this.bones=[],this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.offsetRotation=0,this.offsetX=0,this.offsetY=0,this.offsetScaleX=0,this.offsetScaleY=0,this.offsetShearY=0,null==O)throw new Error('name cannot be null.');this.name=O}}();R.TransformConstraintData=I})(C=M.core||(M.core={}))}(P||(P={})),function(M){var C;(function(R){var I=function(){function U(){this.array=[]}return U.prototype.add=function(X){var V=this.contains(X);return this.array[0|X]=0|X,!V},U.prototype.contains=function(X){return void 0!=this.array[0|X]},U.prototype.remove=function(X){this.array[0|X]=void 0},U.prototype.clear=function(){this.array.length=0},U}();R.IntSet=I;var A=function(){function U(X,V,Y,G){void 0===X&&(X=0),void 0===V&&(V=0),void 0===Y&&(Y=0),void 0===G&&(G=0),this.r=X,this.g=V,this.b=Y,this.a=G}return U.prototype.set=function(X,V,Y,G){return this.r=X,this.g=V,this.b=Y,this.a=G,this.clamp(),this},U.prototype.setFromColor=function(X){return this.r=X.r,this.g=X.g,this.b=X.b,this.a=X.a,this},U.prototype.setFromString=function(X){return X='#'==X.charAt(0)?X.substr(1):X,this.r=parseInt(X.substr(0,2),16)/255,this.g=parseInt(X.substr(2,2),16)/255,this.b=parseInt(X.substr(4,2),16)/255,this.a=(8==X.length?parseInt(X.substr(6,2),16):255)/255,this},U.prototype.add=function(X,V,Y,G){return this.r+=X,this.g+=V,this.b+=Y,this.a+=G,this.clamp(),this},U.prototype.clamp=function(){return 0>this.r?this.r=0:1<this.r&&(this.r=1),0>this.g?this.g=0:1<this.g&&(this.g=1),0>this.b?this.b=0:1<this.b&&(this.b=1),0>this.a?this.a=0:1<this.a&&(this.a=1),this},U}();A.WHITE=new A(1,1,1,1),A.RED=new A(1,0,0,1),A.GREEN=new A(0,1,0,1),A.BLUE=new A(0,0,1,1),A.MAGENTA=new A(1,0,1,1),R.Color=A;var O=function(){function U(){}return U.clamp=function(X,V,Y){return X<V?V:X>Y?Y:X},U.cosDeg=function(X){return _Mathcos(X*U.degRad)},U.sinDeg=function(X){return _Mathsin(X*U.degRad)},U.signum=function(X){return 0<X?1:0>X?-1:0},U.toInt=function(X){return 0<X?_Mathfloor(X):_Mathceil(X)},U.cbrt=function(X){var V=Math.pow(_Mathabs(X),1/3);return 0>X?-V:V},U}();O.PI=3.1415927,O.PI2=2*O.PI,O.radiansToDegrees=180/O.PI,O.radDeg=O.radiansToDegrees,O.degreesToRadians=O.PI/180,O.degRad=O.degreesToRadians,R.MathUtils=O;var D=function(){function U(){}return U.arrayCopy=function(X,V,Y,G,Z){for(var K=V,J=G;K<V+Z;K++,J++)Y[J]=X[K]},U.setArraySize=function(X,V,Y){void 0===Y&&(Y=0);var G=X.length;if(G==V)return X;if(X.length=V,G<V)for(var Z=G;Z<V;Z++)X[Z]=Y;return X},U.ensureArrayCapacity=function(X,V,Y){return void 0===Y&&(Y=0),X.length>=V?X:U.setArraySize(X,V,Y)},U.newArray=function(X,V){for(var Y=Array(X),G=0;G<X;G++)Y[G]=V;return Y},U.newFloatArray=function(X){if(U.SUPPORTS_TYPED_ARRAYS)return new Float32Array(X);for(var V=Array(X),Y=0;Y<V.length;Y++)V[Y]=0;return V},U.toFloatArray=function(X){return U.SUPPORTS_TYPED_ARRAYS?new Float32Array(X):X},U}();D.SUPPORTS_TYPED_ARRAYS='undefined'!=typeof Float32Array,R.Utils=D;var L=function(){function U(){}return U.logBones=function(X){for(var V=0;V<X.bones.length;V++){var Y=X.bones[V],G=Y.matrix;console.log(Y.data.name+', '+G.a+', '+G.b+', '+G.c+', '+G.d+', '+G.tx+', '+G.ty)}},U}();R.DebugUtils=L;var N=function(){function U(X){this.items=[],this.instantiator=X}return U.prototype.obtain=function(){return 0<this.items.length?this.items.pop():this.instantiator()},U.prototype.free=function(X){X.reset&&X.reset(),this.items.push(X)},U.prototype.freeAll=function(X){for(var V=0;V<X.length;V++)X[V].reset&&X[V].reset(),this.items[V]=X[V]},U.prototype.clear=function(){this.items.length=0},U}();R.Pool=N;var F=function(){function U(X,V){void 0===X&&(X=0),void 0===V&&(V=0),this.x=X,this.y=V}return U.prototype.set=function(X,V){return this.x=X,this.y=V,this},U.prototype.length=function(){var X=this.x,V=this.y;return _Mathsqrt(X*X+V*V)},U.prototype.normalize=function(){var X=this.length();return 0!=X&&(this.x/=X,this.y/=X),this},U}();R.Vector2=F;var B=function(){function U(){this.maxDelta=0.064,this.framesPerSecond=0,this.delta=0,this.totalTime=0,this.lastTime=Date.now()/1e3,this.frameCount=0,this.frameTime=0}return U.prototype.update=function(){var X=Date.now()/1e3;this.delta=X-this.lastTime,this.frameTime+=this.delta,this.totalTime+=this.delta,this.delta>this.maxDelta&&(this.delta=this.maxDelta),this.lastTime=X,this.frameCount++,1<this.frameTime&&(this.framesPerSecond=this.frameCount/this.frameTime,this.frameTime=0,this.frameCount=0)},U}();R.TimeKeeper=B})(C=M.core||(M.core={}))}(P||(P={})),function(M){function C(O){var D=PIXI.loaders.Resource.TYPE;return D?O.type===D.JSON:O.isJson}function R(){return function(O,D){if(!O.data||!C(O)||!O.data.bones)return D();var L=O.metadata?O.metadata.spineSkeletonScale:null,N=O.metadata?O.metadata.spineAtlas:null;if(!1===N)return D();if(N&&N.pages){var F=new M.core.SkeletonJson(new M.core.AtlasAttachmentLoader(N)),B=F.readSkeletonData(O.data);return O.spineData=B,O.spineAtlas=N,D()}var U='.atlas';O.metadata&&O.metadata.spineAtlasSuffix&&(U=O.metadata.spineAtlasSuffix);var X=O.url.substr(0,O.url.lastIndexOf('.'))+U;X=X.replace(this.baseUrl,'');var V={crossOrigin:O.crossOrigin,xhrType:PIXI.loaders.Resource.XHR_RESPONSE_TYPE.TEXT,metadata:O.metadata?O.metadata.spineMetadata:null,parentResource:O},Y={crossOrigin:O.crossOrigin,metadata:O.metadata?O.metadata.imageMetadata:null,parentResource:O},G=O.url.substr(0,O.url.lastIndexOf('/')+1);G=G.replace(this.baseUrl,'');var Z=I(this,O.name+'_atlas_page_',G,Y);this.add(O.name+'_atlas',X,V,function(K){new M.core.TextureAtlas(K.xhr.responseText,Z,function(J){var Q=new M.core.SkeletonJson(new M.core.AtlasAttachmentLoader(J));L&&(Q.scale=L);var $=Q.readSkeletonData(O.data);O.spineData=$,O.spineAtlas=J,D()})})}}function I(O,D,L,N){return L&&L.lastIndexOf('/')!==L.length-1&&(L+='/'),function(F,B){var X=L+F;O.add(D+F,X,N,function(V){B(V.texture.baseTexture)})}}M.atlasParser=R,M.imageLoaderAdapter=I,M.syncImageLoaderAdapter=function(O,D){return O&&O.lastIndexOf('/')!==O.length-1&&(O+='/'),function(L,N){N(PIXI.BaseTexture.fromImage(L,D))}},PIXI.loaders.Loader.addPixiMiddleware(R),PIXI.loader.use(R())}(P||(P={})),function(M){function C(){var D=this.parent.worldTransform,L=this.worldTransform,N=this.localTransform;L.a=N.a*D.a+N.b*D.c,L.b=N.a*D.b+N.b*D.d,L.c=N.c*D.a+N.d*D.c,L.d=N.c*D.b+N.d*D.d,L.tx=N.tx*D.a+N.ty*D.c+D.tx,L.ty=N.tx*D.b+N.ty*D.d+D.ty,this.worldAlpha=this.alpha*this.parent.worldAlpha,this._currentBounds=null}M.core.Bone.yDown=!0;var R=[0,0,0],I=function(D){function L(N){return D.call(this,N)||this}return S(L,D),L}(PIXI.Sprite);M.SpineSprite=I;var A=function(D){function L(N,F,B,U,X){return D.call(this,N,F,B,U,X)||this}return S(L,D),L}(PIXI.mesh.Mesh);M.SpineMesh=A;var O=function(D){function L(N){var F=D.call(this)||this;if(F.hackTextureBySlotName=function(J,Q,$){void 0===Q&&(Q=null),void 0===$&&($=null);var te=this.skeleton.findSlotIndex(J);return-1!=te&&this.hackTextureBySlotIndex(te,Q,$)},!N)throw new Error('The spineData param is required.');if('string'==typeof N)throw new Error('spineData param cant be string. Please use spine.Spine.fromAtlas("YOUR_RESOURCE_NAME") from now on.');F.spineData=N,F.skeleton=new M.core.Skeleton(N),F.skeleton.updateWorldTransform(),F.stateData=new M.core.AnimationStateData(N),F.state=new M.core.AnimationState(F.stateData),F.slotContainers=[];for(var B=0,U=F.skeleton.slots.length;B<U;B++){var X=F.skeleton.slots[B],V=X.attachment,Y=new PIXI.Container;if(F.slotContainers.push(Y),F.addChild(Y),V instanceof M.core.RegionAttachment){var G=V.region.name,Z=F.createSprite(X,V,G);X.currentSprite=Z,X.currentSpriteName=G,Y.addChild(Z)}else if(V instanceof M.core.MeshAttachment){var K=F.createMesh(X,V);X.currentMesh=K,X.currentMeshName=V.name,Y.addChild(K)}else continue}return F.autoUpdate=!0,F.tintRgb=new Float32Array([1,1,1]),F}return S(L,D),Object.defineProperty(L.prototype,'autoUpdate',{get:function(){return this.updateTransform===L.prototype.autoUpdateTransform},set:function(N){this.updateTransform=N?L.prototype.autoUpdateTransform:PIXI.Container.prototype.updateTransform},enumerable:!0,configurable:!0}),Object.defineProperty(L.prototype,'tint',{get:function(){return PIXI.utils.rgb2hex(this.tintRgb)},set:function(N){this.tintRgb=PIXI.utils.hex2rgb(N,this.tintRgb)},enumerable:!0,configurable:!0}),L.prototype.update=function(N){this.state.update(N),this.state.apply(this.skeleton),this.skeleton.updateWorldTransform();for(var F=this.skeleton.drawOrder,B=this.skeleton.slots,U=0,X=F.length;U<X;U++)this.children[U]=this.slotContainers[F[U].data.index];var V=this.tintRgb[0],Y=this.tintRgb[1],G=this.tintRgb[2];for(U=0,X=B.length;U<X;U++){var Z=B[U],K=Z.attachment,J=this.slotContainers[U];if(!K){J.visible=!1;continue}var Q=K.color;if(K instanceof M.core.RegionAttachment){var $=K.region;if($){Z.currentMesh&&(Z.currentMesh.visible=!1,Z.currentMesh=null,Z.currentMeshName=void 0);var te=$;if(!Z.currentSpriteName||Z.currentSpriteName!==te.name){var re=te.name;if(Z.currentSprite&&(Z.currentSprite.visible=!1),Z.sprites=Z.sprites||{},void 0!==Z.sprites[re])Z.sprites[re].visible=!0;else{var ne=this.createSprite(Z,K,re);J.addChild(ne)}Z.currentSprite=Z.sprites[re],Z.currentSpriteName=re}}if(J.transform){var oe=J.transform,ie=oe,se=void 0;ie.matrix2d?(se=ie.matrix2d,ie._dirtyVersion++,ie.version=ie._dirtyVersion,ie.isStatic=!0,ie.operMode=0):(ie.position&&(oe=new PIXI.TransformBase,J.transform=oe),se=oe.localTransform),Z.bone.matrix.copy(se)}else{var le=J.localTransform||new PIXI.Matrix;Z.bone.matrix.copy(le),J.localTransform=le,J.displayObjectUpdateTransform=C}R[0]=V*Z.color.r*Q.r,R[1]=Y*Z.color.g*Q.g,R[2]=G*Z.color.b*Q.b,Z.currentSprite.tint=PIXI.utils.rgb2hex(R),Z.currentSprite.blendMode=Z.blendMode}else if(K instanceof M.core.MeshAttachment){if(Z.currentSprite&&(Z.currentSprite.visible=!1,Z.currentSprite=null,Z.currentSpriteName=void 0,J.transform?J.transform=new PIXI.TransformStatic:(J.localTransform=new PIXI.Matrix,J.displayObjectUpdateTransform=PIXI.DisplayObject.prototype.updateTransform)),!Z.currentMeshName||Z.currentMeshName!==K.name){var de=K.name;if(Z.currentMesh&&(Z.currentMesh.visible=!1),Z.meshes=Z.meshes||{},void 0!==Z.meshes[de])Z.meshes[de].visible=!0;else{var ue=this.createMesh(Z,K);J.addChild(ue)}Z.currentMesh=Z.meshes[de],Z.currentMeshName=de}if(K.computeWorldVertices(Z,Z.currentMesh.vertices),'3'!==PIXI.VERSION[0]){var pe=Z.currentMesh.tintRgb;pe[0]=V*Z.color.r*Q.r,pe[1]=Y*Z.color.g*Q.g,pe[2]=G*Z.color.b*Q.b}Z.currentMesh.blendMode=Z.blendMode}else{J.visible=!1;continue}J.visible=!0,J.alpha=Z.color.a}},L.prototype.setSpriteRegion=function(N,F,B){F.region=B,F.texture=B.texture,B.size?(F.scale.x=B.size.width/B.originalWidth,F.scale.y=-B.size.height/B.originalHeight):(F.scale.x=N.scaleX*N.width/B.originalWidth,F.scale.y=-N.scaleY*N.height/B.originalHeight)},L.prototype.setMeshRegion=function(N,F,B){F.region=B,F.texture=B.texture,N.updateUVs(B,F.uvs),F.dirty++},L.prototype.autoUpdateTransform=function(){if(L.globalAutoUpdate){this.lastTime=this.lastTime||Date.now();var N=1e-3*(Date.now()-this.lastTime);this.lastTime=Date.now(),this.update(N)}else this.lastTime=0;PIXI.Container.prototype.updateTransform.call(this)},L.prototype.createSprite=function(N,F,B){var U=F.region;N.tempAttachment===F&&(U=N.tempRegion,N.tempAttachment=null,N.tempRegion=null);var X=U.texture,V=new I(X);return V.rotation=F.rotation*M.core.MathUtils.degRad,V.anchor.x=0.5,V.anchor.y=0.5,V.position.x=F.x,V.position.y=F.y,V.alpha=F.color.a,V.region=F.region,this.setSpriteRegion(F,V,F.region),N.sprites=N.sprites||{},N.sprites[B]=V,V},L.prototype.createMesh=function(N,F){var B=F.region;N.tempAttachment===F&&(B=N.tempRegion,N.tempAttachment=null,N.tempRegion=null);var U=new A(B.texture,new Float32Array(F.regionUVs.length),new Float32Array(F.regionUVs.length),new Uint16Array(F.triangles),PIXI.mesh.Mesh.DRAW_MODES.TRIANGLES);return U.canvasPadding=1.5,U.alpha=F.color.a,U.region=F.region,this.setMeshRegion(F,U,B),N.meshes=N.meshes||{},N.meshes[F.name]=U,U},(L.prototype.hackTextureBySlotIndex=function(N,F,B){void 0===F&&(F=null),void 0===B&&(B=null);var U=this.skeleton.slots[N];if(!U)return!1;var X=U.attachment,V=X.region;return F&&(V=new M.core.TextureRegion,V.texture=F,V.size=B),U.currentSprite&&U.currentSprite.region!=V?(this.setSpriteRegion(X,U.currentSprite,V),U.currentSprite.region=V):U.currentMesh&&U.currentMesh.region!=V?this.setMeshRegion(X,U.currentMesh,V):(U.tempRegion=V,U.tempAttachment=X),!0},L)}(PIXI.Container);O.globalAutoUpdate=!0,M.Spine=O}(P||(P={})),PIXI.spine=P},function(T,E){'use strict';E.__esModule=!0,E.default={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:!1}},function(T,E,S){'use strict';function P(N){return N&&N.__esModule?N:{default:N}}E.__esModule=!0,E.autoDetectRenderer=function(){var N=0<arguments.length&&arguments[0]!==void 0?arguments[0]:800,F=1<arguments.length&&arguments[1]!==void 0?arguments[1]:600,B=arguments[2],U=arguments[3];return!U&&I.isWebGLSupported()?new L.default(N,F,B):new O.default(N,F,B)};var R=S(2),I=function(N){if(N&&N.__esModule)return N;var F={};if(null!=N)for(var B in N)Object.prototype.hasOwnProperty.call(N,B)&&(F[B]=N[B]);return F.default=N,F}(R),A=S(12),O=P(A),D=S(18),L=P(D)},function(T,E,S){'use strict';function P(K){return K&&K.__esModule?K:{default:K}}function M(K,J){if(!(K instanceof J))throw new TypeError('Cannot call a class as a function')}function C(K,J){if(!K)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return J&&('object'==typeof J||'function'==typeof J)?J:K}function R(K,J){if('function'!=typeof J&&null!==J)throw new TypeError('Super expression must either be null or a function, not '+typeof J);K.prototype=Object.create(J&&J.prototype,{constructor:{value:K,enumerable:!1,writable:!0,configurable:!0}}),J&&(Object.setPrototypeOf?Object.setPrototypeOf(K,J):K.__proto__=J)}E.__esModule=!0;var I=function(){function K(J,Q){for(var $=0,te;$<Q.length;$++)te=Q[$],te.enumerable=te.enumerable||!1,te.configurable=!0,'value'in te&&(te.writable=!0),Object.defineProperty(J,te.key,te)}return function(J,Q,$){return Q&&K(J.prototype,Q),$&&K(J,$),J}}(),A=S(8),O=P(A),D=S(1),L=S(4),N=P(L),F=S(55),B=P(F),U=S(54),X=P(U),V=S(24),Y=P(V),G=S(3),Z=function(K){function J(){M(this,J);var Q=C(this,K.call(this)),$=N.default.TRANSFORM_MODE===D.TRANSFORM_MODE.STATIC?B.default:X.default;return Q.tempDisplayObjectParent=null,Q.transform=new $,Q.alpha=1,Q.visible=!0,Q.renderable=!0,Q.parent=null,Q.worldAlpha=1,Q.filterArea=null,Q._filters=null,Q._enabledFilters=null,Q._bounds=new Y.default,Q._boundsID=0,Q._lastBoundsID=-1,Q._boundsRect=null,Q._localBoundsRect=null,Q._mask=null,Q._destroyed=!1,Q}return R(J,K),J.prototype.updateTransform=function(){this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha,this._bounds.updateID++},J.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},J.prototype.getBounds=function($,te){return $||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._boundsID!==this._lastBoundsID&&this.calculateBounds(),te||(!this._boundsRect&&(this._boundsRect=new G.Rectangle),te=this._boundsRect),this._bounds.getRectangle(te)},J.prototype.getLocalBounds=function($){var te=this.transform,re=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform,$||(!this._localBoundsRect&&(this._localBoundsRect=new G.Rectangle),$=this._localBoundsRect);var ne=this.getBounds(!1,$);return this.parent=re,this.transform=te,ne},J.prototype.toGlobal=function($,te){var re=2<arguments.length&&void 0!==arguments[2]&&arguments[2];return re||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply($,te)},J.prototype.toLocal=function($,te,re,ne){return te&&($=te.toGlobal($,re,ne)),ne||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse($,re)},J.prototype.renderWebGL=function(){},J.prototype.renderCanvas=function(){},J.prototype.setParent=function($){if(!$||!$.addChild)throw new Error('setParent: Argument must be a Container');return $.addChild(this),$},J.prototype.setTransform=function(){var $=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,te=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,re=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,ne=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,oe=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,ie=5<arguments.length&&void 0!==arguments[5]?arguments[5]:0,se=6<arguments.length&&void 0!==arguments[6]?arguments[6]:0,le=7<arguments.length&&void 0!==arguments[7]?arguments[7]:0,de=8<arguments.length&&void 0!==arguments[8]?arguments[8]:0;return this.position.x=$,this.position.y=te,this.scale.x=re?re:1,this.scale.y=ne?ne:1,this.rotation=oe,this.skew.x=ie,this.skew.y=se,this.pivot.x=le,this.pivot.y=de,this},J.prototype.destroy=function(){this.removeAllListeners(),this.parent&&this.parent.removeChild(this),this.transform=null,this.parent=null,this._bounds=null,this._currentBounds=null,this._mask=null,this.filterArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},I(J,[{key:'_tempDisplayObjectParent',get:function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new J),this.tempDisplayObjectParent}},{key:'x',get:function(){return this.position.x},set:function($){this.transform.position.x=$}},{key:'y',get:function(){return this.position.y},set:function($){this.transform.position.y=$}},{key:'worldTransform',get:function(){return this.transform.worldTransform}},{key:'localTransform',get:function(){return this.transform.localTransform}},{key:'position',get:function(){return this.transform.position},set:function($){this.transform.position.copy($)}},{key:'scale',get:function(){return this.transform.scale},set:function($){this.transform.scale.copy($)}},{key:'pivot',get:function(){return this.transform.pivot},set:function($){this.transform.pivot.copy($)}},{key:'skew',get:function(){return this.transform.skew},set:function($){this.transform.skew.copy($)}},{key:'rotation',get:function(){return this.transform.rotation},set:function($){this.transform.rotation=$}},{key:'worldVisible',get:function(){var $=this;do{if(!$.visible)return!1;$=$.parent}while($);return!0}},{key:'mask',get:function(){return this._mask},set:function($){this._mask&&(this._mask.renderable=!0),this._mask=$,this._mask&&(this._mask.renderable=!1)}},{key:'filters',get:function(){return this._filters&&this._filters.slice()},set:function($){this._filters=$&&$.slice()}}]),J}(O.default);E.default=Z,Z.prototype.displayObjectUpdateTransform=Z.prototype.updateTransform},function(T,E,S){'use strict';function M(N,F){if(!(N instanceof F))throw new TypeError('Cannot call a class as a function')}function C(N,F){if(!N)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return F&&('object'==typeof F||'function'==typeof F)?F:N}function R(N,F){if('function'!=typeof F&&null!==F)throw new TypeError('Super expression must either be null or a function, not '+typeof F);N.prototype=Object.create(F&&F.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),F&&(Object.setPrototypeOf?Object.setPrototypeOf(N,F):N.__proto__=F)}E.__esModule=!0;var I=function(){function N(F,B){for(var U=0,X;U<B.length;U++)X=B[U],X.enumerable=X.enumerable||!1,X.configurable=!0,'value'in X&&(X.writable=!0),Object.defineProperty(F,X.key,X)}return function(F,B,U){return B&&N(F.prototype,B),U&&N(F,U),F}}(),A=S(3),O=S(25),D=function(N){return N&&N.__esModule?N:{default:N}}(O),L=function(N){function F(){M(this,F);var B=C(this,N.call(this));return B.position=new A.Point(0,0),B.scale=new A.Point(1,1),B.skew=new A.ObservablePoint(B.updateSkew,B,0,0),B.pivot=new A.Point(0,0),B._rotation=0,B._cx=1,B._sx=0,B._cy=0,B._sy=1,B}return R(F,N),F.prototype.updateSkew=function(){this._cx=_Mathcos(this._rotation+this.skew._y),this._sx=_Mathsin(this._rotation+this.skew._y),this._cy=-_Mathsin(this._rotation-this.skew._x),this._sy=_Mathcos(this._rotation-this.skew._x)},F.prototype.updateLocalTransform=function(){var U=this.localTransform;U.a=this._cx*this.scale.x,U.b=this._sx*this.scale.x,U.c=this._cy*this.scale.y,U.d=this._sy*this.scale.y,U.tx=this.position.x-(this.pivot.x*U.a+this.pivot.y*U.c),U.ty=this.position.y-(this.pivot.x*U.b+this.pivot.y*U.d)},F.prototype.updateTransform=function(U){var X=this.localTransform;X.a=this._cx*this.scale.x,X.b=this._sx*this.scale.x,X.c=this._cy*this.scale.y,X.d=this._sy*this.scale.y,X.tx=this.position.x-(this.pivot.x*X.a+this.pivot.y*X.c),X.ty=this.position.y-(this.pivot.x*X.b+this.pivot.y*X.d);var V=U.worldTransform,Y=this.worldTransform;Y.a=X.a*V.a+X.b*V.c,Y.b=X.a*V.b+X.b*V.d,Y.c=X.c*V.a+X.d*V.c,Y.d=X.c*V.b+X.d*V.d,Y.tx=X.tx*V.a+X.ty*V.c+V.tx,Y.ty=X.tx*V.b+X.ty*V.d+V.ty,this._worldID++},F.prototype.setFromMatrix=function(U){U.decompose(this)},I(F,[{key:'rotation',get:function(){return this._rotation},set:function(U){this._rotation=U,this.updateSkew()}}]),F}(D.default);E.default=L},function(T,E,S){'use strict';function M(N,F){if(!(N instanceof F))throw new TypeError('Cannot call a class as a function')}function C(N,F){if(!N)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return F&&('object'==typeof F||'function'==typeof F)?F:N}function R(N,F){if('function'!=typeof F&&null!==F)throw new TypeError('Super expression must either be null or a function, not '+typeof F);N.prototype=Object.create(F&&F.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),F&&(Object.setPrototypeOf?Object.setPrototypeOf(N,F):N.__proto__=F)}E.__esModule=!0;var I=function(){function N(F,B){for(var U=0,X;U<B.length;U++)X=B[U],X.enumerable=X.enumerable||!1,X.configurable=!0,'value'in X&&(X.writable=!0),Object.defineProperty(F,X.key,X)}return function(F,B,U){return B&&N(F.prototype,B),U&&N(F,U),F}}(),A=S(3),O=S(25),D=function(N){return N&&N.__esModule?N:{default:N}}(O),L=function(N){function F(){M(this,F);var B=C(this,N.call(this));return B.position=new A.ObservablePoint(B.onChange,B,0,0),B.scale=new A.ObservablePoint(B.onChange,B,1,1),B.pivot=new A.ObservablePoint(B.onChange,B,0,0),B.skew=new A.ObservablePoint(B.updateSkew,B,0,0),B._rotation=0,B._cx=1,B._sx=0,B._cy=0,B._sy=1,B._localID=0,B._currentLocalID=0,B}return R(F,N),F.prototype.onChange=function(){this._localID++},F.prototype.updateSkew=function(){this._cx=_Mathcos(this._rotation+this.skew._y),this._sx=_Mathsin(this._rotation+this.skew._y),this._cy=-_Mathsin(this._rotation-this.skew._x),this._sy=_Mathcos(this._rotation-this.skew._x),this._localID++},F.prototype.updateLocalTransform=function(){var U=this.localTransform;this._localID!==this._currentLocalID&&(U.a=this._cx*this.scale._x,U.b=this._sx*this.scale._x,U.c=this._cy*this.scale._y,U.d=this._sy*this.scale._y,U.tx=this.position._x-(this.pivot._x*U.a+this.pivot._y*U.c),U.ty=this.position._y-(this.pivot._x*U.b+this.pivot._y*U.d),this._currentLocalID=this._localID,this._parentID=-1)},F.prototype.updateTransform=function(U){var X=this.localTransform;if(this._localID!==this._currentLocalID&&(X.a=this._cx*this.scale._x,X.b=this._sx*this.scale._x,X.c=this._cy*this.scale._y,X.d=this._sy*this.scale._y,X.tx=this.position._x-(this.pivot._x*X.a+this.pivot._y*X.c),X.ty=this.position._y-(this.pivot._x*X.b+this.pivot._y*X.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==U._worldID){var V=U.worldTransform,Y=this.worldTransform;Y.a=X.a*V.a+X.b*V.c,Y.b=X.a*V.b+X.b*V.d,Y.c=X.c*V.a+X.d*V.c,Y.d=X.c*V.b+X.d*V.d,Y.tx=X.tx*V.a+X.ty*V.c+V.tx,Y.ty=X.tx*V.b+X.ty*V.d+V.ty,this._parentID=U._worldID,this._worldID++}},F.prototype.setFromMatrix=function(U){U.decompose(this),this._localID++},I(F,[{key:'rotation',get:function(){return this._rotation},set:function(U){this._rotation=U,this.updateSkew()}}]),F}(D.default);E.default=L},function(T,E){'use strict';function P(C,R){if(!(C instanceof R))throw new TypeError('Cannot call a class as a function')}E.__esModule=!0;var M=function(){function C(R,I,A,O,D,L,N,F){P(this,C),this.lineWidth=R,this.nativeLines=N,this.lineColor=I,this.lineAlpha=A,this._lineTint=I,this.fillColor=O,this.fillAlpha=D,this._fillTint=O,this.fill=L,this.holes=[],this.shape=F,this.type=F.type}return C.prototype.clone=function(){return new C(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.fill,this.nativeLines,this.shape)},C.prototype.addHole=function(I){this.holes.push(I)},C.prototype.destroy=function(){this.shape=null,this.holes=null},C}();E.default=M},function(T,E,S){'use strict';function M(U){return 0>U?-1:0<U?1:0}E.__esModule=!0;var R=S(26),I=function(U){return U&&U.__esModule?U:{default:U}}(R),A=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],O=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],D=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],L=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],N=[],F=[];(function(){for(var U=0,X;16>U;U++){X=[],F.push(X);for(var V=0;16>V;V++)for(var Y=M(A[U]*A[V]+D[U]*O[V]),G=M(O[U]*A[V]+L[U]*O[V]),Z=M(A[U]*D[V]+D[U]*L[V]),K=M(O[U]*D[V]+L[U]*L[V]),J=0;16>J;J++)if(A[J]===Y&&O[J]===G&&D[J]===Z&&L[J]===K){X.push(J);break}}for(var Q=0,$;16>Q;Q++)$=new I.default,$.set(A[Q],O[Q],D[Q],L[Q],0,0),N.push($)})();var B={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MIRROR_HORIZONTAL:12,uX:function(X){return A[X]},uY:function(X){return O[X]},vX:function(X){return D[X]},vY:function(X){return L[X]},inv:function(X){return 8&X?15&X:7&-X},add:function(X,V){return F[X][V]},sub:function(X,V){return F[X][B.inv(V)]},rotate180:function(X){return 4^X},isSwapWidthHeight:function(X){return 2==(3&X)},byDirection:function(X,V){if(2*_Mathabs(X)<=_Mathabs(V))return 0<=V?B.S:B.N;return 2*_Mathabs(V)<=_Mathabs(X)?0<X?B.E:B.W:0<V?0<X?B.SE:B.SW:0<X?B.NE:B.NW},matrixAppendRotationInv:function(X,V){var Y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0,G=3<arguments.length&&arguments[3]!==void 0?arguments[3]:0,Z=N[B.inv(V)];Z.tx=Y,Z.ty=G,X.append(Z)}};E.default=B},function(T,E){'use strict';function P(R,I){if(!(R instanceof I))throw new TypeError('Cannot call a class as a function')}E.__esModule=!0;var M=function(){function R(I,A){for(var O=0,D;O<A.length;O++)D=A[O],D.enumerable=D.enumerable||!1,D.configurable=!0,'value'in D&&(D.writable=!0),Object.defineProperty(I,D.key,D)}return function(I,A,O){return A&&R(I.prototype,A),O&&R(I,O),I}}(),C=function(){function R(I,A){var O=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,D=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0;P(this,R),this._x=O,this._y=D,this.cb=I,this.scope=A}return R.prototype.set=function(A,O){var D=A||0,L=O||(0===O?0:D);(this._x!==D||this._y!==L)&&(this._x=D,this._y=L,this.cb.call(this.scope))},R.prototype.copy=function(A){(this._x!==A.x||this._y!==A.y)&&(this._x=A.x,this._y=A.y,this.cb.call(this.scope))},M(R,[{key:'x',get:function(){return this._x},set:function(A){this._x!==A&&(this._x=A,this.cb.call(this.scope))}},{key:'y',get:function(){return this._y},set:function(A){this._y!==A&&(this._y=A,this.cb.call(this.scope))}}]),R}();E.default=C},function(T,E,S){'use strict';function P(K){return K&&K.__esModule?K:{default:K}}function M(K,J){if(!(K instanceof J))throw new TypeError('Cannot call a class as a function')}function C(K,J){if(!K)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return J&&('object'==typeof J||'function'==typeof J)?J:K}function R(K,J){if('function'!=typeof J&&null!==J)throw new TypeError('Super expression must either be null or a function, not '+typeof J);K.prototype=Object.create(J&&J.prototype,{constructor:{value:K,enumerable:!1,writable:!0,configurable:!0}}),J&&(Object.setPrototypeOf?Object.setPrototypeOf(K,J):K.__proto__=J)}E.__esModule=!0;var I=function(){function K(J,Q){for(var $=0,te;$<Q.length;$++)te=Q[$],te.enumerable=te.enumerable||!1,te.configurable=!0,'value'in te&&(te.writable=!0),Object.defineProperty(J,te.key,te)}return function(J,Q,$){return Q&&K(J.prototype,Q),$&&K(J,$),J}}(),A=S(2),O=S(3),D=S(1),L=S(4),N=P(L),F=S(11),B=P(F),U=S(31),X=P(U),V=S(8),Y=P(V),G=new O.Matrix,Z=function(K){function J(Q,$,te,re){M(this,J);var ne=C(this,K.call(this));if((0,A.sayHello)(Q),re)for(var oe in N.default.RENDER_OPTIONS)'undefined'==typeof re[oe]&&(re[oe]=N.default.RENDER_OPTIONS[oe]);else re=N.default.RENDER_OPTIONS;return ne.type=D.RENDERER_TYPE.UNKNOWN,ne.screen=new O.Rectangle(0,0,$||800,te||600),ne.view=re.view||document.createElement('canvas'),ne.resolution=re.resolution||N.default.RESOLUTION,ne.transparent=re.transparent,ne.autoResize=re.autoResize||!1,ne.blendModes=null,ne.preserveDrawingBuffer=re.preserveDrawingBuffer,ne.clearBeforeRender=re.clearBeforeRender,ne.roundPixels=re.roundPixels,ne._backgroundColor=0,ne._backgroundColorRgba=[0,0,0,0],ne._backgroundColorString='#000000',ne.backgroundColor=re.backgroundColor||ne._backgroundColor,ne._tempDisplayObjectParent=new B.default,ne._lastObjectRendered=ne._tempDisplayObjectParent,ne}return R(J,K),J.prototype.resize=function($,te){this.screen.width=$,this.screen.height=te,this.view.width=$*this.resolution,this.view.height=te*this.resolution,this.autoResize&&(this.view.style.width=$+'px',this.view.style.height=te+'px')},J.prototype.generateTexture=function($,te,re){var ne=$.getLocalBounds(),oe=X.default.create(0|ne.width,0|ne.height,te,re);return G.tx=-ne.x,G.ty=-ne.y,this.render($,oe,!1,G,!0),oe},J.prototype.destroy=function($){$&&this.view.parentNode&&this.view.parentNode.removeChild(this.view),this.type=D.RENDERER_TYPE.UNKNOWN,this.view=null,this.screen=null,this.resolution=0,this.transparent=!1,this.autoResize=!1,this.blendModes=null,this.preserveDrawingBuffer=!1,this.clearBeforeRender=!1,this.roundPixels=!1,this._backgroundColor=0,this._backgroundColorRgba=null,this._backgroundColorString=null,this.backgroundColor=0,this._tempDisplayObjectParent=null,this._lastObjectRendered=null},I(J,[{key:'width',get:function(){return this.view.width}},{key:'height',get:function(){return this.view.height}},{key:'backgroundColor',get:function(){return this._backgroundColor},set:function($){this._backgroundColor=$,this._backgroundColorString=(0,A.hex2string)($),(0,A.hex2rgb)($,this._backgroundColorRgba)}}]),J}(Y.default);E.default=Z},function(T,E,S){'use strict';function M(O,D){if(!(O instanceof D))throw new TypeError('Cannot call a class as a function')}E.__esModule=!0;var C=function(){function O(D,L){for(var N=0,F;N<L.length;N++)F=L[N],F.enumerable=F.enumerable||!1,F.configurable=!0,'value'in F&&(F.writable=!0),Object.defineProperty(D,F.key,F)}return function(D,L,N){return L&&O(D.prototype,L),N&&O(D,N),D}}(),R=S(4),I=function(O){return O&&O.__esModule?O:{default:O}}(R),A=function(){function O(D,L,N){M(this,O),this.canvas=document.createElement('canvas'),this.context=this.canvas.getContext('2d'),this.resolution=N||I.default.RESOLUTION,this.resize(D,L)}return O.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},O.prototype.resize=function(L,N){this.canvas.width=L*this.resolution,this.canvas.height=N*this.resolution},O.prototype.destroy=function(){this.context=null,this.canvas=null},C(O,[{key:'width',get:function(){return this.canvas.width},set:function(L){this.canvas.width=L}},{key:'height',get:function(){return this.canvas.height},set:function(L){this.canvas.height=L}}]),O}();E.default=A},function(T,E){'use strict';function P(C){var R=document.createElement('canvas');R.width=6,R.height=1;var I=R.getContext('2d');return I.fillStyle=C,I.fillRect(0,0,6,1),R}E.__esModule=!0,E.default=function(){if('undefined'==typeof document)return!1;var C=P('#ff00ff'),R=P('#ffff00'),I=document.createElement('canvas');I.width=6,I.height=1;var A=I.getContext('2d');A.globalCompositeOperation='multiply',A.drawImage(C,0,0),A.drawImage(R,2,0);var O=A.getImageData(2,0,1,1);if(!O)return!1;var D=O.data;return 255===D[0]&&0===D[1]&&0===D[2]}},function(T,E,S){'use strict';function P(B){return B&&B.__esModule?B:{default:B}}function M(B,U){if(!(B instanceof U))throw new TypeError('Cannot call a class as a function')}E.__esModule=!0;var C=function(){function B(U,X){for(var V=0,Y;V<X.length;V++)Y=X[V],Y.enumerable=Y.enumerable||!1,Y.configurable=!0,'value'in Y&&(Y.writable=!0),Object.defineProperty(U,Y.key,Y)}return function(U,X,V){return X&&B(U.prototype,X),V&&B(U,V),U}}(),R=S(122),I=P(R),A=S(2),O=S(1),D=S(4),L=P(D),N={},F=function(){function B(U,X,V){for(var Y in M(this,B),this.vertexSrc=U||B.defaultVertexSrc,this.fragmentSrc=X||B.defaultFragmentSrc,this.blendMode=O.BLEND_MODES.NORMAL,this.uniformData=V||(0,I.default)(this.vertexSrc,this.fragmentSrc,'projectionMatrix|uSampler'),this.uniforms={},this.uniformData)this.uniforms[Y]=this.uniformData[Y].value;this.glShaders={},N[this.vertexSrc+this.fragmentSrc]||(N[this.vertexSrc+this.fragmentSrc]=(0,A.uid)()),this.glShaderKey=N[this.vertexSrc+this.fragmentSrc],this.padding=4,this.resolution=L.default.RESOLUTION,this.enabled=!0,this.autoFit=!0}return B.prototype.apply=function(X,V,Y,G){X.applyFilter(this,V,Y,G)},C(B,null,[{key:'defaultVertexSrc',get:function(){return['attribute vec2 aVertexPosition;','attribute vec2 aTextureCoord;','uniform mat3 projectionMatrix;','uniform mat3 filterMatrix;','varying vec2 vTextureCoord;','varying vec2 vFilterCoord;','void main(void){','   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);','   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;','   vTextureCoord = aTextureCoord ;','}'].join('\n')}},{key:'defaultFragmentSrc',get:function(){return['varying vec2 vTextureCoord;','varying vec2 vFilterCoord;','uniform sampler2D uSampler;','uniform sampler2D filterSampler;','void main(void){','   vec4 masky = texture2D(filterSampler, vFilterCoord);','   vec4 sample = texture2D(uSampler, vTextureCoord);','   vec4 color;','   if(mod(vFilterCoord.x, 1.0) > 0.5)','   {','     color = vec4(1.0, 0.0, 0.0, 1.0);','   }','   else','   {','     color = vec4(0.0, 1.0, 0.0, 1.0);','   }','   gl_FragColor = mix(sample, masky, 0.5);','   gl_FragColor *= sample.a;','}'].join('\n')}}]),B}();E.default=F},function(T,E,S){'use strict';function M(N,F){if(!(N instanceof F))throw new TypeError('Cannot call a class as a function')}function C(N,F){if(!N)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return F&&('object'==typeof F||'function'==typeof F)?F:N}function R(N,F){if('function'!=typeof F&&null!==F)throw new TypeError('Super expression must either be null or a function, not '+typeof F);N.prototype=Object.create(F&&F.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),F&&(Object.setPrototypeOf?Object.setPrototypeOf(N,F):N.__proto__=F)}E.__esModule=!0;var I=S(62),A=function(N){return N&&N.__esModule?N:{default:N}}(I),O=S(3),D=S(6),L=function(N){function F(B){M(this,F);var U=new O.Matrix,X=C(this,N.call(this,'attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n','varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float alpha;\nuniform sampler2D mask;\n\nvoid main(void)\n{\n    // check clip! this will stop the mask bleeding out from the edges\n    vec2 text = abs( vMaskCoord - 0.5 );\n    text = step(0.5, text);\n\n    float clip = 1.0 - max(text.y, text.x);\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n\n    original *= (masky.r * masky.a * alpha * clip);\n\n    gl_FragColor = original;\n}\n'));return B.renderable=!1,X.maskSprite=B,X.maskMatrix=U,X}return R(F,N),F.prototype.apply=function(U,X,V){var Y=this.maskSprite;this.uniforms.mask=Y._texture,this.uniforms.otherMatrix=U.calculateSpriteMatrix(this.maskMatrix,Y),this.uniforms.alpha=Y.worldAlpha,U.applyFilter(this,X,V)},F}(A.default);E.default=L},function(T,E,S){'use strict';function P(D){return D&&D.__esModule?D:{default:D}}function M(D,L){if(!(D instanceof L))throw new TypeError('Cannot call a class as a function')}E.__esModule=!0;var C=S(5),R=P(C),I=S(33),A=P(I),O=function(){function D(L,N){M(this,D),this.gl=L,this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.interleaved=new Float32Array(16);for(var F=0;4>F;F++)this.interleaved[4*F]=this.vertices[2*F],this.interleaved[4*F+1]=this.vertices[2*F+1],this.interleaved[4*F+2]=this.uvs[2*F],this.interleaved[4*F+3]=this.uvs[2*F+1];this.indices=(0,A.default)(1),this.vertexBuffer=R.default.GLBuffer.createVertexBuffer(L,this.interleaved,L.STATIC_DRAW),this.indexBuffer=R.default.GLBuffer.createIndexBuffer(L,this.indices,L.STATIC_DRAW),this.vao=new R.default.VertexArrayObject(L,N)}return D.prototype.initVao=function(N){this.vao.clear().addIndex(this.indexBuffer).addAttribute(this.vertexBuffer,N.attributes.aVertexPosition,this.gl.FLOAT,!1,16,0).addAttribute(this.vertexBuffer,N.attributes.aTextureCoord,this.gl.FLOAT,!1,16,8)},D.prototype.map=function(N,F){var B=0,U=0;return this.uvs[0]=B,this.uvs[1]=U,this.uvs[2]=B+F.width/N.width,this.uvs[3]=U,this.uvs[4]=B+F.width/N.width,this.uvs[5]=U+F.height/N.height,this.uvs[6]=B,this.uvs[7]=U+F.height/N.height,B=F.x,U=F.y,this.vertices[0]=B,this.vertices[1]=U,this.vertices[2]=B+F.width,this.vertices[3]=U,this.vertices[4]=B+F.width,this.vertices[5]=U+F.height,this.vertices[6]=B,this.vertices[7]=U+F.height,this},D.prototype.upload=function(){for(var N=0;4>N;N++)this.interleaved[4*N]=this.vertices[2*N],this.interleaved[4*N+1]=this.vertices[2*N+1],this.interleaved[4*N+2]=this.uvs[2*N],this.interleaved[4*N+3]=this.uvs[2*N+1];return this.vertexBuffer.upload(this.interleaved),this},D.prototype.destroy=function(){var N=this.gl;N.deleteBuffer(this.vertexBuffer),N.deleteBuffer(this.indexBuffer)},D}();E.default=O},function(T,E,S){'use strict';function P(N,F){if(!(N instanceof F))throw new TypeError('Cannot call a class as a function')}function M(N){return'number'==typeof N?(0,O.hex2string)(N):('string'==typeof N&&0===N.indexOf('0x')&&(N=N.replace('0x','#')),N)}function C(N){if(!Array.isArray(N))return M(N);for(var F=0;F<N.length;++F)N[F]=M(N[F]);return N}function R(N,F){if(!Array.isArray(N)||!Array.isArray(F))return!1;if(N.length!==F.length)return!1;for(var B=0;B<N.length;++B)if(N[B]!==F[B])return!1;return!0}E.__esModule=!0;var I=function(){function N(F,B){for(var U=0,X;U<B.length;U++)X=B[U],X.enumerable=X.enumerable||!1,X.configurable=!0,'value'in X&&(X.writable=!0),Object.defineProperty(F,X.key,X)}return function(F,B,U){return B&&N(F.prototype,B),U&&N(F,U),F}}(),A=S(1),O=S(2),D={align:'left',breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:_MathPI/6,dropShadowBlur:0,dropShadowColor:'#000000',dropShadowDistance:5,fill:'black',fillGradientType:A.TEXT_GRADIENT.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:'Arial',fontSize:26,fontStyle:'normal',fontVariant:'normal',fontWeight:'normal',letterSpacing:0,lineHeight:0,lineJoin:'miter',miterLimit:10,padding:0,stroke:'black',strokeThickness:0,textBaseline:'alphabetic',trim:!1,wordWrap:!1,wordWrapWidth:100},L=function(){function N(F){P(this,N),this.styleID=0,Object.assign(this,D,F)}return N.prototype.clone=function(){var B={};for(var U in D)B[U]=this[U];return new N(B)},N.prototype.reset=function(){Object.assign(this,D)},I(N,[{key:'align',get:function(){return this._align},set:function(B){this._align!==B&&(this._align=B,this.styleID++)}},{key:'breakWords',get:function(){return this._breakWords},set:function(B){this._breakWords!==B&&(this._breakWords=B,this.styleID++)}},{key:'dropShadow',get:function(){return this._dropShadow},set:function(B){this._dropShadow!==B&&(this._dropShadow=B,this.styleID++)}},{key:'dropShadowAlpha',get:function(){return this._dropShadowAlpha},set:function(B){this._dropShadowAlpha!==B&&(this._dropShadowAlpha=B,this.styleID++)}},{key:'dropShadowAngle',get:function(){return this._dropShadowAngle},set:function(B){this._dropShadowAngle!==B&&(this._dropShadowAngle=B,this.styleID++)}},{key:'dropShadowBlur',get:function(){return this._dropShadowBlur},set:function(B){this._dropShadowBlur!==B&&(this._dropShadowBlur=B,this.styleID++)}},{key:'dropShadowColor',get:function(){return this._dropShadowColor},set:function(B){var U=C(B);this._dropShadowColor!==U&&(this._dropShadowColor=U,this.styleID++)}},{key:'dropShadowDistance',get:function(){return this._dropShadowDistance},set:function(B){this._dropShadowDistance!==B&&(this._dropShadowDistance=B,this.styleID++)}},{key:'fill',get:function(){return this._fill},set:function(B){var U=C(B);this._fill!==U&&(this._fill=U,this.styleID++)}},{key:'fillGradientType',get:function(){return this._fillGradientType},set:function(B){this._fillGradientType!==B&&(this._fillGradientType=B,this.styleID++)}},{key:'fillGradientStops',get:function(){return this._fillGradientStops},set:function(B){R(this._fillGradientStops,B)||(this._fillGradientStops=B,this.styleID++)}},{key:'fontFamily',get:function(){return this._fontFamily},set:function(B){this.fontFamily!==B&&(this._fontFamily=B,this.styleID++)}},{key:'fontSize',get:function(){return this._fontSize},set:function(B){this._fontSize!==B&&(this._fontSize=B,this.styleID++)}},{key:'fontStyle',get:function(){return this._fontStyle},set:function(B){this._fontStyle!==B&&(this._fontStyle=B,this.styleID++)}},{key:'fontVariant',get:function(){return this._fontVariant},set:function(B){this._fontVariant!==B&&(this._fontVariant=B,this.styleID++)}},{key:'fontWeight',get:function(){return this._fontWeight},set:function(B){this._fontWeight!==B&&(this._fontWeight=B,this.styleID++)}},{key:'letterSpacing',get:function(){return this._letterSpacing},set:function(B){this._letterSpacing!==B&&(this._letterSpacing=B,this.styleID++)}},{key:'lineHeight',get:function(){return this._lineHeight},set:function(B){this._lineHeight!==B&&(this._lineHeight=B,this.styleID++)}},{key:'lineJoin',get:function(){return this._lineJoin},set:function(B){this._lineJoin!==B&&(this._lineJoin=B,this.styleID++)}},{key:'miterLimit',get:function(){return this._miterLimit},set:function(B){this._miterLimit!==B&&(this._miterLimit=B,this.styleID++)}},{key:'padding',get:function(){return this._padding},set:function(B){this._padding!==B&&(this._padding=B,this.styleID++)}},{key:'stroke',get:function(){return this._stroke},set:function(B){var U=C(B);this._stroke!==U&&(this._stroke=U,this.styleID++)}},{key:'strokeThickness',get:function(){return this._strokeThickness},set:function(B){this._strokeThickness!==B&&(this._strokeThickness=B,this.styleID++)}},{key:'textBaseline',get:function(){return this._textBaseline},set:function(B){this._textBaseline!==B&&(this._textBaseline=B,this.styleID++)}},{key:'trim',get:function(){return this._trim},set:function(B){this._trim!==B&&(this._trim=B,this.styleID++)}},{key:'wordWrap',get:function(){return this._wordWrap},set:function(B){this._wordWrap!==B&&(this._wordWrap=B,this.styleID++)}},{key:'wordWrapWidth',get:function(){return this._wordWrapWidth},set:function(B){this._wordWrapWidth!==B&&(this._wordWrapWidth=B,this.styleID++)}}]),N}();E.default=L},function(T,E,S){'use strict';function P(N){return N&&N.__esModule?N:{default:N}}function M(N,F){if(!(N instanceof F))throw new TypeError('Cannot call a class as a function')}function C(N,F){if(!N)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return F&&('object'==typeof F||'function'==typeof F)?F:N}function R(N,F){if('function'!=typeof F&&null!==F)throw new TypeError('Super expression must either be null or a function, not '+typeof F);N.prototype=Object.create(F&&F.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),F&&(Object.setPrototypeOf?Object.setPrototypeOf(N,F):N.__proto__=F)}E.__esModule=!0;var I=S(14),A=P(I),O=S(4),D=P(O),L=function(N){function F(){var B=0<arguments.length&&void 0!==arguments[0]?arguments[0]:100,U=1<arguments.length&&void 0!==arguments[1]?arguments[1]:100,X=arguments[2],V=arguments[3];M(this,F);var Y=C(this,N.call(this,null,X));return Y.resolution=V||D.default.RESOLUTION,Y.width=B,Y.height=U,Y.realWidth=Y.width*Y.resolution,Y.realHeight=Y.height*Y.resolution,Y.scaleMode=void 0===X?D.default.SCALE_MODE:X,Y.hasLoaded=!0,Y._glRenderTargets={},Y._canvasRenderTarget=null,Y.valid=!1,Y}return R(F,N),F.prototype.resize=function(U,X){(U!==this.width||X!==this.height)&&(this.valid=0<U&&0<X,this.width=U,this.height=X,this.realWidth=this.width*this.resolution,this.realHeight=this.height*this.resolution,this.valid&&this.emit('update',this))},F.prototype.destroy=function(){N.prototype.destroy.call(this,!0),this.renderer=null},F}(A.default);E.default=L},function(T,E,S){'use strict';function M(A,O){if(!(A instanceof O))throw new TypeError('Cannot call a class as a function')}E.__esModule=!0;var C=S(57),R=function(A){return A&&A.__esModule?A:{default:A}}(C),I=function(){function A(){M(this,A),this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsUint32=new Uint32Array(4)}return A.prototype.set=function(D,L,N){var F=L.width,B=L.height;if(N){var U=D.width/2/F,X=D.height/2/B,V=D.x/F+U,Y=D.y/B+X;N=R.default.add(N,R.default.NW),this.x0=V+U*R.default.uX(N),this.y0=Y+X*R.default.uY(N),N=R.default.add(N,2),this.x1=V+U*R.default.uX(N),this.y1=Y+X*R.default.uY(N),N=R.default.add(N,2),this.x2=V+U*R.default.uX(N),this.y2=Y+X*R.default.uY(N),N=R.default.add(N,2),this.x3=V+U*R.default.uX(N),this.y3=Y+X*R.default.uY(N)}else this.x0=D.x/F,this.y0=D.y/B,this.x1=(D.x+D.width)/F,this.y1=D.y/B,this.x2=(D.x+D.width)/F,this.y2=(D.y+D.height)/B,this.x3=D.x/F,this.y3=(D.y+D.height)/B;this.uvsUint32[0]=(65535&65535*this.y0)<<16|65535&65535*this.x0,this.uvsUint32[1]=(65535&65535*this.y1)<<16|65535&65535*this.x1,this.uvsUint32[2]=(65535&65535*this.y2)<<16|65535&65535*this.x2,this.uvsUint32[3]=(65535&65535*this.y3)<<16|65535&65535*this.x3},A}();E.default=I},function(T,E,S){'use strict';function C(X,V){if(!(X instanceof V))throw new TypeError('Cannot call a class as a function')}function R(X,V){if(!X)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return V&&('object'==typeof V||'function'==typeof V)?V:X}function I(X,V){if('function'!=typeof V&&null!==V)throw new TypeError('Super expression must either be null or a function, not '+typeof V);X.prototype=Object.create(V&&V.prototype,{constructor:{value:X,enumerable:!1,writable:!0,configurable:!0}}),V&&(Object.setPrototypeOf?Object.setPrototypeOf(X,V):X.__proto__=V)}function A(X,V){V||(V='video/'+X.substr(X.lastIndexOf('.')+1));var Y=document.createElement('source');return Y.src=X,Y.type=V,Y}E.__esModule=!0;var O=function(){function X(V,Y){for(var G=0,Z;G<Y.length;G++)Z=Y[G],Z.enumerable=Z.enumerable||!1,Z.configurable=!0,'value'in Z&&(Z.writable=!0),Object.defineProperty(V,Z.key,Z)}return function(V,Y,G){return Y&&X(V.prototype,Y),G&&X(V,G),V}}(),D=S(14),L=function(X){return X&&X.__esModule?X:{default:X}}(D),N=S(2),F=S(32),B=function(X){if(X&&X.__esModule)return X;var V={};if(null!=X)for(var Y in X)Object.prototype.hasOwnProperty.call(X,Y)&&(V[Y]=X[Y]);return V.default=X,V}(F),U=function(X){function V(Y,G){if(C(this,V),!Y)throw new Error('No video source element specified.');(Y.readyState===Y.HAVE_ENOUGH_DATA||Y.readyState===Y.HAVE_FUTURE_DATA)&&Y.width&&Y.height&&(Y.complete=!0);var Z=R(this,X.call(this,Y,G));return Z.width=Y.videoWidth,Z.height=Y.videoHeight,Z._autoUpdate=!0,Z._isAutoUpdating=!1,Z.autoPlay=!0,Z.update=Z.update.bind(Z),Z._onCanPlay=Z._onCanPlay.bind(Z),Y.addEventListener('play',Z._onPlayStart.bind(Z)),Y.addEventListener('pause',Z._onPlayStop.bind(Z)),Z.hasLoaded=!1,Z.__loaded=!1,Z._isSourceReady()?Z._onCanPlay():(Y.addEventListener('canplay',Z._onCanPlay),Y.addEventListener('canplaythrough',Z._onCanPlay)),Z}return I(V,X),V.prototype._isSourcePlaying=function(){var G=this.source;return 0<G.currentTime&&!1===G.paused&&!1===G.ended&&2<G.readyState},V.prototype._isSourceReady=function(){return 3===this.source.readyState||4===this.source.readyState},V.prototype._onPlayStart=function(){this.hasLoaded||this._onCanPlay(),!this._isAutoUpdating&&this.autoUpdate&&(B.shared.add(this.update,this),this._isAutoUpdating=!0)},V.prototype._onPlayStop=function(){this._isAutoUpdating&&(B.shared.remove(this.update,this),this._isAutoUpdating=!1)},V.prototype._onCanPlay=function(){this.hasLoaded=!0,this.source&&(this.source.removeEventListener('canplay',this._onCanPlay),this.source.removeEventListener('canplaythrough',this._onCanPlay),this.width=this.source.videoWidth,this.height=this.source.videoHeight,!this.__loaded&&(this.__loaded=!0,this.emit('loaded',this)),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.source.play())},V.prototype.destroy=function(){this._isAutoUpdating&&B.shared.remove(this.update,this),this.source&&this.source._pixiId&&(delete N.BaseTextureCache[this.source._pixiId],delete this.source._pixiId),X.prototype.destroy.call(this)},V.fromVideo=function(G,Z){G._pixiId||(G._pixiId='video_'+(0,N.uid)());var K=N.BaseTextureCache[G._pixiId];return K||(K=new V(G,Z),N.BaseTextureCache[G._pixiId]=K),K},V.fromUrl=function(G,Z){var K=document.createElement('video');if(K.setAttribute('webkit-playsinline',''),K.setAttribute('playsinline',''),Array.isArray(G))for(var J=0;J<G.length;++J)K.appendChild(A(G[J].src||G[J],G[J].mime));else K.appendChild(A(G.src||G,G.mime));return K.load(),V.fromVideo(K,Z)},O(V,[{key:'autoUpdate',get:function(){return this._autoUpdate},set:function(G){G!==this._autoUpdate&&(this._autoUpdate=G,!this._autoUpdate&&this._isAutoUpdating?(B.shared.remove(this.update,this),this._isAutoUpdating=!1):this._autoUpdate&&!this._isAutoUpdating&&(B.shared.add(this.update,this),this._isAutoUpdating=!0))}}]),V}(L.default);E.default=U,U.fromUrls=U.fromUrl},function(T,E,S){'use strict';function M(D,L){if(!(D instanceof L))throw new TypeError('Cannot call a class as a function')}E.__esModule=!0;var C=function(){function D(L,N){for(var F=0,B;F<N.length;F++)B=N[F],B.enumerable=B.enumerable||!1,B.configurable=!0,'value'in B&&(B.writable=!0),Object.defineProperty(L,B.key,B)}return function(L,N,F){return N&&D(L.prototype,N),F&&D(L,F),L}}(),R=S(26),I=function(D){return D&&D.__esModule?D:{default:D}}(R),A=new I.default,O=function(){function D(L,N){M(this,D),this._texture=L,this.mapCoord=new I.default,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._lastTextureID=-1,this.clampOffset=0,this.clampMargin='undefined'==typeof N?0.5:N}return D.prototype.update=function(N){var F=this._texture;if(F&&F.valid&&(N||this._lastTextureID!==F._updateID)){this._lastTextureID=F._updateID;var B=F._uvs;this.mapCoord.set(B.x1-B.x0,B.y1-B.y0,B.x3-B.x0,B.y3-B.y0,B.x0,B.y0);var U=F.orig,X=F.trim;X&&(A.set(U.width/X.width,0,0,U.height/X.height,-X.x/X.width,-X.y/X.height),this.mapCoord.append(A));var V=F.baseTexture,Y=this.uClampFrame,G=this.clampMargin/V.resolution,Z=this.clampOffset;Y[0]=(F._frame.x+G+Z)/V.width,Y[1]=(F._frame.y+G+Z)/V.height,Y[2]=(F._frame.x+F._frame.width-G+Z)/V.width,Y[3]=(F._frame.y+F._frame.height-G+Z)/V.height,this.uClampOffset[0]=Z/V.realWidth,this.uClampOffset[1]=Z/V.realHeight}},C(D,[{key:'texture',get:function(){return this._texture},set:function(N){this._texture=N,this._lastTextureID=-1}}]),D}();E.default=O},function(T,E,S){'use strict';function P(Y){return Y&&Y.__esModule?Y:{default:Y}}function C(Y,G){if(!(Y instanceof G))throw new TypeError('Cannot call a class as a function')}function R(Y,G){if(!Y)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return G&&('object'==typeof G||'function'==typeof G)?G:Y}function I(Y,G){if('function'!=typeof G&&null!==G)throw new TypeError('Super expression must either be null or a function, not '+typeof G);Y.prototype=Object.create(G&&G.prototype,{constructor:{value:Y,enumerable:!1,writable:!0,configurable:!0}}),G&&(Object.setPrototypeOf?Object.setPrototypeOf(Y,G):Y.__proto__=G)}E.__esModule=!0;var A=function(){function Y(G,Z){for(var K=0,J;K<Z.length;K++)J=Z[K],J.enumerable=J.enumerable||!1,J.configurable=!0,'value'in J&&(J.writable=!0),Object.defineProperty(G,J.key,J)}return function(G,Z,K){return Z&&Y(G.prototype,Z),K&&Y(G,K),G}}(),O=S(0),D=function(Y){if(Y&&Y.__esModule)return Y;var G={};if(null!=Y)for(var Z in Y)Object.prototype.hasOwnProperty.call(Y,Z)&&(G[Z]=Y[Z]);return G.default=Y,G}(O),L=S(73),N=P(L),F=S(72),B=P(F),U=S(74),X=P(U),V=function(Y){function G(Z,K,J,Q){C(this,G),Q=Q||5;var $=(0,N.default)(Q,!0),te=(0,B.default)(Q),re=R(this,Y.call(this,$,te));return re.resolution=J||D.settings.RESOLUTION,re._quality=0,re.quality=K||4,re.strength=Z||8,re.firstRun=!0,re}return I(G,Y),G.prototype.apply=function(K,J,Q,$){if(this.firstRun){var te=K.renderer.gl,re=(0,X.default)(te);this.vertexSrc=(0,N.default)(re,!0),this.fragmentSrc=(0,B.default)(re),this.firstRun=!1}if(this.uniforms.strength=1/Q.size.width*(Q.size.width/J.size.width),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)K.applyFilter(this,J,Q,$);else{for(var ne=K.getRenderTarget(!0),oe=J,ie=ne,se=0;se<this.passes-1;se++){K.applyFilter(this,oe,ie,!0);var le=ie;ie=oe,oe=le}K.applyFilter(this,oe,Q,$),K.returnRenderTarget(ne)}},A(G,[{key:'blur',get:function(){return this.strength},set:function(K){this.padding=2*_Mathabs(K),this.strength=K}},{key:'quality',get:function(){return this._quality},set:function(K){this._quality=K,this.passes=K}}]),G}(D.Filter);E.default=V},function(T,E,S){'use strict';function P(Y){return Y&&Y.__esModule?Y:{default:Y}}function C(Y,G){if(!(Y instanceof G))throw new TypeError('Cannot call a class as a function')}function R(Y,G){if(!Y)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return G&&('object'==typeof G||'function'==typeof G)?G:Y}function I(Y,G){if('function'!=typeof G&&null!==G)throw new TypeError('Super expression must either be null or a function, not '+typeof G);Y.prototype=Object.create(G&&G.prototype,{constructor:{value:Y,enumerable:!1,writable:!0,configurable:!0}}),G&&(Object.setPrototypeOf?Object.setPrototypeOf(Y,G):Y.__proto__=G)}E.__esModule=!0;var A=function(){function Y(G,Z){for(var K=0,J;K<Z.length;K++)J=Z[K],J.enumerable=J.enumerable||!1,J.configurable=!0,'value'in J&&(J.writable=!0),Object.defineProperty(G,J.key,J)}return function(G,Z,K){return Z&&Y(G.prototype,Z),K&&Y(G,K),G}}(),O=S(0),D=function(Y){if(Y&&Y.__esModule)return Y;var G={};if(null!=Y)for(var Z in Y)Object.prototype.hasOwnProperty.call(Y,Z)&&(G[Z]=Y[Z]);return G.default=Y,G}(O),L=S(73),N=P(L),F=S(72),B=P(F),U=S(74),X=P(U),V=function(Y){function G(Z,K,J,Q){C(this,G),Q=Q||5;var $=(0,N.default)(Q,!1),te=(0,B.default)(Q),re=R(this,Y.call(this,$,te));return re.resolution=J||D.settings.RESOLUTION,re._quality=0,re.quality=K||4,re.strength=Z||8,re.firstRun=!0,re}return I(G,Y),G.prototype.apply=function(K,J,Q,$){if(this.firstRun){var te=K.renderer.gl,re=(0,X.default)(te);this.vertexSrc=(0,N.default)(re,!1),this.fragmentSrc=(0,B.default)(re),this.firstRun=!1}if(this.uniforms.strength=1/Q.size.height*(Q.size.height/J.size.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)K.applyFilter(this,J,Q,$);else{for(var ne=K.getRenderTarget(!0),oe=J,ie=ne,se=0;se<this.passes-1;se++){K.applyFilter(this,oe,ie,!0);var le=ie;ie=oe,oe=le}K.applyFilter(this,oe,Q,$),K.returnRenderTarget(ne)}},A(G,[{key:'blur',get:function(){return this.strength},set:function(K){this.padding=2*_Mathabs(K),this.strength=K}},{key:'quality',get:function(){return this._quality},set:function(K){this._quality=K,this.passes=K}}]),G}(D.Filter);E.default=V},function(T,E){'use strict';E.__esModule=!0,E.default=function(R){for(var I=M[R],A=I.length,O=C,D='',N=void 0,F=0,B;F<R;F++)B='gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;'.replace('%index%',F),N=F,F>=A&&(N=R-F-1),B=B.replace('%value%',I[N]),D+=B,D+='\n';return O=O.replace('%blur%',D),O=O.replace('%size%',R),O};var M={5:[0.153388,0.221461,0.250301],7:[0.071303,0.131514,0.189879,0.214607],9:[0.028532,0.067234,0.124009,0.179044,0.20236],11:[0.0093,0.028002,0.065984,0.121703,0.175713,0.198596],13:[0.002406,0.009255,0.027867,0.065666,0.121117,0.174868,0.197641],15:[0.000489,0.002403,0.009246,0.02784,0.065602,0.120999,0.174697,0.197448]},C=['varying vec2 vBlurTexCoords[%size%];','uniform sampler2D uSampler;','void main(void)','{','    gl_FragColor = vec4(0.0);','    %blur%','}'].join('\n')},function(T,E){'use strict';E.__esModule=!0,E.default=function(C,R){var I=_Mathceil(C/2),A=M,O='',D;D=R?'vBlurTexCoords[%index%] = aTextureCoord + vec2(%sampleIndex% * strength, 0.0);':'vBlurTexCoords[%index%] = aTextureCoord + vec2(0.0, %sampleIndex% * strength);';for(var L=0,N;L<C;L++)N=D.replace('%index%',L),N=N.replace('%sampleIndex%',L-(I-1)+'.0'),O+=N,O+='\n';return A=A.replace('%blur%',O),A=A.replace('%size%',C),A};var M=['attribute vec2 aVertexPosition;','attribute vec2 aTextureCoord;','uniform float strength;','uniform mat3 projectionMatrix;','varying vec2 vBlurTexCoords[%size%];','void main(void)','{','gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);','%blur%','}'].join('\n')},function(T,E){'use strict';E.__esModule=!0,E.default=function(M){for(var C=M.getParameter(M.MAX_VARYING_VECTORS),R=15;R>C;)R-=2;return R}},function(T,E,S){'use strict';function P(N){return N&&N.__esModule?N:{default:N}}E.__esModule=!0;var M=S(158);Object.defineProperty(E,'FXAAFilter',{enumerable:!0,get:function(){return P(M).default}});var C=S(159);Object.defineProperty(E,'NoiseFilter',{enumerable:!0,get:function(){return P(C).default}});var R=S(157);Object.defineProperty(E,'DisplacementFilter',{enumerable:!0,get:function(){return P(R).default}});var I=S(155);Object.defineProperty(E,'BlurFilter',{enumerable:!0,get:function(){return P(I).default}});var A=S(70);Object.defineProperty(E,'BlurXFilter',{enumerable:!0,get:function(){return P(A).default}});var O=S(71);Object.defineProperty(E,'BlurYFilter',{enumerable:!0,get:function(){return P(O).default}});var D=S(156);Object.defineProperty(E,'ColorMatrixFilter',{enumerable:!0,get:function(){return P(D).default}});var L=S(160);Object.defineProperty(E,'VoidFilter',{enumerable:!0,get:function(){return P(L).default}})},function(T,E,S){'use strict';function M(A,O){if(!(A instanceof O))throw new TypeError('Cannot call a class as a function')}E.__esModule=!0;var C=S(0),R=function(A){if(A&&A.__esModule)return A;var O={};if(null!=A)for(var D in A)Object.prototype.hasOwnProperty.call(A,D)&&(O[D]=A[D]);return O.default=A,O}(C),I=function(){function A(){M(this,A),this.global=new R.Point,this.target=null,this.originalEvent=null,this.identifier=null}return A.prototype.getLocalPosition=function(D,L,N){return D.worldTransform.applyInverse(N||this.global,L)},A}();E.default=I},function(T,E,S){'use strict';function P(I){return I&&I.__esModule?I:{default:I}}E.__esModule=!0;var M=S(76);Object.defineProperty(E,'InteractionData',{enumerable:!0,get:function(){return P(M).default}});var C=S(162);Object.defineProperty(E,'InteractionManager',{enumerable:!0,get:function(){return P(C).default}});var R=S(78);Object.defineProperty(E,'interactiveTarget',{enumerable:!0,get:function(){return P(R).default}})},function(T,E){'use strict';E.__esModule=!0,E.default={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return'pointer'===this.cursor},set buttonMode(P){P?this.cursor='pointer':'pointer'===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){return void 0===this._trackedPointers&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0}},function(T,E,S){'use strict';function M(D,L){D.bitmapFont=O.BitmapText.registerFont(D.data,L)}E.__esModule=!0,E.parse=M,E.default=function(){return function(L,N){if(!L.data||L.type!==A.Resource.TYPE.XML)return void N();if(0===L.data.getElementsByTagName('page').length||0===L.data.getElementsByTagName('info').length||null===L.data.getElementsByTagName('info')[0].getAttribute('face'))return void N();var F=L.isDataUrl?'':R.dirname(L.url);L.isDataUrl&&('.'===F&&(F=''),this.baseUrl&&F&&('/'===this.baseUrl.charAt(this.baseUrl.length-1)&&(F+='/'),F=F.replace(this.baseUrl,''))),F&&'/'!==F.charAt(F.length-1)&&(F+='/');var B=F+L.data.getElementsByTagName('page')[0].getAttribute('file');if(I.utils.TextureCache[B])M(L,I.utils.TextureCache[B]),N();else{var U={crossOrigin:L.crossOrigin,loadType:A.Resource.LOAD_TYPE.IMAGE,metadata:L.metadata.imageMetadata,parentResource:L};this.add(L.name+'_image',B,U,function(X){M(L,X.texture),N()})}}};var C=S(6),R=function(D){if(D&&D.__esModule)return D;var L={};if(null!=D)for(var N in D)Object.prototype.hasOwnProperty.call(D,N)&&(L[N]=D[N]);return L.default=D,L}(C),I=S(0),A=S(16),O=S(34)},function(T,E,S){'use strict';function P(O){return O&&O.__esModule?O:{default:O}}E.__esModule=!0;var M=S(164);Object.defineProperty(E,'Loader',{enumerable:!0,get:function(){return P(M).default}});var C=S(79);Object.defineProperty(E,'bitmapFontParser',{enumerable:!0,get:function(){return P(C).default}}),Object.defineProperty(E,'parseBitmapFontData',{enumerable:!0,get:function(){return C.parse}});var R=S(81);Object.defineProperty(E,'spritesheetParser',{enumerable:!0,get:function(){return P(R).default}});var I=S(82);Object.defineProperty(E,'textureParser',{enumerable:!0,get:function(){return P(I).default}});var A=S(16);Object.defineProperty(E,'Resource',{enumerable:!0,get:function(){return A.Resource}})},function(T,E,S){'use strict';E.__esModule=!0,E.default=function(){return function(O,D){var L,N=O.name+'_image';if(!O.data||O.type!==M.Resource.TYPE.JSON||!O.data.frames||this.resources[N])return void D();var F={crossOrigin:O.crossOrigin,loadType:M.Resource.LOAD_TYPE.IMAGE,metadata:O.metadata.imageMetadata,parentResource:O};L=O.isDataUrl?O.data.meta.image:R.default.dirname(O.url.replace(this.baseUrl,''))+'/'+O.data.meta.image,this.add(N,L,F,function(U){var X=new I.Spritesheet(U.texture.baseTexture,O.data,O.url);X.parse(function(){O.spritesheet=X,O.textures=X.textures,D()})})}};var M=S(16),C=S(6),R=function(A){return A&&A.__esModule?A:{default:A}}(C),I=S(0)},function(T,E,S){'use strict';E.__esModule=!0,E.default=function(){return function(A,O){A.data&&A.type===M.Resource.TYPE.IMAGE&&(A.texture=R.default.fromLoader(A.data,A.url,A.name)),O()}};var M=S(16),C=S(9),R=function(I){return I&&I.__esModule?I:{default:I}}(C)},function(T,E,S){'use strict';function M(D,L){if(!(D instanceof L))throw new TypeError('Cannot call a class as a function')}function C(D,L){if(!D)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return L&&('object'==typeof L||'function'==typeof L)?L:D}function R(D,L){if('function'!=typeof L&&null!==L)throw new TypeError('Super expression must either be null or a function, not '+typeof L);D.prototype=Object.create(L&&L.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),L&&(Object.setPrototypeOf?Object.setPrototypeOf(D,L):D.__proto__=L)}E.__esModule=!0;var I=S(15),A=function(D){return D&&D.__esModule?D:{default:D}}(I),O=function(D){function L(N,F,B){M(this,L);var U=C(this,D.call(this,N));return U._ready=!0,U.verticesX=F||10,U.verticesY=B||10,U.drawMode=A.default.DRAW_MODES.TRIANGLES,U.refresh(),U}return R(L,D),L.prototype.refresh=function(){for(var F=this.verticesX*this.verticesY,B=[],U=[],X=[],V=[],Y=this.texture,G=this.verticesX-1,Z=this.verticesY-1,K=Y.width/G,J=Y.height/Z,Q=0;Q<F;Q++)if(Y._uvs){var $=Q%this.verticesX,te=0|Q/this.verticesX;B.push($*K,te*J),X.push(Y._uvs.x0+(Y._uvs.x1-Y._uvs.x0)*($/(this.verticesX-1)),Y._uvs.y0+(Y._uvs.y3-Y._uvs.y0)*(te/(this.verticesY-1)))}else X.push(0);for(var ne=0;ne<G*Z;ne++){var oe=ne%G,ie=0|ne/G,se=ie*this.verticesX+oe,le=ie*this.verticesX+oe+1,de=(ie+1)*this.verticesX+oe,ue=(ie+1)*this.verticesX+oe+1;V.push(se,le,de),V.push(le,ue,de)}this.vertices=new Float32Array(B),this.uvs=new Float32Array(X),this.colors=new Float32Array(U),this.indices=new Uint16Array(V),this.indexDirty=!0},L.prototype._onTextureUpdate=function(){A.default.prototype._onTextureUpdate.call(this),this._ready&&this.refresh()},L}(A.default);E.default=O},function(T,E,S){'use strict';function P(D){return D&&D.__esModule?D:{default:D}}E.__esModule=!0;var M=S(15);Object.defineProperty(E,'Mesh',{enumerable:!0,get:function(){return P(M).default}});var C=S(168);Object.defineProperty(E,'MeshRenderer',{enumerable:!0,get:function(){return P(C).default}});var R=S(167);Object.defineProperty(E,'CanvasMeshRenderer',{enumerable:!0,get:function(){return P(R).default}});var I=S(83);Object.defineProperty(E,'Plane',{enumerable:!0,get:function(){return P(I).default}});var A=S(165);Object.defineProperty(E,'NineSlicePlane',{enumerable:!0,get:function(){return P(A).default}});var O=S(166);Object.defineProperty(E,'Rope',{enumerable:!0,get:function(){return P(O).default}})},function(T,E,S){'use strict';function P(R){return R&&R.__esModule?R:{default:R}}E.__esModule=!0;var M=S(169);Object.defineProperty(E,'ParticleContainer',{enumerable:!0,get:function(){return P(M).default}});var C=S(171);Object.defineProperty(E,'ParticleRenderer',{enumerable:!0,get:function(){return P(C).default}})},function(T,E,S){'use strict';function P(O){return O&&O.__esModule?O:{default:O}}E.__esModule=!0;var M=S(179);Object.defineProperty(E,'webgl',{enumerable:!0,get:function(){return P(M).default}});var C=S(177);Object.defineProperty(E,'canvas',{enumerable:!0,get:function(){return P(C).default}});var R=S(35);Object.defineProperty(E,'BasePrepare',{enumerable:!0,get:function(){return P(R).default}});var I=S(87);Object.defineProperty(E,'CountLimiter',{enumerable:!0,get:function(){return P(I).default}});var A=S(178);Object.defineProperty(E,'TimeLimiter',{enumerable:!0,get:function(){return P(A).default}})},function(T,E){'use strict';function P(C,R){if(!(C instanceof R))throw new TypeError('Cannot call a class as a function')}E.__esModule=!0;var M=function(){function C(R){P(this,C),this.maxItemsPerFrame=R,this.itemsLeft=0}return C.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},C.prototype.allowedToUpload=function(){return 0<this.itemsLeft--},C}();E.default=M},function(T,E){'use strict';function P(){}function C(I){return function(){if(null===I)throw new Error('Callback was already called.');var O=I;I=null,O.apply(this,arguments)}}E.__esModule=!0,E.eachSeries=function(I,A,O){var D=0,L=I.length;(function N(F){return F||D===L?void(O&&O(F)):void A(I[D++],N)})()},E.queue=function(I,A){function O(F,B,U){if(null!=U&&'function'!=typeof U)throw new Error('task callback must be a function');if(N.started=!0,null==F&&N.idle())return void setTimeout(function(){return N.drain()},1);var X={data:F,callback:'function'==typeof U?U:P};B?N._tasks.unshift(X):N._tasks.push(X),setTimeout(function(){return N.process()},1)}function D(F){return function(){L-=1,F.callback.apply(F,arguments),null!=arguments[0]&&N.error(arguments[0],F.data),L<=N.concurrency-N.buffer&&N.unsaturated(),N.idle()&&N.drain(),N.process()}}if(null==A)A=1;else if(0===A)throw new Error('Concurrency must not be zero');var L=0,N={_tasks:[],concurrency:A,saturated:P,unsaturated:P,buffer:A/4,empty:P,drain:P,error:P,started:!1,paused:!1,push:function(B,U){O(B,!1,U)},kill:function(){L=0,N.drain=P,N.started=!1,N._tasks=[]},unshift:function(B,U){O(B,!0,U)},process:function(){for(;!N.paused&&L<N.concurrency&&N._tasks.length;){var B=N._tasks.shift();0===N._tasks.length&&N.empty(),L+=1,L===N.concurrency&&N.saturated(),I(B.data,C(D(B)))}},length:function(){return N._tasks.length},running:function(){return L},idle:function(){return 0===N._tasks.length+L},pause:function(){!0===N.paused||(N.paused=!0)},resume:function(){if(!1!==N.paused){N.paused=!1;for(var B=1;B<=N.concurrency;B++)N.process()}}};return N}},function(T,E){'use strict';E.__esModule=!0,E.encodeBinary=function(C){for(var R='',I=0;I<C.length;){for(var A=[0,0,0],O=[0,0,0,0],D=0;D<A.length;++D)A[D]=I<C.length?255&C.charCodeAt(I++):0;O[0]=A[0]>>2,O[1]=(3&A[0])<<4|A[1]>>4,O[2]=(15&A[1])<<2|A[2]>>6,O[3]=63&A[2];var L=I-(C.length-1);switch(L){case 2:O[3]=64,O[2]=64;break;case 1:O[3]=64;break;default:}for(var N=0;N<O.length;++N)R+=M.charAt(O[N])}return R};var M='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/='},function(T,E,S){'use strict';var P=S(7),M=S.n(P);E.a=class{static load(R){const I=new P.loaders.Loader;I.add('settings','res/settings.json'),I.add('layout','res/layout.json'),I.add('spritesheet-json','res/scale-'+window.devicePixelRatio+'/sheets/high-res-sheet-0.json'),I.add('spritesheet-png','res/scale-'+window.devicePixelRatio+'/sheets/high-res-sheet-0.png'),I.add('hero-json','res/hero/hero-mesh.json'),I.add('smoulder-json','res/smoulder/smoulder-idle.json'),I.add('spineboy-json','res/spineboy/spineboy.json'),I.add('raptor-json','res/raptor/raptor.json'),I.add('powerup-json','res/powerup/powerup.json'),I.load((A)=>{R.call(this,A)})}}},function(T,E){'use strict';E.__esModule=!0,E.default=function(){},T.exports=E['default']},function(T,E,S){'use strict';var P=S(7),M=S.n(P);class C{constructor(R){this._canvas=document.getElementById('game'),this._renderer=null,this._stage=R,this._ticker=PIXI.ticker.shared,this._display={width:300,height:300,rendererOptions:{view:null,resolution:1,antialias:!1,transparent:!0,backgroundColor:13421772}},this._update=this._update.bind(this),this.setupStage()}setupStage(){this._display.rendererOptions.view=this._canvas,this._renderer=PIXI.autoDetectRenderer(this._display.width,this._display.height,this._display.rendererOptions),this._update(),window.onresize=this._resizeStage.bind(this)}_resizeStage(){this._display.width=window.innerWidth*window.devicePixelRatio,this._display.height=window.innerHeight*window.devicePixelRatio,this._renderer.resize(this._display.width,this._display.height),this._canvas.style.width=window.innerWidth+''+'px',this._canvas.style.height=window.innerHeight+''+'px',this._canvas.style.x='0px',this._canvas.style.y='0px',this.setCanvasStyle(),this._centreStage()}_centreStage(){this._stage.x=.5*this._display.width-1024*window.devicePixelRatio/2,this._stage.y=.5*this._display.height-768*window.devicePixelRatio/2}_update(){this._pause||(this._frameRequest=window.requestAnimationFrame(this._update.bind(this)),this._stage&&this._renderer.render(this._stage))}set stage(R){this._stage=R}setCanvasStyle(){this._canvas.width=this._display.width,this._canvas.height=this._display.height}}E.a=C},function(T,E,S){'use strict';var P=S(7),M=S.n(P),C=S(193),R=S(50),I=S.n(R),A=S(90),O=S(198),D=S(194);class L extends P.Container{constructor(){super(),this.loaded=this.loaded.bind(this);const N=new C.a,F=A.a.load(this.loaded);this.bucket=N,this.resources=null,this.animation=null,this.addChild(N)}loaded(N){const F=new O.a(N.resources);this.addChild(F),this.resources=N.resources;const B=new D.a(this.bucket);this.addChild(B),B.addSpine('powerup-json',this.resources['powerup-json'],{x:0,y:0}),B.addSpine('hero-json',this.resources['hero-json'],{x:-420,y:0}),B.addSpine('raptor-json',this.resources['raptor-json'],{x:220,y:0}),setTimeout(()=>{},2500),this.loop(B)}loop(N){let F=N.randomSpine();N.changeEffect(F,N.blurFilter),setTimeout(()=>{this.loop(N)},5500)}}E.a=L},function(T){var S=new ArrayBuffer(0),P=function(M,C,R,I){this.gl=M,this.buffer=M.createBuffer(),this.type=C||M.ARRAY_BUFFER,this.drawType=I||M.STATIC_DRAW,this.data=S,R&&this.upload(R),this._updateID=0};P.prototype.upload=function(M,C,R){R||this.bind();var I=this.gl;M=M||this.data,C=C||0,this.data.byteLength>=M.byteLength?I.bufferSubData(this.type,C,M):I.bufferData(this.type,M,this.drawType),this.data=M},P.prototype.bind=function(){var M=this.gl;M.bindBuffer(this.type,this.buffer)},P.createVertexBuffer=function(M,C,R){return new P(M,M.ARRAY_BUFFER,C,R)},P.createIndexBuffer=function(M,C,R){return new P(M,M.ELEMENT_ARRAY_BUFFER,C,R)},P.create=function(M,C,R,I){return new P(M,C,R,I)},P.prototype.destroy=function(){this.gl.deleteBuffer(this.buffer)},T.exports=P},function(T,E,S){var P=S(41),M=function(C,R,I){this.gl=C,this.framebuffer=C.createFramebuffer(),this.stencil=null,this.texture=null,this.width=R||100,this.height=I||100};M.prototype.enableTexture=function(C){var R=this.gl;this.texture=C||new P(R),this.texture.bind(),this.bind(),R.framebufferTexture2D(R.FRAMEBUFFER,R.COLOR_ATTACHMENT0,R.TEXTURE_2D,this.texture.texture,0)},M.prototype.enableStencil=function(){if(!this.stencil){var C=this.gl;this.stencil=C.createRenderbuffer(),C.bindRenderbuffer(C.RENDERBUFFER,this.stencil),C.framebufferRenderbuffer(C.FRAMEBUFFER,C.DEPTH_STENCIL_ATTACHMENT,C.RENDERBUFFER,this.stencil),C.renderbufferStorage(C.RENDERBUFFER,C.DEPTH_STENCIL,this.width,this.height)}},M.prototype.clear=function(C,R,I,A){this.bind();var O=this.gl;O.clearColor(C,R,I,A),O.clear(O.COLOR_BUFFER_BIT|O.DEPTH_BUFFER_BIT)},M.prototype.bind=function(){var C=this.gl;C.bindFramebuffer(C.FRAMEBUFFER,this.framebuffer)},M.prototype.unbind=function(){var C=this.gl;C.bindFramebuffer(C.FRAMEBUFFER,null)},M.prototype.resize=function(C,R){var I=this.gl;this.width=C,this.height=R,this.texture&&this.texture.uploadData(null,C,R),this.stencil&&(I.bindRenderbuffer(I.RENDERBUFFER,this.stencil),I.renderbufferStorage(I.RENDERBUFFER,I.DEPTH_STENCIL,C,R))},M.prototype.destroy=function(){var C=this.gl;this.texture&&this.texture.destroy(),C.deleteFramebuffer(this.framebuffer),this.gl=null,this.stencil=null,this.texture=null},M.createRGBA=function(C,R,I){var O=P.fromData(C,null,R,I);O.enableNearestScaling(),O.enableWrapClamp();var D=new M(C,R,I);return D.enableTexture(O),D.unbind(),D},M.createFloat32=function(C,R,I,A){var O=new P.fromData(C,A,R,I);O.enableNearestScaling(),O.enableWrapClamp();var D=new M(C,R,I);return D.enableTexture(O),D.unbind(),D},T.exports=M},function(T,E,S){var P=S(43),M=S(45),C=S(46),R=S(49),I=S(47),A=function(O,D,L,N,F){this.gl=O,N&&(D=R(D,N),L=R(L,N)),this.program=P(O,D,L,F),this.attributes=M(O,this.program),this.uniformData=C(O,this.program),this.uniforms=I(O,this.uniformData)};A.prototype.bind=function(){this.gl.useProgram(this.program)},A.prototype.destroy=function(){this.attributes=null,this.uniformData=null,this.uniforms=null;var O=this.gl;O.deleteProgram(this.program)},T.exports=A},function(T,E,S){function P(C,R){if(this.nativeVaoExtension=null,P.FORCE_NATIVE||(this.nativeVaoExtension=C.getExtension('OES_vertex_array_object')||C.getExtension('MOZ_OES_vertex_array_object')||C.getExtension('WEBKIT_OES_vertex_array_object')),this.nativeState=R,this.nativeVaoExtension){this.nativeVao=this.nativeVaoExtension.createVertexArrayOES();var I=C.getParameter(C.MAX_VERTEX_ATTRIBS);this.nativeState={tempAttribState:Array(I),attribState:Array(I)}}this.gl=C,this.attributes=[],this.indexBuffer=null,this.dirty=!1}var M=S(42);P.prototype.constructor=P,T.exports=P,P.FORCE_NATIVE=!1,P.prototype.bind=function(){return this.nativeVao?(this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.dirty&&(this.dirty=!1,this.activate())):this.activate(),this},P.prototype.unbind=function(){return this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(null),this},P.prototype.activate=function(){for(var C=this.gl,R=null,I=0,A;I<this.attributes.length;I++)A=this.attributes[I],R!==A.buffer&&(A.buffer.bind(),R=A.buffer),C.vertexAttribPointer(A.attribute.location,A.attribute.size,A.type||C.FLOAT,A.normalized||!1,A.stride||0,A.start||0);return M(C,this.attributes,this.nativeState),this.indexBuffer&&this.indexBuffer.bind(),this},P.prototype.addAttribute=function(C,R,I,A,O,D){return this.attributes.push({buffer:C,attribute:R,location:R.location,type:I||this.gl.FLOAT,normalized:A||!1,stride:O||0,start:D||0}),this.dirty=!0,this},P.prototype.addIndex=function(C){return this.indexBuffer=C,this.dirty=!0,this},P.prototype.clear=function(){return this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.attributes.length=0,this.indexBuffer=null,this},P.prototype.draw=function(C,R,I){var A=this.gl;return this.indexBuffer?A.drawElements(C,R||this.indexBuffer.data.length,A.UNSIGNED_SHORT,2*(I||0)):A.drawArrays(C,I,R||this.getSize()),this},P.prototype.destroy=function(){this.gl=null,this.indexBuffer=null,this.attributes=null,this.nativeState=null,this.nativeVao&&this.nativeVaoExtension.deleteVertexArrayOES(this.nativeVao),this.nativeVaoExtension=null,this.nativeVao=null},P.prototype.getSize=function(){var C=this.attributes[0];return C.buffer.data.length/(C.stride/4||C.attribute.size)}},function(T){T.exports=function(P,M){var C=P.getContext('webgl',M)||P.getContext('experimental-webgl',M);if(!C)throw new Error('This browser does not support webGL. Try using the canvas renderer');return C}},function(T,E,S){T.exports={compileProgram:S(43),defaultValue:S(44),extractAttributes:S(45),extractUniforms:S(46),generateUniformAccessObject:S(47),setPrecision:S(49),mapSize:S(48),mapType:S(23)}},function(T,E,S){'use strict';function P(J){return J&&J.__esModule?J:{default:J}}function C(J,Q){if(!(J instanceof Q))throw new TypeError('Cannot call a class as a function')}E.__esModule=!0;var R=S(0),I=function(J){if(J&&J.__esModule)return J;var Q={};if(null!=J)for(var $ in J)Object.prototype.hasOwnProperty.call(J,$)&&(Q[$]=J[$]);return Q.default=J,Q}(R),A=S(22),O=P(A),D=S(51),L=P(D);I.utils.mixins.delayMixin(I.DisplayObject.prototype,L.default);var F=100,X=2,V=1,K=function(){function J(Q){C(this,J),(O.default.tablet||O.default.phone)&&!navigator.isCocoonJS&&this.createTouchHook();var $=document.createElement('div');$.style.width=F+'px',$.style.height=F+'px',$.style.position='absolute',$.style.top=0+'px',$.style.left=0+'px',$.style.zIndex=X,this.div=$,this.pool=[],this.renderId=0,this.debug=!1,this.renderer=Q,this.children=[],this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this.isActive=!1,this.isMobileAccessabillity=!1,window.addEventListener('keydown',this._onKeyDown,!1)}return J.prototype.createTouchHook=function(){var $=this,te=document.createElement('button');te.style.width=V+'px',te.style.height=V+'px',te.style.position='absolute',te.style.top=-1e3+'px',te.style.left=-1e3+'px',te.style.zIndex=2,te.style.backgroundColor='#FF0000',te.title='HOOK DIV',te.addEventListener('focus',function(){$.isMobileAccessabillity=!0,$.activate(),document.body.removeChild(te)}),document.body.appendChild(te)},J.prototype.activate=function(){this.isActive||(this.isActive=!0,window.document.addEventListener('mousemove',this._onMouseMove,!0),window.removeEventListener('keydown',this._onKeyDown,!1),this.renderer.on('postrender',this.update,this),this.renderer.view.parentNode&&this.renderer.view.parentNode.appendChild(this.div))},J.prototype.deactivate=function(){!this.isActive||this.isMobileAccessabillity||(this.isActive=!1,window.document.removeEventListener('mousemove',this._onMouseMove),window.addEventListener('keydown',this._onKeyDown,!1),this.renderer.off('postrender',this.update),this.div.parentNode&&this.div.parentNode.removeChild(this.div))},J.prototype.updateAccessibleObjects=function($){if($.visible){$.accessible&&$.interactive&&(!$._accessibleActive&&this.addChild($),$.renderId=this.renderId);for(var te=$.children,re=te.length-1;0<=re;re--)this.updateAccessibleObjects(te[re])}},J.prototype.update=function(){if(this.renderer.renderingToScreen){this.updateAccessibleObjects(this.renderer._lastObjectRendered);var $=this.renderer.view.getBoundingClientRect(),te=$.width/this.renderer.width,re=$.height/this.renderer.height,ne=this.div;ne.style.left=$.left+'px',ne.style.top=$.top+'px',ne.style.width=this.renderer.width+'px',ne.style.height=this.renderer.height+'px';for(var oe=0,ie;oe<this.children.length;oe++)if(ie=this.children[oe],ie.renderId!==this.renderId)ie._accessibleActive=!1,I.utils.removeItems(this.children,oe,1),this.div.removeChild(ie._accessibleDiv),this.pool.push(ie._accessibleDiv),ie._accessibleDiv=null,oe--,0===this.children.length&&this.deactivate();else{ne=ie._accessibleDiv;var se=ie.hitArea,le=ie.worldTransform;ie.hitArea?(ne.style.left=(le.tx+se.x*le.a)*te+'px',ne.style.top=(le.ty+se.y*le.d)*re+'px',ne.style.width=se.width*le.a*te+'px',ne.style.height=se.height*le.d*re+'px'):(se=ie.getBounds(),this.capHitArea(se),ne.style.left=se.x*te+'px',ne.style.top=se.y*re+'px',ne.style.width=se.width*te+'px',ne.style.height=se.height*re+'px')}this.renderId++}},J.prototype.capHitArea=function($){0>$.x&&($.width+=$.x,$.x=0),0>$.y&&($.height+=$.y,$.y=0),$.x+$.width>this.renderer.width&&($.width=this.renderer.width-$.x),$.y+$.height>this.renderer.height&&($.height=this.renderer.height-$.y)},J.prototype.addChild=function($){var te=this.pool.pop();te||(te=document.createElement('button'),te.style.width=F+'px',te.style.height=F+'px',te.style.backgroundColor=this.debug?'rgba(255,0,0,0.5)':'transparent',te.style.position='absolute',te.style.zIndex=X,te.style.borderStyle='none',te.addEventListener('click',this._onClick.bind(this)),te.addEventListener('focus',this._onFocus.bind(this)),te.addEventListener('focusout',this._onFocusOut.bind(this))),$.accessibleTitle?te.title=$.accessibleTitle:!$.accessibleTitle&&!$.accessibleHint&&(te.title='displayObject '+this.tabIndex),$.accessibleHint&&te.setAttribute('aria-label',$.accessibleHint),$._accessibleActive=!0,$._accessibleDiv=te,te.displayObject=$,this.children.push($),this.div.appendChild($._accessibleDiv),$._accessibleDiv.tabIndex=$.tabIndex},J.prototype._onClick=function($){var te=this.renderer.plugins.interaction;te.dispatchEvent($.target.displayObject,'click',te.eventData)},J.prototype._onFocus=function($){var te=this.renderer.plugins.interaction;te.dispatchEvent($.target.displayObject,'mouseover',te.eventData)},J.prototype._onFocusOut=function($){var te=this.renderer.plugins.interaction;te.dispatchEvent($.target.displayObject,'mouseout',te.eventData)},J.prototype._onKeyDown=function($){$.keyCode!==9||this.activate()},J.prototype._onMouseMove=function(){this.deactivate()},J.prototype.destroy=function(){this.div=null;for(var $=0;$<this.children.length;$++)this.children[$].div=null;window.document.removeEventListener('mousemove',this._onMouseMove),window.removeEventListener('keydown',this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},J}();E.default=K,I.WebGLRenderer.registerPlugin('accessibility',K),I.CanvasRenderer.registerPlugin('accessibility',K)},function(T,E,S){'use strict';function P(R){return R&&R.__esModule?R:{default:R}}E.__esModule=!0;var M=S(51);Object.defineProperty(E,'accessibleTarget',{enumerable:!0,get:function(){return P(M).default}});var C=S(100);Object.defineProperty(E,'AccessibilityManager',{enumerable:!0,get:function(){return P(C).default}})},function(T,E,S){'use strict';function M(L,N){if(!(L instanceof N))throw new TypeError('Cannot call a class as a function')}E.__esModule=!0;var C=function(){function L(N,F){for(var B=0,U;B<F.length;B++)U=F[B],U.enumerable=U.enumerable||!1,U.configurable=!0,'value'in U&&(U.writable=!0),Object.defineProperty(N,U.key,U)}return function(N,F,B){return F&&L(N.prototype,F),B&&L(N,B),N}}(),R=S(52),I=S(11),A=function(L){return L&&L.__esModule?L:{default:L}}(I),O=S(32),D=function(){function L(N,F,B,U){var X=4<arguments.length&&void 0!==arguments[4]&&arguments[4];M(this,L),this.renderer=(0,R.autoDetectRenderer)(N,F,B,U),this.stage=new A.default,this._ticker=null,this.ticker=X?O.shared:new O.Ticker,this.start()}return L.prototype.render=function(){this.renderer.render(this.stage)},L.prototype.stop=function(){this._ticker.stop()},L.prototype.start=function(){this._ticker.start()},L.prototype.destroy=function(F){this.stop(),this.ticker=null,this.stage.destroy(),this.stage=null,this.renderer.destroy(F),this.renderer=null},C(L,[{key:'ticker',set:function(F){this._ticker&&this._ticker.remove(this.render,this),this._ticker=F,F&&F.add(this.render,this)},get:function(){return this._ticker}},{key:'view',get:function(){return this.renderer.view}},{key:'screen',get:function(){return this.renderer.screen}}]),L}();E.default=D},function(T,E,S){'use strict';function P(de){return de&&de.__esModule?de:{default:de}}function M(de,ue){if(!(de instanceof ue))throw new TypeError('Cannot call a class as a function')}function C(de,ue){if(!de)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return ue&&('object'==typeof ue||'function'==typeof ue)?ue:de}function R(de,ue){if('function'!=typeof ue&&null!==ue)throw new TypeError('Super expression must either be null or a function, not '+typeof ue);de.prototype=Object.create(ue&&ue.prototype,{constructor:{value:de,enumerable:!1,writable:!0,configurable:!0}}),ue&&(Object.setPrototypeOf?Object.setPrototypeOf(de,ue):de.__proto__=ue)}E.__esModule=!0;var I=S(11),A=P(I),O=S(31),D=P(O),L=S(9),N=P(L),F=S(56),B=P(F),U=S(29),X=P(U),V=S(3),Y=S(2),G=S(1),Z=S(24),K=P(Z),J=S(105),Q=P(J),$=S(12),te=P($),re,ne=new V.Matrix,oe=new V.Point,ie=new Float32Array(4),se=new Float32Array(4),le=function(de){function ue(){var pe=0<arguments.length&&void 0!==arguments[0]&&arguments[0];M(this,ue);var ce=C(this,de.call(this));return ce.fillAlpha=1,ce.lineWidth=0,ce.nativeLines=pe,ce.lineColor=0,ce.graphicsData=[],ce.tint=16777215,ce._prevTint=16777215,ce.blendMode=G.BLEND_MODES.NORMAL,ce.currentPath=null,ce._webGL={},ce.isMask=!1,ce.boundsPadding=0,ce._localBounds=new K.default,ce.dirty=0,ce.fastRectDirty=-1,ce.clearDirty=0,ce.boundsDirty=-1,ce.cachedSpriteDirty=!1,ce._spriteRect=null,ce._fastRect=!1,ce}return R(ue,de),ue.prototype.clone=function(){var pe=new ue;pe.renderable=this.renderable,pe.fillAlpha=this.fillAlpha,pe.lineWidth=this.lineWidth,pe.lineColor=this.lineColor,pe.tint=this.tint,pe.blendMode=this.blendMode,pe.isMask=this.isMask,pe.boundsPadding=this.boundsPadding,pe.dirty=0,pe.cachedSpriteDirty=this.cachedSpriteDirty;for(var ce=0;ce<this.graphicsData.length;++ce)pe.graphicsData.push(this.graphicsData[ce].clone());return pe.currentPath=pe.graphicsData[pe.graphicsData.length-1],pe.updateLocalBounds(),pe},ue.prototype.lineStyle=function(){var ce=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,fe=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,he=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1;if(this.lineWidth=ce,this.lineColor=fe,this.lineAlpha=he,this.currentPath)if(this.currentPath.shape.points.length){var me=new V.Polygon(this.currentPath.shape.points.slice(-2));me.closed=!1,this.drawShape(me)}else this.currentPath.lineWidth=this.lineWidth,this.currentPath.lineColor=this.lineColor,this.currentPath.lineAlpha=this.lineAlpha;return this},ue.prototype.moveTo=function(ce,fe){var he=new V.Polygon([ce,fe]);return he.closed=!1,this.drawShape(he),this},ue.prototype.lineTo=function(ce,fe){return this.currentPath.shape.points.push(ce,fe),this.dirty++,this},ue.prototype.quadraticCurveTo=function(ce,fe,he,me){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var ge=20,_e=this.currentPath.shape.points,be=0,Te=0;0===_e.length&&this.moveTo(0,0);for(var ve=_e[_e.length-2],Ee=_e[_e.length-1],Se=1,Pe;Se<=ge;++Se)Pe=Se/ge,be=ve+(ce-ve)*Pe,Te=Ee+(fe-Ee)*Pe,_e.push(be+(ce+(he-ce)*Pe-be)*Pe,Te+(fe+(me-fe)*Pe-Te)*Pe);return this.dirty++,this},ue.prototype.bezierCurveTo=function(ce,fe,he,me,ge,_e){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var be=this.currentPath.shape.points,Te=be[be.length-2],ve=be[be.length-1];return be.length-=2,(0,Q.default)(Te,ve,ce,fe,he,me,ge,_e,be),this.dirty++,this},ue.prototype.arcTo=function(ce,fe,he,me,ge){this.currentPath?0===this.currentPath.shape.points.length&&this.currentPath.shape.points.push(ce,fe):this.moveTo(ce,fe);var _e=this.currentPath.shape.points,be=_e[_e.length-2],Te=_e[_e.length-1],ve=Te-fe,Ee=be-ce,Se=me-fe,Pe=he-ce,Me=_Mathabs(ve*Pe-Ee*Se);if(1e-8>Me||0===ge)(_e[_e.length-2]!==ce||_e[_e.length-1]!==fe)&&_e.push(ce,fe);else{var Ce=ve*ve+Ee*Ee,Re=Se*Se+Pe*Pe,Ie=ve*Se+Ee*Pe,Ae=ge*_Mathsqrt(Ce)/Me,Oe=ge*_Mathsqrt(Re)/Me,De=Ae*Ie/Ce,we=Oe*Ie/Re,ke=Ae*Pe+Oe*Ee,Le=Ae*Se+Oe*ve,Xe=_Mathatan(ve*(Oe+De)-Le,Ee*(Oe+De)-ke),Ve=_Mathatan(Se*(Ae+we)-Le,Pe*(Ae+we)-ke);this.arc(ke+ce,Le+fe,ge,Xe,Ve,Ee*Se>Pe*ve)}return this.dirty++,this},ue.prototype.arc=function(ce,fe,he,me,ge){var _e=5<arguments.length&&void 0!==arguments[5]&&arguments[5];if(me===ge)return this;!_e&&ge<=me?ge+=2*_MathPI:_e&&me<=ge&&(me+=2*_MathPI);var be=ge-me,Te=40*_Mathceil(_Mathabs(be)/(2*_MathPI));if(0==be)return this;var ve=ce+_Mathcos(me)*he,Ee=fe+_Mathsin(me)*he,Se=this.currentPath?this.currentPath.shape.points:null;Se?(Se[Se.length-2]!==ve||Se[Se.length-1]!==Ee)&&Se.push(ve,Ee):(this.moveTo(ve,Ee),Se=this.currentPath.shape.points);for(var Pe=be/(2*Te),Ce=_Mathcos(Pe),Re=_Mathsin(Pe),Ie=Te-1,Oe=0;Oe<=Ie;++Oe){var De=Oe+Ie%1/Ie*Oe,we=Pe+me+2*Pe*De,ke=_Mathcos(we),Le=-_Mathsin(we);Se.push((Ce*ke+Re*Le)*he+ce,(Ce*-Le+Re*ke)*he+fe)}return this.dirty++,this},ue.prototype.beginFill=function(){var ce=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,fe=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;return this.filling=!0,this.fillColor=ce,this.fillAlpha=fe,this.currentPath&&2>=this.currentPath.shape.points.length&&(this.currentPath.fill=this.filling,this.currentPath.fillColor=this.fillColor,this.currentPath.fillAlpha=this.fillAlpha),this},ue.prototype.endFill=function(){return this.filling=!1,this.fillColor=null,this.fillAlpha=1,this},ue.prototype.drawRect=function(ce,fe,he,me){return this.drawShape(new V.Rectangle(ce,fe,he,me)),this},ue.prototype.drawRoundedRect=function(ce,fe,he,me,ge){return this.drawShape(new V.RoundedRectangle(ce,fe,he,me,ge)),this},ue.prototype.drawCircle=function(ce,fe,he){return this.drawShape(new V.Circle(ce,fe,he)),this},ue.prototype.drawEllipse=function(ce,fe,he,me){return this.drawShape(new V.Ellipse(ce,fe,he,me)),this},ue.prototype.drawPolygon=function(ce){var fe=ce,he=!0;if(fe instanceof V.Polygon&&(he=fe.closed,fe=fe.points),!Array.isArray(fe)){fe=Array(arguments.length);for(var me=0;me<fe.length;++me)fe[me]=arguments[me]}var ge=new V.Polygon(fe);return ge.closed=he,this.drawShape(ge),this},ue.prototype.clear=function(){return(this.lineWidth||this.filling||0<this.graphicsData.length)&&(this.lineWidth=0,this.filling=!1,this.boundsDirty=-1,this.dirty++,this.clearDirty++,this.graphicsData.length=0),this.currentPath=null,this._spriteRect=null,this},ue.prototype.isFastRect=function(){return 1===this.graphicsData.length&&this.graphicsData[0].shape.type===G.SHAPES.RECT&&!this.graphicsData[0].lineWidth},ue.prototype._renderWebGL=function(ce){this.dirty!==this.fastRectDirty&&(this.fastRectDirty=this.dirty,this._fastRect=this.isFastRect()),this._fastRect?this._renderSpriteRect(ce):(ce.setObjectRenderer(ce.plugins.graphics),ce.plugins.graphics.render(this))},ue.prototype._renderSpriteRect=function(ce){var fe=this.graphicsData[0].shape;this._spriteRect||(this._spriteRect=new X.default(new N.default(N.default.WHITE)));var he=this._spriteRect;if(16777215===this.tint)he.tint=this.graphicsData[0].fillColor;else{var me=ie,ge=se;(0,Y.hex2rgb)(this.graphicsData[0].fillColor,me),(0,Y.hex2rgb)(this.tint,ge),me[0]*=ge[0],me[1]*=ge[1],me[2]*=ge[2],he.tint=(0,Y.rgb2hex)(me)}he.alpha=this.graphicsData[0].fillAlpha,he.worldAlpha=this.worldAlpha*he.alpha,he.blendMode=this.blendMode,he.texture._frame.width=fe.width,he.texture._frame.height=fe.height,he.transform.worldTransform=this.transform.worldTransform,he.anchor.set(-fe.x/fe.width,-fe.y/fe.height),he._onAnchorUpdate(),he._renderWebGL(ce)},ue.prototype._renderCanvas=function(ce){!0===this.isMask||ce.plugins.graphics.render(this)},ue.prototype._calculateBounds=function(){this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.updateLocalBounds(),this.cachedSpriteDirty=!0);var ce=this._localBounds;this._bounds.addFrame(this.transform,ce.minX,ce.minY,ce.maxX,ce.maxY)},ue.prototype.containsPoint=function(ce){this.worldTransform.applyInverse(ce,oe);for(var fe=this.graphicsData,he=0,me;he<fe.length;++he)if((me=fe[he],!!me.fill)&&me.shape&&me.shape.contains(oe.x,oe.y))return!0;return!1},ue.prototype.updateLocalBounds=function(){var ce=Infinity,fe=-Infinity,he=Infinity,me=-Infinity;if(this.graphicsData.length)for(var ge=0,_e=0,be=0,Te=0,ve=0,Ee=0;Ee<this.graphicsData.length;Ee++){var Se=this.graphicsData[Ee],Pe=Se.type,Me=Se.lineWidth;if(ge=Se.shape,Pe===G.SHAPES.RECT||Pe===G.SHAPES.RREC)_e=ge.x-Me/2,be=ge.y-Me/2,Te=ge.width+Me,ve=ge.height+Me,ce=_e<ce?_e:ce,fe=_e+Te>fe?_e+Te:fe,he=be<he?be:he,me=be+ve>me?be+ve:me;else if(Pe===G.SHAPES.CIRC)_e=ge.x,be=ge.y,Te=ge.radius+Me/2,ve=ge.radius+Me/2,ce=_e-Te<ce?_e-Te:ce,fe=_e+Te>fe?_e+Te:fe,he=be-ve<he?be-ve:he,me=be+ve>me?be+ve:me;else if(Pe===G.SHAPES.ELIP)_e=ge.x,be=ge.y,Te=ge.width+Me/2,ve=ge.height+Me/2,ce=_e-Te<ce?_e-Te:ce,fe=_e+Te>fe?_e+Te:fe,he=be-ve<he?be-ve:he,me=be+ve>me?be+ve:me;else for(var Ce=ge.points,Re=0,Ie=0,Ae=0,Oe=0,De=0,we=0,ke=0,Le=0,Ne=0;Ne+2<Ce.length;Ne+=2)(_e=Ce[Ne],be=Ce[Ne+1],Re=Ce[Ne+2],Ie=Ce[Ne+3],Ae=_Mathabs(Re-_e),Oe=_Mathabs(Ie-be),ve=Me,Te=_Mathsqrt(Ae*Ae+Oe*Oe),!(1e-9>Te))&&(De=(ve/Te*Oe+Ae)/2,we=(ve/Te*Ae+Oe)/2,ke=(Re+_e)/2,Le=(Ie+be)/2,ce=ke-De<ce?ke-De:ce,fe=ke+De>fe?ke+De:fe,he=Le-we<he?Le-we:he,me=Le+we>me?Le+we:me)}else ce=0,fe=0,he=0,me=0;var Fe=this.boundsPadding;this._localBounds.minX=ce-Fe,this._localBounds.maxX=fe+2*Fe,this._localBounds.minY=he-Fe,this._localBounds.maxY=me+2*Fe},ue.prototype.drawShape=function(ce){this.currentPath&&2>=this.currentPath.shape.points.length&&this.graphicsData.pop(),this.currentPath=null;var fe=new B.default(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.filling,this.nativeLines,ce);return this.graphicsData.push(fe),fe.type===G.SHAPES.POLY&&(fe.shape.closed=fe.shape.closed||this.filling,this.currentPath=fe),this.dirty++,fe},ue.prototype.generateCanvasTexture=function(ce){var fe=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,he=this.getLocalBounds(),me=D.default.create(he.width,he.height,ce,fe);re||(re=new te.default),this.transform.updateLocalTransform(),this.transform.localTransform.copy(ne),ne.invert(),ne.tx-=he.x,ne.ty-=he.y,re.render(this,me,!0,ne);var ge=N.default.fromCanvas(me.baseTexture._canvasRenderTarget.canvas,ce);return ge.baseTexture.resolution=fe,ge.baseTexture.update(),ge},ue.prototype.closePath=function(){var ce=this.currentPath;return ce&&ce.shape&&ce.shape.close(),this},ue.prototype.addHole=function(){var ce=this.graphicsData.pop();return this.currentPath=this.graphicsData[this.graphicsData.length-1],this.currentPath.addHole(ce.shape),this.currentPath=null,this},ue.prototype.destroy=function(ce){de.prototype.destroy.call(this,ce);for(var fe=0;fe<this.graphicsData.length;++fe)this.graphicsData[fe].destroy();for(var he in this._webgl)for(var me=0;me<this._webgl[he].data.length;++me)this._webgl[he].data[me].destroy();this._spriteRect&&this._spriteRect.destroy(),this.graphicsData=null,this.currentPath=null,this._webgl=null,this._localBounds=null},ue}(A.default);E.default=le,le._SPRITE_TEXTURE=null},function(T,E,S){'use strict';function M(O,D){if(!(O instanceof D))throw new TypeError('Cannot call a class as a function')}E.__esModule=!0;var C=S(12),R=function(O){return O&&O.__esModule?O:{default:O}}(C),I=S(1),A=function(){function O(D){M(this,O),this.renderer=D}return O.prototype.render=function(L){var N=this.renderer,F=N.context,B=L.worldAlpha,U=L.transform.worldTransform,X=N.resolution;this._prevTint!==this.tint&&(this.dirty=!0),F.setTransform(U.a*X,U.b*X,U.c*X,U.d*X,U.tx*X,U.ty*X),L.dirty&&(this.updateGraphicsTint(L),L.dirty=!1),N.setBlendMode(L.blendMode);for(var V=0;V<L.graphicsData.length;V++){var Y=L.graphicsData[V],G=Y.shape,Z=Y._fillTint,K=Y._lineTint;if(F.lineWidth=Y.lineWidth,Y.type===I.SHAPES.POLY){F.beginPath(),this.renderPolygon(G.points,G.closed,F);for(var J=0;J<Y.holes.length;J++)this.renderPolygon(Y.holes[J].points,!0,F);Y.fill&&(F.globalAlpha=Y.fillAlpha*B,F.fillStyle='#'+('00000'+(0|Z).toString(16)).substr(-6),F.fill()),Y.lineWidth&&(F.globalAlpha=Y.lineAlpha*B,F.strokeStyle='#'+('00000'+(0|K).toString(16)).substr(-6),F.stroke())}else if(Y.type===I.SHAPES.RECT)(Y.fillColor||0===Y.fillColor)&&(F.globalAlpha=Y.fillAlpha*B,F.fillStyle='#'+('00000'+(0|Z).toString(16)).substr(-6),F.fillRect(G.x,G.y,G.width,G.height)),Y.lineWidth&&(F.globalAlpha=Y.lineAlpha*B,F.strokeStyle='#'+('00000'+(0|K).toString(16)).substr(-6),F.strokeRect(G.x,G.y,G.width,G.height));else if(Y.type===I.SHAPES.CIRC)F.beginPath(),F.arc(G.x,G.y,G.radius,0,2*_MathPI),F.closePath(),Y.fill&&(F.globalAlpha=Y.fillAlpha*B,F.fillStyle='#'+('00000'+(0|Z).toString(16)).substr(-6),F.fill()),Y.lineWidth&&(F.globalAlpha=Y.lineAlpha*B,F.strokeStyle='#'+('00000'+(0|K).toString(16)).substr(-6),F.stroke());else if(Y.type===I.SHAPES.ELIP){var Q=2*G.width,$=2*G.height,te=G.x-Q/2,re=G.y-$/2;F.beginPath();var ne=0.5522848,oe=Q/2*ne,ie=$/2*ne,se=te+Q,le=re+$,de=te+Q/2,ue=re+$/2;F.moveTo(te,ue),F.bezierCurveTo(te,ue-ie,de-oe,re,de,re),F.bezierCurveTo(de+oe,re,se,ue-ie,se,ue),F.bezierCurveTo(se,ue+ie,de+oe,le,de,le),F.bezierCurveTo(de-oe,le,te,ue+ie,te,ue),F.closePath(),Y.fill&&(F.globalAlpha=Y.fillAlpha*B,F.fillStyle='#'+('00000'+(0|Z).toString(16)).substr(-6),F.fill()),Y.lineWidth&&(F.globalAlpha=Y.lineAlpha*B,F.strokeStyle='#'+('00000'+(0|K).toString(16)).substr(-6),F.stroke())}else if(Y.type===I.SHAPES.RREC){var pe=G.x,ce=G.y,fe=G.width,he=G.height,me=G.radius,ge=0|_Mathmin(fe,he)/2;me=me>ge?ge:me,F.beginPath(),F.moveTo(pe,ce+me),F.lineTo(pe,ce+he-me),F.quadraticCurveTo(pe,ce+he,pe+me,ce+he),F.lineTo(pe+fe-me,ce+he),F.quadraticCurveTo(pe+fe,ce+he,pe+fe,ce+he-me),F.lineTo(pe+fe,ce+me),F.quadraticCurveTo(pe+fe,ce,pe+fe-me,ce),F.lineTo(pe+me,ce),F.quadraticCurveTo(pe,ce,pe,ce+me),F.closePath(),(Y.fillColor||0===Y.fillColor)&&(F.globalAlpha=Y.fillAlpha*B,F.fillStyle='#'+('00000'+(0|Z).toString(16)).substr(-6),F.fill()),Y.lineWidth&&(F.globalAlpha=Y.lineAlpha*B,F.strokeStyle='#'+('00000'+(0|K).toString(16)).substr(-6),F.stroke())}}},O.prototype.updateGraphicsTint=function(L){L._prevTint=L.tint;for(var N=(255&L.tint>>16)/255,F=(255&L.tint>>8)/255,B=(255&L.tint)/255,U=0;U<L.graphicsData.length;++U){var X=L.graphicsData[U],V=0|X.fillColor,Y=0|X.lineColor;X._fillTint=(255*((255&V>>16)/255*N)<<16)+(255*((255&V>>8)/255*F)<<8)+255*((255&V)/255*B),X._lineTint=(255*((255&Y>>16)/255*N)<<16)+(255*((255&Y>>8)/255*F)<<8)+255*((255&Y)/255*B)}},O.prototype.renderPolygon=function(L,N,F){F.moveTo(L[0],L[1]);for(var B=1;B<L.length/2;++B)F.lineTo(L[2*B],L[2*B+1]);N&&F.closePath()},O.prototype.destroy=function(){this.renderer=null},O}();E.default=A,R.default.registerPlugin('graphics',A)},function(T,E){'use strict';E.__esModule=!0,E.default=function(M,C,R,I,A,O,D,L){var N=8<arguments.length&&arguments[8]!==void 0?arguments[8]:[],F=20,B=0,U=0,X=0,V=0,Y=0;N.push(M,C);for(var G=1,Z=0;G<=F;++G)Z=G/F,B=1-Z,U=B*B,X=U*B,V=Z*Z,Y=V*Z,N.push(X*M+3*U*Z*R+3*B*V*A+Y*D,X*C+3*U*Z*I+3*B*V*O+Y*L);return N}},function(T,E,S){'use strict';function P(re){return re&&re.__esModule?re:{default:re}}function M(re,ne){if(!(re instanceof ne))throw new TypeError('Cannot call a class as a function')}function C(re,ne){if(!re)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return ne&&('object'==typeof ne||'function'==typeof ne)?ne:re}function R(re,ne){if('function'!=typeof ne&&null!==ne)throw new TypeError('Super expression must either be null or a function, not '+typeof ne);re.prototype=Object.create(ne&&ne.prototype,{constructor:{value:re,enumerable:!1,writable:!0,configurable:!0}}),ne&&(Object.setPrototypeOf?Object.setPrototypeOf(re,ne):re.__proto__=ne)}E.__esModule=!0;var I=S(2),A=S(1),O=S(19),D=P(O),L=S(18),N=P(L),F=S(107),B=P(F),U=S(108),X=P(U),V=S(110),Y=P(V),G=S(111),Z=P(G),K=S(112),J=P(K),Q=S(109),$=P(Q),te=function(re){function ne(oe){M(this,ne);var ie=C(this,re.call(this,oe));return ie.graphicsDataPool=[],ie.primitiveShader=null,ie.gl=oe.gl,ie.CONTEXT_UID=0,ie}return R(ne,re),ne.prototype.onContextChange=function(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.primitiveShader=new X.default(this.gl)},ne.prototype.destroy=function(){D.default.prototype.destroy.call(this);for(var ie=0;ie<this.graphicsDataPool.length;++ie)this.graphicsDataPool[ie].destroy();this.graphicsDataPool=null},ne.prototype.render=function(ie){var se=this.renderer,le=se.gl,ue=ie._webGL[this.CONTEXT_UID],de;ue&&ie.dirty===ue.dirty||(this.updateGraphics(ie),ue=ie._webGL[this.CONTEXT_UID]);var pe=this.primitiveShader;se.bindShader(pe),se.state.setBlendMode(ie.blendMode);for(var ce=0,fe=ue.data.length;ce<fe;ce++){de=ue.data[ce];var he=de.shader;se.bindShader(he),he.uniforms.translationMatrix=ie.transform.worldTransform.toArray(!0),he.uniforms.tint=(0,I.hex2rgb)(ie.tint),he.uniforms.alpha=ie.worldAlpha,se.bindVao(de.vao),ie.nativeLines?le.drawArrays(le.LINES,0,de.points.length/6):de.vao.draw(le.TRIANGLE_STRIP,de.indices.length)}},ne.prototype.updateGraphics=function(ie){var se=this.renderer.gl,le=ie._webGL[this.CONTEXT_UID];if(le||(le=ie._webGL[this.CONTEXT_UID]={lastIndex:0,data:[],gl:se,clearDirty:-1,dirty:-1}),le.dirty=ie.dirty,ie.clearDirty!==le.clearDirty){le.clearDirty=ie.clearDirty;for(var de=0;de<le.data.length;de++)this.graphicsDataPool.push(le.data[de]);le.data.length=0,le.lastIndex=0}for(var ue=void 0,pe=le.lastIndex,ce;pe<ie.graphicsData.length;pe++)ce=ie.graphicsData[pe],ue=this.getWebGLData(le,0),ce.type===A.SHAPES.POLY&&(0,Y.default)(ce,ue),ce.type===A.SHAPES.RECT?(0,Z.default)(ce,ue):ce.type===A.SHAPES.CIRC||ce.type===A.SHAPES.ELIP?(0,$.default)(ce,ue):ce.type===A.SHAPES.RREC&&(0,J.default)(ce,ue),le.lastIndex++;this.renderer.bindVao(null);for(var fe=0;fe<le.data.length;fe++)ue=le.data[fe],ue.dirty&&ue.upload()},ne.prototype.getWebGLData=function(ie,se){var le=ie.data[ie.data.length-1];return(!le||3.2e5<le.points.length)&&(le=this.graphicsDataPool.pop()||new B.default(this.renderer.gl,this.primitiveShader,this.renderer.state.attribsState),le.reset(se),ie.data.push(le)),le.dirty=!0,le},ne}(D.default);E.default=te,N.default.registerPlugin('graphics',te)},function(T,E,S){'use strict';function M(A,O){if(!(A instanceof O))throw new TypeError('Cannot call a class as a function')}E.__esModule=!0;var C=S(5),R=function(A){return A&&A.__esModule?A:{default:A}}(C),I=function(){function A(O,D,L){M(this,A),this.gl=O,this.color=[0,0,0],this.points=[],this.indices=[],this.buffer=R.default.GLBuffer.createVertexBuffer(O),this.indexBuffer=R.default.GLBuffer.createIndexBuffer(O),this.dirty=!0,this.glPoints=null,this.glIndices=null,this.shader=D,this.vao=new R.default.VertexArrayObject(O,L).addIndex(this.indexBuffer).addAttribute(this.buffer,D.attributes.aVertexPosition,O.FLOAT,!1,24,0).addAttribute(this.buffer,D.attributes.aColor,O.FLOAT,!1,24,8)}return A.prototype.reset=function(){this.points.length=0,this.indices.length=0},A.prototype.upload=function(){this.glPoints=new Float32Array(this.points),this.buffer.upload(this.glPoints),this.glIndices=new Uint16Array(this.indices),this.indexBuffer.upload(this.glIndices),this.dirty=!1},A.prototype.destroy=function(){this.color=null,this.points=null,this.indices=null,this.vao.destroy(),this.buffer.destroy(),this.indexBuffer.destroy(),this.gl=null,this.buffer=null,this.indexBuffer=null,this.glPoints=null,this.glIndices=null},A}();E.default=I},function(T,E,S){'use strict';function M(D,L){if(!(D instanceof L))throw new TypeError('Cannot call a class as a function')}function C(D,L){if(!D)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return L&&('object'==typeof L||'function'==typeof L)?L:D}function R(D,L){if('function'!=typeof L&&null!==L)throw new TypeError('Super expression must either be null or a function, not '+typeof L);D.prototype=Object.create(L&&L.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),L&&(Object.setPrototypeOf?Object.setPrototypeOf(D,L):D.__proto__=L)}E.__esModule=!0;var I=S(10),A=function(D){return D&&D.__esModule?D:{default:D}}(I),O=function(D){function L(N){return M(this,L),C(this,D.call(this,N,['attribute vec2 aVertexPosition;','attribute vec4 aColor;','uniform mat3 translationMatrix;','uniform mat3 projectionMatrix;','uniform float alpha;','uniform vec3 tint;','varying vec4 vColor;','void main(void){','   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);','   vColor = aColor * vec4(tint * alpha, alpha);','}'].join('\n'),['varying vec4 vColor;','void main(void){','   gl_FragColor = vColor;','}'].join('\n')))}return R(L,D),L}(A.default);E.default=O},function(T,E,S){'use strict';E.__esModule=!0,E.default=function(O,D){var L=O.shape,N=L.x,F=L.y,B,U;if(O.type===I.SHAPES.CIRC?(B=L.radius,U=L.radius):(B=L.width,U=L.height),0!==B&&0!==U){var X=_Mathfloor(30*_Mathsqrt(L.radius))||_Mathfloor(15*_Mathsqrt(L.width+L.height)),V=2*_MathPI/X;if(O.fill){var Y=(0,A.hex2rgb)(O.fillColor),G=O.fillAlpha,Z=Y[0]*G,K=Y[1]*G,J=Y[2]*G,Q=D.points,$=D.indices,te=Q.length/6;$.push(te);for(var re=0;re<X+1;re++)Q.push(N,F,Z,K,J,G),Q.push(N+_Mathsin(V*re)*B,F+_Mathcos(V*re)*U,Z,K,J,G),$.push(te++,te++);$.push(te-1)}if(O.lineWidth){var ne=O.points;O.points=[];for(var oe=0;oe<X+1;oe++)O.points.push(N+_Mathsin(V*oe)*B,F+_Mathcos(V*oe)*U);(0,R.default)(O,D),O.points=ne}}};var C=S(17),R=function(O){return O&&O.__esModule?O:{default:O}}(C),I=S(1),A=S(2)},function(T,E,S){'use strict';function P(D){return D&&D.__esModule?D:{default:D}}E.__esModule=!0,E.default=function(D,L){D.points=D.shape.points.slice();var N=D.points;if(D.fill&&6<=N.length){for(var F=[],B=D.holes,U=0,X;U<B.length;U++)X=B[U],F.push(N.length/2),N=N.concat(X.points);var V=L.points,Y=L.indices,G=N.length/2,Z=(0,I.hex2rgb)(D.fillColor),K=D.fillAlpha,J=Z[0]*K,Q=Z[1]*K,$=Z[2]*K,te=(0,O.default)(N,F,2);if(!te)return;for(var re=V.length/6,ne=0;ne<te.length;ne+=3)Y.push(te[ne]+re),Y.push(te[ne]+re),Y.push(te[ne+1]+re),Y.push(te[ne+2]+re),Y.push(te[ne+2]+re);for(var oe=0;oe<G;oe++)V.push(N[2*oe],N[2*oe+1],J,Q,$,K)}0<D.lineWidth&&(0,R.default)(D,L)};var C=S(17),R=P(C),I=S(2),A=S(38),O=P(A)},function(T,E,S){'use strict';E.__esModule=!0,E.default=function(A,O){var D=A.shape,L=D.x,N=D.y,F=D.width,B=D.height;if(A.fill){var U=(0,I.hex2rgb)(A.fillColor),X=A.fillAlpha,V=U[0]*X,Y=U[1]*X,G=U[2]*X,Z=O.points,K=O.indices,J=Z.length/6;Z.push(L,N),Z.push(V,Y,G,X),Z.push(L+F,N),Z.push(V,Y,G,X),Z.push(L,N+B),Z.push(V,Y,G,X),Z.push(L+F,N+B),Z.push(V,Y,G,X),K.push(J,J,J+1,J+2,J+3,J+3)}if(A.lineWidth){var Q=A.points;A.points=[L,N,L+F,N,L+F,N+B,L,N+B,L,N],(0,R.default)(A,O),A.points=Q}};var C=S(17),R=function(A){return A&&A.__esModule?A:{default:A}}(C),I=S(2)},function(T,E,S){'use strict';function P(N){return N&&N.__esModule?N:{default:N}}function C(N,F,B){return N+(F-N)*B}function R(N,F,B,U,X,V){for(var Y=6<arguments.length&&arguments[6]!==void 0?arguments[6]:[],G=20,Z=Y,K=0,J=0,Q=0,$=0,te=0,re=0,ne=0,oe=0;ne<=G;++ne)oe=ne/G,K=C(N,B,oe),J=C(F,U,oe),Q=C(B,X,oe),$=C(U,V,oe),te=C(K,Q,oe),re=C(J,$,oe),Z.push(te,re);return Z}E.__esModule=!0,E.default=function(N,F){var B=N.shape,U=B.x,X=B.y,V=B.width,Y=B.height,G=B.radius,Z=[];if(Z.push(U,X+G),R(U,X+Y-G,U,X+Y,U+G,X+Y,Z),R(U+V-G,X+Y,U+V,X+Y,U+V,X+Y-G,Z),R(U+V,X+G,U+V,X,U+V-G,X,Z),R(U+G,X,U,X,U,X+G+1e-10,Z),N.fill){for(var K=(0,L.hex2rgb)(N.fillColor),J=N.fillAlpha,Q=K[0]*J,$=K[1]*J,te=K[2]*J,re=F.points,ne=F.indices,oe=re.length/6,ie=(0,A.default)(Z,null,2),se=0,le=ie.length;se<le;se+=3)ne.push(ie[se]+oe),ne.push(ie[se]+oe),ne.push(ie[se+1]+oe),ne.push(ie[se+2]+oe),ne.push(ie[se+2]+oe);for(var de=0,ue=Z.length;de<ue;de++)re.push(Z[de],Z[++de],Q,$,te,J)}if(N.lineWidth){var pe=N.points;N.points=Z,(0,D.default)(N,F),N.points=pe}};var I=S(38),A=P(I),O=S(17),D=P(O),L=S(2)},function(T,E,S){'use strict';function M(O,D){if(!(O instanceof D))throw new TypeError('Cannot call a class as a function')}E.__esModule=!0;var C=S(28),R=function(O){return O&&O.__esModule?O:{default:O}}(C),I=S(1),A=function(){function O(){var D=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,L=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,N=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;M(this,O),this.x=D,this.y=L,this.radius=N,this.type=I.SHAPES.CIRC}return O.prototype.clone=function(){return new O(this.x,this.y,this.radius)},O.prototype.contains=function(L,N){if(0>=this.radius)return!1;var F=this.radius*this.radius,B=this.x-L,U=this.y-N;return B*=B,U*=U,B+U<=F},O.prototype.getBounds=function(){return new R.default(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)},O}();E.default=A},function(T,E,S){'use strict';function M(O,D){if(!(O instanceof D))throw new TypeError('Cannot call a class as a function')}E.__esModule=!0;var C=S(28),R=function(O){return O&&O.__esModule?O:{default:O}}(C),I=S(1),A=function(){function O(){var D=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,L=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,N=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,F=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0;M(this,O),this.x=D,this.y=L,this.width=N,this.height=F,this.type=I.SHAPES.ELIP}return O.prototype.clone=function(){return new O(this.x,this.y,this.width,this.height)},O.prototype.contains=function(L,N){if(0>=this.width||0>=this.height)return!1;var F=(L-this.x)/this.width,B=(N-this.y)/this.height;return F*=F,B*=B,1>=F+B},O.prototype.getBounds=function(){return new R.default(this.x-this.width,this.y-this.height,this.width,this.height)},O}();E.default=A},function(T,E,S){'use strict';function M(O,D){if(!(O instanceof D))throw new TypeError('Cannot call a class as a function')}E.__esModule=!0;var C=S(27),R=function(O){return O&&O.__esModule?O:{default:O}}(C),I=S(1),A=function(){function O(){for(var D=arguments.length,L=Array(D),N=0;N<D;N++)L[N]=arguments[N];if(M(this,O),Array.isArray(L[0])&&(L=L[0]),L[0]instanceof R.default){for(var F=[],B=0,U=L.length;B<U;B++)F.push(L[B].x,L[B].y);L=F}this.closed=!0,this.points=L,this.type=I.SHAPES.POLY}return O.prototype.clone=function(){return new O(this.points.slice())},O.prototype.close=function(){var L=this.points;(L[0]!==L[L.length-2]||L[1]!==L[L.length-1])&&L.push(L[0],L[1])},O.prototype.contains=function(L,N){for(var F=!1,B=this.points.length/2,U=0,X=B-1;U<B;X=U++){var V=this.points[2*U],Y=this.points[2*U+1],G=this.points[2*X],Z=this.points[2*X+1];Y>N!=Z>N&&L<(G-V)*((N-Y)/(Z-Y))+V&&(F=!F)}return F},O}();E.default=A},function(T,E,S){'use strict';function P(R,I){if(!(R instanceof I))throw new TypeError('Cannot call a class as a function')}E.__esModule=!0;var M=S(1),C=function(){function R(){var I=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,A=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,O=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,D=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,L=4<arguments.length&&void 0!==arguments[4]?arguments[4]:20;P(this,R),this.x=I,this.y=A,this.width=O,this.height=D,this.radius=L,this.type=M.SHAPES.RREC}return R.prototype.clone=function(){return new R(this.x,this.y,this.width,this.height,this.radius)},R.prototype.contains=function(A,O){if(0>=this.width||0>=this.height)return!1;if(A>=this.x&&A<=this.x+this.width&&O>=this.y&&O<=this.y+this.height){if(O>=this.y+this.radius&&O<=this.y+this.height-this.radius||A>=this.x+this.radius&&A<=this.x+this.width-this.radius)return!0;var D=A-(this.x+this.radius),L=O-(this.y+this.radius),N=this.radius*this.radius;if(D*D+L*L<=N)return!0;if(D=A-(this.x+this.width-this.radius),D*D+L*L<=N)return!0;if(L=O-(this.y+this.height-this.radius),D*D+L*L<=N)return!0;if(D=A-(this.x+this.radius),D*D+L*L<=N)return!0}return!1},R}();E.default=C},function(T,E,S){'use strict';function P(R,I){if(!(R instanceof I))throw new TypeError('Cannot call a class as a function')}E.__esModule=!0;var M=S(1),C=function(){function R(I){P(this,R),this.renderer=I}return R.prototype.pushMask=function(A){var O=this.renderer;O.context.save();var D=A.alpha,L=A.transform.worldTransform,N=O.resolution;O.context.setTransform(L.a*N,L.b*N,L.c*N,L.d*N,L.tx*N,L.ty*N),A._texture||(this.renderGraphicsShape(A),O.context.clip()),A.worldAlpha=D},R.prototype.renderGraphicsShape=function(A){var O=this.renderer.context,D=A.graphicsData.length;if(0!==D){O.beginPath();for(var L=0;L<D;L++){var N=A.graphicsData[L],F=N.shape;if(N.type===M.SHAPES.POLY){var B=F.points;O.moveTo(B[0],B[1]);for(var U=1;U<B.length/2;U++)O.lineTo(B[2*U],B[2*U+1]);B[0]===B[B.length-2]&&B[1]===B[B.length-1]&&O.closePath()}else if(N.type===M.SHAPES.RECT)O.rect(F.x,F.y,F.width,F.height),O.closePath();else if(N.type===M.SHAPES.CIRC)O.arc(F.x,F.y,F.radius,0,2*_MathPI),O.closePath();else if(N.type===M.SHAPES.ELIP){var X=2*F.width,V=2*F.height,Y=F.x-X/2,G=F.y-V/2,Z=0.5522848,K=X/2*Z,J=V/2*Z,Q=Y+X,$=G+V,te=Y+X/2,re=G+V/2;O.moveTo(Y,re),O.bezierCurveTo(Y,re-J,te-K,G,te,G),O.bezierCurveTo(te+K,G,Q,re-J,Q,re),O.bezierCurveTo(Q,re+J,te+K,$,te,$),O.bezierCurveTo(te-K,$,Y,re+J,Y,re),O.closePath()}else if(N.type===M.SHAPES.RREC){var ne=F.x,oe=F.y,ie=F.width,se=F.height,le=F.radius,de=0|_Mathmin(ie,se)/2;le=le>de?de:le,O.moveTo(ne,oe+le),O.lineTo(ne,oe+se-le),O.quadraticCurveTo(ne,oe+se,ne+le,oe+se),O.lineTo(ne+ie-le,oe+se),O.quadraticCurveTo(ne+ie,oe+se,ne+ie,oe+se-le),O.lineTo(ne+ie,oe+le),O.quadraticCurveTo(ne+ie,oe,ne+ie-le,oe),O.lineTo(ne+le,oe),O.quadraticCurveTo(ne,oe,ne,oe+le),O.closePath()}}}},R.prototype.popMask=function(A){A.context.restore()},R.prototype.destroy=function(){},R}();E.default=C},function(T,E,S){'use strict';E.__esModule=!0,E.default=function(){var A=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];return(0,I.default)()?(A[C.BLEND_MODES.NORMAL]='source-over',A[C.BLEND_MODES.ADD]='lighter',A[C.BLEND_MODES.MULTIPLY]='multiply',A[C.BLEND_MODES.SCREEN]='screen',A[C.BLEND_MODES.OVERLAY]='overlay',A[C.BLEND_MODES.DARKEN]='darken',A[C.BLEND_MODES.LIGHTEN]='lighten',A[C.BLEND_MODES.COLOR_DODGE]='color-dodge',A[C.BLEND_MODES.COLOR_BURN]='color-burn',A[C.BLEND_MODES.HARD_LIGHT]='hard-light',A[C.BLEND_MODES.SOFT_LIGHT]='soft-light',A[C.BLEND_MODES.DIFFERENCE]='difference',A[C.BLEND_MODES.EXCLUSION]='exclusion',A[C.BLEND_MODES.HUE]='hue',A[C.BLEND_MODES.SATURATION]='saturate',A[C.BLEND_MODES.COLOR]='color',A[C.BLEND_MODES.LUMINOSITY]='luminosity'):(A[C.BLEND_MODES.NORMAL]='source-over',A[C.BLEND_MODES.ADD]='lighter',A[C.BLEND_MODES.MULTIPLY]='source-over',A[C.BLEND_MODES.SCREEN]='source-over',A[C.BLEND_MODES.OVERLAY]='source-over',A[C.BLEND_MODES.DARKEN]='source-over',A[C.BLEND_MODES.LIGHTEN]='source-over',A[C.BLEND_MODES.COLOR_DODGE]='source-over',A[C.BLEND_MODES.COLOR_BURN]='source-over',A[C.BLEND_MODES.HARD_LIGHT]='source-over',A[C.BLEND_MODES.SOFT_LIGHT]='source-over',A[C.BLEND_MODES.DIFFERENCE]='source-over',A[C.BLEND_MODES.EXCLUSION]='source-over',A[C.BLEND_MODES.HUE]='source-over',A[C.BLEND_MODES.SATURATION]='source-over',A[C.BLEND_MODES.COLOR]='source-over',A[C.BLEND_MODES.LUMINOSITY]='source-over'),A};var C=S(1),R=S(61),I=function(A){return A&&A.__esModule?A:{default:A}}(R)},function(T,E,S){'use strict';function M(O,D){if(!(O instanceof D))throw new TypeError('Cannot call a class as a function')}E.__esModule=!0;var C=S(1),R=S(4),I=function(O){return O&&O.__esModule?O:{default:O}}(R),A=function(){function O(D){M(this,O),this.renderer=D,this.count=0,this.checkCount=0,this.maxIdle=I.default.GC_MAX_IDLE,this.checkCountMax=I.default.GC_MAX_CHECK_COUNT,this.mode=I.default.GC_MODE}return O.prototype.update=function(){this.count++,this.mode===C.GC_MODES.MANUAL||(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run()))},O.prototype.run=function(){for(var L=this.renderer.textureManager,N=L._managedTextures,F=!1,B=0,U;B<N.length;B++)U=N[B],!U._glRenderTargets&&this.count-U.touched>this.maxIdle&&(L.destroyTexture(U,!0),N[B]=null,F=!0);if(F){for(var X=0,V=0;V<N.length;V++)null!==N[V]&&(N[X++]=N[V]);N.length=X}},O.prototype.unload=function(L){var N=this.renderer.textureManager;L._texture&&L._texture._glRenderTargets&&N.destroyTexture(L._texture,!0);for(var F=L.children.length-1;0<=F;F--)this.unload(L.children[F])},O}();E.default=A},function(T,E,S){'use strict';function M(L,N){if(!(L instanceof N))throw new TypeError('Cannot call a class as a function')}E.__esModule=!0;var C=S(5),R=S(1),I=S(20),A=function(L){return L&&L.__esModule?L:{default:L}}(I),O=S(2),D=function(){function L(N){M(this,L),this.renderer=N,this.gl=N.gl,this._managedTextures=[]}return L.prototype.bindTexture=function(){},L.prototype.getTexture=function(){},L.prototype.updateTexture=function(F,B){var U=this.gl,X=!!F._glRenderTargets;if(!F.hasLoaded)return null;var V=this.renderer.boundTextures;if(void 0===B){B=0;for(var Y=0;Y<V.length;++Y)if(V[Y]===F){B=Y;break}}V[B]=F,U.activeTexture(U.TEXTURE0+B);var G=F._glTextures[this.renderer.CONTEXT_UID];if(!G){if(X){var Z=new A.default(this.gl,F.width,F.height,F.scaleMode,F.resolution);Z.resize(F.width,F.height),F._glRenderTargets[this.renderer.CONTEXT_UID]=Z,G=Z.texture}else G=new C.GLTexture(this.gl,null,null,null,null),G.bind(B),G.premultiplyAlpha=!0,G.upload(F.source);F._glTextures[this.renderer.CONTEXT_UID]=G,F.on('update',this.updateTexture,this),F.on('dispose',this.destroyTexture,this),this._managedTextures.push(F),F.isPowerOfTwo?(F.mipmap&&G.enableMipmap(),F.wrapMode===R.WRAP_MODES.CLAMP?G.enableWrapClamp():F.wrapMode===R.WRAP_MODES.REPEAT?G.enableWrapRepeat():G.enableWrapMirrorRepeat()):G.enableWrapClamp(),F.scaleMode===R.SCALE_MODES.NEAREST?G.enableNearestScaling():G.enableLinearScaling()}else X?F._glRenderTargets[this.renderer.CONTEXT_UID].resize(F.width,F.height):G.upload(F.source);return G},L.prototype.destroyTexture=function(F,B){if((F=F.baseTexture||F,!!F.hasLoaded)&&F._glTextures[this.renderer.CONTEXT_UID]&&(this.renderer.unbindTexture(F),F._glTextures[this.renderer.CONTEXT_UID].destroy(),F.off('update',this.updateTexture,this),F.off('dispose',this.destroyTexture,this),delete F._glTextures[this.renderer.CONTEXT_UID],!B)){var U=this._managedTextures.indexOf(F);-1!==U&&(0,O.removeItems)(this._managedTextures,U,1)}},L.prototype.removeAll=function(){for(var F=0,B;F<this._managedTextures.length;++F)B=this._managedTextures[F],B._glTextures[this.renderer.CONTEXT_UID]&&delete B._glTextures[this.renderer.CONTEXT_UID]},L.prototype.destroy=function(){for(var F=0,B;F<this._managedTextures.length;++F)B=this._managedTextures[F],this.destroyTexture(B,!0),B.off('update',this.updateTexture,this),B.off('dispose',this.destroyTexture,this);this._managedTextures=null},L}();E.default=D},function(T,E,S){'use strict';function M(F,B){if(!(F instanceof B))throw new TypeError('Cannot call a class as a function')}E.__esModule=!0;var C=S(128),R=function(F){return F&&F.__esModule?F:{default:F}}(C),I=0,A=1,O=2,D=3,L=4,N=function(){function F(B){M(this,F),this.activeState=new Uint8Array(16),this.defaultState=new Uint8Array(16),this.defaultState[0]=1,this.stackIndex=0,this.stack=[],this.gl=B,this.maxAttribs=B.getParameter(B.MAX_VERTEX_ATTRIBS),this.attribState={tempAttribState:Array(this.maxAttribs),attribState:Array(this.maxAttribs)},this.blendModes=(0,R.default)(B),this.nativeVaoExtension=B.getExtension('OES_vertex_array_object')||B.getExtension('MOZ_OES_vertex_array_object')||B.getExtension('WEBKIT_OES_vertex_array_object')}return F.prototype.push=function(){var U=this.stack[this.stackIndex];U||(U=this.stack[this.stackIndex]=new Uint8Array(16)),++this.stackIndex;for(var X=0;X<this.activeState.length;X++)U[X]=this.activeState[X]},F.prototype.pop=function(){var U=this.stack[--this.stackIndex];this.setState(U)},F.prototype.setState=function(U){this.setBlend(U[I]),this.setDepthTest(U[A]),this.setFrontFace(U[O]),this.setCullFace(U[D]),this.setBlendMode(U[L])},F.prototype.setBlend=function(U){U=U?1:0,this.activeState[I]===U||(this.activeState[I]=U,this.gl[U?'enable':'disable'](this.gl.BLEND))},F.prototype.setBlendMode=function(U){U===this.activeState[L]||(this.activeState[L]=U,this.gl.blendFunc(this.blendModes[U][0],this.blendModes[U][1]))},F.prototype.setDepthTest=function(U){U=U?1:0,this.activeState[A]===U||(this.activeState[A]=U,this.gl[U?'enable':'disable'](this.gl.DEPTH_TEST))},F.prototype.setCullFace=function(U){U=U?1:0,this.activeState[D]===U||(this.activeState[D]=U,this.gl[U?'enable':'disable'](this.gl.CULL_FACE))},F.prototype.setFrontFace=function(U){U=U?1:0,this.activeState[O]===U||(this.activeState[O]=U,this.gl.frontFace(this.gl[U?'CW':'CCW']))},F.prototype.resetAttributes=function(){for(var U=0;U<this.attribState.tempAttribState.length;U++)this.attribState.tempAttribState[U]=0;for(var X=0;X<this.attribState.attribState.length;X++)this.attribState.attribState[X]=0;for(var V=1;V<this.maxAttribs;V++)this.gl.disableVertexAttribArray(V)},F.prototype.resetToDefault=function(){this.nativeVaoExtension&&this.nativeVaoExtension.bindVertexArrayOES(null),this.resetAttributes();for(var U=0;U<this.activeState.length;++U)this.activeState[U]=32;this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.setState(this.defaultState)},F}();E.default=N},function(T,E,S){'use strict';function C(O){for(var D=/^(projectionMatrix|uSampler|filterArea|filterClamp)$/,L={},N=void 0,F=O.replace(/\s+/g,' ').split(/\s*;\s*/),B=0,U;B<F.length;B++)if(U=F[B].trim(),-1<U.indexOf('uniform')){var X=U.split(' '),V=X[1],Y=X[2],G=1;-1<Y.indexOf('[')&&(N=Y.split(/\[|]/),Y=N[0],G*=+N[1]),Y.match(D)||(L[Y]={value:A(V,G),name:Y,type:V})}return L}E.__esModule=!0,E.default=function(O,D,L){var N=C(O,L),F=C(D,L);return Object.assign(N,F)};var R=S(5),I=function(O){return O&&O.__esModule?O:{default:O}}(R),A=I.default.shader.defaultValue},function(T,E,S){'use strict';E.__esModule=!0,E.calculateScreenSpaceMatrix=function(I,A,O){var D=I.identity();return D.translate(A.x/O.width,A.y/O.height),D.scale(O.width,O.height),D},E.calculateNormalizedScreenSpaceMatrix=function(I,A,O){var D=I.identity();D.translate(A.x/O.width,A.y/O.height);var L=O.width/A.width,N=O.height/A.height;return D.scale(L,N),D},E.calculateSpriteMatrix=function(I,A,O,D){var L=D.worldTransform.copy(R.Matrix.TEMP_MATRIX),N=D._texture.baseTexture,F=I.identity(),B=O.height/O.width;F.translate(A.x/O.width,A.y/O.height),F.scale(1,B);var U=O.width/N.width,X=O.height/N.height;return L.tx/=N.width*U,L.ty/=N.width*U,L.invert(),F.prepend(L),F.scale(1,1/B),F.scale(U,X),F.translate(D.anchor.x,D.anchor.y),F};var R=S(3)},function(T,E,S){'use strict';function M(Q){return Q&&Q.__esModule?Q:{default:Q}}function C(Q,$){if(!Q)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return $&&('object'==typeof $||'function'==typeof $)?$:Q}function R(Q,$){if('function'!=typeof $&&null!==$)throw new TypeError('Super expression must either be null or a function, not '+typeof $);Q.prototype=Object.create($&&$.prototype,{constructor:{value:Q,enumerable:!1,writable:!0,configurable:!0}}),$&&(Object.setPrototypeOf?Object.setPrototypeOf(Q,$):Q.__proto__=$)}function I(Q,$){if(!(Q instanceof $))throw new TypeError('Cannot call a class as a function')}E.__esModule=!0;var A=S(13),O=M(A),D=S(20),L=M(D),N=S(64),F=M(N),B=S(3),U=S(10),X=M(U),V=S(123),Y=function(Q){if(Q&&Q.__esModule)return Q;var $={};if(null!=Q)for(var te in Q)Object.prototype.hasOwnProperty.call(Q,te)&&($[te]=Q[te]);return $.default=Q,$}(V),G=S(21),Z=M(G),K=function Q(){I(this,Q),this.renderTarget=null,this.sourceFrame=new B.Rectangle,this.destinationFrame=new B.Rectangle,this.filters=[],this.target=null,this.resolution=1},J=function(Q){function $(te){I(this,$);var re=C(this,Q.call(this,te));return re.gl=re.renderer.gl,re.quad=new F.default(re.gl,te.state.attribState),re.shaderCache={},re.pool={},re.filterData=null,re}return R($,Q),$.prototype.pushFilter=function(re,ne){var oe=this.renderer,ie=this.filterData;if(!ie){ie=this.renderer._activeRenderTarget.filterStack;var se=new K;se.sourceFrame=se.destinationFrame=this.renderer._activeRenderTarget.size,se.renderTarget=oe._activeRenderTarget,this.renderer._activeRenderTarget.filterData=ie={index:0,stack:[se]},this.filterData=ie}var le=ie.stack[++ie.index];le||(le=ie.stack[ie.index]=new K);var de=ne[0].resolution,ue=0|ne[0].padding,pe=re.filterArea||re.getBounds(!0),ce=le.sourceFrame,fe=le.destinationFrame;ce.x=(0|pe.x*de)/de,ce.y=(0|pe.y*de)/de,ce.width=(0|pe.width*de)/de,ce.height=(0|pe.height*de)/de,ie.stack[0].renderTarget.transform||ne[0].autoFit&&ce.fit(ie.stack[0].destinationFrame),ce.pad(ue),fe.width=ce.width,fe.height=ce.height;var he=this.getPotRenderTarget(oe.gl,ce.width,ce.height,de);le.target=re,le.filters=ne,le.resolution=de,le.renderTarget=he,he.setFrame(fe,ce),oe.bindRenderTarget(he),he.clear()},$.prototype.popFilter=function(){var re=this.filterData,ne=re.stack[re.index-1],oe=re.stack[re.index];this.quad.map(oe.renderTarget.size,oe.sourceFrame).upload();var ie=oe.filters;if(1===ie.length)ie[0].apply(this,oe.renderTarget,ne.renderTarget,!1,oe),this.freePotRenderTarget(oe.renderTarget);else{var se=oe.renderTarget,le=this.getPotRenderTarget(this.renderer.gl,oe.sourceFrame.width,oe.sourceFrame.height,oe.resolution);le.setFrame(oe.destinationFrame,oe.sourceFrame),le.clear();var de=0;for(de=0;de<ie.length-1;++de){ie[de].apply(this,se,le,!0,oe);var ue=se;se=le,le=ue}ie[de].apply(this,se,ne.renderTarget,!1,oe),this.freePotRenderTarget(se),this.freePotRenderTarget(le)}re.index--,0===re.index&&(this.filterData=null)},$.prototype.applyFilter=function(re,ne,oe,ie){var se=this.renderer,le=se.gl,de=re.glShaders[se.CONTEXT_UID];de||(re.glShaderKey?(de=this.shaderCache[re.glShaderKey],!de&&(de=new X.default(this.gl,re.vertexSrc,re.fragmentSrc),re.glShaders[se.CONTEXT_UID]=this.shaderCache[re.glShaderKey]=de)):de=re.glShaders[se.CONTEXT_UID]=new X.default(this.gl,re.vertexSrc,re.fragmentSrc),se.bindVao(null),this.quad.initVao(de)),se.bindVao(this.quad.vao),se.bindRenderTarget(oe),ie&&(le.disable(le.SCISSOR_TEST),se.clear(),le.enable(le.SCISSOR_TEST)),oe===se.maskManager.scissorRenderTarget&&se.maskManager.pushScissorMask(null,se.maskManager.scissorData),se.bindShader(de);var ue=this.renderer.emptyTextures[0];this.renderer.boundTextures[0]=ue,this.syncUniforms(de,re),se.state.setBlendMode(re.blendMode),le.activeTexture(le.TEXTURE0),le.bindTexture(le.TEXTURE_2D,ne.texture.texture),this.quad.vao.draw(this.renderer.gl.TRIANGLES,6,0),le.bindTexture(le.TEXTURE_2D,ue._glTextures[this.renderer.CONTEXT_UID].texture)},$.prototype.syncUniforms=function(re,ne){var oe=ne.uniformData,ie=ne.uniforms,se=1,le;if(re.uniforms.filterArea){le=this.filterData.stack[this.filterData.index];var de=re.uniforms.filterArea;de[0]=le.renderTarget.size.width,de[1]=le.renderTarget.size.height,de[2]=le.sourceFrame.x,de[3]=le.sourceFrame.y,re.uniforms.filterArea=de}if(re.uniforms.filterClamp){le=le||this.filterData.stack[this.filterData.index];var ue=re.uniforms.filterClamp;ue[0]=0,ue[1]=0,ue[2]=(le.sourceFrame.width-1)/le.renderTarget.size.width,ue[3]=(le.sourceFrame.height-1)/le.renderTarget.size.height,re.uniforms.filterClamp=ue}for(var pe in oe)if('sampler2D'===oe[pe].type&&0!==ie[pe]){if(ie[pe].baseTexture)re.uniforms[pe]=this.renderer.bindTexture(ie[pe].baseTexture,se);else{re.uniforms[pe]=se;var ce=this.renderer.gl;this.renderer.boundTextures[se]=this.renderer.emptyTextures[se],ce.activeTexture(ce.TEXTURE0+se),ie[pe].texture.bind()}se++}else if('mat3'===oe[pe].type)re.uniforms[pe]=void 0===ie[pe].a?ie[pe]:ie[pe].toArray(!0);else if('vec2'!==oe[pe].type)'float'===oe[pe].type?re.uniforms.data[pe].value!==oe[pe]&&(re.uniforms[pe]=ie[pe]):re.uniforms[pe]=ie[pe];else if(void 0!==ie[pe].x){var fe=re.uniforms[pe]||new Float32Array(2);fe[0]=ie[pe].x,fe[1]=ie[pe].y,re.uniforms[pe]=fe}else re.uniforms[pe]=ie[pe]},$.prototype.getRenderTarget=function(re,ne){var oe=this.filterData.stack[this.filterData.index],ie=this.getPotRenderTarget(this.renderer.gl,oe.sourceFrame.width,oe.sourceFrame.height,ne||oe.resolution);return ie.setFrame(oe.destinationFrame,oe.sourceFrame),ie},$.prototype.returnRenderTarget=function(re){this.freePotRenderTarget(re)},$.prototype.calculateScreenSpaceMatrix=function(re){var ne=this.filterData.stack[this.filterData.index];return Y.calculateScreenSpaceMatrix(re,ne.sourceFrame,ne.renderTarget.size)},$.prototype.calculateNormalizedScreenSpaceMatrix=function(re){var ne=this.filterData.stack[this.filterData.index];return Y.calculateNormalizedScreenSpaceMatrix(re,ne.sourceFrame,ne.renderTarget.size,ne.destinationFrame)},$.prototype.calculateSpriteMatrix=function(re,ne){var oe=this.filterData.stack[this.filterData.index];return Y.calculateSpriteMatrix(re,oe.sourceFrame,oe.renderTarget.size,ne)},$.prototype.destroy=function(){this.shaderCache={},this.emptyPool()},$.prototype.getPotRenderTarget=function(re,ne,oe,ie){ne=Z.default.nextPow2(ne*ie),oe=Z.default.nextPow2(oe*ie);var se=(65535&ne)<<16|65535&oe;this.pool[se]||(this.pool[se]=[]);var le=this.pool[se].pop();if(!le){var de=this.renderer.boundTextures[0];re.activeTexture(re.TEXTURE0),le=new L.default(re,ne,oe,null,1),re.bindTexture(re.TEXTURE_2D,de._glTextures[this.renderer.CONTEXT_UID].texture)}return le.resolution=ie,le.defaultFrame.width=le.size.width=ne/ie,le.defaultFrame.height=le.size.height=oe/ie,le},$.prototype.emptyPool=function(){for(var re in this.pool){var ne=this.pool[re];if(ne)for(var oe=0;oe<ne.length;oe++)ne[oe].destroy(!0)}this.pool={}},$.prototype.freePotRenderTarget=function(re){var ne=re.size.width*re.resolution,oe=re.size.height*re.resolution;this.pool[(65535&ne)<<16|65535&oe].push(re)},$}(O.default);E.default=J},function(T,E,S){'use strict';function P(N){return N&&N.__esModule?N:{default:N}}function M(N,F){if(!(N instanceof F))throw new TypeError('Cannot call a class as a function')}function C(N,F){if(!N)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return F&&('object'==typeof F||'function'==typeof F)?F:N}function R(N,F){if('function'!=typeof F&&null!==F)throw new TypeError('Super expression must either be null or a function, not '+typeof F);N.prototype=Object.create(F&&F.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),F&&(Object.setPrototypeOf?Object.setPrototypeOf(N,F):N.__proto__=F)}E.__esModule=!0;var I=S(13),A=P(I),O=S(63),D=P(O),L=function(N){function F(B){M(this,F);var U=C(this,N.call(this,B));return U.scissor=!1,U.scissorData=null,U.scissorRenderTarget=null,U.enableScissor=!0,U.alphaMaskPool=[],U.alphaMaskIndex=0,U}return R(F,N),F.prototype.pushMask=function(U,X){if(X.texture)this.pushSpriteMask(U,X);else if(this.enableScissor&&!this.scissor&&this.renderer._activeRenderTarget.root&&!this.renderer.stencilManager.stencilMaskStack.length&&X.isFastRect()){var V=X.worldTransform,Y=_Mathatan(V.b,V.a);Y=_Mathround(Y*(180/_MathPI)),Y%90?this.pushStencilMask(X):this.pushScissorMask(U,X)}else this.pushStencilMask(X)},F.prototype.popMask=function(U,X){X.texture?this.popSpriteMask(U,X):this.enableScissor&&!this.renderer.stencilManager.stencilMaskStack.length?this.popScissorMask(U,X):this.popStencilMask(U,X)},F.prototype.pushSpriteMask=function(U,X){var V=this.alphaMaskPool[this.alphaMaskIndex];V||(V=this.alphaMaskPool[this.alphaMaskIndex]=[new D.default(X)]),V[0].resolution=this.renderer.resolution,V[0].maskSprite=X,U.filterArea=X.getBounds(!0),this.renderer.filterManager.pushFilter(U,V),this.alphaMaskIndex++},F.prototype.popSpriteMask=function(){this.renderer.filterManager.popFilter(),this.alphaMaskIndex--},F.prototype.pushStencilMask=function(U){this.renderer.currentRenderer.stop(),this.renderer.stencilManager.pushStencil(U)},F.prototype.popStencilMask=function(){this.renderer.currentRenderer.stop(),this.renderer.stencilManager.popStencil()},F.prototype.pushScissorMask=function(U,X){X.renderable=!0;var V=this.renderer._activeRenderTarget,Y=X.getBounds();Y.fit(V.size),X.renderable=!1,this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST);var G=this.renderer.resolution;this.renderer.gl.scissor(Y.x*G,(V.root?V.size.height-Y.y-Y.height:Y.y)*G,Y.width*G,Y.height*G),this.scissorRenderTarget=V,this.scissorData=X,this.scissor=!0},F.prototype.popScissorMask=function(){this.scissorRenderTarget=null,this.scissorData=null,this.scissor=!1;var U=this.renderer.gl;U.disable(U.SCISSOR_TEST)},F}(A.default);E.default=L},function(T,E,S){'use strict';function M(D,L){if(!(D instanceof L))throw new TypeError('Cannot call a class as a function')}function C(D,L){if(!D)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return L&&('object'==typeof L||'function'==typeof L)?L:D}function R(D,L){if('function'!=typeof L&&null!==L)throw new TypeError('Super expression must either be null or a function, not '+typeof L);D.prototype=Object.create(L&&L.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),L&&(Object.setPrototypeOf?Object.setPrototypeOf(D,L):D.__proto__=L)}E.__esModule=!0;var I=S(13),A=function(D){return D&&D.__esModule?D:{default:D}}(I),O=function(D){function L(N){M(this,L);var F=C(this,D.call(this,N));return F.stencilMaskStack=null,F}return R(L,D),L.prototype.setMaskStack=function(F){this.stencilMaskStack=F;var B=this.renderer.gl;0===F.length?B.disable(B.STENCIL_TEST):B.enable(B.STENCIL_TEST)},L.prototype.pushStencil=function(F){this.renderer.setObjectRenderer(this.renderer.plugins.graphics),this.renderer._activeRenderTarget.attachStencilBuffer();var B=this.renderer.gl,U=this.stencilMaskStack;0===U.length&&(B.enable(B.STENCIL_TEST),B.clear(B.STENCIL_BUFFER_BIT),B.stencilFunc(B.ALWAYS,1,1)),U.push(F),B.colorMask(!1,!1,!1,!1),B.stencilOp(B.KEEP,B.KEEP,B.INCR),this.renderer.plugins.graphics.render(F),B.colorMask(!0,!0,!0,!0),B.stencilFunc(B.NOTEQUAL,0,U.length),B.stencilOp(B.KEEP,B.KEEP,B.KEEP)},L.prototype.popStencil=function(){this.renderer.setObjectRenderer(this.renderer.plugins.graphics);var F=this.renderer.gl,B=this.stencilMaskStack,U=B.pop();0===B.length?F.disable(F.STENCIL_TEST):(F.colorMask(!1,!1,!1,!1),F.stencilOp(F.KEEP,F.KEEP,F.DECR),this.renderer.plugins.graphics.render(U),F.colorMask(!0,!0,!0,!0),F.stencilFunc(F.NOTEQUAL,0,B.length),F.stencilOp(F.KEEP,F.KEEP,F.KEEP))},L.prototype.destroy=function(){A.default.prototype.destroy.call(this),this.stencilMaskStack.stencilStack=null},L}(A.default);E.default=O},function(T,E,S){'use strict';function C(O){for(var D='',L=0;L<O;++L)0<L&&(D+='\nelse '),L<O-1&&(D+='if(test == '+L+'.0){}');return D}E.__esModule=!0,E.default=function(O,D){var L=!D;if(0===O)throw new Error('Invalid value of `0` passed to `checkMaxIfStatementsInShader`');if(L){var N=document.createElement('canvas');N.width=1,N.height=1,D=I.default.createContext(N)}for(var F=D.createShader(D.FRAGMENT_SHADER),B;B=A.replace(/%forloop%/gi,C(O)),D.shaderSource(F,B),D.compileShader(F),!D.getShaderParameter(F,D.COMPILE_STATUS);)O=0|O/2;return L&&D.getExtension('WEBGL_lose_context')&&D.getExtension('WEBGL_lose_context').loseContext(),O};var R=S(5),I=function(O){return O&&O.__esModule?O:{default:O}}(R),A=['precision mediump float;','void main(void){','float test = 0.1;','%forloop%','gl_FragColor = vec4(0.0);','}'].join('\n')},function(T,E,S){'use strict';E.__esModule=!0,E.default=function(C){var R=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];return R[M.BLEND_MODES.NORMAL]=[C.ONE,C.ONE_MINUS_SRC_ALPHA],R[M.BLEND_MODES.ADD]=[C.ONE,C.DST_ALPHA],R[M.BLEND_MODES.MULTIPLY]=[C.DST_COLOR,C.ONE_MINUS_SRC_ALPHA],R[M.BLEND_MODES.SCREEN]=[C.ONE,C.ONE_MINUS_SRC_COLOR],R[M.BLEND_MODES.OVERLAY]=[C.ONE,C.ONE_MINUS_SRC_ALPHA],R[M.BLEND_MODES.DARKEN]=[C.ONE,C.ONE_MINUS_SRC_ALPHA],R[M.BLEND_MODES.LIGHTEN]=[C.ONE,C.ONE_MINUS_SRC_ALPHA],R[M.BLEND_MODES.COLOR_DODGE]=[C.ONE,C.ONE_MINUS_SRC_ALPHA],R[M.BLEND_MODES.COLOR_BURN]=[C.ONE,C.ONE_MINUS_SRC_ALPHA],R[M.BLEND_MODES.HARD_LIGHT]=[C.ONE,C.ONE_MINUS_SRC_ALPHA],R[M.BLEND_MODES.SOFT_LIGHT]=[C.ONE,C.ONE_MINUS_SRC_ALPHA],R[M.BLEND_MODES.DIFFERENCE]=[C.ONE,C.ONE_MINUS_SRC_ALPHA],R[M.BLEND_MODES.EXCLUSION]=[C.ONE,C.ONE_MINUS_SRC_ALPHA],R[M.BLEND_MODES.HUE]=[C.ONE,C.ONE_MINUS_SRC_ALPHA],R[M.BLEND_MODES.SATURATION]=[C.ONE,C.ONE_MINUS_SRC_ALPHA],R[M.BLEND_MODES.COLOR]=[C.ONE,C.ONE_MINUS_SRC_ALPHA],R[M.BLEND_MODES.LUMINOSITY]=[C.ONE,C.ONE_MINUS_SRC_ALPHA],R};var M=S(1)},function(T,E,S){'use strict';E.__esModule=!0,E.default=function(C){var R=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return R[M.DRAW_MODES.POINTS]=C.POINTS,R[M.DRAW_MODES.LINES]=C.LINES,R[M.DRAW_MODES.LINE_LOOP]=C.LINE_LOOP,R[M.DRAW_MODES.LINE_STRIP]=C.LINE_STRIP,R[M.DRAW_MODES.TRIANGLES]=C.TRIANGLES,R[M.DRAW_MODES.TRIANGLE_STRIP]=C.TRIANGLE_STRIP,R[M.DRAW_MODES.TRIANGLE_FAN]=C.TRIANGLE_FAN,R};var M=S(1)},function(T,E){'use strict';E.__esModule=!0,E.default=function(M){var C=M.getContextAttributes();C.stencil||console.warn('Provided WebGL context does not have a stencil buffer, masks may not render correctly')}},function(T,E,S){'use strict';function P(F){return F&&F.__esModule?F:{default:F}}function M(F,B){if(!(F instanceof B))throw new TypeError('Cannot call a class as a function')}E.__esModule=!0;var C=S(12),R=P(C),I=S(1),A=S(3),O=S(30),D=P(O),L=new A.Matrix,N=function(){function F(B){M(this,F),this.renderer=B}return F.prototype.render=function(U){var X=U._texture,V=this.renderer,Y=X._frame.width,G=X._frame.height,Z=U.transform.worldTransform,K=0,J=0;if(!(0>=X.orig.width||0>=X.orig.height||!X.baseTexture.source)&&(V.setBlendMode(U.blendMode),X.valid)){V.context.globalAlpha=U.worldAlpha;var Q=X.baseTexture.scaleMode===I.SCALE_MODES.LINEAR;V.smoothProperty&&V.context[V.smoothProperty]!==Q&&(V.context[V.smoothProperty]=Q),X.trim?(K=X.trim.width/2+X.trim.x-U.anchor.x*X.orig.width,J=X.trim.height/2+X.trim.y-U.anchor.y*X.orig.height):(K=(0.5-U.anchor.x)*X.orig.width,J=(0.5-U.anchor.y)*X.orig.height),X.rotate&&(Z.copy(L),Z=L,A.GroupD8.matrixAppendRotationInv(Z,X.rotate,K,J),K=0,J=0),K-=Y/2,J-=G/2,V.roundPixels?(V.context.setTransform(Z.a,Z.b,Z.c,Z.d,0|Z.tx*V.resolution,0|Z.ty*V.resolution),K|=0,J|=0):V.context.setTransform(Z.a,Z.b,Z.c,Z.d,Z.tx*V.resolution,Z.ty*V.resolution);var $=X.baseTexture.resolution;16777215===U.tint?V.context.drawImage(X.baseTexture.source,X._frame.x*$,X._frame.y*$,Y*$,G*$,K*V.resolution,J*V.resolution,Y*V.resolution,G*V.resolution):(U.cachedTint!==U.tint&&(U.cachedTint=U.tint,U.tintedTexture=D.default.getTintedTexture(U,U.tint)),V.context.drawImage(U.tintedTexture,0,0,Y*$,G*$,K*V.resolution,J*V.resolution,Y*V.resolution,G*V.resolution))}},F.prototype.destroy=function(){this.renderer=null},F}();E.default=N,R.default.registerPlugin('sprite',N)},function(T,E){'use strict';function P(C,R){if(!(C instanceof R))throw new TypeError('Cannot call a class as a function')}E.__esModule=!0;var M=function(){function C(R){P(this,C),this.vertices=new ArrayBuffer(R),this.float32View=new Float32Array(this.vertices),this.uint32View=new Uint32Array(this.vertices)}return C.prototype.destroy=function(){this.vertices=null,this.positions=null,this.uvs=null,this.colors=null},C}();E.default=M},function(T,E,S){'use strict';function P(oe){return oe&&oe.__esModule?oe:{default:oe}}function M(oe,ie){if(!(oe instanceof ie))throw new TypeError('Cannot call a class as a function')}function C(oe,ie){if(!oe)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return ie&&('object'==typeof ie||'function'==typeof ie)?ie:oe}function R(oe,ie){if('function'!=typeof ie&&null!==ie)throw new TypeError('Super expression must either be null or a function, not '+typeof ie);oe.prototype=Object.create(ie&&ie.prototype,{constructor:{value:oe,enumerable:!1,writable:!0,configurable:!0}}),ie&&(Object.setPrototypeOf?Object.setPrototypeOf(oe,ie):oe.__proto__=ie)}E.__esModule=!0;var I=S(19),A=P(I),O=S(18),D=P(O),L=S(33),N=P(L),F=S(134),B=P(F),U=S(127),X=P(U),V=S(132),Y=P(V),G=S(4),Z=P(G),K=S(5),J=P(K),Q=S(21),$=P(Q),te=0,re=0,ne=function(oe){function ie(se){M(this,ie);var le=C(this,oe.call(this,se));le.vertSize=5,le.vertByteSize=4*le.vertSize,le.size=Z.default.SPRITE_BATCH_SIZE,le.buffers=[];for(var de=1;de<=$.default.nextPow2(le.size);de*=2)le.buffers.push(new Y.default(4*de*le.vertByteSize));le.indices=(0,N.default)(le.size),le.shader=null,le.currentIndex=0,le.groups=[];for(var ue=0;ue<le.size;ue++)le.groups[ue]={textures:[],textureCount:0,ids:[],size:0,start:0,blend:0};return le.sprites=[],le.vertexBuffers=[],le.vaos=[],le.vaoMax=2,le.vertexCount=0,le.renderer.on('prerender',le.onPrerender,le),le}return R(ie,oe),ie.prototype.onContextChange=function(){var le=this.renderer.gl;this.renderer.legacy?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=_Mathmin(le.getParameter(le.MAX_TEXTURE_IMAGE_UNITS),Z.default.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=(0,X.default)(this.MAX_TEXTURES,le));var de=this.shader=(0,B.default)(le,this.MAX_TEXTURES);this.indexBuffer=J.default.GLBuffer.createIndexBuffer(le,this.indices,le.STATIC_DRAW),this.renderer.bindVao(null);for(var ue=0;ue<this.vaoMax;ue++)this.vertexBuffers[ue]=J.default.GLBuffer.createVertexBuffer(le,null,le.STREAM_DRAW),this.vaos[ue]=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(this.vertexBuffers[ue],de.attributes.aVertexPosition,le.FLOAT,!1,this.vertByteSize,0).addAttribute(this.vertexBuffers[ue],de.attributes.aTextureCoord,le.UNSIGNED_SHORT,!0,this.vertByteSize,8).addAttribute(this.vertexBuffers[ue],de.attributes.aColor,le.UNSIGNED_BYTE,!0,this.vertByteSize,12),de.attributes.aTextureId&&this.vaos[ue].addAttribute(this.vertexBuffers[ue],de.attributes.aTextureId,le.FLOAT,!1,this.vertByteSize,16);this.vao=this.vaos[0],this.currentBlendMode=99999,this.boundTextures=Array(this.MAX_TEXTURES)},ie.prototype.onPrerender=function(){this.vertexCount=0},ie.prototype.render=function(le){this.currentIndex>=this.size&&this.flush(),le._texture._uvs&&(this.sprites[this.currentIndex++]=le)},ie.prototype.flush=function(){if(0!==this.currentIndex){var le=this.renderer.gl,de=this.MAX_TEXTURES,ue=$.default.nextPow2(this.currentIndex),pe=$.default.log2(ue),ce=this.buffers[pe],fe=this.sprites,he=this.groups,me=ce.float32View,ge=ce.uint32View,_e=this.boundTextures,be=this.renderer.boundTextures,Te=this.renderer.textureGC.count,ve=0,Pe=1,Me=0,Ce=he[0],Ae=fe[0].blendMode,Ee,Se,Re,Ie;Ce.textureCount=0,Ce.start=0,Ce.blend=Ae,te++;var Oe=void 0;for(Oe=0;Oe<de;++Oe)_e[Oe]=be[Oe],_e[Oe]._virtalBoundId=Oe;for(Oe=0;Oe<this.currentIndex;++Oe){var De=fe[Oe];if(Ee=De._texture.baseTexture,Ae!==De.blendMode&&(Ae=De.blendMode,Se=null,Me=de,te++),Se!==Ee&&(Se=Ee,Ee._enabled!==te)){if(Me===de&&(te++,Ce.size=Oe-Ce.start,Me=0,Ce=he[Pe++],Ce.blend=Ae,Ce.textureCount=0,Ce.start=Oe),Ee.touched=Te,-1===Ee._virtalBoundId)for(var we=0;we<de;++we){var ke=(we+re)%de,Le=_e[ke];if(Le._enabled!==te){re++,Le._virtalBoundId=-1,Ee._virtalBoundId=ke,_e[ke]=Ee;break}}Ee._enabled=te,Ce.textureCount++,Ce.ids[Me]=Ee._virtalBoundId,Ce.textures[Me++]=Ee}if(Re=De.vertexData,Ie=De._texture._uvs.uvsUint32,this.renderer.roundPixels){var Ne=this.renderer.resolution;me[ve]=(0|Re[0]*Ne)/Ne,me[ve+1]=(0|Re[1]*Ne)/Ne,me[ve+5]=(0|Re[2]*Ne)/Ne,me[ve+6]=(0|Re[3]*Ne)/Ne,me[ve+10]=(0|Re[4]*Ne)/Ne,me[ve+11]=(0|Re[5]*Ne)/Ne,me[ve+15]=(0|Re[6]*Ne)/Ne,me[ve+16]=(0|Re[7]*Ne)/Ne}else me[ve]=Re[0],me[ve+1]=Re[1],me[ve+5]=Re[2],me[ve+6]=Re[3],me[ve+10]=Re[4],me[ve+11]=Re[5],me[ve+15]=Re[6],me[ve+16]=Re[7];ge[ve+2]=Ie[0],ge[ve+7]=Ie[1],ge[ve+12]=Ie[2],ge[ve+17]=Ie[3],ge[ve+3]=ge[ve+8]=ge[ve+13]=ge[ve+18]=De._tintRGB+(255*_Mathmin(De.worldAlpha,1)<<24),me[ve+4]=me[ve+9]=me[ve+14]=me[ve+19]=Ee._virtalBoundId,ve+=20}for(Ce.size=Oe-Ce.start,Z.default.CAN_UPLOAD_SAME_BUFFER?this.vertexBuffers[this.vertexCount].upload(ce.vertices,0,!0):(this.vaoMax<=this.vertexCount&&(this.vaoMax++,this.vertexBuffers[this.vertexCount]=J.default.GLBuffer.createVertexBuffer(le,null,le.STREAM_DRAW),this.vaos[this.vertexCount]=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(this.vertexBuffers[this.vertexCount],this.shader.attributes.aVertexPosition,le.FLOAT,!1,this.vertByteSize,0).addAttribute(this.vertexBuffers[this.vertexCount],this.shader.attributes.aTextureCoord,le.UNSIGNED_SHORT,!0,this.vertByteSize,8).addAttribute(this.vertexBuffers[this.vertexCount],this.shader.attributes.aColor,le.UNSIGNED_BYTE,!0,this.vertByteSize,12),this.shader.attributes.aTextureId&&this.vaos[this.vertexCount].addAttribute(this.vertexBuffers[this.vertexCount],this.shader.attributes.aTextureId,le.FLOAT,!1,this.vertByteSize,16)),this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].upload(ce.vertices,0,!1),this.vertexCount++),Oe=0;Oe<de;++Oe)be[Oe]._virtalBoundId=-1;for(Oe=0;Oe<Pe;++Oe){for(var Fe=he[Oe],Be=Fe.textureCount,Ue=0;Ue<Be;Ue++)Se=Fe.textures[Ue],be[Fe.ids[Ue]]!==Se&&this.renderer.bindTexture(Se,Fe.ids[Ue],!0),Se._virtalBoundId=-1;this.renderer.state.setBlendMode(Fe.blend),le.drawElements(le.TRIANGLES,6*Fe.size,le.UNSIGNED_SHORT,2*(6*Fe.start))}this.currentIndex=0}},ie.prototype.start=function(){this.renderer.bindShader(this.shader),Z.default.CAN_UPLOAD_SAME_BUFFER&&(this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].bind())},ie.prototype.stop=function(){this.flush()},ie.prototype.destroy=function(){for(var le=0;le<this.vaoMax;le++)this.vertexBuffers[le]&&this.vertexBuffers[le].destroy(),this.vaos[le]&&this.vaos[le].destroy();this.indexBuffer&&this.indexBuffer.destroy(),this.renderer.off('prerender',this.onPrerender,this),oe.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.vertexBuffers=null,this.vaos=null,this.indexBuffer=null,this.indices=null,this.sprites=null;for(var de=0;de<this.buffers.length;++de)this.buffers[de].destroy()},ie}(A.default);E.default=ne,D.default.registerPlugin('sprite',ne)},function(T,E,S){'use strict';function C(D){var L='';L+='\n',L+='\n';for(var N=0;N<D;N++)0<N&&(L+='\nelse '),N<D-1&&(L+='if(textureId == '+N+'.0)'),L+='\n{',L+='\n\tcolor = texture2D(uSamplers['+N+'], vTextureCoord);',L+='\n}';return L+='\n',L+='\n',L}E.__esModule=!0,E.default=function(D,L){var F=O;F=F.replace(/%count%/gi,L),F=F.replace(/%forloop%/gi,C(L));for(var B=new I.default(D,'precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n',F),U=[],X=0;X<L;X++)U[X]=X;return B.bind(),B.uniforms.uSamplers=U,B};var R=S(10),I=function(D){return D&&D.__esModule?D:{default:D}}(R),A=S(6),O=['varying vec2 vTextureCoord;','varying vec4 vColor;','varying float vTextureId;','uniform sampler2D uSamplers[%count%];','void main(void){','vec4 color;','float textureId = floor(vTextureId+0.5);','%forloop%','gl_FragColor = color * vColor;','}'].join('\n')},function(T,E,S){'use strict';function P(Q){return Q&&Q.__esModule?Q:{default:Q}}function M(Q,$){if(!(Q instanceof $))throw new TypeError('Cannot call a class as a function')}function C(Q,$){if(!Q)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return $&&('object'==typeof $||'function'==typeof $)?$:Q}function R(Q,$){if('function'!=typeof $&&null!==$)throw new TypeError('Super expression must either be null or a function, not '+typeof $);Q.prototype=Object.create($&&$.prototype,{constructor:{value:Q,enumerable:!1,writable:!0,configurable:!0}}),$&&(Object.setPrototypeOf?Object.setPrototypeOf(Q,$):Q.__proto__=$)}E.__esModule=!0;var I=function(){function Q($,te){for(var re=0,ne;re<te.length;re++)ne=te[re],ne.enumerable=ne.enumerable||!1,ne.configurable=!0,'value'in ne&&(ne.writable=!0),Object.defineProperty($,ne.key,ne)}return function($,te,re){return te&&Q($.prototype,te),re&&Q($,re),$}}(),A=S(29),O=P(A),D=S(9),L=P(D),N=S(3),F=S(2),B=S(1),U=S(4),X=P(U),V=S(65),Y=P(V),G=S(143),Z=P(G),K={texture:!0,children:!1,baseTexture:!0},J=function(Q){function $(te,re,ne){M(this,$),ne=ne||document.createElement('canvas'),ne.width=3,ne.height=3;var oe=L.default.fromCanvas(ne);oe.orig=new N.Rectangle,oe.trim=new N.Rectangle;var ie=C(this,Q.call(this,oe));return ie.canvas=ne,ie.context=ie.canvas.getContext('2d'),ie.resolution=X.default.RESOLUTION,ie._text=null,ie._style=null,ie._styleListener=null,ie._font='',ie.text=te,ie.style=re,ie.localStyleID=-1,ie}return R($,Q),$.prototype.updateText=function(re){var ne=this._style;if(this.localStyleID!==ne.styleID&&(this.dirty=!0,this.localStyleID=ne.styleID),this.dirty||!re){this._font=$.getFontStyle(ne),this.context.font=this._font;for(var oe=ne.wordWrap?this.wordWrap(this._text):this._text,ie=oe.split(/(?:\r\n|\r|\n)/),se=Array(ie.length),le=0,de=$.calculateFontProperties(this._font),ue=0,pe;ue<ie.length;ue++)pe=this.context.measureText(ie[ue]).width+(ie[ue].length-1)*ne.letterSpacing,se[ue]=pe,le=_Mathmax(le,pe);var ce=le+ne.strokeThickness;ne.dropShadow&&(ce+=ne.dropShadowDistance),this.canvas.width=_Mathceil((ce+2*ne.padding)*this.resolution);var fe=ne.lineHeight||de.fontSize+ne.strokeThickness,he=_Mathmax(fe,de.fontSize+ne.strokeThickness)+(ie.length-1)*fe;ne.dropShadow&&(he+=ne.dropShadowDistance),this.canvas.height=_Mathceil((he+2*ne.padding)*this.resolution),this.context.scale(this.resolution,this.resolution),this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.context.font=this._font,this.context.strokeStyle=ne.stroke,this.context.lineWidth=ne.strokeThickness,this.context.textBaseline=ne.textBaseline,this.context.lineJoin=ne.lineJoin,this.context.miterLimit=ne.miterLimit;var me,ge;if(ne.dropShadow){this.context.shadowBlur=ne.dropShadowBlur,this.context.globalAlpha=ne.dropShadowAlpha,0<ne.dropShadowBlur?this.context.shadowColor=ne.dropShadowColor:this.context.fillStyle=ne.dropShadowColor;for(var _e=_Mathcos(ne.dropShadowAngle)*ne.dropShadowDistance,be=_Mathsin(ne.dropShadowAngle)*ne.dropShadowDistance,Te=0;Te<ie.length;Te++)me=ne.strokeThickness/2,ge=ne.strokeThickness/2+Te*fe+de.ascent,'right'===ne.align?me+=le-se[Te]:'center'===ne.align&&(me+=(le-se[Te])/2),ne.fill&&(this.drawLetterSpacing(ie[Te],me+_e+ne.padding,ge+be+ne.padding),ne.stroke&&ne.strokeThickness&&(this.context.strokeStyle=ne.dropShadowColor,this.drawLetterSpacing(ie[Te],me+_e+ne.padding,ge+be+ne.padding,!0),this.context.strokeStyle=ne.stroke))}this.context.shadowBlur=0,this.context.globalAlpha=1,this.context.fillStyle=this._generateFillStyle(ne,ie);for(var ve=0;ve<ie.length;ve++)me=ne.strokeThickness/2,ge=ne.strokeThickness/2+ve*fe+de.ascent,'right'===ne.align?me+=le-se[ve]:'center'===ne.align&&(me+=(le-se[ve])/2),ne.stroke&&ne.strokeThickness&&this.drawLetterSpacing(ie[ve],me+ne.padding,ge+ne.padding,!0),ne.fill&&this.drawLetterSpacing(ie[ve],me+ne.padding,ge+ne.padding);this.updateTexture()}},$.prototype.drawLetterSpacing=function(re,ne,oe){var ie=3<arguments.length&&void 0!==arguments[3]&&arguments[3],se=this._style,le=se.letterSpacing;if(0===le)return void(ie?this.context.strokeText(re,ne,oe):this.context.fillText(re,ne,oe));for(var de=String.prototype.split.call(re,''),ue=ne,pe=0,ce='';pe<re.length;)ce=de[pe++],ie?this.context.strokeText(ce,ue,oe):this.context.fillText(ce,ue,oe),ue+=this.context.measureText(ce).width+le},$.prototype.updateTexture=function(){if(this._style.trim){var re=(0,Z.default)(this.canvas);this.canvas.width=re.width,this.canvas.height=re.height,this.context.putImageData(re.data,0,0)}var ne=this._texture,oe=this._style;ne.baseTexture.hasLoaded=!0,ne.baseTexture.resolution=this.resolution,ne.baseTexture.realWidth=this.canvas.width,ne.baseTexture.realHeight=this.canvas.height,ne.baseTexture.width=this.canvas.width/this.resolution,ne.baseTexture.height=this.canvas.height/this.resolution,ne.trim.width=ne._frame.width=this.canvas.width/this.resolution,ne.trim.height=ne._frame.height=this.canvas.height/this.resolution,ne.trim.x=-oe.padding,ne.trim.y=-oe.padding,ne.orig.width=ne._frame.width-2*oe.padding,ne.orig.height=ne._frame.height-2*oe.padding,this._onTextureUpdate(),ne.baseTexture.emit('update',ne.baseTexture),this.dirty=!1},$.prototype.renderWebGL=function(re){this.resolution!==re.resolution&&(this.resolution=re.resolution,this.dirty=!0),this.updateText(!0),Q.prototype.renderWebGL.call(this,re)},$.prototype._renderCanvas=function(re){this.resolution!==re.resolution&&(this.resolution=re.resolution,this.dirty=!0),this.updateText(!0),Q.prototype._renderCanvas.call(this,re)},$.prototype.wordWrap=function(re){for(var ne='',oe=this._style,ie=re.split('\n'),se=oe.wordWrapWidth,le=0;le<ie.length;le++){for(var de=se,ue=ie[le].split(' '),pe=0,ce;pe<ue.length;pe++)if(ce=this.context.measureText(ue[pe]).width,oe.breakWords&&ce>se)for(var fe=ue[pe].split(''),he=0,me;he<fe.length;he++)me=this.context.measureText(fe[he]).width,me>de?(ne+='\n'+fe[he],de=se-me):(0===he&&(ne+=' '),ne+=fe[he],de-=me);else{var ge=ce+this.context.measureText(' ').width;0===pe||ge>de?(0<pe&&(ne+='\n'),ne+=ue[pe],de=se-ce):(de-=ge,ne+=' '+ue[pe])}le<ie.length-1&&(ne+='\n')}return ne},$.prototype.getLocalBounds=function(re){return this.updateText(!0),Q.prototype.getLocalBounds.call(this,re)},$.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},$.prototype._onStyleChange=function(){this.dirty=!0},$.prototype._generateFillStyle=function(re,ne){if(!Array.isArray(re.fill))return re.fill;if(navigator.isCocoonJS)return re.fill[0];var se=void 0,de=this.canvas.width/this.resolution,ue=this.canvas.height/this.resolution,pe=re.fill.slice(),ce=re.fillGradientStops.slice(),oe,ie,le;if(!ce.length)for(var fe=pe.length+1,he=1;he<fe;++he)ce.push(he/fe);if(pe.unshift(re.fill[0]),ce.unshift(0),pe.push(re.fill[re.fill.length-1]),ce.push(1),re.fillGradientType===B.TEXT_GRADIENT.LINEAR_VERTICAL){oe=this.context.createLinearGradient(de/2,0,de/2,ue),ie=(pe.length+1)*ne.length,se=0;for(var me=0;me<ne.length;me++){se+=1;for(var ge=0;ge<pe.length;ge++)le=ce[ge]?ce[ge]/ne.length+me/ne.length:se/ie,oe.addColorStop(le,pe[ge]),se++}}else{oe=this.context.createLinearGradient(0,ue/2,de,ue/2),ie=pe.length+1,se=1;for(var _e=0;_e<pe.length;_e++)le=ce[_e]?ce[_e]:se/ie,oe.addColorStop(le,pe[_e]),se++}return oe},$.prototype.destroy=function(re){'boolean'==typeof re&&(re={children:re}),re=Object.assign({},K,re),Q.prototype.destroy.call(this,re),this.context=null,this.canvas=null,this._style=null},$.getFontStyle=function(re){re=re||{},re instanceof Y.default||(re=new Y.default(re));var ne='number'==typeof re.fontSize?re.fontSize+'px':re.fontSize,oe=re.fontFamily;Array.isArray(re.fontFamily)||(oe=re.fontFamily.split(','));for(var ie=oe.length-1,se;0<=ie;ie--)se=oe[ie].trim(),/([\"\'])[^\'\"]+\1/.test(se)||(se='"'+se+'"'),oe[ie]=se;return re.fontStyle+' '+re.fontVariant+' '+re.fontWeight+' '+ne+' '+oe.join(',')},$.calculateFontProperties=function(re){if($.fontPropertiesCache[re])return $.fontPropertiesCache[re];var ne={},oe=$.fontPropertiesCanvas,ie=$.fontPropertiesContext;ie.font=re;var se=_Mathceil(ie.measureText('|M\xC9q').width),le=_Mathceil(ie.measureText('M').width),de=2*le;le=0|1.4*le,oe.width=se,oe.height=de,ie.fillStyle='#f00',ie.fillRect(0,0,se,de),ie.font=re,ie.textBaseline='alphabetic',ie.fillStyle='#000',ie.fillText('|M\xC9q',0,le);var ue=ie.getImageData(0,0,se,de).data,pe=ue.length,ce=4*se,fe=0,he=0,me=!1;for(fe=0;fe<le;++fe){for(var ge=0;ge<ce;ge+=4)if(255!==ue[he+ge]){me=!0;break}if(!me)he+=ce;else break}for(ne.ascent=le-fe,he=pe-ce,me=!1,fe=de;fe>le;--fe){for(var _e=0;_e<ce;_e+=4)if(255!==ue[he+_e]){me=!0;break}if(!me)he-=ce;else break}return ne.descent=fe-le,ne.fontSize=ne.ascent+ne.descent,$.fontPropertiesCache[re]=ne,ne},I($,[{key:'width',get:function(){return this.updateText(!0),_Mathabs(this.scale.x)*this._texture.orig.width},set:function(re){this.updateText(!0);var ne=(0,F.sign)(this.scale.x)||1;this.scale.x=ne*re/this._texture.orig.width,this._width=re}},{key:'height',get:function(){return this.updateText(!0),_Mathabs(this.scale.y)*this._texture.orig.height},set:function(re){this.updateText(!0);var ne=(0,F.sign)(this.scale.y)||1;this.scale.y=ne*re/this._texture.orig.height,this._height=re}},{key:'style',get:function(){return this._style},set:function(re){re=re||{},this._style=re instanceof Y.default?re:new Y.default(re),this.localStyleID=-1,this.dirty=!0}},{key:'text',get:function(){return this._text},set:function(re){re=(''===re||null===re||void 0===re?' ':re)+'',this._text===re||(this._text=re,this.dirty=!0)}}]),$}(O.default);E.default=J,J.fontPropertiesCache={},J.fontPropertiesCanvas=document.createElement('canvas'),J.fontPropertiesContext=J.fontPropertiesCanvas.getContext('2d')},function(T,E,S){'use strict';function P(A,O){if(!(A instanceof O))throw new TypeError('Cannot call a class as a function')}E.__esModule=!0;var M=function(){function A(O,D){for(var L=0,N;L<D.length;L++)N=D[L],N.enumerable=N.enumerable||!1,N.configurable=!0,'value'in N&&(N.writable=!0),Object.defineProperty(O,N.key,N)}return function(O,D,L){return D&&A(O.prototype,D),L&&A(O,L),O}}(),C=S(0),R=S(2),I=function(){function A(O,D){var L=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;P(this,A),this.baseTexture=O,this.textures={},this.data=D,this.resolution=this._updateResolution(L||this.baseTexture.imageUrl),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return M(A,null,[{key:'BATCH_SIZE',get:function(){return 1e3}}]),A.prototype._updateResolution=function(D){var L=this.data.meta.scale,N=(0,R.getResolutionOfUrl)(D,null);return null===N&&(N=void 0===L?1:parseFloat(L)),1!==N&&(this.baseTexture.resolution=N,this.baseTexture.update()),N},A.prototype.parse=function(D){this._batchIndex=0,this._callback=D,this._frameKeys.length<=A.BATCH_SIZE?(this._processFrames(0),this._parseComplete()):this._nextBatch()},A.prototype._processFrames=function(D){for(var L=D,N=A.BATCH_SIZE;L-D<N&&L<this._frameKeys.length;){var F=this._frameKeys[L],B=this._frames[F].frame;if(B){var U=null,X=null,V=new C.Rectangle(0,0,this._frames[F].sourceSize.w/this.resolution,this._frames[F].sourceSize.h/this.resolution);U=this._frames[F].rotated?new C.Rectangle(B.x/this.resolution,B.y/this.resolution,B.h/this.resolution,B.w/this.resolution):new C.Rectangle(B.x/this.resolution,B.y/this.resolution,B.w/this.resolution,B.h/this.resolution),this._frames[F].trimmed&&(X=new C.Rectangle(this._frames[F].spriteSourceSize.x/this.resolution,this._frames[F].spriteSourceSize.y/this.resolution,B.w/this.resolution,B.h/this.resolution)),this.textures[F]=new C.Texture(this.baseTexture,U,V,X,this._frames[F].rotated?2:0),R.TextureCache[F]=this.textures[F]}L++}},A.prototype._parseComplete=function(){var D=this._callback;this._callback=null,this._batchIndex=0,D.call(this,this.textures)},A.prototype._nextBatch=function(){var D=this;this._processFrames(this._batchIndex*A.BATCH_SIZE),this._batchIndex++,setTimeout(function(){D._batchIndex*A.BATCH_SIZE<D._frameKeys.length?D._nextBatch():D._parseComplete()},0)},A.prototype.destroy=function(){var D=0<arguments.length&&void 0!==arguments[0]&&arguments[0];for(var L in this.textures)this.textures[L].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,D&&this.baseTexture.destroy(),this.baseTexture=null},A}();E.default=I},function(T,E,S){'use strict';function P(N){return N&&N.__esModule?N:{default:N}}function M(N,F){if(!(N instanceof F))throw new TypeError('Cannot call a class as a function')}E.__esModule=!0;var C=function(){function N(F,B){for(var U=0,X;U<B.length;U++)X=B[U],X.enumerable=X.enumerable||!1,X.configurable=!0,'value'in X&&(X.writable=!0),Object.defineProperty(F,X.key,X)}return function(F,B,U){return B&&N(F.prototype,B),U&&N(F,U),F}}(),R=S(4),I=P(R),A=S(8),O=P(A),D='tick',L=function(){function N(){var F=this;M(this,N),this._emitter=new O.default,this._requestId=null,this._maxElapsedMS=100,this.autoStart=!1,this.deltaTime=1,this.elapsedMS=1/I.default.TARGET_FPMS,this.lastTime=0,this.speed=1,this.started=!1,this._tick=function(B){F._requestId=null,F.started&&(F.update(B),F.started&&null===F._requestId&&F._emitter.listeners(D,!0)&&(F._requestId=requestAnimationFrame(F._tick)))}}return N.prototype._requestIfNeeded=function(){null===this._requestId&&this._emitter.listeners(D,!0)&&(this.lastTime=performance.now(),this._requestId=requestAnimationFrame(this._tick))},N.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},N.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},N.prototype.add=function(B,U){return this._emitter.on(D,B,U),this._startIfPossible(),this},N.prototype.addOnce=function(B,U){return this._emitter.once(D,B,U),this._startIfPossible(),this},N.prototype.remove=function(B,U){return this._emitter.off(D,B,U),this._emitter.listeners(D,!0)||this._cancelIfNeeded(),this},N.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},N.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},N.prototype.update=function(){var B=0<arguments.length&&void 0!==arguments[0]?arguments[0]:performance.now(),U;B>this.lastTime?(U=this.elapsedMS=B-this.lastTime,U>this._maxElapsedMS&&(U=this._maxElapsedMS),this.deltaTime=U*I.default.TARGET_FPMS*this.speed,this._emitter.emit(D,this.deltaTime)):this.deltaTime=this.elapsedMS=0,this.lastTime=B},C(N,[{key:'FPS',get:function(){return 1e3/this.elapsedMS}},{key:'minFPS',get:function(){return 1e3/this._maxElapsedMS},set:function(B){var U=_Mathmin(_Mathmax(0,B)/1e3,I.default.TARGET_FPMS);this._maxElapsedMS=1/U}}]),N}();E.default=L},function(T,E){'use strict';E.__esModule=!0,E.default=function(){var M=!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform);return!M}},function(T,E,S){'use strict';E.__esModule=!0,E.default=function(A){var O=1<arguments.length&&arguments[1]!==void 0?arguments[1]:window.location;if(0===A.indexOf('data:'))return'';O=O||window.location,I||(I=document.createElement('a')),I.href=A,A=R.default.parse(I.href);var D=!A.port&&''===O.port||A.port===O.port;return A.hostname===O.hostname&&D&&A.protocol===O.protocol?'':'anonymous'};var C=S(190),R=function(A){return A&&A.__esModule?A:{default:A}}(C),I=void 0},function(T,E,S){'use strict';E.__esModule=!0,E.default=function(I){return R.default.tablet||R.default.phone?4:I};var C=S(22),R=function(I){return I&&I.__esModule?I:{default:I}}(C)},function(T,E){'use strict';function P(I,A){if(I&&A)for(var O=Object.keys(A),D=0,L;D<O.length;++D)L=O[D],Object.defineProperty(I,L,Object.getOwnPropertyDescriptor(A,L))}E.__esModule=!0,E.mixin=P,E.delayMixin=function(I,A){R.push(I,A)},E.performMixins=function(){for(var I=0;I<R.length;I+=2)P(R[I],R[I+1]);R.length=0};var R=[]},function(T,E){'use strict';function P(M){M.__plugins={},M.registerPlugin=function(R,I){M.__plugins[R]=I},M.prototype.initPlugins=function(){for(var R in this.plugins=this.plugins||{},M.__plugins)this.plugins[R]=new M.__plugins[R](this)},M.prototype.destroyPlugins=function(){for(var R in this.plugins)this.plugins[R].destroy(),this.plugins[R]=null;this.plugins=null}}E.__esModule=!0,E.default={mixin:function(C){P(C)}}},function(T,E){'use strict';E.__esModule=!0,E.default=function(M){var C=M.width,R=M.height,I=M.getContext('2d'),A=I.getImageData(0,0,C,R),O=A.data,D=O.length,L={top:null,left:null,right:null,bottom:null},N,F,B;for(N=0;N<D;N+=4)0!==O[N+3]&&(F=N/4%C,B=~~(N/4/C),null===L.top&&(L.top=B),null===L.left?L.left=F:F<L.left&&(L.left=F),null===L.right?L.right=F+1:L.right<F&&(L.right=F+1),null===L.bottom?L.bottom=B:L.bottom<B&&(L.bottom=B));C=L.right-L.left,R=L.bottom-L.top+1;var U=I.getImageData(L.left,L.top,C,R);return{height:R,width:C,data:U}}},function(T,E,S){'use strict';function P(te){if(te&&te.__esModule)return te;var re={};if(null!=te)for(var ne in te)Object.prototype.hasOwnProperty.call(te,ne)&&(re[ne]=te[ne]);return re.default=te,re}function M(te){var re=new Error().stack;'undefined'==typeof re?console.warn('Deprecation Warning: ',te):(re=re.split('\n').splice(3).join('\n'),console.groupCollapsed?(console.groupCollapsed('%cDeprecation Warning: %c%s','color:#614108;background:#fffbe6','font-weight:normal;color:#614108;background:#fffbe6',te),console.warn(re),console.groupEnd()):(console.warn('Deprecation Warning: ',te),console.warn(re)))}var C=S(0),R=P(C),I=S(84),A=P(I),O=S(85),D=P(O),L=S(34),N=P(L),F=S(75),B=P(F),U=S(86),X=P(U),V=S(80),Y=P(V),G=S(77),Z=P(G);R.SpriteBatch=function(){throw new ReferenceError('SpriteBatch does not exist any more, please use the new ParticleContainer instead.')},R.AssetLoader=function(){throw new ReferenceError('The loader system was overhauled in pixi v3, please see the new PIXI.loaders.Loader class.')},Object.defineProperties(R,{Stage:{enumerable:!0,get:function(){return M('You do not need to use a PIXI Stage any more, you can simply render any container.'),R.Container}},DisplayObjectContainer:{enumerable:!0,get:function(){return M('DisplayObjectContainer has been shortened to Container, please use Container from now on.'),R.Container}},Strip:{enumerable:!0,get:function(){return M('The Strip class has been renamed to Mesh and moved to mesh.Mesh, please use mesh.Mesh from now on.'),A.Mesh}},Rope:{enumerable:!0,get:function(){return M('The Rope class has been moved to mesh.Rope, please use mesh.Rope from now on.'),A.Rope}},ParticleContainer:{enumerable:!0,get:function(){return M('The ParticleContainer class has been moved to particles.ParticleContainer, please use particles.ParticleContainer from now on.'),D.ParticleContainer}},MovieClip:{enumerable:!0,get:function(){return M('The MovieClip class has been moved to extras.AnimatedSprite, please use extras.AnimatedSprite.'),N.AnimatedSprite}},TilingSprite:{enumerable:!0,get:function(){return M('The TilingSprite class has been moved to extras.TilingSprite, please use extras.TilingSprite from now on.'),N.TilingSprite}},BitmapText:{enumerable:!0,get:function(){return M('The BitmapText class has been moved to extras.BitmapText, please use extras.BitmapText from now on.'),N.BitmapText}},blendModes:{enumerable:!0,get:function(){return M('The blendModes has been moved to BLEND_MODES, please use BLEND_MODES from now on.'),R.BLEND_MODES}},scaleModes:{enumerable:!0,get:function(){return M('The scaleModes has been moved to SCALE_MODES, please use SCALE_MODES from now on.'),R.SCALE_MODES}},BaseTextureCache:{enumerable:!0,get:function(){return M('The BaseTextureCache class has been moved to utils.BaseTextureCache, please use utils.BaseTextureCache from now on.'),R.utils.BaseTextureCache}},TextureCache:{enumerable:!0,get:function(){return M('The TextureCache class has been moved to utils.TextureCache, please use utils.TextureCache from now on.'),R.utils.TextureCache}},math:{enumerable:!0,get:function(){return M('The math namespace is deprecated, please access members already accessible on PIXI.'),R}},AbstractFilter:{enumerable:!0,get:function(){return M('AstractFilter has been renamed to Filter, please use PIXI.Filter'),R.Filter}},TransformManual:{enumerable:!0,get:function(){return M('TransformManual has been renamed to TransformBase, please update your pixi-spine'),R.TransformBase}},TARGET_FPMS:{enumerable:!0,get:function(){return M('PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS'),R.settings.TARGET_FPMS},set:function(re){M('PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS'),R.settings.TARGET_FPMS=re}},FILTER_RESOLUTION:{enumerable:!0,get:function(){return M('PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION'),R.settings.FILTER_RESOLUTION},set:function(re){M('PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION'),R.settings.FILTER_RESOLUTION=re}},RESOLUTION:{enumerable:!0,get:function(){return M('PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION'),R.settings.RESOLUTION},set:function(re){M('PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION'),R.settings.RESOLUTION=re}},MIPMAP_TEXTURES:{enumerable:!0,get:function(){return M('PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES'),R.settings.MIPMAP_TEXTURES},set:function(re){M('PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES'),R.settings.MIPMAP_TEXTURES=re}},SPRITE_BATCH_SIZE:{enumerable:!0,get:function(){return M('PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE'),R.settings.SPRITE_BATCH_SIZE},set:function(re){M('PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE'),R.settings.SPRITE_BATCH_SIZE=re}},SPRITE_MAX_TEXTURES:{enumerable:!0,get:function(){return M('PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES'),R.settings.SPRITE_MAX_TEXTURES},set:function(re){M('PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES'),R.settings.SPRITE_MAX_TEXTURES=re}},RETINA_PREFIX:{enumerable:!0,get:function(){return M('PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX'),R.settings.RETINA_PREFIX},set:function(re){M('PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX'),R.settings.RETINA_PREFIX=re}},DEFAULT_RENDER_OPTIONS:{enumerable:!0,get:function(){return M('PIXI.DEFAULT_RENDER_OPTIONS has been deprecated, please use PIXI.settings.DEFAULT_RENDER_OPTIONS'),R.settings.RENDER_OPTIONS}}});for(var K=[{parent:'TRANSFORM_MODE',target:'TRANSFORM_MODE'},{parent:'GC_MODES',target:'GC_MODE'},{parent:'WRAP_MODES',target:'WRAP_MODE'},{parent:'SCALE_MODES',target:'SCALE_MODE'},{parent:'PRECISION',target:'PRECISION_FRAGMENT'}],J=function(re){var ne=K[re];Object.defineProperty(R[ne.parent],'DEFAULT',{enumerable:!0,get:function(){return M('PIXI.'+ne.parent+'.DEFAULT has been deprecated, please use PIXI.settings.'+ne.target),R.settings[ne.target]},set:function(ie){M('PIXI.'+ne.parent+'.DEFAULT has been deprecated, please use PIXI.settings.'+ne.target),R.settings[ne.target]=ie}})},Q=0;Q<K.length;Q++)J(Q);Object.defineProperties(R.settings,{PRECISION:{enumerable:!0,get:function(){return M('PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT'),R.settings.PRECISION_FRAGMENT},set:function(re){M('PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT'),R.settings.PRECISION_FRAGMENT=re}}}),Object.defineProperties(N,{MovieClip:{enumerable:!0,get:function(){return M('The MovieClip class has been renamed to AnimatedSprite, please use AnimatedSprite from now on.'),N.AnimatedSprite}}}),R.DisplayObject.prototype.generateTexture=function(re,ne,oe){return M('generateTexture has moved to the renderer, please use renderer.generateTexture(displayObject)'),re.generateTexture(this,ne,oe)},R.Graphics.prototype.generateTexture=function(re,ne){return M('graphics generate texture has moved to the renderer. Or to render a graphics to a texture using canvas please use generateCanvasTexture'),this.generateCanvasTexture(re,ne)},R.RenderTexture.prototype.render=function(re,ne,oe,ie){this.legacyRenderer.render(re,this,oe,ne,!ie),M('RenderTexture.render is now deprecated, please use renderer.render(displayObject, renderTexture)')},R.RenderTexture.prototype.getImage=function(re){return M('RenderTexture.getImage is now deprecated, please use renderer.extract.image(target)'),this.legacyRenderer.extract.image(re)},R.RenderTexture.prototype.getBase64=function(re){return M('RenderTexture.getBase64 is now deprecated, please use renderer.extract.base64(target)'),this.legacyRenderer.extract.base64(re)},R.RenderTexture.prototype.getCanvas=function(re){return M('RenderTexture.getCanvas is now deprecated, please use renderer.extract.canvas(target)'),this.legacyRenderer.extract.canvas(re)},R.RenderTexture.prototype.getPixels=function(re){return M('RenderTexture.getPixels is now deprecated, please use renderer.extract.pixels(target)'),this.legacyRenderer.pixels(re)},R.Sprite.prototype.setTexture=function(re){this.texture=re,M('setTexture is now deprecated, please use the texture property, e.g : sprite.texture = texture;')},N.BitmapText.prototype.setText=function(re){this.text=re,M('setText is now deprecated, please use the text property, e.g : myBitmapText.text = \'my text\';')},R.Text.prototype.setText=function(re){this.text=re,M('setText is now deprecated, please use the text property, e.g : myText.text = \'my text\';')},R.Text.prototype.setStyle=function(re){this.style=re,M('setStyle is now deprecated, please use the style property, e.g : myText.style = style;')},R.Text.prototype.determineFontProperties=function(re){return M('determineFontProperties is now deprecated, please use the static calculateFontProperties method, e.g : Text.calculateFontProperties(fontStyle);'),R.Text.calculateFontProperties(re)},Object.defineProperties(R.TextStyle.prototype,{font:{get:function(){M('text style property \\\'font\\\' is now deprecated, please use the \\\'fontFamily\\\', \\\'fontSize\\\', \\\'fontStyle\\\', \\\'fontVariant\\\' and \\\'fontWeight\\\' properties from now on');var re='number'==typeof this._fontSize?this._fontSize+'px':this._fontSize;return this._fontStyle+' '+this._fontVariant+' '+this._fontWeight+' '+re+' '+this._fontFamily},set:function(re){M('text style property \\\'font\\\' is now deprecated, please use the \\\'fontFamily\\\',\\\'fontSize\\\',fontStyle\\\',\\\'fontVariant\\\' and \\\'fontWeight\\\' properties from now on'),this._fontStyle=1<re.indexOf('italic')?'italic':-1<re.indexOf('oblique')?'oblique':'normal',this._fontVariant=-1<re.indexOf('small-caps')?'small-caps':'normal';var ne=re.split(' '),oe=-1;this._fontSize=26;for(var ie=0;ie<ne.length;++ie)if(ne[ie].match(/(px|pt|em|%)/)){oe=ie,this._fontSize=ne[ie];break}this._fontWeight='normal';for(var se=0;se<oe;++se)if(ne[se].match(/(bold|bolder|lighter|100|200|300|400|500|600|700|800|900)/)){this._fontWeight=ne[se];break}if(-1<oe&&oe<ne.length-1){this._fontFamily='';for(var le=oe+1;le<ne.length;++le)this._fontFamily+=ne[le]+' ';this._fontFamily=this._fontFamily.slice(0,-1)}else this._fontFamily='Arial';this.styleID++}}}),R.Texture.prototype.setFrame=function(re){this.frame=re,M('setFrame is now deprecated, please use the frame property, e.g: myTexture.frame = frame;')},Object.defineProperties(B,{AbstractFilter:{get:function(){return M('AstractFilter has been renamed to Filter, please use PIXI.Filter'),R.AbstractFilter}},SpriteMaskFilter:{get:function(){return M('filters.SpriteMaskFilter is an undocumented alias, please use SpriteMaskFilter from now on.'),R.SpriteMaskFilter}}}),R.utils.uuid=function(){return M('utils.uuid() is deprecated, please use utils.uid() from now on.'),R.utils.uid()},R.utils.canUseNewCanvasBlendModes=function(){return M('utils.canUseNewCanvasBlendModes() is deprecated, please use CanvasTinter.canUseMultiply from now on'),R.CanvasTinter.canUseMultiply};var $=!0;Object.defineProperty(R.utils,'_saidHello',{set:function(re){re&&(M('PIXI.utils._saidHello is deprecated, please use PIXI.utils.skipHello()'),this.skipHello()),$=re},get:function(){return $}}),Object.defineProperty(X.canvas,'UPLOADS_PER_FRAME',{set:function(){M('PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer')},get:function(){return M('PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter'),NaN}}),Object.defineProperty(X.webgl,'UPLOADS_PER_FRAME',{set:function(){M('PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer')},get:function(){return M('PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter'),NaN}}),Object.defineProperties(Y.Resource.prototype,{isJson:{get:function(){return M('The isJson property is deprecated, please use `resource.type === Resource.TYPE.JSON`.'),this.type===Y.Loader.Resource.TYPE.JSON}},isXml:{get:function(){return M('The isXml property is deprecated, please use `resource.type === Resource.TYPE.XML`.'),this.type===Y.Loader.Resource.TYPE.XML}},isImage:{get:function(){return M('The isImage property is deprecated, please use `resource.type === Resource.TYPE.IMAGE`.'),this.type===Y.Loader.Resource.TYPE.IMAGE}},isAudio:{get:function(){return M('The isAudio property is deprecated, please use `resource.type === Resource.TYPE.AUDIO`.'),this.type===Y.Loader.Resource.TYPE.AUDIO}},isVideo:{get:function(){return M('The isVideo property is deprecated, please use `resource.type === Resource.TYPE.VIDEO`.'),this.type===Y.Loader.Resource.TYPE.VIDEO}}}),Object.defineProperties(Y.Loader.prototype,{before:{get:function(){return M('The before() method is deprecated, please use pre().'),this.pre}},after:{get:function(){return M('The after() method is deprecated, please use use().'),this.use}}}),Object.defineProperty(Z.interactiveTarget,'defaultCursor',{set:function(re){M('Property defaultCursor has been replaced with \'cursor\'. '),this.cursor=re},get:function(){return M('Property defaultCursor has been replaced with \'cursor\'. '),this.cursor},enumerable:!0}),Object.defineProperty(Z.InteractionManager,'defaultCursorStyle',{set:function(re){M('Property defaultCursorStyle has been replaced with \'cursorStyles.default\'. '),this.cursorStyles.default=re},get:function(){return M('Property defaultCursorStyle has been replaced with \'cursorStyles.default\'. '),this.cursorStyles.default}}),Object.defineProperty(Z.InteractionManager,'currentCursorStyle',{set:function(re){M('Property currentCursorStyle has been removed.See the currentCursorMode property, which works differently.'),this.currentCursorMode=re},get:function(){return M('Property currentCursorStyle has been removed.See the currentCursorMode property, which works differently.'),this.currentCursorMode}})},function(T,E,S){'use strict';function M(O,D){if(!(O instanceof D))throw new TypeError('Cannot call a class as a function')}E.__esModule=!0;var C=S(0),R=function(O){if(O&&O.__esModule)return O;var D={};if(null!=O)for(var L in O)Object.prototype.hasOwnProperty.call(O,L)&&(D[L]=O[L]);return D.default=O,D}(C),I=new R.Rectangle,A=function(){function O(D){M(this,O),this.renderer=D,D.extract=this}return O.prototype.image=function(L){var D=new Image;return D.src=this.base64(L),D},O.prototype.base64=function(L){return this.canvas(L).toDataURL()},O.prototype.canvas=function(L){var N=this.renderer,F,B,U,X;L&&(L instanceof R.RenderTexture?X=L:X=N.generateTexture(L)),X?(F=X.baseTexture._canvasRenderTarget.context,B=X.baseTexture._canvasRenderTarget.resolution,U=X.frame):(F=N.rootContext,U=I,U.width=this.renderer.width,U.height=this.renderer.height);var V=U.width*B,Y=U.height*B,G=new R.CanvasRenderTarget(V,Y),Z=F.getImageData(U.x*B,U.y*B,V,Y);return G.context.putImageData(Z,0,0),G.canvas},O.prototype.pixels=function(L){var N=this.renderer,F,B,U,X;return L&&(L instanceof R.RenderTexture?X=L:X=N.generateTexture(L)),X?(F=X.baseTexture._canvasRenderTarget.context,B=X.baseTexture._canvasRenderTarget.resolution,U=X.frame):(F=N.rootContext,U=I,U.width=N.width,U.height=N.height),F.getImageData(0,0,U.width*B,U.height*B).data},O.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},O}();E.default=A,R.CanvasRenderer.registerPlugin('extract',A)},function(T,E,S){'use strict';function P(R){return R&&R.__esModule?R:{default:R}}E.__esModule=!0;var M=S(147);Object.defineProperty(E,'webgl',{enumerable:!0,get:function(){return P(M).default}});var C=S(145);Object.defineProperty(E,'canvas',{enumerable:!0,get:function(){return P(C).default}})},function(T,E,S){'use strict';function M(D,L){if(!(D instanceof L))throw new TypeError('Cannot call a class as a function')}E.__esModule=!0;var C=S(0),R=function(D){if(D&&D.__esModule)return D;var L={};if(null!=D)for(var N in D)Object.prototype.hasOwnProperty.call(D,N)&&(L[N]=D[N]);return L.default=D,L}(C),I=new R.Rectangle,A=4,O=function(){function D(L){M(this,D),this.renderer=L,L.extract=this}return D.prototype.image=function(N){var L=new Image;return L.src=this.base64(N),L},D.prototype.base64=function(N){return this.canvas(N).toDataURL()},D.prototype.canvas=function(N){var F=this.renderer,V=!1,B,U,X,Y;N&&(N instanceof R.RenderTexture?Y=N:Y=this.renderer.generateTexture(N)),Y?(B=Y.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID],U=B.resolution,X=Y.frame,V=!1):(B=this.renderer.rootRenderTarget,U=B.resolution,V=!0,X=I,X.width=B.size.width,X.height=B.size.height);var G=X.width*U,Z=X.height*U,K=new R.CanvasRenderTarget(G,Z);if(B){F.bindRenderTarget(B);var J=new Uint8Array(A*G*Z),Q=F.gl;Q.readPixels(X.x*U,X.y*U,G,Z,Q.RGBA,Q.UNSIGNED_BYTE,J);var $=K.context.getImageData(0,0,G,Z);$.data.set(J),K.context.putImageData($,0,0),V&&(K.context.scale(1,-1),K.context.drawImage(K.canvas,0,-Z))}return K.canvas},D.prototype.pixels=function(N){var F=this.renderer,B,U,X,V;N&&(N instanceof R.RenderTexture?V=N:V=this.renderer.generateTexture(N)),V?(B=V.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID],U=B.resolution,X=V.frame):(B=this.renderer.rootRenderTarget,U=B.resolution,X=I,X.width=B.size.width,X.height=B.size.height);var Y=X.width*U,G=X.height*U,Z=new Uint8Array(A*Y*G);if(B){F.bindRenderTarget(B);var K=F.gl;K.readPixels(X.x*U,X.y*U,Y,G,K.RGBA,K.UNSIGNED_BYTE,Z)}return Z},D.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},D}();E.default=O,R.WebGLRenderer.registerPlugin('extract',O)},function(T,E,S){'use strict';function M(L,N){if(!(L instanceof N))throw new TypeError('Cannot call a class as a function')}function C(L,N){if(!L)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return N&&('object'==typeof N||'function'==typeof N)?N:L}function R(L,N){if('function'!=typeof N&&null!==N)throw new TypeError('Super expression must either be null or a function, not '+typeof N);L.prototype=Object.create(N&&N.prototype,{constructor:{value:L,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(L,N):L.__proto__=N)}E.__esModule=!0;var I=function(){function L(N,F){for(var B=0,U;B<F.length;B++)U=F[B],U.enumerable=U.enumerable||!1,U.configurable=!0,'value'in U&&(U.writable=!0),Object.defineProperty(N,U.key,U)}return function(N,F,B){return F&&L(N.prototype,F),B&&L(N,B),N}}(),A=S(0),O=function(L){if(L&&L.__esModule)return L;var N={};if(null!=L)for(var F in L)Object.prototype.hasOwnProperty.call(L,F)&&(N[F]=L[F]);return N.default=L,N}(A),D=function(L){function N(F,B){M(this,N);var U=C(this,L.call(this,F[0]instanceof O.Texture?F[0]:F[0].texture));return U._textures=null,U._durations=null,U.textures=F,U._autoUpdate=!1!==B,U.animationSpeed=1,U.loop=!0,U.onComplete=null,U.onFrameChange=null,U._currentTime=0,U.playing=!1,U}return R(N,L),N.prototype.stop=function(){this.playing&&(this.playing=!1,this._autoUpdate&&O.ticker.shared.remove(this.update,this))},N.prototype.play=function(){this.playing||(this.playing=!0,this._autoUpdate&&O.ticker.shared.add(this.update,this))},N.prototype.gotoAndStop=function(B){this.stop();var U=this.currentFrame;this._currentTime=B,U!==this.currentFrame&&this.updateTexture()},N.prototype.gotoAndPlay=function(B){var U=this.currentFrame;this._currentTime=B,U!==this.currentFrame&&this.updateTexture(),this.play()},N.prototype.update=function(B){var U=this.animationSpeed*B,X=this.currentFrame;if(null!==this._durations){var V=this._currentTime%1*this._durations[this.currentFrame];for(V+=1e3*(U/60);0>V;)this._currentTime--,V+=this._durations[this.currentFrame];var Y=_Mathsign(this.animationSpeed*B);for(this._currentTime=_Mathfloor(this._currentTime);V>=this._durations[this.currentFrame];)V-=this._durations[this.currentFrame]*Y,this._currentTime+=Y;this._currentTime+=V/this._durations[this.currentFrame]}else this._currentTime+=U;0>this._currentTime&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):X!==this.currentFrame&&this.updateTexture()},N.prototype.updateTexture=function(){this._texture=this._textures[this.currentFrame],this._textureID=-1,this.onFrameChange&&this.onFrameChange(this.currentFrame)},N.prototype.destroy=function(){this.stop(),L.prototype.destroy.call(this)},N.fromFrames=function(B){for(var U=[],X=0;X<B.length;++X)U.push(O.Texture.fromFrame(B[X]));return new N(U)},N.fromImages=function(B){for(var U=[],X=0;X<B.length;++X)U.push(O.Texture.fromImage(B[X]));return new N(U)},I(N,[{key:'totalFrames',get:function(){return this._textures.length}},{key:'textures',get:function(){return this._textures},set:function(B){if(B[0]instanceof O.Texture)this._textures=B,this._durations=null;else{this._textures=[],this._durations=[];for(var U=0;U<B.length;U++)this._textures.push(B[U].texture),this._durations.push(B[U].time)}}},{key:'currentFrame',get:function(){var B=_Mathfloor(this._currentTime)%this._textures.length;return 0>B&&(B+=this._textures.length),B}}]),N}(O.Sprite);E.default=D},function(T,E,S){'use strict';function C(B,U){if(!(B instanceof U))throw new TypeError('Cannot call a class as a function')}function R(B,U){if(!B)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return U&&('object'==typeof U||'function'==typeof U)?U:B}function I(B,U){if('function'!=typeof U&&null!==U)throw new TypeError('Super expression must either be null or a function, not '+typeof U);B.prototype=Object.create(U&&U.prototype,{constructor:{value:B,enumerable:!1,writable:!0,configurable:!0}}),U&&(Object.setPrototypeOf?Object.setPrototypeOf(B,U):B.__proto__=U)}E.__esModule=!0;var A=function(){function B(U,X){for(var V=0,Y;V<X.length;V++)Y=X[V],Y.enumerable=Y.enumerable||!1,Y.configurable=!0,'value'in Y&&(Y.writable=!0),Object.defineProperty(U,Y.key,Y)}return function(U,X,V){return X&&B(U.prototype,X),V&&B(U,V),U}}(),O=S(0),D=function(B){if(B&&B.__esModule)return B;var U={};if(null!=B)for(var X in B)Object.prototype.hasOwnProperty.call(B,X)&&(U[X]=B[X]);return U.default=B,U}(O),L=S(58),N=function(B){return B&&B.__esModule?B:{default:B}}(L),F=function(B){function U(X){var V=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};C(this,U);var Y=R(this,B.call(this));return Y._textWidth=0,Y._textHeight=0,Y._glyphs=[],Y._font={tint:void 0===V.tint?16777215:V.tint,align:V.align||'left',name:null,size:0},Y.font=V.font,Y._text=X,Y.maxWidth=0,Y.maxLineHeight=0,Y._anchor=new N.default(function(){Y.dirty=!0},Y,0,0),Y.dirty=!1,Y.updateText(),Y}return I(U,B),U.prototype.updateText=function(){for(var V=U.fonts[this._font.name],Y=this._font.size/V.size,G=new D.Point,Z=[],K=[],J=null,Q=0,$=0,te=0,re=-1,ne=0,oe=0,ie=0,se;ie<this.text.length;ie++){if(se=this.text.charCodeAt(ie),/(\s)/.test(this.text.charAt(ie))&&(re=ie,ne=Q),/(?:\r\n|\r|\n)/.test(this.text.charAt(ie))){K.push(Q),$=_Mathmax($,Q),te++,G.x=0,G.y+=V.lineHeight,J=null;continue}if(-1!==re&&0<this.maxWidth&&G.x*Y>this.maxWidth){D.utils.removeItems(Z,re,ie-re),ie=re,re=-1,K.push(ne),$=_Mathmax($,ne),te++,G.x=0,G.y+=V.lineHeight,J=null;continue}var le=V.chars[se];le&&(J&&le.kerning[J]&&(G.x+=le.kerning[J]),Z.push({texture:le.texture,line:te,charCode:se,position:new D.Point(G.x+le.xOffset,G.y+le.yOffset)}),Q=G.x+(le.texture.width+le.xOffset),G.x+=le.xAdvance,oe=_Mathmax(oe,le.yOffset+le.texture.height),J=se)}K.push(Q),$=_Mathmax($,Q);for(var de=[],ue=0,pe;ue<=te;ue++)pe=0,'right'===this._font.align?pe=$-K[ue]:'center'===this._font.align&&(pe=($-K[ue])/2),de.push(pe);for(var ce=Z.length,fe=this.tint,he=0,me;he<ce;he++)me=this._glyphs[he],me?me.texture=Z[he].texture:(me=new D.Sprite(Z[he].texture),this._glyphs.push(me)),me.position.x=(Z[he].position.x+de[Z[he].line])*Y,me.position.y=Z[he].position.y*Y,me.scale.x=me.scale.y=Y,me.tint=fe,me.parent||this.addChild(me);for(var ge=ce;ge<this._glyphs.length;++ge)this.removeChild(this._glyphs[ge]);if(this._textWidth=$*Y,this._textHeight=(G.y+V.lineHeight)*Y,0!==this.anchor.x||0!==this.anchor.y)for(var _e=0;_e<ce;_e++)this._glyphs[_e].x-=this._textWidth*this.anchor.x,this._glyphs[_e].y-=this._textHeight*this.anchor.y;this.maxLineHeight=oe*Y},U.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},U.prototype.getLocalBounds=function(){return this.validate(),B.prototype.getLocalBounds.call(this)},U.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},U.registerFont=function(V,Y){var G={},Z=V.getElementsByTagName('info')[0],K=V.getElementsByTagName('common')[0];G.font=Z.getAttribute('face'),G.size=parseInt(Z.getAttribute('size'),10),G.lineHeight=parseInt(K.getAttribute('lineHeight'),10),G.chars={};for(var J=V.getElementsByTagName('char'),Q=0;Q<J.length;Q++){var $=J[Q],te=parseInt($.getAttribute('id'),10),re=new D.Rectangle(parseInt($.getAttribute('x'),10)+Y.frame.x,parseInt($.getAttribute('y'),10)+Y.frame.y,parseInt($.getAttribute('width'),10),parseInt($.getAttribute('height'),10));G.chars[te]={xOffset:parseInt($.getAttribute('xoffset'),10),yOffset:parseInt($.getAttribute('yoffset'),10),xAdvance:parseInt($.getAttribute('xadvance'),10),kerning:{},texture:new D.Texture(Y.baseTexture,re)}}for(var ne=V.getElementsByTagName('kerning'),oe=0;oe<ne.length;oe++){var ie=ne[oe],se=parseInt(ie.getAttribute('first'),10),le=parseInt(ie.getAttribute('second'),10),de=parseInt(ie.getAttribute('amount'),10);G.chars[le]&&(G.chars[le].kerning[se]=de)}return U.fonts[G.font]=G,G},A(U,[{key:'tint',get:function(){return this._font.tint},set:function(V){this._font.tint='number'==typeof V&&0<=V?V:16777215,this.dirty=!0}},{key:'align',get:function(){return this._font.align},set:function(V){this._font.align=V||'left',this.dirty=!0}},{key:'anchor',get:function(){return this._anchor},set:function(V){'number'==typeof V?this._anchor.set(V):this._anchor.copy(V)}},{key:'font',get:function(){return this._font},set:function(V){V&&('string'==typeof V?(V=V.split(' '),this._font.name=1===V.length?V[0]:V.slice(1).join(' '),this._font.size=2<=V.length?parseInt(V[0],10):U.fonts[this._font.name].size):(this._font.name=V.name,this._font.size='number'==typeof V.size?V.size:parseInt(V.size,10)),this.dirty=!0)}},{key:'text',get:function(){return this._text},set:function(V){V=V.toString()||' ',this._text===V||(this._text=V,this.dirty=!0)}},{key:'textWidth',get:function(){return this.validate(),this._textWidth}},{key:'textHeight',get:function(){return this.validate(),this._textHeight}}]),U}(D.Container);E.default=F,F.fonts={}},function(T,E,S){'use strict';function P(V){return V&&V.__esModule?V:{default:V}}function C(V,Y){if(!(V instanceof Y))throw new TypeError('Cannot call a class as a function')}function R(V,Y){if(!V)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return Y&&('object'==typeof Y||'function'==typeof Y)?Y:V}function I(V,Y){if('function'!=typeof Y&&null!==Y)throw new TypeError('Super expression must either be null or a function, not '+typeof Y);V.prototype=Object.create(Y&&Y.prototype,{constructor:{value:V,enumerable:!1,writable:!0,configurable:!0}}),Y&&(Object.setPrototypeOf?Object.setPrototypeOf(V,Y):V.__proto__=Y)}E.__esModule=!0;var A=function(){function V(Y,G){for(var Z=0,K;Z<G.length;Z++)K=G[Z],K.enumerable=K.enumerable||!1,K.configurable=!0,'value'in K&&(K.writable=!0),Object.defineProperty(Y,K.key,K)}return function(Y,G,Z){return G&&V(Y.prototype,G),Z&&V(Y,Z),Y}}(),O=S(0),D=function(V){if(V&&V.__esModule)return V;var Y={};if(null!=V)for(var G in V)Object.prototype.hasOwnProperty.call(V,G)&&(Y[G]=V[G]);return Y.default=V,Y}(O),L=S(30),N=P(L),F=S(69),B=P(F),U=new D.Point,X=function(V){function Y(G){var Z=1<arguments.length&&void 0!==arguments[1]?arguments[1]:100,K=2<arguments.length&&void 0!==arguments[2]?arguments[2]:100;C(this,Y);var J=R(this,V.call(this,G));return J.tileTransform=new D.TransformStatic,J._width=Z,J._height=K,J._canvasPattern=null,J.uvTransform=G.transform||new B.default(G),J.pluginName='tilingSprite',J.uvRespectAnchor=!1,J}return I(Y,V),Y.prototype._onTextureUpdate=function(){this.uvTransform&&(this.uvTransform.texture=this._texture)},Y.prototype._renderWebGL=function(Z){var K=this._texture;K&&K.valid&&(this.tileTransform.updateLocalTransform(),this.uvTransform.update(),Z.setObjectRenderer(Z.plugins[this.pluginName]),Z.plugins[this.pluginName].render(this))},Y.prototype._renderCanvas=function(Z){var K=this._texture;if(K.baseTexture.hasLoaded){var J=Z.context,Q=this.worldTransform,$=Z.resolution,te=K.baseTexture,re=K.baseTexture.resolution,ne=this.tilePosition.x/this.tileScale.x%K._frame.width,oe=this.tilePosition.y/this.tileScale.y%K._frame.height;if(!this._canvasPattern){var ie=new D.CanvasRenderTarget(K._frame.width,K._frame.height,re);16777215===this.tint?ie.context.drawImage(te.source,-K._frame.x,-K._frame.y):(this.cachedTint!==this.tint&&(this.cachedTint=this.tint,this.tintedTexture=N.default.getTintedTexture(this,this.tint)),ie.context.drawImage(this.tintedTexture,0,0)),this._canvasPattern=ie.context.createPattern(ie.canvas,'repeat')}J.globalAlpha=this.worldAlpha,J.setTransform(Q.a*$,Q.b*$,Q.c*$,Q.d*$,Q.tx*$,Q.ty*$),Z.setBlendMode(this.blendMode),J.fillStyle=this._canvasPattern,J.scale(this.tileScale.x/re,this.tileScale.y/re);var se=this.anchor.x*-this._width,le=this.anchor.y*-this._height;this.uvRespectAnchor?(J.translate(ne,oe),J.fillRect(-ne+se,-oe+le,this._width/this.tileScale.x*re,this._height/this.tileScale.y*re)):(J.translate(ne+se,oe+le),J.fillRect(-ne,-oe,this._width/this.tileScale.x*re,this._height/this.tileScale.y*re))}},Y.prototype._calculateBounds=function(){var Z=this._width*-this._anchor._x,K=this._height*-this._anchor._y,J=this._width*(1-this._anchor._x),Q=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,Z,K,J,Q)},Y.prototype.getLocalBounds=function(Z){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._x),Z||(!this._localBoundsRect&&(this._localBoundsRect=new D.Rectangle),Z=this._localBoundsRect),this._bounds.getRectangle(Z)):V.prototype.getLocalBounds.call(this,Z)},Y.prototype.containsPoint=function(Z){this.worldTransform.applyInverse(Z,U);var K=this._width,J=this._height,Q=-K*this.anchor._x;if(U.x>Q&&U.x<Q+K){var $=-J*this.anchor._y;if(U.y>$&&U.y<$+J)return!0}return!1},Y.prototype.destroy=function(){V.prototype.destroy.call(this),this.tileTransform=null,this.uvTransform=null},Y.from=function(Z,K,J){return new Y(D.Texture.from(Z),K,J)},Y.fromFrame=function(Z,K,J){var Q=D.utils.TextureCache[Z];if(!Q)throw new Error('The frameId "'+Z+'" does not exist in the texture cache '+this);return new Y(Q,K,J)},Y.fromImage=function(Z,K,J,Q,$){return new Y(D.Texture.fromImage(Z,Q,$),K,J)},A(Y,[{key:'clampMargin',get:function(){return this.uvTransform.clampMargin},set:function(Z){this.uvTransform.clampMargin=Z,this.uvTransform.update(!0)}},{key:'tileScale',get:function(){return this.tileTransform.scale},set:function(Z){this.tileTransform.scale.copy(Z)}},{key:'tilePosition',get:function(){return this.tileTransform.position},set:function(Z){this.tileTransform.position.copy(Z)}},{key:'width',get:function(){return this._width},set:function(Z){this._width=Z}},{key:'height',get:function(){return this._height},set:function(Z){this._height=Z}}]),Y}(D.Sprite);E.default=X},function(T,E,S){'use strict';function M(D,L){if(!(D instanceof L))throw new TypeError('Cannot call a class as a function')}var C=S(0),R=function(D){if(D&&D.__esModule)return D;var L={};if(null!=D)for(var N in D)Object.prototype.hasOwnProperty.call(D,N)&&(L[N]=D[N]);return L.default=D,L}(C),I=R.DisplayObject,A=new R.Matrix;I.prototype._cacheAsBitmap=!1,I.prototype._cacheData=!1;var O=function D(){M(this,D),this.originalRenderWebGL=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalHitTest=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.sprite=null};Object.defineProperties(I.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(L){if(this._cacheAsBitmap!==L){this._cacheAsBitmap=L;var N;L?(!this._cacheData&&(this._cacheData=new O),N=this._cacheData,N.originalRenderWebGL=this.renderWebGL,N.originalRenderCanvas=this.renderCanvas,N.originalUpdateTransform=this.updateTransform,N.originalCalculateBounds=this._calculateBounds,N.originalGetLocalBounds=this.getLocalBounds,N.originalDestroy=this.destroy,N.originalContainsPoint=this.containsPoint,N.originalMask=this._mask,N.originalFilterArea=this.filterArea,this.renderWebGL=this._renderCachedWebGL,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(N=this._cacheData,N.sprite&&this._destroyCachedDisplayObject(),this.renderWebGL=N.originalRenderWebGL,this.renderCanvas=N.originalRenderCanvas,this._calculateBounds=N.originalCalculateBounds,this.getLocalBounds=N.originalGetLocalBounds,this.destroy=N.originalDestroy,this.updateTransform=N.originalUpdateTransform,this.containsPoint=N.originalContainsPoint,this._mask=N.originalMask,this.filterArea=N.originalFilterArea)}}}}),I.prototype._renderCachedWebGL=function(L){this.visible&&!(0>=this.worldAlpha)&&this.renderable&&(this._initCachedDisplayObject(L),this._cacheData.sprite._transformID=-1,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderWebGL(L))},I.prototype._initCachedDisplayObject=function(L){if(!(this._cacheData&&this._cacheData.sprite)){var N=this.alpha;this.alpha=1,L.currentRenderer.flush();var F=this.getLocalBounds().clone();if(this._filters){var B=this._filters[0].padding;F.pad(B)}var U=L._activeRenderTarget,X=L.filterManager.filterStack,V=R.RenderTexture.create(0|F.width,0|F.height),Y=A;Y.tx=-F.x,Y.ty=-F.y,this.transform.worldTransform.identity(),this.renderWebGL=this._cacheData.originalRenderWebGL,L.render(this,V,!0,Y,!0),L.bindRenderTarget(U),L.filterManager.filterStack=X,this.renderWebGL=this._renderCachedWebGL,this.updateTransform=this.displayObjectUpdateTransform,this._mask=null,this.filterArea=null;var G=new R.Sprite(V);G.transform.worldTransform=this.transform.worldTransform,G.anchor.x=-(F.x/F.width),G.anchor.y=-(F.y/F.height),G.alpha=N,G._bounds=this._bounds,this._calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._cacheData.sprite=G,this.transform._parentID=-1,this.updateTransform(),this.containsPoint=G.containsPoint.bind(G)}},I.prototype._renderCachedCanvas=function(L){this.visible&&!(0>=this.worldAlpha)&&this.renderable&&(this._initCachedDisplayObjectCanvas(L),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite.renderCanvas(L))},I.prototype._initCachedDisplayObjectCanvas=function(L){if(!(this._cacheData&&this._cacheData.sprite)){var N=this.getLocalBounds(),F=this.alpha;this.alpha=1;var B=L.context,U=R.RenderTexture.create(0|N.width,0|N.height),X=A;this.transform.localTransform.copy(X),X.invert(),X.tx-=N.x,X.ty-=N.y,this.renderCanvas=this._cacheData.originalRenderCanvas,L.render(this,U,!0,X,!1),L.context=B,this.renderCanvas=this._renderCachedCanvas,this._calculateBounds=this._calculateCachedBounds,this._mask=null,this.filterArea=null;var V=new R.Sprite(U);V.transform.worldTransform=this.transform.worldTransform,V.anchor.x=-(N.x/N.width),V.anchor.y=-(N.y/N.height),V._bounds=this._bounds,V.alpha=F,this.updateTransform(),this.updateTransform=this.displayObjectUpdateTransform,this._cacheData.sprite=V,this.containsPoint=V.containsPoint.bind(V)}},I.prototype._calculateCachedBounds=function(){this._cacheData.sprite._calculateBounds()},I.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds()},I.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null},I.prototype._cacheAsBitmapDestroy=function(L){this.cacheAsBitmap=!1,this.destroy(L)}},function(T,E,S){'use strict';var M=S(0),C=function(R){if(R&&R.__esModule)return R;var I={};if(null!=R)for(var A in R)Object.prototype.hasOwnProperty.call(R,A)&&(I[A]=R[A]);return I.default=R,I}(M);C.DisplayObject.prototype.name=null,C.Container.prototype.getChildByName=function(I){for(var A=0;A<this.children.length;A++)if(this.children[A].name===I)return this.children[A];return null}},function(T,E,S){'use strict';var M=S(0),C=function(R){if(R&&R.__esModule)return R;var I={};if(null!=R)for(var A in R)Object.prototype.hasOwnProperty.call(R,A)&&(I[A]=R[A]);return I.default=R,I}(M);C.DisplayObject.prototype.getGlobalPosition=function(){var I=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new C.Point,A=1<arguments.length&&void 0!==arguments[1]&&arguments[1];return this.parent?this.parent.toGlobal(this.position,I,A):(I.x=this.position.x,I.y=this.position.y),I}},function(T,E,S){'use strict';function M(B,U){if(!(B instanceof U))throw new TypeError('Cannot call a class as a function')}function C(B,U){if(!B)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return U&&('object'==typeof U||'function'==typeof U)?U:B}function R(B,U){if('function'!=typeof U&&null!==U)throw new TypeError('Super expression must either be null or a function, not '+typeof U);B.prototype=Object.create(U&&U.prototype,{constructor:{value:B,enumerable:!1,writable:!0,configurable:!0}}),U&&(Object.setPrototypeOf?Object.setPrototypeOf(B,U):B.__proto__=U)}E.__esModule=!0;var I=S(0),A=function(B){if(B&&B.__esModule)return B;var U={};if(null!=B)for(var X in B)Object.prototype.hasOwnProperty.call(B,X)&&(U[X]=B[X]);return U.default=B,U}(I),O=S(1),D=S(6),L=new A.Matrix,N=new Float32Array(4),F=function(B){function U(X){M(this,U);var V=C(this,B.call(this,X));return V.shader=null,V.simpleShader=null,V.quad=null,V}return R(U,B),U.prototype.onContextChange=function(){var V=this.renderer.gl;this.shader=new A.Shader(V,'attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n','varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = mod(vTextureCoord - uClampOffset, vec2(1.0, 1.0)) + uClampOffset;\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 sample = texture2D(uSampler, coord);\n    vec4 color = vec4(uColor.rgb * uColor.a, uColor.a);\n\n    gl_FragColor = sample * color ;\n}\n'),this.simpleShader=new A.Shader(V,'attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n','varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 sample = texture2D(uSampler, vTextureCoord);\n    vec4 color = vec4(uColor.rgb * uColor.a, uColor.a);\n    gl_FragColor = sample * color;\n}\n'),this.renderer.bindVao(null),this.quad=new A.Quad(V,this.renderer.state.attribState),this.quad.initVao(this.shader)},U.prototype.render=function(V){var Y=this.renderer,G=this.quad;Y.bindVao(G.vao);var Z=G.vertices;Z[0]=Z[6]=V._width*-V.anchor.x,Z[1]=Z[3]=V._height*-V.anchor.y,Z[2]=Z[4]=V._width*(1-V.anchor.x),Z[5]=Z[7]=V._height*(1-V.anchor.y),V.uvRespectAnchor&&(Z=G.uvs,Z[0]=Z[6]=-V.anchor.x,Z[1]=Z[3]=-V.anchor.y,Z[2]=Z[4]=1-V.anchor.x,Z[5]=Z[7]=1-V.anchor.y),G.upload();var K=V._texture,J=K.baseTexture,Q=V.tileTransform.localTransform,$=V.uvTransform,te=J.isPowerOfTwo&&K.frame.width===J.width&&K.frame.height===J.height;te&&(J._glTextures[Y.CONTEXT_UID]?te=J.wrapMode!==O.WRAP_MODES.CLAMP:J.wrapMode===O.WRAP_MODES.CLAMP&&(J.wrapMode=O.WRAP_MODES.REPEAT));var re=te?this.simpleShader:this.shader;Y.bindShader(re);var ne=K.width,oe=K.height,ie=V._width,se=V._height;L.set(Q.a*ne/ie,Q.b*ne/se,Q.c*oe/ie,Q.d*oe/se,Q.tx/ie,Q.ty/se),L.invert(),te?L.append($.mapCoord):(re.uniforms.uMapCoord=$.mapCoord.toArray(!0),re.uniforms.uClampFrame=$.uClampFrame,re.uniforms.uClampOffset=$.uClampOffset),re.uniforms.uTransform=L.toArray(!0);var le=N;A.utils.hex2rgb(V.tint,le),le[3]=V.worldAlpha,re.uniforms.uColor=le,re.uniforms.translationMatrix=V.transform.worldTransform.toArray(!0),re.uniforms.uSampler=Y.bindTexture(K),Y.setBlendMode(V.blendMode),G.vao.draw(this.renderer.gl.TRIANGLES,6,0)},U}(A.ObjectRenderer);E.default=F,A.WebGLRenderer.registerPlugin('tilingSprite',F)},function(T,E,S){'use strict';function P(X){return X&&X.__esModule?X:{default:X}}function C(X,V){if(!(X instanceof V))throw new TypeError('Cannot call a class as a function')}function R(X,V){if(!X)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return V&&('object'==typeof V||'function'==typeof V)?V:X}function I(X,V){if('function'!=typeof V&&null!==V)throw new TypeError('Super expression must either be null or a function, not '+typeof V);X.prototype=Object.create(V&&V.prototype,{constructor:{value:X,enumerable:!1,writable:!0,configurable:!0}}),V&&(Object.setPrototypeOf?Object.setPrototypeOf(X,V):X.__proto__=V)}E.__esModule=!0;var A=function(){function X(V,Y){for(var G=0,Z;G<Y.length;G++)Z=Y[G],Z.enumerable=Z.enumerable||!1,Z.configurable=!0,'value'in Z&&(Z.writable=!0),Object.defineProperty(V,Z.key,Z)}return function(V,Y,G){return Y&&X(V.prototype,Y),G&&X(V,G),V}}(),O=S(0),D=function(X){if(X&&X.__esModule)return X;var V={};if(null!=X)for(var Y in X)Object.prototype.hasOwnProperty.call(X,Y)&&(V[Y]=X[Y]);return V.default=X,V}(O),L=S(70),N=P(L),F=S(71),B=P(F),U=function(X){function V(Y,G,Z,K){C(this,V);var J=R(this,X.call(this));return J.blurXFilter=new N.default(Y,G,Z,K),J.blurYFilter=new B.default(Y,G,Z,K),J.padding=0,J.resolution=Z||D.settings.RESOLUTION,J.quality=G||4,J.blur=Y||8,J}return I(V,X),V.prototype.apply=function(G,Z,K){var J=G.getRenderTarget(!0);this.blurXFilter.apply(G,Z,J,!0),this.blurYFilter.apply(G,J,K,!1),G.returnRenderTarget(J)},A(V,[{key:'blur',get:function(){return this.blurXFilter.blur},set:function(G){this.blurXFilter.blur=this.blurYFilter.blur=G,this.padding=2*_Mathmax(_Mathabs(this.blurXFilter.strength),_Mathabs(this.blurYFilter.strength))}},{key:'quality',get:function(){return this.blurXFilter.quality},set:function(G){this.blurXFilter.quality=this.blurYFilter.quality=G}},{key:'blurX',get:function(){return this.blurXFilter.blur},set:function(G){this.blurXFilter.blur=G,this.padding=2*_Mathmax(_Mathabs(this.blurXFilter.strength),_Mathabs(this.blurYFilter.strength))}},{key:'blurY',get:function(){return this.blurYFilter.blur},set:function(G){this.blurYFilter.blur=G,this.padding=2*_Mathmax(_Mathabs(this.blurXFilter.strength),_Mathabs(this.blurYFilter.strength))}}]),V}(D.Filter);E.default=U},function(T,E,S){'use strict';function M(N,F){if(!(N instanceof F))throw new TypeError('Cannot call a class as a function')}function C(N,F){if(!N)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return F&&('object'==typeof F||'function'==typeof F)?F:N}function R(N,F){if('function'!=typeof F&&null!==F)throw new TypeError('Super expression must either be null or a function, not '+typeof F);N.prototype=Object.create(F&&F.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),F&&(Object.setPrototypeOf?Object.setPrototypeOf(N,F):N.__proto__=F)}E.__esModule=!0;var I=function(){function N(F,B){for(var U=0,X;U<B.length;U++)X=B[U],X.enumerable=X.enumerable||!1,X.configurable=!0,'value'in X&&(X.writable=!0),Object.defineProperty(F,X.key,X)}return function(F,B,U){return B&&N(F.prototype,B),U&&N(F,U),F}}(),A=S(0),O=function(N){if(N&&N.__esModule)return N;var F={};if(null!=N)for(var B in N)Object.prototype.hasOwnProperty.call(N,B)&&(F[B]=N[B]);return F.default=N,F}(A),D=S(6),L=function(N){function F(){M(this,F);var B=C(this,N.call(this,'attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}','varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n    vec4 result;\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    // Premultiply alpha again.\n    result.rgb *= result.a;\n\n    gl_FragColor = result;\n}\n'));return B.uniforms.m=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],B}return R(F,N),F.prototype._loadMatrix=function(U){var X=1<arguments.length&&void 0!==arguments[1]&&arguments[1],V=U;X&&(this._multiply(V,this.uniforms.m,U),V=this._colorMatrix(V)),this.uniforms.m=V},F.prototype._multiply=function(U,X,V){return U[0]=X[0]*V[0]+X[1]*V[5]+X[2]*V[10]+X[3]*V[15],U[1]=X[0]*V[1]+X[1]*V[6]+X[2]*V[11]+X[3]*V[16],U[2]=X[0]*V[2]+X[1]*V[7]+X[2]*V[12]+X[3]*V[17],U[3]=X[0]*V[3]+X[1]*V[8]+X[2]*V[13]+X[3]*V[18],U[4]=X[0]*V[4]+X[1]*V[9]+X[2]*V[14]+X[3]*V[19]+X[4],U[5]=X[5]*V[0]+X[6]*V[5]+X[7]*V[10]+X[8]*V[15],U[6]=X[5]*V[1]+X[6]*V[6]+X[7]*V[11]+X[8]*V[16],U[7]=X[5]*V[2]+X[6]*V[7]+X[7]*V[12]+X[8]*V[17],U[8]=X[5]*V[3]+X[6]*V[8]+X[7]*V[13]+X[8]*V[18],U[9]=X[5]*V[4]+X[6]*V[9]+X[7]*V[14]+X[8]*V[19]+X[9],U[10]=X[10]*V[0]+X[11]*V[5]+X[12]*V[10]+X[13]*V[15],U[11]=X[10]*V[1]+X[11]*V[6]+X[12]*V[11]+X[13]*V[16],U[12]=X[10]*V[2]+X[11]*V[7]+X[12]*V[12]+X[13]*V[17],U[13]=X[10]*V[3]+X[11]*V[8]+X[12]*V[13]+X[13]*V[18],U[14]=X[10]*V[4]+X[11]*V[9]+X[12]*V[14]+X[13]*V[19]+X[14],U[15]=X[15]*V[0]+X[16]*V[5]+X[17]*V[10]+X[18]*V[15],U[16]=X[15]*V[1]+X[16]*V[6]+X[17]*V[11]+X[18]*V[16],U[17]=X[15]*V[2]+X[16]*V[7]+X[17]*V[12]+X[18]*V[17],U[18]=X[15]*V[3]+X[16]*V[8]+X[17]*V[13]+X[18]*V[18],U[19]=X[15]*V[4]+X[16]*V[9]+X[17]*V[14]+X[18]*V[19]+X[19],U},F.prototype._colorMatrix=function(U){var X=new Float32Array(U);return X[4]/=255,X[9]/=255,X[14]/=255,X[19]/=255,X},F.prototype.brightness=function(U,X){this._loadMatrix([U,0,0,0,0,0,U,0,0,0,0,0,U,0,0,0,0,0,1,0],X)},F.prototype.greyscale=function(U,X){this._loadMatrix([U,U,U,0,0,U,U,U,0,0,U,U,U,0,0,0,0,0,1,0],X)},F.prototype.blackAndWhite=function(U){this._loadMatrix([0.3,0.6,0.1,0,0,0.3,0.6,0.1,0,0,0.3,0.6,0.1,0,0,0,0,0,1,0],U)},F.prototype.hue=function(U,X){U=(U||0)/180*_MathPI;var V=_Mathcos(U),Y=_Mathsin(U),Z=1/3,K=_Mathsqrt(Z);this._loadMatrix([V+(1-V)*Z,Z*(1-V)-K*Y,Z*(1-V)+K*Y,0,0,Z*(1-V)+K*Y,V+Z*(1-V),Z*(1-V)-K*Y,0,0,Z*(1-V)-K*Y,Z*(1-V)+K*Y,V+Z*(1-V),0,0,0,0,0,1,0],X)},F.prototype.contrast=function(U,X){var V=(U||0)+1,Y=-128*(V-1);this._loadMatrix([V,0,0,0,Y,0,V,0,0,Y,0,0,V,0,Y,0,0,0,1,0],X)},F.prototype.saturate=function(){var U=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,X=arguments[1],V=2*U/3+1,Y=-0.5*(V-1);this._loadMatrix([V,Y,Y,0,0,Y,V,Y,0,0,Y,Y,V,0,0,0,0,0,1,0],X)},F.prototype.desaturate=function(){this.saturate(-1)},F.prototype.negative=function(U){this._loadMatrix([0,1,1,0,0,1,0,1,0,0,1,1,0,0,0,0,0,0,1,0],U)},F.prototype.sepia=function(U){this._loadMatrix([0.393,0.7689999,0.18899999,0,0,0.349,0.6859999,0.16799999,0,0,0.272,0.5339999,0.13099999,0,0,0,0,0,1,0],U)},F.prototype.technicolor=function(U){this._loadMatrix([1.9125277891456083,-0.8545344976951645,-0.09155508482755585,0,11.793603434377337,-0.3087833385928097,1.7658908555458428,-0.10601743074722245,0,-70.35205161461398,-0.231103377548616,-0.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],U)},F.prototype.polaroid=function(U){this._loadMatrix([1.438,-0.062,-0.062,0,0,-0.122,1.378,-0.122,0,0,-0.016,-0.016,1.483,0,0,0,0,0,1,0],U)},F.prototype.toBGR=function(U){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],U)},F.prototype.kodachrome=function(U){this._loadMatrix([1.1285582396593525,-0.3967382283601348,-0.03992559172921793,0,63.72958762196502,-0.16404339962244616,1.0835251566291304,-0.05498805115633132,0,24.732407896706203,-0.16786010706155763,-0.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],U)},F.prototype.browni=function(U){this._loadMatrix([0.5997023498159715,0.34553243048391263,-0.2708298674538042,0,47.43192855600873,-0.037703249837783157,0.8609577587992641,0.15059552388459913,0,-36.96841498319127,0.24113635128153335,-0.07441037908422492,0.44972182064877153,0,-7.562075277591283,0,0,0,1,0],U)},F.prototype.vintage=function(U){this._loadMatrix([0.6279345635605994,0.3202183420819367,-0.03965408211312453,0,9.651285835294123,0.02578397704808868,0.6441188644374771,0.03259127616149294,0,7.462829176470591,0.0466055556782719,-0.0851232987247891,0.5241648018700465,0,5.159190588235296,0,0,0,1,0],U)},F.prototype.colorTone=function(U,X,V,Y,G){U=U||0.2,X=X||0.15,V=V||16770432,Y=Y||3375104;var Z=(255&V>>16)/255,K=(255&V>>8)/255,J=(255&V)/255,Q=(255&Y>>16)/255,$=(255&Y>>8)/255,te=(255&Y)/255,re=[0.3,0.59,0.11,0,0,Z,K,J,U,0,Q,$,te,X,0,Z-Q,K-$,J-te,0,0];this._loadMatrix(re,G)},F.prototype.night=function(U,X){U=U||0.1;var V=[-2*U,-U,0,0,0,-U,0,U,0,0,0,U,2*U,0,0,0,0,0,1,0];this._loadMatrix(V,X)},F.prototype.predator=function(U,X){this._loadMatrix([11.224130630493164*U,-4.794486999511719*U,-2.8746118545532227*U,0*U,0.40342438220977783*U,-3.6330697536468506*U,9.193157196044922*U,-2.951810836791992*U,0*U,-1.316135048866272*U,-3.2184197902679443*U,-4.2375030517578125*U,7.476448059082031*U,0*U,0.8044459223747253*U,0,0,0,1,0],X)},F.prototype.lsd=function(U){this._loadMatrix([2,-0.4,0.5,0,0,-0.5,2,-0.4,0,0,-0.4,-0.5,3,0,0,0,0,0,1,0],U)},F.prototype.reset=function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)},I(F,[{key:'matrix',get:function(){return this.uniforms.m},set:function(U){this.uniforms.m=U}}]),F}(O.Filter);E.default=L,L.prototype.grayscale=L.prototype.greyscale},function(T,E,S){'use strict';function M(N,F){if(!(N instanceof F))throw new TypeError('Cannot call a class as a function')}function C(N,F){if(!N)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return F&&('object'==typeof F||'function'==typeof F)?F:N}function R(N,F){if('function'!=typeof F&&null!==F)throw new TypeError('Super expression must either be null or a function, not '+typeof F);N.prototype=Object.create(F&&F.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),F&&(Object.setPrototypeOf?Object.setPrototypeOf(N,F):N.__proto__=F)}E.__esModule=!0;var I=function(){function N(F,B){for(var U=0,X;U<B.length;U++)X=B[U],X.enumerable=X.enumerable||!1,X.configurable=!0,'value'in X&&(X.writable=!0),Object.defineProperty(F,X.key,X)}return function(F,B,U){return B&&N(F.prototype,B),U&&N(F,U),F}}(),A=S(0),O=function(N){if(N&&N.__esModule)return N;var F={};if(null!=N)for(var B in N)Object.prototype.hasOwnProperty.call(N,B)&&(F[B]=N[B]);return F.default=N,F}(A),D=S(6),L=function(N){function F(B,U){M(this,F);var X=new O.Matrix;B.renderable=!1;var V=C(this,N.call(this,'attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nvoid main(void)\n{\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n   vTextureCoord = aTextureCoord;\n}','varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\n\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform vec4 filterClamp;\n\nvoid main(void)\n{\n   vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n   map -= 0.5;\n   map.xy *= scale;\n\n   gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), filterClamp.xy, filterClamp.zw));\n}\n'));return V.maskSprite=B,V.maskMatrix=X,V.uniforms.mapSampler=B.texture,V.uniforms.filterMatrix=X,V.uniforms.scale={x:1,y:1},(null===U||void 0===U)&&(U=20),V.scale=new O.Point(U,U),V}return R(F,N),F.prototype.apply=function(U,X,V){var Y=1/V.destinationFrame.width*(V.size.width/X.size.width);this.uniforms.filterMatrix=U.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x*Y,this.uniforms.scale.y=this.scale.y*Y,U.applyFilter(this,X,V)},I(F,[{key:'map',get:function(){return this.uniforms.mapSampler},set:function(U){this.uniforms.mapSampler=U}}]),F}(O.Filter);E.default=L},function(T,E,S){'use strict';function M(L,N){if(!(L instanceof N))throw new TypeError('Cannot call a class as a function')}function C(L,N){if(!L)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return N&&('object'==typeof N||'function'==typeof N)?N:L}function R(L,N){if('function'!=typeof N&&null!==N)throw new TypeError('Super expression must either be null or a function, not '+typeof N);L.prototype=Object.create(N&&N.prototype,{constructor:{value:L,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(L,N):L.__proto__=N)}E.__esModule=!0;var I=S(0),A=function(L){if(L&&L.__esModule)return L;var N={};if(null!=L)for(var F in L)Object.prototype.hasOwnProperty.call(L,F)&&(N[F]=L[F]);return N.default=L,N}(I),O=S(6),D=function(L){function N(){return M(this,N),C(this,L.call(this,'\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nuniform vec4 filterArea;\n\nvarying vec2 vTextureCoord;\n\nvec2 mapCoord( vec2 coord )\n{\n    coord *= filterArea.xy;\n    coord += filterArea.zw;\n\n    return coord;\n}\n\nvec2 unmapCoord( vec2 coord )\n{\n    coord -= filterArea.zw;\n    coord /= filterArea.xy;\n\n    return coord;\n}\n\nvoid texcoords(vec2 fragCoord, vec2 resolution,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    vec2 inverseVP = 1.0 / resolution.xy;\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n   vTextureCoord = aTextureCoord;\n\n   vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n   texcoords(fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}','varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec4 filterArea;\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n \n --\n \n From:\n https://github.com/mitsuhiko/webgl-meincraft\n \n Copyright (c) 2011 by Armin Ronacher.\n \n Some rights reserved.\n \n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n \n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n \n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n \n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n \n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 resolution,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    mediump vec2 inverseVP = vec2(1.0 / resolution.x, 1.0 / resolution.y);\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n    \n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n    \n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n    \n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n    \n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n    \n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n      vec4 color;\n\n    color = fxaa(uSampler, fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n'))}return R(N,L),N}(A.Filter);E.default=D},function(T,E,S){'use strict';function M(N,F){if(!(N instanceof F))throw new TypeError('Cannot call a class as a function')}function C(N,F){if(!N)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return F&&('object'==typeof F||'function'==typeof F)?F:N}function R(N,F){if('function'!=typeof F&&null!==F)throw new TypeError('Super expression must either be null or a function, not '+typeof F);N.prototype=Object.create(F&&F.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),F&&(Object.setPrototypeOf?Object.setPrototypeOf(N,F):N.__proto__=F)}E.__esModule=!0;var I=function(){function N(F,B){for(var U=0,X;U<B.length;U++)X=B[U],X.enumerable=X.enumerable||!1,X.configurable=!0,'value'in X&&(X.writable=!0),Object.defineProperty(F,X.key,X)}return function(F,B,U){return B&&N(F.prototype,B),U&&N(F,U),F}}(),A=S(0),O=function(N){if(N&&N.__esModule)return N;var F={};if(null!=N)for(var B in N)Object.prototype.hasOwnProperty.call(N,B)&&(F[B]=N[B]);return F.default=N,F}(A),D=S(6),L=function(N){function F(){M(this,F);var B=C(this,N.call(this,'attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}','precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float noise;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n\n    float diff = (rand(gl_FragCoord.xy) - 0.5) * noise;\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    gl_FragColor = color;\n}\n'));return B.noise=0.5,B}return R(F,N),I(F,[{key:'noise',get:function(){return this.uniforms.noise},set:function(U){this.uniforms.noise=U}}]),F}(O.Filter);E.default=L},function(T,E,S){'use strict';function M(L,N){if(!(L instanceof N))throw new TypeError('Cannot call a class as a function')}function C(L,N){if(!L)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return N&&('object'==typeof N||'function'==typeof N)?N:L}function R(L,N){if('function'!=typeof N&&null!==N)throw new TypeError('Super expression must either be null or a function, not '+typeof N);L.prototype=Object.create(N&&N.prototype,{constructor:{value:L,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(L,N):L.__proto__=N)}E.__esModule=!0;var I=S(0),A=function(L){if(L&&L.__esModule)return L;var N={};if(null!=L)for(var F in L)Object.prototype.hasOwnProperty.call(L,F)&&(N[F]=L[F]);return N.default=L,N}(I),O=S(6),D=function(L){function N(){M(this,N);var F=C(this,L.call(this,'attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}','varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n'));return F.glShaderKey='void',F}return R(N,L),N}(A.Filter);E.default=D},function(T,E){'use strict';function P(C,R){if(!(C instanceof R))throw new TypeError('Cannot call a class as a function')}E.__esModule=!0;var M=function(){function C(){P(this,C),this.stopped=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return C.prototype.stopPropagation=function(){this.stopped=!0},C.prototype._reset=function(){this.stopped=!1,this.currentTarget=null,this.target=null},C}();E.default=M},function(T,E,S){'use strict';function P(Q){return Q&&Q.__esModule?Q:{default:Q}}function C(Q,$){if(!(Q instanceof $))throw new TypeError('Cannot call a class as a function')}function R(Q,$){if(!Q)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return $&&('object'==typeof $||'function'==typeof $)?$:Q}function I(Q,$){if('function'!=typeof $&&null!==$)throw new TypeError('Super expression must either be null or a function, not '+typeof $);Q.prototype=Object.create($&&$.prototype,{constructor:{value:Q,enumerable:!1,writable:!0,configurable:!0}}),$&&(Object.setPrototypeOf?Object.setPrototypeOf(Q,$):Q.__proto__=$)}E.__esModule=!0;var A='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(Q){return typeof Q}:function(Q){return Q&&'function'==typeof Symbol&&Q.constructor===Symbol&&Q!==Symbol.prototype?'symbol':typeof Q},O=S(0),D=function(Q){if(Q&&Q.__esModule)return Q;var $={};if(null!=Q)for(var te in Q)Object.prototype.hasOwnProperty.call(Q,te)&&($[te]=Q[te]);return $.default=Q,$}(O),L=S(76),N=P(L),F=S(161),B=P(F),U=S(163),X=P(U),V=S(8),Y=P(V),G=S(78),Z=P(G);D.utils.mixins.delayMixin(D.DisplayObject.prototype,Z.default);var K='MOUSE',J=function(Q){function $(te,re){C(this,$);var ne=R(this,Q.call(this));return re=re||{},ne.renderer=te,ne.autoPreventDefault=void 0===re.autoPreventDefault||re.autoPreventDefault,ne.interactionFrequency=re.interactionFrequency||10,ne.mouse=new N.default,ne.mouse.identifier=K,ne.mouse.global.set(-999999),ne.activeInteractionData={},ne.activeInteractionData[K]=ne.mouse,ne.interactionDataPool=[],ne.eventData=new B.default,ne.interactionDOMElement=null,ne.moveWhenInside=!1,ne.eventsAdded=!1,ne.mouseOverRenderer=!1,ne.supportsTouchEvents='ontouchstart'in window,ne.supportsPointerEvents=!!window.PointerEvent,ne.onPointerUp=ne.onPointerUp.bind(ne),ne.processPointerUp=ne.processPointerUp.bind(ne),ne.onPointerCancel=ne.onPointerCancel.bind(ne),ne.processPointerCancel=ne.processPointerCancel.bind(ne),ne.onPointerDown=ne.onPointerDown.bind(ne),ne.processPointerDown=ne.processPointerDown.bind(ne),ne.onPointerMove=ne.onPointerMove.bind(ne),ne.processPointerMove=ne.processPointerMove.bind(ne),ne.onPointerOut=ne.onPointerOut.bind(ne),ne.processPointerOverOut=ne.processPointerOverOut.bind(ne),ne.onPointerOver=ne.onPointerOver.bind(ne),ne.cursorStyles={default:'inherit',pointer:'pointer'},ne.currentCursorMode=null,ne.cursor=null,ne._tempPoint=new D.Point,ne.resolution=1,ne.setTargetElement(ne.renderer.view,ne.renderer.resolution),ne}return I($,Q),$.prototype.setTargetElement=function(re){var ne=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;this.removeEvents(),this.interactionDOMElement=re,this.resolution=ne,this.addEvents()},$.prototype.addEvents=function(){this.interactionDOMElement&&(D.ticker.shared.add(this.update,this),window.navigator.msPointerEnabled?(this.interactionDOMElement.style['-ms-content-zooming']='none',this.interactionDOMElement.style['-ms-touch-action']='none'):this.supportsPointerEvents&&(this.interactionDOMElement.style['touch-action']='none'),this.supportsPointerEvents?(window.document.addEventListener('pointermove',this.onPointerMove,!0),this.interactionDOMElement.addEventListener('pointerdown',this.onPointerDown,!0),this.interactionDOMElement.addEventListener('pointerleave',this.onPointerOut,!0),this.interactionDOMElement.addEventListener('pointerover',this.onPointerOver,!0),window.addEventListener('pointercancel',this.onPointerCancel,!0),window.addEventListener('pointerup',this.onPointerUp,!0)):(window.document.addEventListener('mousemove',this.onPointerMove,!0),this.interactionDOMElement.addEventListener('mousedown',this.onPointerDown,!0),this.interactionDOMElement.addEventListener('mouseout',this.onPointerOut,!0),this.interactionDOMElement.addEventListener('mouseover',this.onPointerOver,!0),window.addEventListener('mouseup',this.onPointerUp,!0),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener('touchstart',this.onPointerDown,!0),this.interactionDOMElement.addEventListener('touchcancel',this.onPointerCancel,!0),this.interactionDOMElement.addEventListener('touchend',this.onPointerUp,!0),this.interactionDOMElement.addEventListener('touchmove',this.onPointerMove,!0))),this.eventsAdded=!0)},$.prototype.removeEvents=function(){this.interactionDOMElement&&(D.ticker.shared.remove(this.update,this),window.navigator.msPointerEnabled?(this.interactionDOMElement.style['-ms-content-zooming']='',this.interactionDOMElement.style['-ms-touch-action']=''):this.supportsPointerEvents&&(this.interactionDOMElement.style['touch-action']=''),this.supportsPointerEvents?(window.document.removeEventListener('pointermove',this.onPointerMove,!0),this.interactionDOMElement.removeEventListener('pointerdown',this.onPointerDown,!0),this.interactionDOMElement.removeEventListener('pointerleave',this.onPointerOut,!0),this.interactionDOMElement.removeEventListener('pointerover',this.onPointerOver,!0),window.removeEventListener('pointercancel',this.onPointerCancel,!0),window.removeEventListener('pointerup',this.onPointerUp,!0)):(window.document.removeEventListener('mousemove',this.onPointerMove,!0),this.interactionDOMElement.removeEventListener('mousedown',this.onPointerDown,!0),this.interactionDOMElement.removeEventListener('mouseout',this.onPointerOut,!0),this.interactionDOMElement.removeEventListener('mouseover',this.onPointerOver,!0),window.removeEventListener('mouseup',this.onPointerUp,!0),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener('touchstart',this.onPointerDown,!0),this.interactionDOMElement.removeEventListener('touchcancel',this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener('touchend',this.onPointerUp,!0),this.interactionDOMElement.removeEventListener('touchmove',this.onPointerMove,!0))),this.interactionDOMElement=null,this.eventsAdded=!1)},$.prototype.update=function(re){if((this._deltaTime+=re,!(this._deltaTime<this.interactionFrequency))&&(this._deltaTime=0,!!this.interactionDOMElement)){if(this.didMove)return void(this.didMove=!1);for(var ne in this.cursor=null,this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(ne)){var oe=this.activeInteractionData[ne];if(oe.originalEvent&&'touch'!==oe.pointerType){var ie=this.configureInteractionEventForDOMEvent(this.eventData,oe.originalEvent,oe);this.processInteractive(ie,this.renderer._lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},$.prototype.setCursorMode=function(re){if(re=re||'default',this.currentCursorMode!==re){this.currentCursorMode=re;var ne=this.cursorStyles[re];if(ne)switch('undefined'==typeof ne?'undefined':A(ne)){case'string':this.interactionDOMElement.style.cursor=ne;break;case'function':ne(re);break;case'object':Object.assign(this.interactionDOMElement.style,ne);}}},$.prototype.dispatchEvent=function(re,ne,oe){oe.stopped||(oe.currentTarget=re,oe.type=ne,re.emit(ne,oe),re[ne]&&re[ne](oe))},$.prototype.mapPositionToPoint=function(re,ne,oe){var ie=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:0,height:0};var se=navigator.isCocoonJS?this.resolution:1/this.resolution;re.x=(ne-ie.left)*(this.interactionDOMElement.width/ie.width)*se,re.y=(oe-ie.top)*(this.interactionDOMElement.height/ie.height)*se},$.prototype.processInteractive=function(re,ne,oe,ie,se){if(!ne||!ne.visible)return!1;var le=re.data.global;se=ne.interactive||se;var de=!1,ue=se;if(ne.hitArea?ue=!1:ie&&ne._mask&&!ne._mask.containsPoint(le)&&(ie=!1),ne.interactiveChildren&&ne.children)for(var pe=ne.children,ce=pe.length-1;0<=ce;ce--){var fe=pe[ce],he=this.processInteractive(re,fe,oe,ie,ue);if(he){if(!fe.parent)continue;ue=!1,he&&(re.target&&(ie=!1),de=!0)}}return se&&(ie&&!re.target&&(ne.hitArea?(ne.worldTransform.applyInverse(le,this._tempPoint),ne.hitArea.contains(this._tempPoint.x,this._tempPoint.y)&&(de=!0)):ne.containsPoint&&ne.containsPoint(le)&&(de=!0)),ne.interactive&&(de&&!re.target&&(re.target=ne),oe(re,ne,!!de))),de},$.prototype.onPointerDown=function(re){var ne=this.normalizeToPointerData(re);this.autoPreventDefault&&ne[0].isNormalized&&re.preventDefault();for(var oe=ne.length,ie=0;ie<oe;ie++){var se=ne[ie],le=this.getInteractionDataForPointerId(se),de=this.configureInteractionEventForDOMEvent(this.eventData,se,le);if(de.data.originalEvent=re,this.processInteractive(de,this.renderer._lastObjectRendered,this.processPointerDown,!0),this.emit('pointerdown',de),'touch'===se.pointerType)this.emit('touchstart',de);else if('mouse'===se.pointerType){var ue=2===se.button||3===se.which;this.emit(ue?'rightdown':'mousedown',this.eventData)}}},$.prototype.processPointerDown=function(re,ne,oe){var ie=re.data.originalEvent,se=re.data.identifier;if(oe)if(ne.trackedPointers[se]||(ne.trackedPointers[se]=new X.default(se)),this.dispatchEvent(ne,'pointerdown',re),'touchstart'===ie.type||'touch'===ie.pointerType)this.dispatchEvent(ne,'touchstart',re);else if('mousedown'===ie.type||'mouse'===ie.pointerType){var le=2===ie.button||3===ie.which;le?ne.trackedPointers[se].rightDown=!0:ne.trackedPointers[se].leftDown=!0,this.dispatchEvent(ne,le?'rightdown':'mousedown',re)}},$.prototype.onPointerComplete=function(re,ne,oe){for(var ie=this.normalizeToPointerData(re),se=ie.length,le=0;le<se;le++){var de=ie[le],ue=this.getInteractionDataForPointerId(de),pe=this.configureInteractionEventForDOMEvent(this.eventData,de,ue);if(pe.data.originalEvent=re,this.processInteractive(pe,this.renderer._lastObjectRendered,oe,!0),this.emit(ne?'pointercancel':'pointerup',pe),'mouse'===de.pointerType){var ce=2===de.button||3===de.which;this.emit(ce?'rightup':'mouseup',pe)}else'touch'===de.pointerType&&(this.emit(ne?'touchcancel':'touchend',pe),this.releaseInteractionDataForPointerId(de.pointerId,ue))}},$.prototype.onPointerCancel=function(re){this.onPointerComplete(re,!0,this.processPointerCancel)},$.prototype.processPointerCancel=function(re,ne){var oe=re.data.originalEvent,ie=re.data.identifier;void 0!==ne.trackedPointers[ie]&&(delete ne.trackedPointers[ie],this.dispatchEvent(ne,'pointercancel',re),('touchcancel'===oe.type||'touch'===oe.pointerType)&&this.dispatchEvent(ne,'touchcancel',re))},$.prototype.onPointerUp=function(re){this.onPointerComplete(re,!1,this.processPointerUp)},$.prototype.processPointerUp=function(re,ne,oe){var ie=re.data.originalEvent,se=re.data.identifier,le=ne.trackedPointers[se],de='touchend'===ie.type||'touch'===ie.pointerType,ue=0===ie.type.indexOf('mouse')||'mouse'===ie.pointerType;if(ue){var pe=2===ie.button||3===ie.which,ce=X.default.FLAGS,fe=pe?ce.RIGHT_DOWN:ce.LEFT_DOWN,he=void 0!==le&&le.flags&fe;oe?(this.dispatchEvent(ne,pe?'rightup':'mouseup',re),he&&this.dispatchEvent(ne,pe?'rightclick':'click',re)):he&&this.dispatchEvent(ne,pe?'rightupoutside':'mouseupoutside',re),le&&(pe?le.rightDown=!1:le.leftDown=!1)}oe?(this.dispatchEvent(ne,'pointerup',re),de&&this.dispatchEvent(ne,'touchend',re),le&&(this.dispatchEvent(ne,'pointertap',re),de&&(this.dispatchEvent(ne,'tap',re),le.over=!1))):le&&(this.dispatchEvent(ne,'pointerupoutside',re),de&&this.dispatchEvent(ne,'touchendoutside',re)),le&&le.none&&delete ne.trackedPointers[se]},$.prototype.onPointerMove=function(re){var ne=this.normalizeToPointerData(re);'mouse'===ne[0].pointerType&&(this.didMove=!0,this.cursor=null);for(var oe=ne.length,ie=0;ie<oe;ie++){var se=ne[ie],le=this.getInteractionDataForPointerId(se),de=this.configureInteractionEventForDOMEvent(this.eventData,se,le);de.data.originalEvent=re;var ue='touch'!==se.pointerType||this.moveWhenInside;this.processInteractive(de,this.renderer._lastObjectRendered,this.processPointerMove,ue),this.emit('pointermove',de),'touch'===se.pointerType&&this.emit('touchmove',de),'mouse'===se.pointerType&&this.emit('mousemove',de)}'mouse'===ne[0].pointerType&&this.setCursorMode(this.cursor)},$.prototype.processPointerMove=function(re,ne,oe){var ie=re.data.originalEvent,se='touchmove'===ie.type||'touch'===ie.pointerType,le='mousemove'===ie.type||'mouse'===ie.pointerType;le&&this.processPointerOverOut(re,ne,oe),(!this.moveWhenInside||oe)&&(this.dispatchEvent(ne,'pointermove',re),se&&this.dispatchEvent(ne,'touchmove',re),le&&this.dispatchEvent(ne,'mousemove',re))},$.prototype.onPointerOut=function(re){var ne=this.normalizeToPointerData(re),oe=ne[0];'mouse'===oe.pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var ie=this.getInteractionDataForPointerId(oe),se=this.configureInteractionEventForDOMEvent(this.eventData,oe,ie);se.data.originalEvent=oe,this.processInteractive(se,this.renderer._lastObjectRendered,this.processPointerOverOut,!1),this.emit('pointerout',se),'mouse'===oe.pointerType?this.emit('mouseout',se):this.releaseInteractionDataForPointerId(ie.identifier)},$.prototype.processPointerOverOut=function(re,ne,oe){var ie=re.data.originalEvent,se=re.data.identifier,le='mouseover'===ie.type||'mouseout'===ie.type||'mouse'===ie.pointerType,de=ne.trackedPointers[se];oe&&!de&&(de=ne.trackedPointers[se]=new X.default(se)),void 0===de||(oe&&this.mouseOverRenderer?(!de.over&&(de.over=!0,this.dispatchEvent(ne,'pointerover',re),le&&this.dispatchEvent(ne,'mouseover',re)),le&&null===this.cursor&&(this.cursor=ne.cursor)):de.over&&(de.over=!1,this.dispatchEvent(ne,'pointerout',this.eventData),le&&this.dispatchEvent(ne,'mouseout',re),de.none&&delete ne.trackedPointers[se]))},$.prototype.onPointerOver=function(re){var ne=this.normalizeToPointerData(re),oe=ne[0],ie=this.getInteractionDataForPointerId(oe),se=this.configureInteractionEventForDOMEvent(this.eventData,oe,ie);se.data.originalEvent=oe,'mouse'===oe.pointerType&&(this.mouseOverRenderer=!0),this.emit('pointerover',se),'mouse'===oe.pointerType&&this.emit('mouseover',se)},$.prototype.getInteractionDataForPointerId=function(re){var ne=re.pointerId;if(ne===K||'mouse'===re.pointerType)return this.mouse;if(this.activeInteractionData[ne])return this.activeInteractionData[ne];var oe=this.interactionDataPool.pop()||new N.default;return oe.identifier=ne,this.activeInteractionData[ne]=oe,oe},$.prototype.releaseInteractionDataForPointerId=function(re){var ne=this.activeInteractionData[re];ne&&(delete this.activeInteractionData[re],this.interactionDataPool.push(ne))},$.prototype.configureInteractionEventForDOMEvent=function(re,ne,oe){return re.data=oe,this.mapPositionToPoint(oe.global,ne.clientX,ne.clientY),navigator.isCocoonJS&&'touch'===ne.pointerType&&(oe.global.x/=this.resolution,oe.global.y/=this.resolution),'touch'===ne.pointerType&&(ne.globalX=oe.global.x,ne.globalY=oe.global.y),oe.originalEvent=ne,re._reset(),re},$.prototype.normalizeToPointerData=function(re){var ne=[];if(this.supportsTouchEvents&&re instanceof TouchEvent)for(var oe=0,ie=re.changedTouches.length,se;oe<ie;oe++)se=re.changedTouches[oe],'undefined'==typeof se.button&&(se.button=re.touches.length?1:0),'undefined'==typeof se.buttons&&(se.buttons=re.touches.length?1:0),'undefined'==typeof se.isPrimary&&(se.isPrimary=1===re.touches.length),'undefined'==typeof se.width&&(se.width=se.radiusX||1),'undefined'==typeof se.height&&(se.height=se.radiusY||1),'undefined'==typeof se.tiltX&&(se.tiltX=0),'undefined'==typeof se.tiltY&&(se.tiltY=0),'undefined'==typeof se.pointerType&&(se.pointerType='touch'),'undefined'==typeof se.pointerId&&(se.pointerId=se.identifier||0),'undefined'==typeof se.pressure&&(se.pressure=se.force||0.5),'undefined'==typeof se.rotation&&(se.rotation=se.rotationAngle||0),'undefined'==typeof se.layerX&&(se.layerX=se.offsetX=se.clientX),'undefined'==typeof se.layerY&&(se.layerY=se.offsetY=se.clientY),se.isNormalized=!0,ne.push(se);else!(re instanceof MouseEvent)||this.supportsPointerEvents&&re instanceof window.PointerEvent?ne.push(re):('undefined'==typeof re.isPrimary&&(re.isPrimary=!0),'undefined'==typeof re.width&&(re.width=1),'undefined'==typeof re.height&&(re.height=1),'undefined'==typeof re.tiltX&&(re.tiltX=0),'undefined'==typeof re.tiltY&&(re.tiltY=0),'undefined'==typeof re.pointerType&&(re.pointerType='mouse'),'undefined'==typeof re.pointerId&&(re.pointerId=K),'undefined'==typeof re.pressure&&(re.pressure=0.5),'undefined'==typeof re.rotation&&(re.rotation=0),re.isNormalized=!0,ne.push(re));return ne},$.prototype.destroy=function(){this.removeEvents(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this._tempPoint=null},$}(Y.default);E.default=J,D.WebGLRenderer.registerPlugin('interaction',J),D.CanvasRenderer.registerPlugin('interaction',J)},function(T,E){'use strict';function P(R,I){if(!(R instanceof I))throw new TypeError('Cannot call a class as a function')}E.__esModule=!0;var M=function(){function R(I,A){for(var O=0,D;O<A.length;O++)D=A[O],D.enumerable=D.enumerable||!1,D.configurable=!0,'value'in D&&(D.writable=!0),Object.defineProperty(I,D.key,D)}return function(I,A,O){return A&&R(I.prototype,A),O&&R(I,O),I}}(),C=function(){function R(I){P(this,R),this._pointerId=I,this._flags=R.FLAGS.NONE}return R.prototype._doSet=function(A,O){O?this._flags|=A:this._flags&=~A},M(R,[{key:'pointerId',get:function(){return this._pointerId}},{key:'flags',get:function(){return this._flags},set:function(A){this._flags=A}},{key:'none',get:function(){return this._flags===this.constructor.FLAGS.NONE}},{key:'over',get:function(){return 0!=(this._flags&this.constructor.FLAGS.OVER)},set:function(A){this._doSet(this.constructor.FLAGS.OVER,A)}},{key:'rightDown',get:function(){return 0!=(this._flags&this.constructor.FLAGS.RIGHT_DOWN)},set:function(A){this._doSet(this.constructor.FLAGS.RIGHT_DOWN,A)}},{key:'leftDown',get:function(){return 0!=(this._flags&this.constructor.FLAGS.LEFT_DOWN)},set:function(A){this._doSet(this.constructor.FLAGS.LEFT_DOWN,A)}}]),R}();E.default=C,C.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4})},function(T,E,S){'use strict';function P(K){return K&&K.__esModule?K:{default:K}}function M(K,J){if(!(K instanceof J))throw new TypeError('Cannot call a class as a function')}function C(K,J){if(!K)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return J&&('object'==typeof J||'function'==typeof J)?J:K}function R(K,J){if('function'!=typeof J&&null!==J)throw new TypeError('Super expression must either be null or a function, not '+typeof J);K.prototype=Object.create(J&&J.prototype,{constructor:{value:K,enumerable:!1,writable:!0,configurable:!0}}),J&&(Object.setPrototypeOf?Object.setPrototypeOf(K,J):K.__proto__=J)}E.__esModule=!0;var I=S(16),A=P(I),O=S(189),D=S(8),L=P(D),N=S(82),F=P(N),B=S(81),U=P(B),X=S(79),V=P(X),Y=function(K){function J(Q,$){M(this,J);var te=C(this,K.call(this,Q,$));L.default.call(te);for(var re=0;re<J._pixiMiddleware.length;++re)te.use(J._pixiMiddleware[re]());return te.onStart.add(function(ne){return te.emit('start',ne)}),te.onProgress.add(function(ne,oe){return te.emit('progress',ne,oe)}),te.onError.add(function(ne,oe,ie){return te.emit('error',ne,oe,ie)}),te.onLoad.add(function(ne,oe){return te.emit('load',ne,oe)}),te.onComplete.add(function(ne,oe){return te.emit('complete',ne,oe)}),te}return R(J,K),J.addPixiMiddleware=function($){J._pixiMiddleware.push($)},J}(A.default);for(var G in E.default=Y,L.default.prototype)Y.prototype[G]=L.default.prototype[G];Y._pixiMiddleware=[O.blobMiddlewareFactory,F.default,U.default,V.default];var Z=A.default.Resource;Z.setExtensionXhrType('fnt',Z.XHR_RESPONSE_TYPE.DOCUMENT)},function(T,E,S){'use strict';function M(N,F){if(!(N instanceof F))throw new TypeError('Cannot call a class as a function')}function C(N,F){if(!N)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return F&&('object'==typeof F||'function'==typeof F)?F:N}function R(N,F){if('function'!=typeof F&&null!==F)throw new TypeError('Super expression must either be null or a function, not '+typeof F);N.prototype=Object.create(F&&F.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),F&&(Object.setPrototypeOf?Object.setPrototypeOf(N,F):N.__proto__=F)}E.__esModule=!0;var I=function(){function N(F,B){for(var U=0,X;U<B.length;U++)X=B[U],X.enumerable=X.enumerable||!1,X.configurable=!0,'value'in X&&(X.writable=!0),Object.defineProperty(F,X.key,X)}return function(F,B,U){return B&&N(F.prototype,B),U&&N(F,U),F}}(),A=S(83),O=function(N){return N&&N.__esModule?N:{default:N}}(A),D=10,L=function(N){function F(B,U,X,V,Y){M(this,F);var G=C(this,N.call(this,B,4,4)),Z=G.uvs;return Z[6]=Z[14]=Z[22]=Z[30]=1,Z[25]=Z[27]=Z[29]=Z[31]=1,G._origWidth=B.width,G._origHeight=B.height,G._uvw=1/G._origWidth,G._uvh=1/G._origHeight,G.width=B.width,G.height=B.height,Z[2]=Z[10]=Z[18]=Z[26]=G._uvw*U,Z[4]=Z[12]=Z[20]=Z[28]=1-G._uvw*V,Z[9]=Z[11]=Z[13]=Z[15]=G._uvh*X,Z[17]=Z[19]=Z[21]=Z[23]=1-G._uvh*Y,G.leftWidth='undefined'==typeof U?D:U,G.rightWidth='undefined'==typeof V?D:V,G.topHeight='undefined'==typeof X?D:X,G.bottomHeight='undefined'==typeof Y?D:Y,G}return R(F,N),F.prototype.updateHorizontalVertices=function(){var U=this.vertices;U[9]=U[11]=U[13]=U[15]=this._topHeight,U[17]=U[19]=U[21]=U[23]=this._height-this._bottomHeight,U[25]=U[27]=U[29]=U[31]=this._height},F.prototype.updateVerticalVertices=function(){var U=this.vertices;U[2]=U[10]=U[18]=U[26]=this._leftWidth,U[4]=U[12]=U[20]=U[28]=this._width-this._rightWidth,U[6]=U[14]=U[22]=U[30]=this._width},F.prototype._renderCanvas=function(U){var X=U.context;X.globalAlpha=this.worldAlpha;var V=this.worldTransform,Y=U.resolution;U.roundPixels?X.setTransform(V.a*Y,V.b*Y,V.c*Y,V.d*Y,0|V.tx*Y,0|V.ty*Y):X.setTransform(V.a*Y,V.b*Y,V.c*Y,V.d*Y,V.tx*Y,V.ty*Y);var G=this._texture.baseTexture,Z=G.source,K=G.width,J=G.height;this.drawSegment(X,Z,K,J,0,1,10,11),this.drawSegment(X,Z,K,J,2,3,12,13),this.drawSegment(X,Z,K,J,4,5,14,15),this.drawSegment(X,Z,K,J,8,9,18,19),this.drawSegment(X,Z,K,J,10,11,20,21),this.drawSegment(X,Z,K,J,12,13,22,23),this.drawSegment(X,Z,K,J,16,17,26,27),this.drawSegment(X,Z,K,J,18,19,28,29),this.drawSegment(X,Z,K,J,20,21,30,31)},F.prototype.drawSegment=function(U,X,V,Y,G,Z,K,J){var Q=this.uvs,$=this.vertices,te=(Q[K]-Q[G])*V,re=(Q[J]-Q[Z])*Y,ne=$[K]-$[G],oe=$[J]-$[Z];1>te&&(te=1),1>re&&(re=1),1>ne&&(ne=1),1>oe&&(oe=1),U.drawImage(X,Q[G]*V,Q[Z]*Y,te,re,$[G],$[Z],ne,oe)},I(F,[{key:'width',get:function(){return this._width},set:function(U){this._width=U,this.updateVerticalVertices()}},{key:'height',get:function(){return this._height},set:function(U){this._height=U,this.updateHorizontalVertices()}},{key:'leftWidth',get:function(){return this._leftWidth},set:function(U){this._leftWidth=U;var X=this.uvs,V=this.vertices;X[2]=X[10]=X[18]=X[26]=this._uvw*U,V[2]=V[10]=V[18]=V[26]=U,this.dirty=!0}},{key:'rightWidth',get:function(){return this._rightWidth},set:function(U){this._rightWidth=U;var X=this.uvs,V=this.vertices;X[4]=X[12]=X[20]=X[28]=1-this._uvw*U,V[4]=V[12]=V[20]=V[28]=this._width-U,this.dirty=!0}},{key:'topHeight',get:function(){return this._topHeight},set:function(U){this._topHeight=U;var X=this.uvs,V=this.vertices;X[9]=X[11]=X[13]=X[15]=this._uvh*U,V[9]=V[11]=V[13]=V[15]=U,this.dirty=!0}},{key:'bottomHeight',get:function(){return this._bottomHeight},set:function(U){this._bottomHeight=U;var X=this.uvs,V=this.vertices;X[17]=X[19]=X[21]=X[23]=1-this._uvh*U,V[17]=V[19]=V[21]=V[23]=this._height-U,this.dirty=!0}}]),F}(O.default);E.default=L},function(T,E,S){'use strict';function C(F,B){if(!(F instanceof B))throw new TypeError('Cannot call a class as a function')}function R(F,B){if(!F)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return B&&('object'==typeof B||'function'==typeof B)?B:F}function I(F,B){if('function'!=typeof B&&null!==B)throw new TypeError('Super expression must either be null or a function, not '+typeof B);F.prototype=Object.create(B&&B.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),B&&(Object.setPrototypeOf?Object.setPrototypeOf(F,B):F.__proto__=B)}E.__esModule=!0;var A=S(15),O=function(F){return F&&F.__esModule?F:{default:F}}(A),D=S(0),L=function(F){if(F&&F.__esModule)return F;var B={};if(null!=F)for(var U in F)Object.prototype.hasOwnProperty.call(F,U)&&(B[U]=F[U]);return B.default=F,B}(D),N=function(F){function B(U,X){C(this,B);var V=R(this,F.call(this,U));return V.points=X,V.vertices=new Float32Array(4*X.length),V.uvs=new Float32Array(4*X.length),V.colors=new Float32Array(2*X.length),V.indices=new Uint16Array(2*X.length),V._ready=!0,V.refresh(),V}return I(B,F),B.prototype.refresh=function(){var X=this.points;if(!(1>X.length)&&this._texture._uvs){this.vertices.length/4!==X.length&&(this.vertices=new Float32Array(4*X.length),this.uvs=new Float32Array(4*X.length),this.colors=new Float32Array(2*X.length),this.indices=new Uint16Array(2*X.length));var V=this.uvs,Y=this.indices,G=this.colors,Z=this._texture._uvs,K=new L.Point(Z.x0,Z.y0),J=new L.Point(Z.x2-Z.x0,+(Z.y2-Z.y0));V[0]=0+K.x,V[1]=0+K.y,V[2]=0+K.x,V[3]=J.y+K.y,G[0]=1,G[1]=1,Y[0]=0,Y[1]=1;for(var Q=X.length,$=1;$<Q;$++){var te=4*$,re=$/(Q-1);V[te]=re*J.x+K.x,V[te+1]=0+K.y,V[te+2]=re*J.x+K.x,V[te+3]=J.y+K.y,te=2*$,G[te]=1,G[te+1]=1,te=2*$,Y[te]=te,Y[te+1]=te+1}this.dirty++,this.indexDirty++}},B.prototype._onTextureUpdate=function(){F.prototype._onTextureUpdate.call(this),this._ready&&this.refresh()},B.prototype.updateTransform=function(){var X=this.points;if(!(1>X.length)){for(var V=X[0],Y=void 0,G=0,Z=0,K=this.vertices,J=X.length,Q=0;Q<J;Q++){var $=X[Q],te=4*Q;Y=Q<X.length-1?X[Q+1]:$,Z=-(Y.x-V.x),G=Y.y-V.y;var re=10*(1-Q/(J-1));1<re&&(re=1);var ne=_Mathsqrt(G*G+Z*Z),oe=this._texture.height/2;G/=ne,Z/=ne,G*=oe,Z*=oe,K[te]=$.x+G,K[te+1]=$.y+Z,K[te+2]=$.x-G,K[te+3]=$.y-Z,V=$}this.containerUpdateTransform()}},B}(O.default);E.default=N},function(T,E,S){'use strict';function C(L,N){if(!(L instanceof N))throw new TypeError('Cannot call a class as a function')}E.__esModule=!0;var R=S(0),I=function(L){if(L&&L.__esModule)return L;var N={};if(null!=L)for(var F in L)Object.prototype.hasOwnProperty.call(L,F)&&(N[F]=L[F]);return N.default=L,N}(R),A=S(15),O=function(L){return L&&L.__esModule?L:{default:L}}(A),D=function(){function L(N){C(this,L),this.renderer=N}return L.prototype.render=function(F){var B=this.renderer,U=B.context,X=F.worldTransform,V=B.resolution;B.roundPixels?U.setTransform(X.a*V,X.b*V,X.c*V,X.d*V,0|X.tx*V,0|X.ty*V):U.setTransform(X.a*V,X.b*V,X.c*V,X.d*V,X.tx*V,X.ty*V),B.setBlendMode(F.blendMode),F.drawMode===O.default.DRAW_MODES.TRIANGLE_MESH?this._renderTriangleMesh(F):this._renderTriangles(F)},L.prototype._renderTriangleMesh=function(F){for(var B=F.vertices.length/2,U=0,X;U<B-2;U++)X=2*U,this._renderDrawTriangle(F,X,X+2,X+4)},L.prototype._renderTriangles=function(F){for(var B=F.indices,U=B.length,X=0;X<U;X+=3){var V=2*B[X],Y=2*B[X+1],G=2*B[X+2];this._renderDrawTriangle(F,V,Y,G)}},L.prototype._renderDrawTriangle=function(F,B,U,X){var V=this.renderer.context,Y=F.uvs,G=F.vertices,Z=F._texture;if(Z.valid){var K=Z.baseTexture,J=K.source,Q=K.width,$=K.height,te=Y[B]*K.width,re=Y[U]*K.width,ne=Y[X]*K.width,oe=Y[B+1]*K.height,ie=Y[U+1]*K.height,se=Y[X+1]*K.height,le=G[B],de=G[U],ue=G[X],pe=G[B+1],ce=G[U+1],fe=G[X+1];if(0<F.canvasPadding){var he=F.canvasPadding/F.worldTransform.a,me=F.canvasPadding/F.worldTransform.d,ge=(le+de+ue)/3,_e=(pe+ce+fe)/3,be=le-ge,Te=pe-_e,ve=_Mathsqrt(be*be+Te*Te);le=ge+be/ve*(ve+he),pe=_e+Te/ve*(ve+me),be=de-ge,Te=ce-_e,ve=_Mathsqrt(be*be+Te*Te),de=ge+be/ve*(ve+he),ce=_e+Te/ve*(ve+me),be=ue-ge,Te=fe-_e,ve=_Mathsqrt(be*be+Te*Te),ue=ge+be/ve*(ve+he),fe=_e+Te/ve*(ve+me)}V.save(),V.beginPath(),V.moveTo(le,pe),V.lineTo(de,ce),V.lineTo(ue,fe),V.closePath(),V.clip();var Ee=te*ie+oe*ne+re*se-ie*ne-oe*re-te*se,Se=le*ie+oe*ue+de*se-ie*ue-oe*de-le*se,Pe=te*de+le*ne+re*ue-de*ne-le*re-te*ue,Me=te*ie*ue+oe*de*ne+le*re*se-le*ie*ne-oe*re*ue-te*de*se,Ce=pe*ie+oe*fe+ce*se-ie*fe-oe*ce-pe*se,Re=te*ce+pe*ne+re*fe-ce*ne-pe*re-te*fe,Ie=te*ie*fe+oe*ce*ne+pe*re*se-pe*ie*ne-oe*re*fe-te*ce*se;V.transform(Se/Ee,Ce/Ee,Pe/Ee,Re/Ee,Me/Ee,Ie/Ee),V.drawImage(J,0,0,Q*K.resolution,$*K.resolution,0,0,Q,$),V.restore()}},L.prototype.renderMeshFlat=function(F){var B=this.renderer.context,U=F.vertices,X=U.length/2;B.beginPath();for(var V=1;V<X-2;++V){var Y=2*V,G=U[Y],Z=U[Y+1],K=U[Y+2],J=U[Y+3],Q=U[Y+4],$=U[Y+5];B.moveTo(G,Z),B.lineTo(K,J),B.lineTo(Q,$)}B.fillStyle='#FF0000',B.fill(),B.closePath()},L.prototype.destroy=function(){this.renderer=null},L}();E.default=D,I.CanvasRenderer.registerPlugin('mesh',D)},function(T,E,S){'use strict';function P(X){return X&&X.__esModule?X:{default:X}}function C(X,V){if(!(X instanceof V))throw new TypeError('Cannot call a class as a function')}function R(X,V){if(!X)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return V&&('object'==typeof V||'function'==typeof V)?V:X}function I(X,V){if('function'!=typeof V&&null!==V)throw new TypeError('Super expression must either be null or a function, not '+typeof V);X.prototype=Object.create(V&&V.prototype,{constructor:{value:X,enumerable:!1,writable:!0,configurable:!0}}),V&&(Object.setPrototypeOf?Object.setPrototypeOf(X,V):X.__proto__=V)}E.__esModule=!0;var A=S(0),O=function(X){if(X&&X.__esModule)return X;var V={};if(null!=X)for(var Y in X)Object.prototype.hasOwnProperty.call(X,Y)&&(V[Y]=X[Y]);return V.default=X,V}(A),D=S(5),L=P(D),N=S(15),F=P(N),B=S(6),U=function(X){function V(Y){C(this,V);var G=R(this,X.call(this,Y));return G.shader=null,G}return I(V,X),V.prototype.onContextChange=function(){var G=this.renderer.gl;this.shader=new O.Shader(G,'attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 translationMatrix;\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n}\n','varying vec2 vTextureCoord;\nuniform float alpha;\nuniform vec3 tint;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * vec4(tint * alpha, alpha);\n}\n')},V.prototype.render=function(G){var Z=this.renderer,K=Z.gl,J=G._texture;if(J.valid){var Q=G._glDatas[Z.CONTEXT_UID];Q||(Z.bindVao(null),Q={shader:this.shader,vertexBuffer:L.default.GLBuffer.createVertexBuffer(K,G.vertices,K.STREAM_DRAW),uvBuffer:L.default.GLBuffer.createVertexBuffer(K,G.uvs,K.STREAM_DRAW),indexBuffer:L.default.GLBuffer.createIndexBuffer(K,G.indices,K.STATIC_DRAW),vao:null,dirty:G.dirty,indexDirty:G.indexDirty},Q.vao=new L.default.VertexArrayObject(K).addIndex(Q.indexBuffer).addAttribute(Q.vertexBuffer,Q.shader.attributes.aVertexPosition,K.FLOAT,!1,8,0).addAttribute(Q.uvBuffer,Q.shader.attributes.aTextureCoord,K.FLOAT,!1,8,0),G._glDatas[Z.CONTEXT_UID]=Q),Z.bindVao(Q.vao),G.dirty!==Q.dirty&&(Q.dirty=G.dirty,Q.uvBuffer.upload(G.uvs)),G.indexDirty!==Q.indexDirty&&(Q.indexDirty=G.indexDirty,Q.indexBuffer.upload(G.indices)),Q.vertexBuffer.upload(G.vertices),Z.bindShader(Q.shader),Q.shader.uniforms.uSampler=Z.bindTexture(J),Z.state.setBlendMode(G.blendMode),Q.shader.uniforms.translationMatrix=G.worldTransform.toArray(!0),Q.shader.uniforms.alpha=G.worldAlpha,Q.shader.uniforms.tint=G.tintRgb;var $=G.drawMode===F.default.DRAW_MODES.TRIANGLE_MESH?K.TRIANGLE_STRIP:K.TRIANGLES;Q.vao.draw($,G.indices.length,0)}},V}(O.ObjectRenderer);E.default=U,O.WebGLRenderer.registerPlugin('mesh',U)},function(T,E,S){'use strict';function M(D,L){if(!(D instanceof L))throw new TypeError('Cannot call a class as a function')}function C(D,L){if(!D)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return L&&('object'==typeof L||'function'==typeof L)?L:D}function R(D,L){if('function'!=typeof L&&null!==L)throw new TypeError('Super expression must either be null or a function, not '+typeof L);D.prototype=Object.create(L&&L.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),L&&(Object.setPrototypeOf?Object.setPrototypeOf(D,L):D.__proto__=L)}E.__esModule=!0;var I=S(0),A=function(D){if(D&&D.__esModule)return D;var L={};if(null!=D)for(var N in D)Object.prototype.hasOwnProperty.call(D,N)&&(L[N]=D[N]);return L.default=D,L}(I),O=function(D){function L(){var N=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1500,F=arguments[1],B=2<arguments.length&&void 0!==arguments[2]?arguments[2]:16384;M(this,L);var U=C(this,D.call(this)),X=16384;return B>X&&(B=X),B>N&&(B=N),U._properties=[!1,!0,!1,!1,!1],U._maxSize=N,U._batchSize=B,U._glBuffers={},U._bufferToUpdate=0,U.interactiveChildren=!1,U.blendMode=A.BLEND_MODES.NORMAL,U.roundPixels=!0,U.baseTexture=null,U.setProperties(F),U}return R(L,D),L.prototype.setProperties=function(F){F&&(this._properties[0]='scale'in F?!!F.scale:this._properties[0],this._properties[1]='position'in F?!!F.position:this._properties[1],this._properties[2]='rotation'in F?!!F.rotation:this._properties[2],this._properties[3]='uvs'in F?!!F.uvs:this._properties[3],this._properties[4]='alpha'in F?!!F.alpha:this._properties[4])},L.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},L.prototype.renderWebGL=function(F){var B=this;this.visible&&!(0>=this.worldAlpha)&&this.children.length&&this.renderable&&(!this.baseTexture&&(this.baseTexture=this.children[0]._texture.baseTexture,!this.baseTexture.hasLoaded&&this.baseTexture.once('update',function(){return B.onChildrenChange(0)})),F.setObjectRenderer(F.plugins.particle),F.plugins.particle.render(this))},L.prototype.onChildrenChange=function(F){var B=_Mathfloor(F/this._batchSize);B<this._bufferToUpdate&&(this._bufferToUpdate=B)},L.prototype.renderCanvas=function(F){if(this.visible&&!(0>=this.worldAlpha)&&this.children.length&&this.renderable){var B=F.context,U=this.worldTransform,X=!0,V=0,Y=0,G=0,Z=0,K=F.blendModes[this.blendMode];K!==B.globalCompositeOperation&&(B.globalCompositeOperation=K),B.globalAlpha=this.worldAlpha,this.displayObjectUpdateTransform();for(var J=0,Q;J<this.children.length;++J)if(Q=this.children[J],!!Q.visible){var $=Q._texture.frame;if(B.globalAlpha=this.worldAlpha*Q.alpha,0==Q.rotation%(2*_MathPI))X&&(B.setTransform(U.a,U.b,U.c,U.d,U.tx*F.resolution,U.ty*F.resolution),X=!1),V=Q.anchor.x*(-$.width*Q.scale.x)+Q.position.x+0.5,Y=Q.anchor.y*(-$.height*Q.scale.y)+Q.position.y+0.5,G=$.width*Q.scale.x,Z=$.height*Q.scale.y;else{X||(X=!0),Q.displayObjectUpdateTransform();var te=Q.worldTransform;F.roundPixels?B.setTransform(te.a,te.b,te.c,te.d,0|te.tx*F.resolution,0|te.ty*F.resolution):B.setTransform(te.a,te.b,te.c,te.d,te.tx*F.resolution,te.ty*F.resolution),V=Q.anchor.x*-$.width+0.5,Y=Q.anchor.y*-$.height+0.5,G=$.width,Z=$.height}var re=Q._texture.baseTexture.resolution;B.drawImage(Q._texture.baseTexture.source,$.x*re,$.y*re,$.width*re,$.height*re,V*re,Y*re,G*re,Z*re)}}},L.prototype.destroy=function(F){if(D.prototype.destroy.call(this,F),this._buffers)for(var B=0;B<this._buffers.length;++B)this._buffers[B].destroy();this._properties=null,this._buffers=null},L}(A.Container);E.default=O},function(T,E,S){'use strict';function P(D){return D&&D.__esModule?D:{default:D}}function M(D,L){if(!(D instanceof L))throw new TypeError('Cannot call a class as a function')}E.__esModule=!0;var C=S(5),R=P(C),I=S(33),A=P(I),O=function(){function D(L,N,F,B){M(this,D),this.gl=L,this.vertSize=2,this.vertByteSize=4*this.vertSize,this.size=B,this.dynamicProperties=[],this.staticProperties=[];for(var U=0,X;U<N.length;++U)X=N[U],X={attribute:X.attribute,size:X.size,uploadFunction:X.uploadFunction,offset:X.offset},F[U]?this.dynamicProperties.push(X):this.staticProperties.push(X);this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.initBuffers()}return D.prototype.initBuffers=function(){var N=this.gl,F=0;this.indices=(0,A.default)(this.size),this.indexBuffer=R.default.GLBuffer.createIndexBuffer(N,this.indices,N.STATIC_DRAW),this.dynamicStride=0;for(var B=0,U;B<this.dynamicProperties.length;++B)U=this.dynamicProperties[B],U.offset=F,F+=U.size,this.dynamicStride+=U.size;this.dynamicData=new Float32Array(4*(this.size*this.dynamicStride)),this.dynamicBuffer=R.default.GLBuffer.createVertexBuffer(N,this.dynamicData,N.STREAM_DRAW);var X=0;this.staticStride=0;for(var V=0,Y;V<this.staticProperties.length;++V)Y=this.staticProperties[V],Y.offset=X,X+=Y.size,this.staticStride+=Y.size;this.staticData=new Float32Array(4*(this.size*this.staticStride)),this.staticBuffer=R.default.GLBuffer.createVertexBuffer(N,this.staticData,N.STATIC_DRAW),this.vao=new R.default.VertexArrayObject(N).addIndex(this.indexBuffer);for(var G=0,Z;G<this.dynamicProperties.length;++G)Z=this.dynamicProperties[G],this.vao.addAttribute(this.dynamicBuffer,Z.attribute,N.FLOAT,!1,4*this.dynamicStride,4*Z.offset);for(var K=0,J;K<this.staticProperties.length;++K)J=this.staticProperties[K],this.vao.addAttribute(this.staticBuffer,J.attribute,N.FLOAT,!1,4*this.staticStride,4*J.offset)},D.prototype.uploadDynamic=function(N,F,B){for(var U=0,X;U<this.dynamicProperties.length;U++)X=this.dynamicProperties[U],X.uploadFunction(N,F,B,this.dynamicData,this.dynamicStride,X.offset);this.dynamicBuffer.upload()},D.prototype.uploadStatic=function(N,F,B){for(var U=0,X;U<this.staticProperties.length;U++)X=this.staticProperties[U],X.uploadFunction(N,F,B,this.staticData,this.staticStride,X.offset);this.staticBuffer.upload()},D.prototype.destroy=function(){this.dynamicProperties=null,this.dynamicData=null,this.dynamicBuffer.destroy(),this.staticProperties=null,this.staticData=null,this.staticBuffer.destroy()},D}();E.default=O},function(T,E,S){'use strict';function P(U){return U&&U.__esModule?U:{default:U}}function C(U,X){if(!(U instanceof X))throw new TypeError('Cannot call a class as a function')}function R(U,X){if(!U)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return X&&('object'==typeof X||'function'==typeof X)?X:U}function I(U,X){if('function'!=typeof X&&null!==X)throw new TypeError('Super expression must either be null or a function, not '+typeof X);U.prototype=Object.create(X&&X.prototype,{constructor:{value:U,enumerable:!1,writable:!0,configurable:!0}}),X&&(Object.setPrototypeOf?Object.setPrototypeOf(U,X):U.__proto__=X)}E.__esModule=!0;var A=S(0),O=function(U){if(U&&U.__esModule)return U;var X={};if(null!=U)for(var V in U)Object.prototype.hasOwnProperty.call(U,V)&&(X[V]=U[V]);return X.default=U,X}(A),D=S(172),L=P(D),N=S(170),F=P(N),B=function(U){function X(V){C(this,X);var Y=R(this,U.call(this,V));return Y.shader=null,Y.indexBuffer=null,Y.properties=null,Y.tempMatrix=new O.Matrix,Y.CONTEXT_UID=0,Y}return I(X,U),X.prototype.onContextChange=function(){var Y=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.shader=new L.default(Y),this.properties=[{attribute:this.shader.attributes.aVertexPosition,size:2,uploadFunction:this.uploadVertices,offset:0},{attribute:this.shader.attributes.aPositionCoord,size:2,uploadFunction:this.uploadPosition,offset:0},{attribute:this.shader.attributes.aRotation,size:1,uploadFunction:this.uploadRotation,offset:0},{attribute:this.shader.attributes.aTextureCoord,size:2,uploadFunction:this.uploadUvs,offset:0},{attribute:this.shader.attributes.aColor,size:1,uploadFunction:this.uploadAlpha,offset:0}]},X.prototype.start=function(){this.renderer.bindShader(this.shader)},X.prototype.render=function(Y){var G=Y.children,Z=Y._maxSize,K=Y._batchSize,J=this.renderer,Q=G.length;if(0!==Q){Q>Z&&(Q=Z);var $=Y._glBuffers[J.CONTEXT_UID];$||($=Y._glBuffers[J.CONTEXT_UID]=this.generateBuffers(Y)),this.renderer.setBlendMode(Y.blendMode);var te=J.gl,re=Y.worldTransform.copy(this.tempMatrix);re.prepend(J._activeRenderTarget.projectionMatrix),this.shader.uniforms.projectionMatrix=re.toArray(!0),this.shader.uniforms.uAlpha=Y.worldAlpha;var ne=G[0]._texture.baseTexture;this.shader.uniforms.uSampler=J.bindTexture(ne);for(var oe=0,ie=0,se;oe<Q;oe+=K,ie+=1){se=Q-oe,se>K&&(se=K);var le=$[ie];le.uploadDynamic(G,oe,se),Y._bufferToUpdate===ie&&(le.uploadStatic(G,oe,se),Y._bufferToUpdate=ie+1),J.bindVao(le.vao),le.vao.draw(te.TRIANGLES,6*se)}}},X.prototype.generateBuffers=function(Y){for(var G=this.renderer.gl,Z=[],K=Y._maxSize,J=Y._batchSize,Q=Y._properties,$=0;$<K;$+=J)Z.push(new F.default(G,this.properties,Q,J));return Z},X.prototype.uploadVertices=function(Y,G,Z,K,J,Q){for(var $=0,te=0,re=0,ne=0,oe=0;oe<Z;++oe){var ie=Y[G+oe],se=ie._texture,le=ie.scale.x,de=ie.scale.y,ue=se.trim,pe=se.orig;ue?(te=ue.x-ie.anchor.x*pe.width,$=te+ue.width,ne=ue.y-ie.anchor.y*pe.height,re=ne+ue.height):($=pe.width*(1-ie.anchor.x),te=pe.width*-ie.anchor.x,re=pe.height*(1-ie.anchor.y),ne=pe.height*-ie.anchor.y),K[Q]=te*le,K[Q+1]=ne*de,K[Q+J]=$*le,K[Q+J+1]=ne*de,K[Q+2*J]=$*le,K[Q+2*J+1]=re*de,K[Q+3*J]=te*le,K[Q+3*J+1]=re*de,Q+=4*J}},X.prototype.uploadPosition=function(Y,G,Z,K,J,Q){for(var $=0,te;$<Z;$++)te=Y[G+$].position,K[Q]=te.x,K[Q+1]=te.y,K[Q+J]=te.x,K[Q+J+1]=te.y,K[Q+2*J]=te.x,K[Q+2*J+1]=te.y,K[Q+3*J]=te.x,K[Q+3*J+1]=te.y,Q+=4*J},X.prototype.uploadRotation=function(Y,G,Z,K,J,Q){for(var $=0,te;$<Z;$++)te=Y[G+$].rotation,K[Q]=te,K[Q+J]=te,K[Q+2*J]=te,K[Q+3*J]=te,Q+=4*J},X.prototype.uploadUvs=function(Y,G,Z,K,J,Q){for(var $=0,te;$<Z;++$)te=Y[G+$]._texture._uvs,te?(K[Q]=te.x0,K[Q+1]=te.y0,K[Q+J]=te.x1,K[Q+J+1]=te.y1,K[Q+2*J]=te.x2,K[Q+2*J+1]=te.y2,K[Q+3*J]=te.x3,K[Q+3*J+1]=te.y3,Q+=4*J):(K[Q]=0,K[Q+1]=0,K[Q+J]=0,K[Q+J+1]=0,K[Q+2*J]=0,K[Q+2*J+1]=0,K[Q+3*J]=0,K[Q+3*J+1]=0,Q+=4*J)},X.prototype.uploadAlpha=function(Y,G,Z,K,J,Q){for(var $=0,te;$<Z;$++)te=Y[G+$].alpha,K[Q]=te,K[Q+J]=te,K[Q+2*J]=te,K[Q+3*J]=te,Q+=4*J},X.prototype.destroy=function(){this.renderer.gl&&this.renderer.gl.deleteBuffer(this.indexBuffer),U.prototype.destroy.call(this),this.shader.destroy(),this.indices=null,this.tempMatrix=null},X}(O.ObjectRenderer);E.default=B,O.WebGLRenderer.registerPlugin('particle',B)},function(T,E,S){'use strict';function M(D,L){if(!(D instanceof L))throw new TypeError('Cannot call a class as a function')}function C(D,L){if(!D)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return L&&('object'==typeof L||'function'==typeof L)?L:D}function R(D,L){if('function'!=typeof L&&null!==L)throw new TypeError('Super expression must either be null or a function, not '+typeof L);D.prototype=Object.create(L&&L.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),L&&(Object.setPrototypeOf?Object.setPrototypeOf(D,L):D.__proto__=L)}E.__esModule=!0;var I=S(10),A=function(D){return D&&D.__esModule?D:{default:D}}(I),O=function(D){function L(N){return M(this,L),C(this,D.call(this,N,['attribute vec2 aVertexPosition;','attribute vec2 aTextureCoord;','attribute float aColor;','attribute vec2 aPositionCoord;','attribute vec2 aScale;','attribute float aRotation;','uniform mat3 projectionMatrix;','varying vec2 vTextureCoord;','varying float vColor;','void main(void){','   vec2 v = aVertexPosition;','   v.x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);','   v.y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);','   v = v + aPositionCoord;','   gl_Position = vec4((projectionMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);','   vTextureCoord = aTextureCoord;','   vColor = aColor;','}'].join('\n'),['varying vec2 vTextureCoord;','varying float vColor;','uniform sampler2D uSampler;','uniform float uAlpha;','void main(void){','  vec4 color = texture2D(uSampler, vTextureCoord) * vColor * uAlpha;','  if (color.a == 0.0) discard;','  gl_FragColor = color;','}'].join('\n')))}return R(L,D),L}(A.default);E.default=O},function(){'use strict';_Mathsign||(_Mathsign=function(M){return M=+M,0===M||isNaN(M)?M:0<M?1:-1})},function(T,E,S){'use strict';var M=S(180),C=function(R){return R&&R.__esModule?R:{default:R}}(M);Object.assign||(Object.assign=C.default)},function(T,E,S){'use strict';S(174),S(176),S(173),window.ArrayBuffer||(window.ArrayBuffer=Array),window.Float32Array||(window.Float32Array=Array),window.Uint32Array||(window.Uint32Array=Array),window.Uint16Array||(window.Uint16Array=Array)},function(T,E,S){'use strict';(function(P){if(Date.now&&Date.prototype.getTime||(Date.now=function(){return new Date().getTime()}),!(P.performance&&P.performance.now)){var C=Date.now();P.performance||(P.performance={}),P.performance.now=function(){return Date.now()-C}}for(var R=Date.now(),I=['ms','moz','webkit','o'],A=0,O;A<I.length&&!P.requestAnimationFrame;++A)O=I[A],P.requestAnimationFrame=P[O+'RequestAnimationFrame'],P.cancelAnimationFrame=P[O+'CancelAnimationFrame']||P[O+'CancelRequestAnimationFrame'];P.requestAnimationFrame||(P.requestAnimationFrame=function(D){if('function'!=typeof D)throw new TypeError(D+'is not a function');var L=Date.now(),N=16+R-L;return 0>N&&(N=0),R=L,setTimeout(function(){R=Date.now(),D(performance.now())},N)}),P.cancelAnimationFrame||(P.cancelAnimationFrame=function(D){return clearTimeout(D)})}).call(E,S(37))},function(T,E,S){'use strict';function C(X,V){if(!(X instanceof V))throw new TypeError('Cannot call a class as a function')}function R(X,V){if(!X)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return V&&('object'==typeof V||'function'==typeof V)?V:X}function I(X,V){if('function'!=typeof V&&null!==V)throw new TypeError('Super expression must either be null or a function, not '+typeof V);X.prototype=Object.create(V&&V.prototype,{constructor:{value:X,enumerable:!1,writable:!0,configurable:!0}}),V&&(Object.setPrototypeOf?Object.setPrototypeOf(X,V):X.__proto__=V)}function A(X,V){if(V instanceof L.BaseTexture){var Y=V.source,G=0===Y.width?X.canvas.width:_Mathmin(X.canvas.width,Y.width),Z=0===Y.height?X.canvas.height:_Mathmin(X.canvas.height,Y.height);return X.ctx.drawImage(Y,0,0,G,Z,0,0,X.canvas.width,X.canvas.height),!0}return!1}function O(X,V){if(X instanceof L.BaseTexture)return-1===V.indexOf(X)&&V.push(X),!0;if(X._texture&&X._texture instanceof L.Texture){var Y=X._texture.baseTexture;return-1===V.indexOf(Y)&&V.push(Y),!0}return!1}E.__esModule=!0;var D=S(0),L=function(X){if(X&&X.__esModule)return X;var V={};if(null!=X)for(var Y in X)Object.prototype.hasOwnProperty.call(X,Y)&&(V[Y]=X[Y]);return V.default=X,V}(D),N=S(35),F=function(X){return X&&X.__esModule?X:{default:X}}(N),B=16,U=function(X){function V(Y){C(this,V);var G=R(this,X.call(this,Y));return G.uploadHookHelper=G,G.canvas=document.createElement('canvas'),G.canvas.width=B,G.canvas.height=B,G.ctx=G.canvas.getContext('2d'),G.register(O,A),G}return I(V,X),V.prototype.destroy=function(){X.prototype.destroy.call(this),this.ctx=null,this.canvas=null},V}(F.default);E.default=U,L.CanvasRenderer.registerPlugin('prepare',U)},function(T,E){'use strict';function P(C,R){if(!(C instanceof R))throw new TypeError('Cannot call a class as a function')}E.__esModule=!0;var M=function(){function C(R){P(this,C),this.maxMilliseconds=R,this.frameStart=0}return C.prototype.beginFrame=function(){this.frameStart=Date.now()},C.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds},C}();E.default=M},function(T,E,S){'use strict';function C(V,Y){if(!(V instanceof Y))throw new TypeError('Cannot call a class as a function')}function R(V,Y){if(!V)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return Y&&('object'==typeof Y||'function'==typeof Y)?Y:V}function I(V,Y){if('function'!=typeof Y&&null!==Y)throw new TypeError('Super expression must either be null or a function, not '+typeof Y);V.prototype=Object.create(Y&&Y.prototype,{constructor:{value:V,enumerable:!1,writable:!0,configurable:!0}}),Y&&(Object.setPrototypeOf?Object.setPrototypeOf(V,Y):V.__proto__=Y)}function A(V,Y){return!!(Y instanceof F.BaseTexture)&&(Y._glTextures[V.CONTEXT_UID]||V.textureManager.updateTexture(Y),!0)}function O(V,Y){return!!(Y instanceof F.Graphics)&&((Y.dirty||Y.clearDirty||!Y._webGL[V.plugins.graphics.CONTEXT_UID])&&V.plugins.graphics.updateGraphics(Y),!0)}function D(V,Y){if(V instanceof F.BaseTexture)return-1===Y.indexOf(V)&&Y.push(V),!0;if(V._texture&&V._texture instanceof F.Texture){var G=V._texture.baseTexture;return-1===Y.indexOf(G)&&Y.push(G),!0}return!1}function L(V,Y){return!!(V instanceof F.Graphics)&&(Y.push(V),!0)}E.__esModule=!0;var N=S(0),F=function(V){if(V&&V.__esModule)return V;var Y={};if(null!=V)for(var G in V)Object.prototype.hasOwnProperty.call(V,G)&&(Y[G]=V[G]);return Y.default=V,Y}(N),B=S(35),U=function(V){return V&&V.__esModule?V:{default:V}}(B),X=function(V){function Y(G){C(this,Y);var Z=R(this,V.call(this,G));return Z.uploadHookHelper=Z.renderer,Z.register(D,A).register(L,O),Z}return I(Y,V),Y}(U.default);E.default=X,F.WebGLRenderer.registerPlugin('prepare',X)},function(T){'use strict';/*
object-assign
(c) Sindre Sorhus
@license MIT
*/function P(A){if(null===A||A===void 0)throw new TypeError('Object.assign cannot be called with null or undefined');return Object(A)}var C=Object.getOwnPropertySymbols,R=Object.prototype.hasOwnProperty,I=Object.prototype.propertyIsEnumerable;T.exports=function(){try{if(!Object.assign)return!1;var A=new String('abc');if(A[5]='de','5'===Object.getOwnPropertyNames(A)[0])return!1;for(var O={},D=0;10>D;D++)O['_'+_StringfromCharCode(D)]=D;var L=Object.getOwnPropertyNames(O).map(function(F){return O[F]});if('0123456789'!==L.join(''))return!1;var N={};return'abcdefghijklmnopqrst'.split('').forEach(function(F){N[F]=F}),'abcdefghijklmnopqrst'===Object.keys(Object.assign({},N)).join('')}catch(F){return!1}}()?Object.assign:function(A){for(var L=P(A),F=1,D,N;F<arguments.length;F++){for(var B in D=Object(arguments[F]),D)R.call(D,B)&&(L[B]=D[B]);if(C){N=C(D);for(var U=0;U<N.length;U++)I.call(D,N[U])&&(L[N[U]]=D[N[U]])}}return L}},function(T){function S(){throw new Error('setTimeout has not been defined')}function P(){throw new Error('clearTimeout has not been defined')}function M(V){if(L===setTimeout)return setTimeout(V,0);if((L===S||!L)&&setTimeout)return L=setTimeout,setTimeout(V,0);try{return L(V,0)}catch(Y){try{return L.call(null,V,0)}catch(G){return L.call(this,V,0)}}}function C(V){if(N===clearTimeout)return clearTimeout(V);if((N===P||!N)&&clearTimeout)return N=clearTimeout,clearTimeout(V);try{return N(V)}catch(Y){try{return N.call(null,V)}catch(G){return N.call(this,V)}}}function R(){B&&U&&(B=!1,U.length?F=U.concat(F):X=-1,F.length&&I())}function I(){if(!B){var V=M(R);B=!0;for(var Y=F.length;Y;){for(U=F,F=[];++X<Y;)U&&U[X].run();X=-1,Y=F.length}U=null,B=!1,C(V)}}function A(V,Y){this.fun=V,this.array=Y}function O(){}var D=T.exports={},L,N;(function(){try{L='function'==typeof setTimeout?setTimeout:S}catch(V){L=S}try{N='function'==typeof clearTimeout?clearTimeout:P}catch(V){N=P}})();var F=[],B=!1,U,X=-1;D.nextTick=function(V){var Y=Array(arguments.length-1);if(1<arguments.length)for(var G=1;G<arguments.length;G++)Y[G-1]=arguments[G];F.push(new A(V,Y)),1!==F.length||B||M(I)},A.prototype.run=function(){this.fun.apply(null,this.array)},D.title='browser',D.browser=!0,D.env={},D.argv=[],D.version='',D.versions={},D.on=O,D.addListener=O,D.once=O,D.off=O,D.removeListener=O,D.removeAllListeners=O,D.emit=O,D.binding=function(){throw new Error('process.binding is not supported')},D.cwd=function(){return'/'},D.chdir=function(){throw new Error('process.chdir is not supported')},D.umask=function(){return 0}},function(T,E,S){(function(P,M){var C;(function(R){function I(_e){throw new RangeError(ce[_e])}function A(_e,be){for(var Te=_e.length,ve=[];Te--;)ve[Te]=be(_e[Te]);return ve}function O(_e,be){var Te=_e.split('@'),ve='';1<Te.length&&(ve=Te[0]+'@',_e=Te[1]),_e=_e.replace(pe,'.');var Ee=_e.split('.'),Se=A(Ee,be).join('.');return ve+Se}function D(_e){for(var be=[],Te=0,ve=_e.length,Ee,Se;Te<ve;)Ee=_e.charCodeAt(Te++),55296<=Ee&&56319>=Ee&&Te<ve?(Se=_e.charCodeAt(Te++),56320==(64512&Se)?be.push(((1023&Ee)<<10)+(1023&Se)+65536):(be.push(Ee),Te--)):be.push(Ee);return be}function L(_e){return A(_e,function(be){var Te='';return 65535<be&&(be-=65536,Te+=me(55296|1023&be>>>10),be=56320|1023&be),Te+=me(be),Te}).join('')}function N(_e){return 10>_e-48?_e-22:26>_e-65?_e-65:26>_e-97?_e-97:$}function F(_e,be){return _e+22+75*(26>_e)-((0!=be)<<5)}function B(_e,be,Te){var ve=0;for(_e=Te?he(_e/oe):_e>>1,_e+=he(_e/be);_e>fe*re>>1;ve+=$)_e=he(_e/fe);return he(ve+(fe+1)*_e/(_e+ne))}function U(_e){var be=[],Te=_e.length,Ee=0,Se=se,Pe=ie,ve,Me,Ce,Re,Ie,Ae,Oe,De,we,ke;for(Me=_e.lastIndexOf(le),0>Me&&(Me=0),Ce=0;Ce<Me;++Ce)128<=_e.charCodeAt(Ce)&&I('not-basic'),be.push(_e.charCodeAt(Ce));for(Re=0<Me?Me+1:0;Re<Te;){for(Ie=Ee,Ae=1,Oe=$;;Oe+=$){if(Re>=Te&&I('invalid-input'),De=N(_e.charCodeAt(Re++)),(De>=$||De>he((Q-Ee)/Ae))&&I('overflow'),Ee+=De*Ae,we=Oe<=Pe?te:Oe>=Pe+re?re:Oe-Pe,De<we)break;ke=$-we,Ae>he(Q/ke)&&I('overflow'),Ae*=ke}ve=be.length+1,Pe=B(Ee-Ie,ve,0==Ie),he(Ee/ve)>Q-Se&&I('overflow'),Se+=he(Ee/ve),Ee%=ve,be.splice(Ee++,0,Se)}return L(be)}function X(_e){var Oe=[],be,Te,ve,Ee,Se,Pe,Me,Ce,Re,Ie,Ae,De,we,ke,Le;for(_e=D(_e),De=_e.length,be=se,Te=0,Se=ie,Pe=0;Pe<De;++Pe)Ae=_e[Pe],128>Ae&&Oe.push(me(Ae));for(ve=Ee=Oe.length,Ee&&Oe.push(le);ve<De;){for(Me=Q,Pe=0;Pe<De;++Pe)Ae=_e[Pe],Ae>=be&&Ae<Me&&(Me=Ae);for(we=ve+1,Me-be>he((Q-Te)/we)&&I('overflow'),Te+=(Me-be)*we,be=Me,Pe=0;Pe<De;++Pe)if(Ae=_e[Pe],Ae<be&&++Te>Q&&I('overflow'),Ae==be){for(Ce=Te,Re=$;;Re+=$){if(Ie=Re<=Se?te:Re>=Se+re?re:Re-Se,Ce<Ie)break;Le=Ce-Ie,ke=$-Ie,Oe.push(me(F(Ie+Le%ke,0))),Ce=he(Le/ke)}Oe.push(me(F(Ce,0))),Se=B(Te,we,ve==Ee),Te=0,++ve}++Te,++be}return Oe.join('')}var G='object'==typeof E&&E&&!E.nodeType&&E,Z='object'==typeof P&&P&&!P.nodeType&&P,K='object'==typeof M&&M;(K.global===K||K.window===K||K.self===K)&&(R=K);var Q=2147483647,$=36,te=1,re=26,ne=38,oe=700,ie=72,se=128,le='-',de=/^xn--/,ue=/[^\x20-\x7E]/,pe=/[\x2E\u3002\uFF0E\uFF61]/g,ce={overflow:'Overflow: input needs wider integers to process','not-basic':'Illegal input >= 0x80 (not a basic code point)','invalid-input':'Invalid input'},fe=$-te,he=_Mathfloor,me=_StringfromCharCode,J;J={version:'1.4.1',ucs2:{decode:D,encode:L},decode:U,encode:X,toASCII:function(_e){return O(_e,function(be){return ue.test(be)?'xn--'+X(be):be})},toUnicode:function(_e){return O(_e,function(be){return de.test(be)?U(be.slice(4).toLowerCase()):be})}};C=function(){return J}.call(E,S,E,P),!(void 0!==C&&(P.exports=C))})(this)}).call(E,S(192)(T),S(37))},function(T){'use strict';function P(C,R){return Object.prototype.hasOwnProperty.call(C,R)}T.exports=function(C,R,I,A){R=R||'&',I=I||'=';var O={};if('string'!=typeof C||0===C.length)return O;var D=/\+/g;C=C.split(R);var L=1e3;A&&'number'==typeof A.maxKeys&&(L=A.maxKeys);var N=C.length;0<L&&N>L&&(N=L);for(var F=0;F<N;++F){var B=C[F].replace(D,'%20'),U=B.indexOf(I),X,V,Y,G;0<=U?(X=B.substr(0,U),V=B.substr(U+1)):(X=B,V=''),Y=decodeURIComponent(X),G=decodeURIComponent(V),P(O,Y)?M(O[Y])?O[Y].push(G):O[Y]=[O[Y],G]:O[Y]=G}return O};var M=Array.isArray||function(C){return'[object Array]'===Object.prototype.toString.call(C)}},function(T){'use strict';function P(I,A){if(I.map)return I.map(A);for(var O=[],D=0;D<I.length;D++)O.push(A(I[D],D));return O}var M=function(I){switch(typeof I){case'string':return I;case'boolean':return I?'true':'false';case'number':return isFinite(I)?I:'';default:return'';}};T.exports=function(I,A,O,D){return A=A||'&',O=O||'=',null===I&&(I=void 0),'object'==typeof I?P(R(I),function(L){var N=encodeURIComponent(M(L))+O;return C(I[L])?P(I[L],function(F){return N+encodeURIComponent(M(F))}).join(A):N+encodeURIComponent(M(I[L]))}).join(A):D?encodeURIComponent(M(D))+O+encodeURIComponent(M(I)):''};var C=Array.isArray||function(I){return'[object Array]'===Object.prototype.toString.call(I)},R=Object.keys||function(I){var A=[];for(var O in I)Object.prototype.hasOwnProperty.call(I,O)&&A.push(O);return A}},function(T,E,S){'use strict';E.decode=E.parse=S(183),E.encode=E.stringify=S(184)},function(T){T.exports='#ifdef GL_ES\nprecision highp float;\n#endif\nuniform vec2 u_resolution;\nuniform float u_time;\nuniform sampler2D uSampler;\n\nvarying vec2 vTextureCoord;\nvec2 iResolution = vec2(200,200);\nconst vec2 fractrand = vec2(12.9,22.1);\nconst float fractmultip = 83758.5453;\nconst vec2 speed = vec2(1., 0.58);\nfloat alpha = 1.0;\n#define PI 3.14159265359\n\nfloat rand(vec2 n) {\n    return fract(sin(cos(dot(n, fractrand))) * fractmultip);\n}\n\nfloat noise(vec2 n) {\n    const vec2 d = vec2(0.0, 1.0);\n    vec2 b = floor(n), f = smoothstep(vec2(0.0), vec2(1.0), fract(n));\n    return mix(mix(rand(b), rand(b + d.yx), f.x), mix(rand(b + d.xy), rand(b + d.yy), f.x), f.y);\n}\n\nfloat fractbrowianmotion(vec2 n) {\n    float total = 0.0, amplitude = 1.000;\n    for (int i = 0; i <5; i++) {\n        total += noise(n) * amplitude;\n        n += n*1.7;\n        amplitude *= 0.47;\n    }\n    return total;\n}\n\nvec3 flames(vec2 r, vec2 p){\n\tfloat base = (r.y+r.y)* max(.0,p.y)-0.1;\n \tvec3 color=vec3(1.0,.2,.05)/(pow(base, 4.0));\n \tcolor = color/(10.0+max(vec3(0),color));\n \treturn color;\n}\nfloat wind(float time){\n  return sin(time/2.0);\n}\n\nvec3 flamesBlock(float time, float dist, vec2 coord){\n   vec2 p = coord * dist / iResolution.xy;\n    p.x -= wind(time);\n    float q = fractbrowianmotion(p - time * 0.+1.0*sin(time+0.5)/2.0);\n    q = (q + q - .4 * q -1.0*q  + .6*q)/3.8;\n    vec2 r = vec2(fractbrowianmotion(p + q /2.0 + time * speed.x - p.x - p.y), fractbrowianmotion(p + q - time * speed.y));\n\n    vec3 color=flames(r,p);\n    return color;\n}\n\nmat2 rotate2d(float _angle){\n    return mat2(cos(_angle),-sin(_angle),sin(_angle),cos(_angle));\n}\n\nvoid main() {\n    //vec4 img = texture2D(uSampler, vTextureCoord.xy);\n\tfloat dist = 3.9;//-sin(u_time*1.)/1.;\n    vec2 coord = gl_FragCoord.xy;\n    vec2 st = gl_FragCoord.xy/u_resolution.xy;\n    vec3 _color = vec3(1.0);\n    vec2 pointone = vec2(0.00,0.00);\n    vec2 pointtwo= vec2(1.0,0.0);\n    vec2 top_smoothstep_vec = smoothstep(pointone,pointtwo,st);\n    float rotation = top_smoothstep_vec.x*PI/4.0;\n    coord = rotate2d(rotation ) * coord;\n    // bottom flames\n    coord.y = coord.y-100.0;\n    if(coord.y<0.1){\n        coord.x = coord.x+1000.;\n        dist = 7.9-sin(u_time*.4)/8.9;\n        coord.xy = coord.xy*(-top_smoothstep_vec);\n    }\n    //_color +=vec3(coord.x,coord.y,0.00);\n    _color = flamesBlock(u_time,dist,coord);\n    //bvec3 black = lessThan(_color, vec3(0.1));\n\n    gl_FragColor = vec4(_color.xyz, alpha);\n}\n'},function(T){T.exports='precision mediump float;\nuniform vec2      resolution;\nuniform float     time;\nuniform float     alpha;\nuniform vec2      speed;\nuniform float     shift;\n\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\n\n\nfloat rand(vec2 n) {\n  \treturn fract(cos(dot(n, vec2(12.9898, 4.1414))) * 43758.5453);\n}\n\nfloat noise(vec2 n) {\n\t  const vec2 d = vec2(0.0, 1.0);\n\t  vec2 b = floor(n), f = smoothstep(vec2(0.0), vec2(1.0), fract(n));\n\t  return mix(mix(rand(b), rand(b + d.yx), f.x), mix(rand(b + d.xy), rand(b + d.yy), f.x), f.y);\n}\n\nfloat fbm(vec2 n) {\n\t  float total = 0.0, amplitude = 1.0;\n\t  for (int i = 0; i < 4; i++) {\n \t   total += noise(n) * amplitude;\n\t    n += n;\n\t    amplitude *= 0.5;\n\t  }\n\t  return total;\n}\n\nvoid main() {\n    float lum = length(texture2D(uSampler, vTextureCoord.xy).rgb);\n    gl_FragColor = texture2D(uSampler, vTextureCoord.xy);\n    if (lum > 1.00){\n        const vec3 c1 = vec3(126.0/255.0, 0.0/255.0, 97.0/255.0);\n        const vec3 c2 = vec3(173.0/255.0, 0.0/255.0, 161.4/255.0);\n        const vec3 c3 = vec3(0.2, 0.0, 0.0);\n        const vec3 c4 = vec3(164.0/255.0, 1.0/255.0, 214.4/255.0);\n        const vec3 c5 = vec3(0.1);\n        const vec3 c6 = vec3(0.9);\n\n        vec2 p = gl_FragCoord.xy * 8.0 / resolution.xx;\n        float q = fbm(p - time * 0.1);\n        vec2 r = vec2(fbm(p + q + time * speed.x - p.x - p.y), fbm(p + q - time * speed.y));\n        vec3 c = mix(c1, c2, fbm(p + r)) + mix(c3, c4, r.x) - mix(c5, c6, r.y);\n        float grad = gl_FragCoord.y / resolution.y;\n        gl_FragColor = vec4(c * cos(shift * gl_FragCoord.y / resolution.y), 0.7);\n        gl_FragColor.xyz *= 1.0-grad;\n    }\n}'},function(T,E,S){'use strict';function M(Y){return Y&&Y.__esModule?Y:{default:Y}}function C(Y,G){if(!(Y instanceof G))throw new TypeError('Cannot call a class as a function')}E.__esModule=!0;var R='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(Y){return typeof Y}:function(Y){return Y&&'function'==typeof Symbol&&Y.constructor===Symbol&&Y!==Symbol.prototype?'symbol':typeof Y},I=S(39),A=M(I),O=S(40),D=M(O),L=S(88),N=function(Y){if(Y&&Y.__esModule)return Y;var G={};if(null!=Y)for(var Z in Y)Object.prototype.hasOwnProperty.call(Y,Z)&&(G[Z]=Y[Z]);return G.default=Y,G}(L),F=S(36),B=M(F),X=/(#[\w-]+)?$/,V=function(){function Y(){var G=this,Z=0<arguments.length&&void 0!==arguments[0]?arguments[0]:'',K=1<arguments.length&&void 0!==arguments[1]?arguments[1]:10;C(this,Y),this.baseUrl=Z,this.progress=0,this.loading=!1,this.defaultQueryString='',this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(J,Q){return G._loadResource(J,Q)},this._queue=N.queue(this._boundLoadResource,K),this._queue.pause(),this.resources={},this.onProgress=new A.default,this.onError=new A.default,this.onLoad=new A.default,this.onStart=new A.default,this.onComplete=new A.default}return Y.prototype.add=function(Z,K,J,Q){if(Array.isArray(Z)){for(var $=0;$<Z.length;++$)this.add(Z[$]);return this}if('object'===('undefined'==typeof Z?'undefined':R(Z))&&(Q=K||Z.callback||Z.onComplete,J=Z,K=Z.url,Z=Z.name||Z.key||Z.url),'string'!=typeof K&&(Q=J,J=K,K=Z),'string'!=typeof K)throw new Error('No url passed to add resource to loader.');if('function'==typeof J&&(Q=J,J=null),this.loading&&(!J||!J.parentResource))throw new Error('Cannot add resources while the loader is running.');if(this.resources[Z])throw new Error('Resource named "'+Z+'" already exists.');if(K=this._prepareUrl(K),this.resources[Z]=new B.default(Z,K,J),'function'==typeof Q&&this.resources[Z].onAfterMiddleware.once(Q),this.loading){for(var te=J.parentResource,re=[],ne=0;ne<te.children.length;++ne)te.children[ne].isComplete||re.push(te.children[ne]);var oe=te.progressChunk*(re.length+1),ie=oe/(re.length+2);te.children.push(this.resources[Z]),te.progressChunk=ie;for(var se=0;se<re.length;++se)re[se].progressChunk=ie;this.resources[Z].progressChunk=ie}return this._queue.push(this.resources[Z]),this},Y.prototype.pre=function(Z){return this._beforeMiddleware.push(Z),this},Y.prototype.use=function(Z){return this._afterMiddleware.push(Z),this},Y.prototype.reset=function(){for(var Z in this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause(),this.resources){var K=this.resources[Z];K._onLoadBinding&&K._onLoadBinding.detach(),K.isLoading&&K.abort()}return this.resources={},this},Y.prototype.load=function(Z){if('function'==typeof Z&&this.onComplete.once(Z),this.loading)return this;for(var K=100/this._queue._tasks.length,J=0;J<this._queue._tasks.length;++J)this._queue._tasks[J].data.progressChunk=K;return this.loading=!0,this.onStart.dispatch(this),this._queue.resume(),this},Y.prototype._prepareUrl=function(Z){var K=(0,D.default)(Z,{strictMode:!0}),J;if(J=K.protocol||!K.path||0===Z.indexOf('//')?Z:this.baseUrl.length&&this.baseUrl.lastIndexOf('/')!==this.baseUrl.length-1&&'/'!==Z.charAt(0)?this.baseUrl+'/'+Z:this.baseUrl+Z,this.defaultQueryString){var Q=X.exec(J)[0];J=J.substr(0,J.length-Q.length),J+=-1===J.indexOf('?')?'?'+this.defaultQueryString:'&'+this.defaultQueryString,J+=Q}return J},Y.prototype._loadResource=function(Z,K){var J=this;Z._dequeue=K,N.eachSeries(this._beforeMiddleware,function(Q,$){Q.call(J,Z,function(){$(Z.isComplete?{}:null)})},function(){Z.isComplete?J._onLoad(Z):(Z._onLoadBinding=Z.onComplete.once(J._onLoad,J),Z.load())})},Y.prototype._onComplete=function(){this.loading=!1,this.onComplete.dispatch(this,this.resources)},Y.prototype._onLoad=function(Z){var K=this;Z._onLoadBinding=null,Z._dequeue(),this._resourcesParsing.push(Z),N.eachSeries(this._afterMiddleware,function(J,Q){J.call(K,Z,Q)},function(){Z.onAfterMiddleware.dispatch(Z),K.progress+=Z.progressChunk,K.onProgress.dispatch(K,Z),Z.error?K.onError.dispatch(Z.error,K,Z):K.onLoad.dispatch(K,Z),K._resourcesParsing.splice(K._resourcesParsing.indexOf(Z),1),K._queue.idle()&&0===K._resourcesParsing.length&&(K.progress=100,K._onComplete())})},Y}();E.default=V},function(T,E,S){'use strict';function P(L){return L&&L.__esModule?L:{default:L}}E.__esModule=!0;var C='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(L){return typeof L}:function(L){return L&&'function'==typeof Symbol&&L.constructor===Symbol&&L!==Symbol.prototype?'symbol':typeof L};E.blobMiddlewareFactory=function(){return function(N,F){if(!N.data)return void F();if(N.xhr&&N.xhrType===I.default.XHR_RESPONSE_TYPE.BLOB)if(!window.Blob||'string'==typeof N.data){var B=N.xhr.getResponseHeader('content-type');if(B&&0===B.indexOf('image'))return N.data=new Image,N.data.src='data:'+B+';base64,'+O.default.encodeBinary(N.xhr.responseText),N.type=I.default.TYPE.IMAGE,void(N.data.onload=function(){N.data.onload=null,F()})}else if(0===N.data.type.indexOf('image')){var U=function(){var X=D.createObjectURL(N.data);return N.blob=N.data,N.data=new Image,N.data.src=X,N.type=I.default.TYPE.IMAGE,N.data.onload=function(){D.revokeObjectURL(X),N.data.onload=null,F()},{v:void 0}}();if('object'===('undefined'==typeof U?'undefined':C(U)))return U.v}F()}};var R=S(36),I=P(R),A=S(89),O=P(A),D=window.URL||window.webkitURL},function(T,E,S){'use strict';function P(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function M(te,re,ne){if(te&&O.isObject(te)&&te instanceof P)return te;var oe=new P;return oe.parse(te,re,ne),oe}var A=S(182),O=S(191);E.parse=M,E.resolve=function(te,re){return M(te,!1,!0).resolve(re)},E.resolveObject=function(te,re){return te?M(te,!1,!0).resolveObject(re):re},E.format=function(te){return O.isString(te)&&(te=M(te)),te instanceof P?te.format():P.prototype.format.call(te)},E.Url=P;var D=/^([a-z0-9.+-]+:)/i,L=/:[0-9]*$/,N=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,B=['{','}','|','\\','^','`'].concat(['<','>','"','`',' ','\r','\n','\t']),U=['\''].concat(B),X=['%','/','?',';','#'].concat(U),V=['/','?','#'],G=/^[+a-z0-9A-Z_-]{0,63}$/,Z=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,K={javascript:!0,'javascript:':!0},J={javascript:!0,'javascript:':!0},Q={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,'http:':!0,'https:':!0,'ftp:':!0,'gopher:':!0,'file:':!0},$=S(185);P.prototype.parse=function(te,re,ne){if(!O.isString(te))throw new TypeError('Parameter \'url\' must be a string, not '+typeof te);var oe=te.indexOf('?'),ie=-1!==oe&&oe<te.indexOf('#')?'?':'#',se=te.split(ie),le=/\\/g;se[0]=se[0].replace(le,'/'),te=se.join(ie);var de=te;if(de=de.trim(),!ne&&1===te.split('#').length){var ue=N.exec(de);if(ue)return this.path=de,this.href=de,this.pathname=ue[1],ue[2]?(this.search=ue[2],this.query=re?$.parse(this.search.substr(1)):this.search.substr(1)):re&&(this.search='',this.query={}),this}var pe=D.exec(de);if(pe){pe=pe[0];var ce=pe.toLowerCase();this.protocol=ce,de=de.substr(pe.length)}if(ne||pe||de.match(/^\/\/[^@\/]+@[^@\/]+/)){var fe='//'===de.substr(0,2);fe&&!(pe&&J[pe])&&(de=de.substr(2),this.slashes=!0)}if(!J[pe]&&(fe||pe&&!Q[pe])){for(var he=-1,me=0,ge;me<V.length;me++)ge=de.indexOf(V[me]),-1!==ge&&(-1==he||ge<he)&&(he=ge);var _e,be;be=-1===he?de.lastIndexOf('@'):de.lastIndexOf('@',he),-1!==be&&(_e=de.slice(0,be),de=de.slice(be+1),this.auth=decodeURIComponent(_e)),he=-1;for(var me=0,ge;me<X.length;me++)ge=de.indexOf(X[me]),-1!==ge&&(-1===he||ge<he)&&(he=ge);-1===he&&(he=de.length),this.host=de.slice(0,he),de=de.slice(he),this.parseHost(),this.hostname=this.hostname||'';var Te='['===this.hostname[0]&&']'===this.hostname[this.hostname.length-1];if(!Te)for(var ve=this.hostname.split(/\./),me=0,Ee=ve.length,Se;me<Ee;me++)if(Se=ve[me],Se&&!Se.match(G)){for(var Pe='',Me=0,Ce=Se.length;Me<Ce;Me++)Pe+=127<Se.charCodeAt(Me)?'x':Se[Me];if(!Pe.match(G)){var Re=ve.slice(0,me),Ie=ve.slice(me+1),Ae=Se.match(Z);Ae&&(Re.push(Ae[1]),Ie.unshift(Ae[2])),Ie.length&&(de='/'+Ie.join('.')+de),this.hostname=Re.join('.');break}}this.hostname=this.hostname.length>255?'':this.hostname.toLowerCase(),Te||(this.hostname=A.toASCII(this.hostname));var Oe=this.port?':'+this.port:'',De=this.hostname||'';this.host=De+Oe,this.href+=this.host,Te&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),'/'!==de[0]&&(de='/'+de))}if(!K[ce])for(var me=0,Ee=U.length,we;me<Ee;me++)if(we=U[me],-1!==de.indexOf(we)){var ke=encodeURIComponent(we);ke===we&&(ke=escape(we)),de=de.split(we).join(ke)}var Le=de.indexOf('#');-1!==Le&&(this.hash=de.substr(Le),de=de.slice(0,Le));var Ne=de.indexOf('?');if(-1===Ne?re&&(this.search='',this.query={}):(this.search=de.substr(Ne),this.query=de.substr(Ne+1),re&&(this.query=$.parse(this.query)),de=de.slice(0,Ne)),de&&(this.pathname=de),Q[ce]&&this.hostname&&!this.pathname&&(this.pathname='/'),this.pathname||this.search){var Oe=this.pathname||'',Fe=this.search||'';this.path=Oe+Fe}return this.href=this.format(),this},P.prototype.format=function(){var te=this.auth||'';te&&(te=encodeURIComponent(te),te=te.replace(/%3A/i,':'),te+='@');var re=this.protocol||'',ne=this.pathname||'',oe=this.hash||'',ie=!1,se='';this.host?ie=te+this.host:this.hostname&&(ie=te+(-1===this.hostname.indexOf(':')?this.hostname:'['+this.hostname+']'),this.port&&(ie+=':'+this.port)),this.query&&O.isObject(this.query)&&Object.keys(this.query).length&&(se=$.stringify(this.query));var le=this.search||se&&'?'+se||'';return re&&':'!==re.substr(-1)&&(re+=':'),this.slashes||(!re||Q[re])&&!1!==ie?(ie='//'+(ie||''),ne&&'/'!==ne.charAt(0)&&(ne='/'+ne)):!ie&&(ie=''),oe&&'#'!==oe.charAt(0)&&(oe='#'+oe),le&&'?'!==le.charAt(0)&&(le='?'+le),ne=ne.replace(/[?#]/g,function(de){return encodeURIComponent(de)}),le=le.replace('#','%23'),re+ie+ne+le+oe},P.prototype.resolve=function(te){return this.resolveObject(M(te,!1,!0)).format()},P.prototype.resolveObject=function(te){if(O.isString(te)){var re=new P;re.parse(te,!1,!0),te=re}for(var ne=new P,oe=Object.keys(this),ie=0,se;ie<oe.length;ie++)se=oe[ie],ne[se]=this[se];if(ne.hash=te.hash,''===te.href)return ne.href=ne.format(),ne;if(te.slashes&&!te.protocol){for(var le=Object.keys(te),de=0,ue;de<le.length;de++)ue=le[de],'protocol'!==ue&&(ne[ue]=te[ue]);return Q[ne.protocol]&&ne.hostname&&!ne.pathname&&(ne.path=ne.pathname='/'),ne.href=ne.format(),ne}if(te.protocol&&te.protocol!==ne.protocol){if(!Q[te.protocol]){for(var pe=Object.keys(te),ce=0,fe;ce<pe.length;ce++)fe=pe[ce],ne[fe]=te[fe];return ne.href=ne.format(),ne}if(ne.protocol=te.protocol,!te.host&&!J[te.protocol]){for(var he=(te.pathname||'').split('/');he.length&&!(te.host=he.shift()););te.host||(te.host=''),te.hostname||(te.hostname=''),''!==he[0]&&he.unshift(''),2>he.length&&he.unshift(''),ne.pathname=he.join('/')}else ne.pathname=te.pathname;if(ne.search=te.search,ne.query=te.query,ne.host=te.host||'',ne.auth=te.auth,ne.hostname=te.hostname||te.host,ne.port=te.port,ne.pathname||ne.search){var me=ne.pathname||'',ge=ne.search||'';ne.path=me+ge}return ne.slashes=ne.slashes||te.slashes,ne.href=ne.format(),ne}var _e=ne.pathname&&'/'===ne.pathname.charAt(0),be=te.host||te.pathname&&'/'===te.pathname.charAt(0),Te=be||_e||ne.host&&te.pathname,ve=Te,Ee=ne.pathname&&ne.pathname.split('/')||[],he=te.pathname&&te.pathname.split('/')||[],Se=ne.protocol&&!Q[ne.protocol];if(Se&&(ne.hostname='',ne.port=null,ne.host&&(''===Ee[0]?Ee[0]=ne.host:Ee.unshift(ne.host)),ne.host='',te.protocol&&(te.hostname=null,te.port=null,te.host&&(''===he[0]?he[0]=te.host:he.unshift(te.host)),te.host=null),Te=Te&&(''===he[0]||''===Ee[0])),be)ne.host=te.host||''===te.host?te.host:ne.host,ne.hostname=te.hostname||''===te.hostname?te.hostname:ne.hostname,ne.search=te.search,ne.query=te.query,Ee=he;else if(he.length)Ee||(Ee=[]),Ee.pop(),Ee=Ee.concat(he),ne.search=te.search,ne.query=te.query;else if(!O.isNullOrUndefined(te.search)){if(Se){ne.hostname=ne.host=Ee.shift();var Pe=ne.host&&0<ne.host.indexOf('@')&&ne.host.split('@');Pe&&(ne.auth=Pe.shift(),ne.host=ne.hostname=Pe.shift())}return ne.search=te.search,ne.query=te.query,O.isNull(ne.pathname)&&O.isNull(ne.search)||(ne.path=(ne.pathname?ne.pathname:'')+(ne.search?ne.search:'')),ne.href=ne.format(),ne}if(!Ee.length)return ne.pathname=null,ne.path=ne.search?'/'+ne.search:null,ne.href=ne.format(),ne;for(var Me=Ee.slice(-1)[0],Ce=(ne.host||te.host||1<Ee.length)&&('.'===Me||'..'===Me)||''===Me,Re=0,Ie=Ee.length;0<=Ie;Ie--)Me=Ee[Ie],'.'===Me?Ee.splice(Ie,1):'..'===Me?(Ee.splice(Ie,1),Re++):Re&&(Ee.splice(Ie,1),Re--);if(!Te&&!ve)for(;Re--;Re)Ee.unshift('..');Te&&''!==Ee[0]&&(!Ee[0]||'/'!==Ee[0].charAt(0))&&Ee.unshift(''),Ce&&'/'!==Ee.join('/').substr(-1)&&Ee.push('');var Ae=''===Ee[0]||Ee[0]&&'/'===Ee[0].charAt(0);if(Se){ne.hostname=ne.host=Ae?'':Ee.length?Ee.shift():'';var Pe=ne.host&&0<ne.host.indexOf('@')&&ne.host.split('@');Pe&&(ne.auth=Pe.shift(),ne.host=ne.hostname=Pe.shift())}return Te=Te||ne.host&&Ee.length,Te&&!Ae&&Ee.unshift(''),Ee.length?ne.pathname=Ee.join('/'):(ne.pathname=null,ne.path=null),O.isNull(ne.pathname)&&O.isNull(ne.search)||(ne.path=(ne.pathname?ne.pathname:'')+(ne.search?ne.search:'')),ne.auth=te.auth||ne.auth,ne.slashes=ne.slashes||te.slashes,ne.href=ne.format(),ne},P.prototype.parseHost=function(){var te=this.host,re=L.exec(te);re&&(re=re[0],':'!==re&&(this.port=re.substr(1)),te=te.substr(0,te.length-re.length)),te&&(this.hostname=te)}},function(T){'use strict';T.exports={isString:function(P){return'string'==typeof P},isObject:function(P){return'object'==typeof P&&null!==P},isNull:function(P){return null===P},isNullOrUndefined:function(P){return null==P}}},function(T){T.exports=function(S){return S.webpackPolyfill||(S.deprecate=function(){},S.paths=[],!S.children&&(S.children=[]),Object.defineProperty(S,'loaded',{enumerable:!0,get:function(){return S.l}}),Object.defineProperty(S,'id',{enumerable:!0,get:function(){return S.i}}),S.webpackPolyfill=1),S}},function(T,E,S){'use strict';var P=S(7),M=S.n(P);class C extends P.Container{constructor(){super();const R=new P.Graphics;R.beginFill(0,0.5),R.drawRect(0,0,1024*window.devicePixelRatio,768*window.devicePixelRatio),R.endFill(),this.addChild(R)}}E.a=C},function(T,E,S){'use strict';var P=S(7),M=S.n(P),C=S(90),R=S(50),I=S.n(R),A=S(187),O=S.n(A);class D extends P.Container{constructor(L){super(),this.bucket=L,this._listOfSpines=[],this._indexOfSpines={}}addSpine(L,N,F){const B=new PIXI.spine.Spine(N.spineData);let U=B.stateData.skeletonData,X=this.bucket.width/2,V=this.bucket.height/2+U.height/2;X+=F.x,V+=F.y,B.position.set(X,V),this.addChild(B);const Y=B.state.data.skeletonData.animations;B.animIndex=0,B.state.setAnimation(0,Y[0].name,!1),B.state.addListener({complete:(G,Z)=>{this.changeSpineTrack(G,Z,B)}}),this._indexOfSpines[L]=this._listOfSpines.length,this._listOfSpines.push(B)}get smokeFilter(){return new P.Filter('',O.a,{u_time:{type:'1f',value:0},u_resolution:{type:'v2',value:{x:800,y:400}}})}get blurFilter(){return new PIXI.filters.BlurFilter}getElemById(L){try{return this._listOfSpines[this._indexOfSpines[L]]}catch(N){}}removeSpine(L){let N=this.getElemById(L);N&&(this._listOfSpines.splice(this._indexOfSpines[L],1),N.filters&&N.filters.length&&(N.filters=[]),this.removeChild(N),this._indexOfSpines[L]=null)}randomSpine(){const L=_Mathround(Math.random()*(this._listOfSpines.length-1));return this._listOfSpines[L]}changeEffect(L,N){L.filters=[N],setTimeout(()=>{L.filters=[]},2500)}changeSpineTrack(L,N,F){const B=F.state.data.skeletonData.animations;F.state.setAnimation(0,B[F.animIndex].name,!1),F.animIndex++,F.animIndex>=B.length&&(F.animIndex=0)}}E.a=D},function(T,E,S){'use strict';var P=S(7),M=S.n(P),C=S(196);E.a=class{static drawLine(I,A,O){let D=[],L=I.length,N={scale:window.devicePixelRatio};D.push(new P.Point((I[0].x-O)*N.scale,I[0].y*N.scale));for(let F=0;F<L;F++)D.push(new P.Point(I[F].x*N.scale,I[F].y*N.scale));return D.push(new P.Point((I[I.length-1].x+O)*N.scale,I[I.length-1].y*N.scale)),new C.a(A,D)}}},function(T,E,S){'use strict';var P=S(7),M=S.n(P);class C extends P.mesh.Mesh{constructor(R,I){super(R),this.points=I,this.vertices=new Float32Array(4*I.length),console.log(I),this.uvs=new Float32Array(4*I.length),console.log(this.uvs),this.colors=new Float32Array(2*I.length),this.indices=new Uint16Array(2*I.length),this._ready=!0,this._renderOnce=!0,this.refresh()}refresh(){const R=this.points;if(!(1>R.length)&&this._texture._uvs){this.vertices.length/4!==R.length&&(this.vertices=new Float32Array(4*R.length),this.uvs=new Float32Array(4*R.length),this.colors=new Float32Array(2*R.length),this.indices=new Uint16Array(2*R.length));const I=this.uvs,A=this.indices,O=this.colors,D=this._texture._uvs,L=new P.Point(D.x0,D.y0),N=new P.Point(D.x2-D.x0,+(D.y2-D.y0));I[0]=0+L.x,I[1]=0+L.y,I[2]=0+L.x,I[3]=N.y+L.y,O[0]=1,O[1]=1,A[0]=0,A[1]=1;const F=R.length;for(let B=1,U;B<F;B++){U=4*B;const X=B/(F-1);I[U]=X*N.x+L.x,I[U+1]=0+L.y,I[U+2]=X*N.x+L.x,I[U+3]=N.y+L.y,U=2*B,O[U]=1,O[U+1]=1,U=2*B,A[U]=U,A[U+1]=U+1}this.dirty++,this.indexDirty++}}_onTextureUpdate(){super._onTextureUpdate(),this._ready&&this.refresh()}updateTransform(){const R=this.points;if(!this._renderOnce)return void this.containerUpdateTransform();if(1>R.length)return;let I=R[0],A,O=0,D=0;const L=this.vertices,N=R.length;let F=0,B=0,U,X,V=this._texture.height/2;for(let Y=0;Y<N;Y++){const G=R[Y],Z=4*Y;A=Y<R.length-1?R[Y+1]:G,X=V,O=A.x-G.x,D=A.y-G.y;let K=_Mathatan(D,O),J=K*(180/_MathPI);U=_Mathround(_Mathtan(K)*X)/2,0==K?U=_Mathround(_Mathtan(F)*X)/2:this.inRange(J,-1*B,5)&&(U=0,X=_Mathsqrt(V*V+V*V),X=_Mathround(X)),L[Z]=_Mathround(G.x-U),L[Z+1]=G.y+X,L[Z+2]=_Mathround(G.x+U),L[Z+3]=G.y-X,F=K,B=J,I=G}this.containerUpdateTransform(),this._renderOnce=!1}inRange(R,I,A){return R-A<I&&R+A>I}}E.a=C},function(T,E){'use strict';E.a=class{static getLinePositions(M,C){let R=[];for(let I=0;I<M.length;I++){let A=[],O=M[I];for(let D=0;D<O.length;D++){let L=O[D],N=this.getLinePosition(D,L,C);A.push(N)}R.push(A)}return R}static getLinePosition(M,C,R){let I=R.column[M],A=I.row[C];return{x:I.x,y:A}}}},function(T,E,S){'use strict';var P=S(7),M=S.n(P),C=S(195),R=S(197),I=S(186),A=S.n(I);let O;class D extends P.Container{constructor(L){super(),this._layout=L.layout.data.winLines,this._settings=L.settings.data.winLines,this._createLines(),this.count=0,this.update=this.update.bind(this),this.uniforms={},this.uniforms.u_time={type:'1f',value:0},this.uniforms.u_resolution={type:'v2',value:{x:800,y:400}}}_createLines(){let L=R.a.getLinePositions(this._settings.winLinesMatrix,this._layout),N=L.length-1;this._lineSprites=[];for(let F=0;1>F;F++){let B=L[F+4],U=C.a.drawLine(B,P.utils.TextureCache['win-line'],this._layout.width);this._lineSprites.push(U)}O=new P.Filter('',A.a,this.uniforms),this.update(),this.showLines([0])}showLines(L){this._removeLines();let N=L.length;for(let F=0;F<N;F++)this._addLine(this._lineSprites[L[F]])}_removeLines(){this.removeChildren()}_addLine(L){L.filters=[O],this.addChild(L)}reset(){this._removeLines()}showLine(L){this._removeLines(),this._addLine(this._lineSprites[L])}update(){this.count+=0.02,O.uniforms.u_time=this.count,this._frameRequest=window.requestAnimationFrame(this.update.bind(this))}}E.a=D},function(T,E,S){'use strict';Object.defineProperty(E,'__esModule',{value:!0});var P=S(7),M=S.n(P),C=S(92),R=S(93);S(91),E['default']=new function(){const A=new R.a,O=new C.a(A)}}])});
//# sourceMappingURL=app.js.map
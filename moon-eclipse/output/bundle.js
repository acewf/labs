!function(t){function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}var e={};r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,r){return Object.prototype.hasOwnProperty.call(t,r)},r.p="",r(r.s=25)}([function(t,r,e){"use strict";function n(t,r,e){this.x=t||0,this.y=r||0,this.z=e||0}e.d(r,"a",function(){return n});var i=e(1),a=e(2),s=e(7);Object.assign(n.prototype,{isVector3:!0,set:function(t,r,e){return this.x=t,this.y=r,this.z=e,this},setScalar:function(t){return this.x=t,this.y=t,this.z=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setComponent:function(t,r){switch(t){case 0:this.x=r;break;case 1:this.y=r;break;case 2:this.z=r;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},add:function(t,r){return void 0!==r?this.addVectors(t,r):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this},addVectors:function(t,r){return this.x=t.x+r.x,this.y=t.y+r.y,this.z=t.z+r.z,this},addScaledVector:function(t,r){return this.x+=t.x*r,this.y+=t.y*r,this.z+=t.z*r,this},sub:function(t,r){return void 0!==r?this.subVectors(t,r):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this},subVectors:function(t,r){return this.x=t.x-r.x,this.y=t.y-r.y,this.z=t.z-r.z,this},multiply:function(t,r){return void 0!==r?this.multiplyVectors(t,r):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)},multiplyScalar:function(t){return this.x*=t,this.y*=t,this.z*=t,this},multiplyVectors:function(t,r){return this.x=t.x*r.x,this.y=t.y*r.y,this.z=t.z*r.z,this},applyEuler:function(){var t=new s.a;return function(r){return!r||r.isEuler,this.applyQuaternion(t.setFromEuler(r))}}(),applyAxisAngle:function(){var t=new s.a;return function(r,e){return this.applyQuaternion(t.setFromAxisAngle(r,e))}}(),applyMatrix3:function(t){var r=this.x,e=this.y,n=this.z,i=t.elements;return this.x=i[0]*r+i[3]*e+i[6]*n,this.y=i[1]*r+i[4]*e+i[7]*n,this.z=i[2]*r+i[5]*e+i[8]*n,this},applyMatrix4:function(t){var r=this.x,e=this.y,n=this.z,i=t.elements,a=1/(i[3]*r+i[7]*e+i[11]*n+i[15]);return this.x=(i[0]*r+i[4]*e+i[8]*n+i[12])*a,this.y=(i[1]*r+i[5]*e+i[9]*n+i[13])*a,this.z=(i[2]*r+i[6]*e+i[10]*n+i[14])*a,this},applyQuaternion:function(t){var r=this.x,e=this.y,n=this.z,i=t.x,a=t.y,s=t.z,o=t.w,h=o*r+a*n-s*e,u=o*e+s*r-i*n,c=o*n+i*e-a*r,l=-i*r-a*e-s*n;return this.x=h*o+l*-i+u*-s-c*-a,this.y=u*o+l*-a+c*-i-h*-s,this.z=c*o+l*-s+h*-a-u*-i,this},project:function(){var t=new a.a;return function(r){return t.multiplyMatrices(r.projectionMatrix,t.getInverse(r.matrixWorld)),this.applyMatrix4(t)}}(),unproject:function(){var t=new a.a;return function(r){return t.multiplyMatrices(r.matrixWorld,t.getInverse(r.projectionMatrix)),this.applyMatrix4(t)}}(),transformDirection:function(t){var r=this.x,e=this.y,n=this.z,i=t.elements;return this.x=i[0]*r+i[4]*e+i[8]*n,this.y=i[1]*r+i[5]*e+i[9]*n,this.z=i[2]*r+i[6]*e+i[10]*n,this.normalize()},divide:function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this},divideScalar:function(t){return this.multiplyScalar(1/t)},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this},clamp:function(t,r){return this.x=Math.max(t.x,Math.min(r.x,this.x)),this.y=Math.max(t.y,Math.min(r.y,this.y)),this.z=Math.max(t.z,Math.min(r.z,this.z)),this},clampScalar:function(){var t=new n,r=new n;return function(e,n){return t.set(e,e,e),r.set(n,n,n),this.clamp(t,r)}}(),clampLength:function(t,r){var e=this.length();return this.divideScalar(e||1).multiplyScalar(Math.max(t,Math.min(r,e)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(t){return this.normalize().multiplyScalar(t)},lerp:function(t,r){return this.x+=(t.x-this.x)*r,this.y+=(t.y-this.y)*r,this.z+=(t.z-this.z)*r,this},lerpVectors:function(t,r,e){return this.subVectors(r,t).multiplyScalar(e).add(t)},cross:function(t,r){return void 0!==r?this.crossVectors(t,r):this.crossVectors(this,t)},crossVectors:function(t,r){var e=t.x,n=t.y,i=t.z,a=r.x,s=r.y,o=r.z;return this.x=n*o-i*s,this.y=i*a-e*o,this.z=e*s-n*a,this},projectOnVector:function(t){var r=t.dot(this)/t.lengthSq();return this.copy(t).multiplyScalar(r)},projectOnPlane:function(){var t=new n;return function(r){return t.copy(this).projectOnVector(r),this.sub(t)}}(),reflect:function(){var t=new n;return function(r){return this.sub(t.copy(r).multiplyScalar(2*this.dot(r)))}}(),angleTo:function(t){var r=this.dot(t)/Math.sqrt(this.lengthSq()*t.lengthSq());return Math.acos(i.a.clamp(r,-1,1))},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var r=this.x-t.x,e=this.y-t.y,n=this.z-t.z;return r*r+e*e+n*n},manhattanDistanceTo:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)},setFromSpherical:function(t){var r=Math.sin(t.phi)*t.radius;return this.x=r*Math.sin(t.theta),this.y=Math.cos(t.phi)*t.radius,this.z=r*Math.cos(t.theta),this},setFromCylindrical:function(t){return this.x=t.radius*Math.sin(t.theta),this.y=t.y,this.z=t.radius*Math.cos(t.theta),this},setFromMatrixPosition:function(t){var r=t.elements;return this.x=r[12],this.y=r[13],this.z=r[14],this},setFromMatrixScale:function(t){var r=this.setFromMatrixColumn(t,0).length(),e=this.setFromMatrixColumn(t,1).length(),n=this.setFromMatrixColumn(t,2).length();return this.x=r,this.y=e,this.z=n,this},setFromMatrixColumn:function(t,r){return this.fromArray(t.elements,4*r)},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z},fromArray:function(t,r){return void 0===r&&(r=0),this.x=t[r],this.y=t[r+1],this.z=t[r+2],this},toArray:function(t,r){return void 0===t&&(t=[]),void 0===r&&(r=0),t[r]=this.x,t[r+1]=this.y,t[r+2]=this.z,t},fromBufferAttribute:function(t,r,e){return this.x=t.getX(r),this.y=t.getY(r),this.z=t.getZ(r),this}})},function(t,r,e){"use strict";e.d(r,"a",function(){return n});var n={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){for(var t=[],r=0;r<256;r++)t[r]=(r<16?"0":"")+r.toString(16).toUpperCase();return function(){var r=4294967295*Math.random()|0,e=4294967295*Math.random()|0,n=4294967295*Math.random()|0,i=4294967295*Math.random()|0;return t[255&r]+t[r>>8&255]+t[r>>16&255]+t[r>>24&255]+"-"+t[255&e]+t[e>>8&255]+"-"+t[e>>16&15|64]+t[e>>24&255]+"-"+t[63&n|128]+t[n>>8&255]+"-"+t[n>>16&255]+t[n>>24&255]+t[255&i]+t[i>>8&255]+t[i>>16&255]+t[i>>24&255]}}(),clamp:function(t,r,e){return Math.max(r,Math.min(e,t))},euclideanModulo:function(t,r){return(t%r+r)%r},mapLinear:function(t,r,e,n,i){return n+(t-r)*(i-n)/(e-r)},lerp:function(t,r,e){return(1-e)*t+e*r},smoothstep:function(t,r,e){return t<=r?0:t>=e?1:(t=(t-r)/(e-r))*t*(3-2*t)},smootherstep:function(t,r,e){return t<=r?0:t>=e?1:(t=(t-r)/(e-r))*t*t*(t*(6*t-15)+10)},randInt:function(t,r){return t+Math.floor(Math.random()*(r-t+1))},randFloat:function(t,r){return t+Math.random()*(r-t)},randFloatSpread:function(t){return t*(.5-Math.random())},degToRad:function(t){return t*n.DEG2RAD},radToDeg:function(t){return t*n.RAD2DEG},isPowerOfTwo:function(t){return 0==(t&t-1)&&0!==t},ceilPowerOfTwo:function(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))},floorPowerOfTwo:function(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}}},function(t,r,e){"use strict";function n(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length}e.d(r,"a",function(){return n});var i=e(0);Object.assign(n.prototype,{isMatrix4:!0,set:function(t,r,e,n,i,a,s,o,h,u,c,l,f,p,d,m){var g=this.elements;return g[0]=t,g[4]=r,g[8]=e,g[12]=n,g[1]=i,g[5]=a,g[9]=s,g[13]=o,g[2]=h,g[6]=u,g[10]=c,g[14]=l,g[3]=f,g[7]=p,g[11]=d,g[15]=m,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new n).fromArray(this.elements)},copy:function(t){var r=this.elements,e=t.elements;return r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r[4]=e[4],r[5]=e[5],r[6]=e[6],r[7]=e[7],r[8]=e[8],r[9]=e[9],r[10]=e[10],r[11]=e[11],r[12]=e[12],r[13]=e[13],r[14]=e[14],r[15]=e[15],this},copyPosition:function(t){var r=this.elements,e=t.elements;return r[12]=e[12],r[13]=e[13],r[14]=e[14],this},extractBasis:function(t,r,e){return t.setFromMatrixColumn(this,0),r.setFromMatrixColumn(this,1),e.setFromMatrixColumn(this,2),this},makeBasis:function(t,r,e){return this.set(t.x,r.x,e.x,0,t.y,r.y,e.y,0,t.z,r.z,e.z,0,0,0,0,1),this},extractRotation:function(){var t=new i.a;return function(r){var e=this.elements,n=r.elements,i=1/t.setFromMatrixColumn(r,0).length(),a=1/t.setFromMatrixColumn(r,1).length(),s=1/t.setFromMatrixColumn(r,2).length();return e[0]=n[0]*i,e[1]=n[1]*i,e[2]=n[2]*i,e[4]=n[4]*a,e[5]=n[5]*a,e[6]=n[6]*a,e[8]=n[8]*s,e[9]=n[9]*s,e[10]=n[10]*s,this}}(),makeRotationFromEuler:function(t){!t||t.isEuler;var r=this.elements,e=t.x,n=t.y,i=t.z,a=Math.cos(e),s=Math.sin(e),o=Math.cos(n),h=Math.sin(n),u=Math.cos(i),c=Math.sin(i);if("XYZ"===t.order){var l=a*u,f=a*c,p=s*u,d=s*c;r[0]=o*u,r[4]=-o*c,r[8]=h,r[1]=f+p*h,r[5]=l-d*h,r[9]=-s*o,r[2]=d-l*h,r[6]=p+f*h,r[10]=a*o}else if("YXZ"===t.order){var m=o*u,g=o*c,v=h*u,y=h*c;r[0]=m+y*s,r[4]=v*s-g,r[8]=a*h,r[1]=a*c,r[5]=a*u,r[9]=-s,r[2]=g*s-v,r[6]=y+m*s,r[10]=a*o}else if("ZXY"===t.order){var m=o*u,g=o*c,v=h*u,y=h*c;r[0]=m-y*s,r[4]=-a*c,r[8]=v+g*s,r[1]=g+v*s,r[5]=a*u,r[9]=y-m*s,r[2]=-a*h,r[6]=s,r[10]=a*o}else if("ZYX"===t.order){var l=a*u,f=a*c,p=s*u,d=s*c;r[0]=o*u,r[4]=p*h-f,r[8]=l*h+d,r[1]=o*c,r[5]=d*h+l,r[9]=f*h-p,r[2]=-h,r[6]=s*o,r[10]=a*o}else if("YZX"===t.order){var _=a*o,x=a*h,b=s*o,E=s*h;r[0]=o*u,r[4]=E-_*c,r[8]=b*c+x,r[1]=c,r[5]=a*u,r[9]=-s*u,r[2]=-h*u,r[6]=x*c+b,r[10]=_-E*c}else if("XZY"===t.order){var _=a*o,x=a*h,b=s*o,E=s*h;r[0]=o*u,r[4]=-c,r[8]=h*u,r[1]=_*c+E,r[5]=a*u,r[9]=x*c-b,r[2]=b*c-x,r[6]=s*u,r[10]=E*c+_}return r[3]=0,r[7]=0,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,this},makeRotationFromQuaternion:function(t){var r=this.elements,e=t._x,n=t._y,i=t._z,a=t._w,s=e+e,o=n+n,h=i+i,u=e*s,c=e*o,l=e*h,f=n*o,p=n*h,d=i*h,m=a*s,g=a*o,v=a*h;return r[0]=1-(f+d),r[4]=c-v,r[8]=l+g,r[1]=c+v,r[5]=1-(u+d),r[9]=p-m,r[2]=l-g,r[6]=p+m,r[10]=1-(u+f),r[3]=0,r[7]=0,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,this},lookAt:function(){var t=new i.a,r=new i.a,e=new i.a;return function(n,i,a){var s=this.elements;return e.subVectors(n,i),0===e.lengthSq()&&(e.z=1),e.normalize(),t.crossVectors(a,e),0===t.lengthSq()&&(1===Math.abs(a.z)?e.x+=1e-4:e.z+=1e-4,e.normalize(),t.crossVectors(a,e)),t.normalize(),r.crossVectors(e,t),s[0]=t.x,s[4]=r.x,s[8]=e.x,s[1]=t.y,s[5]=r.y,s[9]=e.y,s[2]=t.z,s[6]=r.z,s[10]=e.z,this}}(),multiply:function(t,r){return void 0!==r?this.multiplyMatrices(t,r):this.multiplyMatrices(this,t)},premultiply:function(t){return this.multiplyMatrices(t,this)},multiplyMatrices:function(t,r){var e=t.elements,n=r.elements,i=this.elements,a=e[0],s=e[4],o=e[8],h=e[12],u=e[1],c=e[5],l=e[9],f=e[13],p=e[2],d=e[6],m=e[10],g=e[14],v=e[3],y=e[7],_=e[11],x=e[15],b=n[0],E=n[4],M=n[8],w=n[12],A=n[1],T=n[5],R=n[9],S=n[13],N=n[2],I=n[6],U=n[10],P=n[14],O=n[3],L=n[7],C=n[11],z=n[15];return i[0]=a*b+s*A+o*N+h*O,i[4]=a*E+s*T+o*I+h*L,i[8]=a*M+s*R+o*U+h*C,i[12]=a*w+s*S+o*P+h*z,i[1]=u*b+c*A+l*N+f*O,i[5]=u*E+c*T+l*I+f*L,i[9]=u*M+c*R+l*U+f*C,i[13]=u*w+c*S+l*P+f*z,i[2]=p*b+d*A+m*N+g*O,i[6]=p*E+d*T+m*I+g*L,i[10]=p*M+d*R+m*U+g*C,i[14]=p*w+d*S+m*P+g*z,i[3]=v*b+y*A+_*N+x*O,i[7]=v*E+y*T+_*I+x*L,i[11]=v*M+y*R+_*U+x*C,i[15]=v*w+y*S+_*P+x*z,this},multiplyScalar:function(t){var r=this.elements;return r[0]*=t,r[4]*=t,r[8]*=t,r[12]*=t,r[1]*=t,r[5]*=t,r[9]*=t,r[13]*=t,r[2]*=t,r[6]*=t,r[10]*=t,r[14]*=t,r[3]*=t,r[7]*=t,r[11]*=t,r[15]*=t,this},applyToBufferAttribute:function(){var t=new i.a;return function(r){for(var e=0,n=r.count;e<n;e++)t.x=r.getX(e),t.y=r.getY(e),t.z=r.getZ(e),t.applyMatrix4(this),r.setXYZ(e,t.x,t.y,t.z);return r}}(),determinant:function(){var t=this.elements,r=t[0],e=t[4],n=t[8],i=t[12],a=t[1],s=t[5],o=t[9],h=t[13],u=t[2],c=t[6],l=t[10],f=t[14];return t[3]*(+i*o*c-n*h*c-i*s*l+e*h*l+n*s*f-e*o*f)+t[7]*(+r*o*f-r*h*l+i*a*l-n*a*f+n*h*u-i*o*u)+t[11]*(+r*h*c-r*s*f-i*a*c+e*a*f+i*s*u-e*h*u)+t[15]*(-n*s*u-r*o*c+r*s*l+n*a*c-e*a*l+e*o*u)},transpose:function(){var t,r=this.elements;return t=r[1],r[1]=r[4],r[4]=t,t=r[2],r[2]=r[8],r[8]=t,t=r[6],r[6]=r[9],r[9]=t,t=r[3],r[3]=r[12],r[12]=t,t=r[7],r[7]=r[13],r[13]=t,t=r[11],r[11]=r[14],r[14]=t,this},setPosition:function(t){var r=this.elements;return r[12]=t.x,r[13]=t.y,r[14]=t.z,this},getInverse:function(t,r){var e=this.elements,n=t.elements,i=n[0],a=n[1],s=n[2],o=n[3],h=n[4],u=n[5],c=n[6],l=n[7],f=n[8],p=n[9],d=n[10],m=n[11],g=n[12],v=n[13],y=n[14],_=n[15],x=p*y*l-v*d*l+v*c*m-u*y*m-p*c*_+u*d*_,b=g*d*l-f*y*l-g*c*m+h*y*m+f*c*_-h*d*_,E=f*v*l-g*p*l+g*u*m-h*v*m-f*u*_+h*p*_,M=g*p*c-f*v*c-g*u*d+h*v*d+f*u*y-h*p*y,w=i*x+a*b+s*E+o*M;if(0===w){var A="THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0";if(!0===r)throw new Error(A);return this.identity()}var T=1/w;return e[0]=x*T,e[1]=(v*d*o-p*y*o-v*s*m+a*y*m+p*s*_-a*d*_)*T,e[2]=(u*y*o-v*c*o+v*s*l-a*y*l-u*s*_+a*c*_)*T,e[3]=(p*c*o-u*d*o-p*s*l+a*d*l+u*s*m-a*c*m)*T,e[4]=b*T,e[5]=(f*y*o-g*d*o+g*s*m-i*y*m-f*s*_+i*d*_)*T,e[6]=(g*c*o-h*y*o-g*s*l+i*y*l+h*s*_-i*c*_)*T,e[7]=(h*d*o-f*c*o+f*s*l-i*d*l-h*s*m+i*c*m)*T,e[8]=E*T,e[9]=(g*p*o-f*v*o-g*a*m+i*v*m+f*a*_-i*p*_)*T,e[10]=(h*v*o-g*u*o+g*a*l-i*v*l-h*a*_+i*u*_)*T,e[11]=(f*u*o-h*p*o-f*a*l+i*p*l+h*a*m-i*u*m)*T,e[12]=M*T,e[13]=(f*v*s-g*p*s+g*a*d-i*v*d-f*a*y+i*p*y)*T,e[14]=(g*u*s-h*v*s-g*a*c+i*v*c+h*a*y-i*u*y)*T,e[15]=(h*p*s-f*u*s+f*a*c-i*p*c-h*a*d+i*u*d)*T,this},scale:function(t){var r=this.elements,e=t.x,n=t.y,i=t.z;return r[0]*=e,r[4]*=n,r[8]*=i,r[1]*=e,r[5]*=n,r[9]*=i,r[2]*=e,r[6]*=n,r[10]*=i,r[3]*=e,r[7]*=n,r[11]*=i,this},getMaxScaleOnAxis:function(){var t=this.elements,r=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],e=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],n=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(r,e,n))},makeTranslation:function(t,r,e){return this.set(1,0,0,t,0,1,0,r,0,0,1,e,0,0,0,1),this},makeRotationX:function(t){var r=Math.cos(t),e=Math.sin(t);return this.set(1,0,0,0,0,r,-e,0,0,e,r,0,0,0,0,1),this},makeRotationY:function(t){var r=Math.cos(t),e=Math.sin(t);return this.set(r,0,e,0,0,1,0,0,-e,0,r,0,0,0,0,1),this},makeRotationZ:function(t){var r=Math.cos(t),e=Math.sin(t);return this.set(r,-e,0,0,e,r,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(t,r){var e=Math.cos(r),n=Math.sin(r),i=1-e,a=t.x,s=t.y,o=t.z,h=i*a,u=i*s;return this.set(h*a+e,h*s-n*o,h*o+n*s,0,h*s+n*o,u*s+e,u*o-n*a,0,h*o-n*s,u*o+n*a,i*o*o+e,0,0,0,0,1),this},makeScale:function(t,r,e){return this.set(t,0,0,0,0,r,0,0,0,0,e,0,0,0,0,1),this},makeShear:function(t,r,e){return this.set(1,r,e,0,t,1,e,0,t,r,1,0,0,0,0,1),this},compose:function(t,r,e){return this.makeRotationFromQuaternion(r),this.scale(e),this.setPosition(t),this},decompose:function(){var t=new i.a,r=new n;return function(e,n,i){var a=this.elements,s=t.set(a[0],a[1],a[2]).length(),o=t.set(a[4],a[5],a[6]).length(),h=t.set(a[8],a[9],a[10]).length();this.determinant()<0&&(s=-s),e.x=a[12],e.y=a[13],e.z=a[14],r.copy(this);var u=1/s,c=1/o,l=1/h;return r.elements[0]*=u,r.elements[1]*=u,r.elements[2]*=u,r.elements[4]*=c,r.elements[5]*=c,r.elements[6]*=c,r.elements[8]*=l,r.elements[9]*=l,r.elements[10]*=l,n.setFromRotationMatrix(r),i.x=s,i.y=o,i.z=h,this}}(),makePerspective:function(t,r,e,n,i,a){var s=this.elements,o=2*i/(r-t),h=2*i/(e-n),u=(r+t)/(r-t),c=(e+n)/(e-n),l=-(a+i)/(a-i),f=-2*a*i/(a-i);return s[0]=o,s[4]=0,s[8]=u,s[12]=0,s[1]=0,s[5]=h,s[9]=c,s[13]=0,s[2]=0,s[6]=0,s[10]=l,s[14]=f,s[3]=0,s[7]=0,s[11]=-1,s[15]=0,this},makeOrthographic:function(t,r,e,n,i,a){var s=this.elements,o=1/(r-t),h=1/(e-n),u=1/(a-i),c=(r+t)*o,l=(e+n)*h,f=(a+i)*u;return s[0]=2*o,s[4]=0,s[8]=0,s[12]=-c,s[1]=0,s[5]=2*h,s[9]=0,s[13]=-l,s[2]=0,s[6]=0,s[10]=-2*u,s[14]=-f,s[3]=0,s[7]=0,s[11]=0,s[15]=1,this},equals:function(t){for(var r=this.elements,e=t.elements,n=0;n<16;n++)if(r[n]!==e[n])return!1;return!0},fromArray:function(t,r){void 0===r&&(r=0);for(var e=0;e<16;e++)this.elements[e]=t[e+r];return this},toArray:function(t,r){void 0===t&&(t=[]),void 0===r&&(r=0);var e=this.elements;return t[r]=e[0],t[r+1]=e[1],t[r+2]=e[2],t[r+3]=e[3],t[r+4]=e[4],t[r+5]=e[5],t[r+6]=e[6],t[r+7]=e[7],t[r+8]=e[8],t[r+9]=e[9],t[r+10]=e[10],t[r+11]=e[11],t[r+12]=e[12],t[r+13]=e[13],t[r+14]=e[14],t[r+15]=e[15],t}})},function(t,r){function e(t,r,e){this.shortMessage=r||"",this.longMessage=e||"",this.rawError=t||"",this.message="gl-shader: "+(r||t||"")+(e?"\n"+e:""),this.stack=(new Error).stack}e.prototype=new Error,e.prototype.name="GLError",e.prototype.constructor=e,t.exports=e},function(t,r){function e(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(t){return"function"==typeof t}function i(t){return"number"==typeof t}function a(t){return"object"==typeof t&&null!==t}function s(t){return void 0===t}t.exports=e,e.EventEmitter=e,e.prototype._events=void 0,e.prototype._maxListeners=void 0,e.defaultMaxListeners=10,e.prototype.setMaxListeners=function(t){if(!i(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},e.prototype.emit=function(t){var r,e,i,o,h,u;if(this._events||(this._events={}),"error"===t&&(!this._events.error||a(this._events.error)&&!this._events.error.length)){if((r=arguments[1])instanceof Error)throw r;var c=new Error('Uncaught, unspecified "error" event. ('+r+")");throw c.context=r,c}if(e=this._events[t],s(e))return!1;if(n(e))switch(arguments.length){case 1:e.call(this);break;case 2:e.call(this,arguments[1]);break;case 3:e.call(this,arguments[1],arguments[2]);break;default:o=Array.prototype.slice.call(arguments,1),e.apply(this,o)}else if(a(e))for(o=Array.prototype.slice.call(arguments,1),u=e.slice(),i=u.length,h=0;h<i;h++)u[h].apply(this,o);return!0},e.prototype.addListener=function(t,r){var i;if(!n(r))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,n(r.listener)?r.listener:r),this._events[t]?a(this._events[t])?this._events[t].push(r):this._events[t]=[this._events[t],r]:this._events[t]=r,a(this._events[t])&&!this._events[t].warned&&(i=s(this._maxListeners)?e.defaultMaxListeners:this._maxListeners)&&i>0&&this._events[t].length>i&&(this._events[t].warned=!0,console.trace),this},e.prototype.on=e.prototype.addListener,e.prototype.once=function(t,r){function e(){this.removeListener(t,e),i||(i=!0,r.apply(this,arguments))}if(!n(r))throw TypeError("listener must be a function");var i=!1;return e.listener=r,this.on(t,e),this},e.prototype.removeListener=function(t,r){var e,i,s,o;if(!n(r))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(e=this._events[t],s=e.length,i=-1,e===r||n(e.listener)&&e.listener===r)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,r);else if(a(e)){for(o=s;o-- >0;)if(e[o]===r||e[o].listener&&e[o].listener===r){i=o;break}if(i<0)return this;1===e.length?(e.length=0,delete this._events[t]):e.splice(i,1),this._events.removeListener&&this.emit("removeListener",t,r)}return this},e.prototype.removeAllListeners=function(t){var r,e;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(r in this._events)"removeListener"!==r&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events={},this}if(e=this._events[t],n(e))this.removeListener(t,e);else if(e)for(;e.length;)this.removeListener(t,e[e.length-1]);return delete this._events[t],this},e.prototype.listeners=function(t){return this._events&&this._events[t]?n(this._events[t])?[this._events[t]]:this._events[t].slice():[]},e.prototype.listenerCount=function(t){if(this._events){var r=this._events[t];if(n(r))return 1;if(r)return r.length}return 0},e.listenerCount=function(t,r){return t.listenerCount(r)}},function(t,r,e){"use strict";function n(){}e.d(r,"a",function(){return n}),Object.assign(n.prototype,{addEventListener:function(t,r){void 0===this._listeners&&(this._listeners={});var e=this._listeners;void 0===e[t]&&(e[t]=[]),-1===e[t].indexOf(r)&&e[t].push(r)},hasEventListener:function(t,r){if(void 0===this._listeners)return!1;var e=this._listeners;return void 0!==e[t]&&-1!==e[t].indexOf(r)},removeEventListener:function(t,r){if(void 0!==this._listeners){var e=this._listeners,n=e[t];if(void 0!==n){var i=n.indexOf(r);-1!==i&&n.splice(i,1)}}},dispatchEvent:function(t){if(void 0!==this._listeners){var r=this._listeners,e=r[t.type];if(void 0!==e){t.target=this;for(var n=e.slice(0),i=0,a=n.length;i<a;i++)n[i].call(this,t)}}}})},function(t,r,e){"use strict";function n(t,r,e){return void 0===r&&void 0===e?this.set(t):this.setRGB(t,r,e)}e.d(r,"a",function(){return n});var i=e(1),a={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Object.assign(n.prototype,{isColor:!0,r:1,g:1,b:1,set:function(t){return t&&t.isColor?this.copy(t):"number"==typeof t?this.setHex(t):"string"==typeof t&&this.setStyle(t),this},setScalar:function(t){return this.r=t,this.g=t,this.b=t,this},setHex:function(t){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,this},setRGB:function(t,r,e){return this.r=t,this.g=r,this.b=e,this},setHSL:function(){function t(t,r,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?t+6*(r-t)*e:e<.5?r:e<2/3?t+6*(r-t)*(2/3-e):t}return function(r,e,n){if(r=i.a.euclideanModulo(r,1),e=i.a.clamp(e,0,1),n=i.a.clamp(n,0,1),0===e)this.r=this.g=this.b=n;else{var a=n<=.5?n*(1+e):n+e-n*e,s=2*n-a;this.r=t(s,a,r+1/3),this.g=t(s,a,r),this.b=t(s,a,r-1/3)}return this}}(),setStyle:function(t){function r(t){void 0!==t&&parseFloat(t)}var e;if(e=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(t)){var n,i=e[1],s=e[2];switch(i){case"rgb":case"rgba":if(n=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(s))return this.r=Math.min(255,parseInt(n[1],10))/255,this.g=Math.min(255,parseInt(n[2],10))/255,this.b=Math.min(255,parseInt(n[3],10))/255,r(n[5]),this;if(n=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(s))return this.r=Math.min(100,parseInt(n[1],10))/100,this.g=Math.min(100,parseInt(n[2],10))/100,this.b=Math.min(100,parseInt(n[3],10))/100,r(n[5]),this;break;case"hsl":case"hsla":if(n=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(s)){var o=parseFloat(n[1])/360,h=parseInt(n[2],10)/100,u=parseInt(n[3],10)/100;return r(n[5]),this.setHSL(o,h,u)}}}else if(e=/^\#([A-Fa-f0-9]+)$/.exec(t)){var c=e[1],l=c.length;if(3===l)return this.r=parseInt(c.charAt(0)+c.charAt(0),16)/255,this.g=parseInt(c.charAt(1)+c.charAt(1),16)/255,this.b=parseInt(c.charAt(2)+c.charAt(2),16)/255,this;if(6===l)return this.r=parseInt(c.charAt(0)+c.charAt(1),16)/255,this.g=parseInt(c.charAt(2)+c.charAt(3),16)/255,this.b=parseInt(c.charAt(4)+c.charAt(5),16)/255,this}if(t&&t.length>0){var c=a[t];void 0!==c&&this.setHex(c)}return this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this},copyGammaToLinear:function(t,r){return void 0===r&&(r=2),this.r=Math.pow(t.r,r),this.g=Math.pow(t.g,r),this.b=Math.pow(t.b,r),this},copyLinearToGamma:function(t,r){void 0===r&&(r=2);var e=r>0?1/r:1;return this.r=Math.pow(t.r,e),this.g=Math.pow(t.g,e),this.b=Math.pow(t.b,e),this},convertGammaToLinear:function(){var t=this.r,r=this.g,e=this.b;return this.r=t*t,this.g=r*r,this.b=e*e,this},convertLinearToGamma:function(){return this.r=Math.sqrt(this.r),this.g=Math.sqrt(this.g),this.b=Math.sqrt(this.b),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(t){var r,e,n=t||{h:0,s:0,l:0},i=this.r,a=this.g,s=this.b,o=Math.max(i,a,s),h=Math.min(i,a,s),u=(h+o)/2;if(h===o)r=0,e=0;else{var c=o-h;switch(e=u<=.5?c/(o+h):c/(2-o-h),o){case i:r=(a-s)/c+(a<s?6:0);break;case a:r=(s-i)/c+2;break;case s:r=(i-a)/c+4}r/=6}return n.h=r,n.s=e,n.l=u,n},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:function(t,r,e){var n=this.getHSL();return n.h+=t,n.s+=r,n.l+=e,this.setHSL(n.h,n.s,n.l),this},add:function(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this},addColors:function(t,r){return this.r=t.r+r.r,this.g=t.g+r.g,this.b=t.b+r.b,this},addScalar:function(t){return this.r+=t,this.g+=t,this.b+=t,this},sub:function(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this},multiply:function(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this},multiplyScalar:function(t){return this.r*=t,this.g*=t,this.b*=t,this},lerp:function(t,r){return this.r+=(t.r-this.r)*r,this.g+=(t.g-this.g)*r,this.b+=(t.b-this.b)*r,this},equals:function(t){return t.r===this.r&&t.g===this.g&&t.b===this.b},fromArray:function(t,r){return void 0===r&&(r=0),this.r=t[r],this.g=t[r+1],this.b=t[r+2],this},toArray:function(t,r){return void 0===t&&(t=[]),void 0===r&&(r=0),t[r]=this.r,t[r+1]=this.g,t[r+2]=this.b,t},toJSON:function(){return this.getHex()}})},function(t,r,e){"use strict";function n(t,r,e,n){this._x=t||0,this._y=r||0,this._z=e||0,this._w=void 0!==n?n:1}e.d(r,"a",function(){return n});var i=e(0);Object.assign(n,{slerp:function(t,r,e,n){return e.copy(t).slerp(r,n)},slerpFlat:function(t,r,e,n,i,a,s){var o=e[n+0],h=e[n+1],u=e[n+2],c=e[n+3],l=i[a+0],f=i[a+1],p=i[a+2],d=i[a+3];if(c!==d||o!==l||h!==f||u!==p){var m=1-s,g=o*l+h*f+u*p+c*d,v=g>=0?1:-1,y=1-g*g;if(y>Number.EPSILON){var _=Math.sqrt(y),x=Math.atan2(_,g*v);m=Math.sin(m*x)/_,s=Math.sin(s*x)/_}var b=s*v;if(o=o*m+l*b,h=h*m+f*b,u=u*m+p*b,c=c*m+d*b,m===1-s){var E=1/Math.sqrt(o*o+h*h+u*u+c*c);o*=E,h*=E,u*=E,c*=E}}t[r]=o,t[r+1]=h,t[r+2]=u,t[r+3]=c}}),Object.defineProperties(n.prototype,{x:{get:function(){return this._x},set:function(t){this._x=t,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(t){this._y=t,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(t){this._z=t,this.onChangeCallback()}},w:{get:function(){return this._w},set:function(t){this._w=t,this.onChangeCallback()}}}),Object.assign(n.prototype,{set:function(t,r,e,n){return this._x=t,this._y=r,this._z=e,this._w=n,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this.onChangeCallback(),this},setFromEuler:function(t,r){if(!t||!t.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var e=t._x,n=t._y,i=t._z,a=t.order,s=Math.cos,o=Math.sin,h=s(e/2),u=s(n/2),c=s(i/2),l=o(e/2),f=o(n/2),p=o(i/2);return"XYZ"===a?(this._x=l*u*c+h*f*p,this._y=h*f*c-l*u*p,this._z=h*u*p+l*f*c,this._w=h*u*c-l*f*p):"YXZ"===a?(this._x=l*u*c+h*f*p,this._y=h*f*c-l*u*p,this._z=h*u*p-l*f*c,this._w=h*u*c+l*f*p):"ZXY"===a?(this._x=l*u*c-h*f*p,this._y=h*f*c+l*u*p,this._z=h*u*p+l*f*c,this._w=h*u*c-l*f*p):"ZYX"===a?(this._x=l*u*c-h*f*p,this._y=h*f*c+l*u*p,this._z=h*u*p-l*f*c,this._w=h*u*c+l*f*p):"YZX"===a?(this._x=l*u*c+h*f*p,this._y=h*f*c+l*u*p,this._z=h*u*p-l*f*c,this._w=h*u*c-l*f*p):"XZY"===a&&(this._x=l*u*c-h*f*p,this._y=h*f*c-l*u*p,this._z=h*u*p+l*f*c,this._w=h*u*c+l*f*p),!1!==r&&this.onChangeCallback(),this},setFromAxisAngle:function(t,r){var e=r/2,n=Math.sin(e);return this._x=t.x*n,this._y=t.y*n,this._z=t.z*n,this._w=Math.cos(e),this.onChangeCallback(),this},setFromRotationMatrix:function(t){var r,e=t.elements,n=e[0],i=e[4],a=e[8],s=e[1],o=e[5],h=e[9],u=e[2],c=e[6],l=e[10],f=n+o+l;return f>0?(r=.5/Math.sqrt(f+1),this._w=.25/r,this._x=(c-h)*r,this._y=(a-u)*r,this._z=(s-i)*r):n>o&&n>l?(r=2*Math.sqrt(1+n-o-l),this._w=(c-h)/r,this._x=.25*r,this._y=(i+s)/r,this._z=(a+u)/r):o>l?(r=2*Math.sqrt(1+o-n-l),this._w=(a-u)/r,this._x=(i+s)/r,this._y=.25*r,this._z=(h+c)/r):(r=2*Math.sqrt(1+l-n-o),this._w=(s-i)/r,this._x=(a+u)/r,this._y=(h+c)/r,this._z=.25*r),this.onChangeCallback(),this},setFromUnitVectors:function(){var t,r=new i.a;return function(e,n){return void 0===r&&(r=new i.a),t=e.dot(n)+1,t<1e-6?(t=0,Math.abs(e.x)>Math.abs(e.z)?r.set(-e.y,e.x,0):r.set(0,-e.z,e.y)):r.crossVectors(e,n),this._x=r.x,this._y=r.y,this._z=r.z,this._w=t,this.normalize()}}(),inverse:function(){return this.conjugate()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this.onChangeCallback(),this},dot:function(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this.onChangeCallback(),this},multiply:function(t,r){return void 0!==r?this.multiplyQuaternions(t,r):this.multiplyQuaternions(this,t)},premultiply:function(t){return this.multiplyQuaternions(t,this)},multiplyQuaternions:function(t,r){var e=t._x,n=t._y,i=t._z,a=t._w,s=r._x,o=r._y,h=r._z,u=r._w;return this._x=e*u+a*s+n*h-i*o,this._y=n*u+a*o+i*s-e*h,this._z=i*u+a*h+e*o-n*s,this._w=a*u-e*s-n*o-i*h,this.onChangeCallback(),this},slerp:function(t,r){if(0===r)return this;if(1===r)return this.copy(t);var e=this._x,n=this._y,i=this._z,a=this._w,s=a*t._w+e*t._x+n*t._y+i*t._z;if(s<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,s=-s):this.copy(t),s>=1)return this._w=a,this._x=e,this._y=n,this._z=i,this;var o=Math.sqrt(1-s*s);if(Math.abs(o)<.001)return this._w=.5*(a+this._w),this._x=.5*(e+this._x),this._y=.5*(n+this._y),this._z=.5*(i+this._z),this;var h=Math.atan2(o,s),u=Math.sin((1-r)*h)/o,c=Math.sin(r*h)/o;return this._w=a*u+this._w*c,this._x=e*u+this._x*c,this._y=n*u+this._y*c,this._z=i*u+this._z*c,this.onChangeCallback(),this},equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w},fromArray:function(t,r){return void 0===r&&(r=0),this._x=t[r],this._y=t[r+1],this._z=t[r+2],this._w=t[r+3],this.onChangeCallback(),this},toArray:function(t,r){return void 0===t&&(t=[]),void 0===r&&(r=0),t[r]=this._x,t[r+1]=this._y,t[r+2]=this._z,t[r+3]=this._w,t},onChange:function(t){return this.onChangeCallback=t,this},onChangeCallback:function(){}})},function(t,r,e){"use strict";function n(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length}e.d(r,"a",function(){return n});var i=e(0);Object.assign(n.prototype,{isMatrix3:!0,set:function(t,r,e,n,i,a,s,o,h){var u=this.elements;return u[0]=t,u[1]=n,u[2]=s,u[3]=r,u[4]=i,u[5]=o,u[6]=e,u[7]=a,u[8]=h,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(t){var r=this.elements,e=t.elements;return r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r[4]=e[4],r[5]=e[5],r[6]=e[6],r[7]=e[7],r[8]=e[8],this},setFromMatrix4:function(t){var r=t.elements;return this.set(r[0],r[4],r[8],r[1],r[5],r[9],r[2],r[6],r[10]),this},applyToBufferAttribute:function(){var t=new i.a;return function(r){for(var e=0,n=r.count;e<n;e++)t.x=r.getX(e),t.y=r.getY(e),t.z=r.getZ(e),t.applyMatrix3(this),r.setXYZ(e,t.x,t.y,t.z);return r}}(),multiply:function(t){return this.multiplyMatrices(this,t)},premultiply:function(t){return this.multiplyMatrices(t,this)},multiplyMatrices:function(t,r){var e=t.elements,n=r.elements,i=this.elements,a=e[0],s=e[3],o=e[6],h=e[1],u=e[4],c=e[7],l=e[2],f=e[5],p=e[8],d=n[0],m=n[3],g=n[6],v=n[1],y=n[4],_=n[7],x=n[2],b=n[5],E=n[8];return i[0]=a*d+s*v+o*x,i[3]=a*m+s*y+o*b,i[6]=a*g+s*_+o*E,i[1]=h*d+u*v+c*x,i[4]=h*m+u*y+c*b,i[7]=h*g+u*_+c*E,i[2]=l*d+f*v+p*x,i[5]=l*m+f*y+p*b,i[8]=l*g+f*_+p*E,this},multiplyScalar:function(t){var r=this.elements;return r[0]*=t,r[3]*=t,r[6]*=t,r[1]*=t,r[4]*=t,r[7]*=t,r[2]*=t,r[5]*=t,r[8]*=t,this},determinant:function(){var t=this.elements,r=t[0],e=t[1],n=t[2],i=t[3],a=t[4],s=t[5],o=t[6],h=t[7],u=t[8];return r*a*u-r*s*h-e*i*u+e*s*o+n*i*h-n*a*o},getInverse:function(t,r){t&&t.isMatrix4;var e=t.elements,n=this.elements,i=e[0],a=e[1],s=e[2],o=e[3],h=e[4],u=e[5],c=e[6],l=e[7],f=e[8],p=f*h-u*l,d=u*c-f*o,m=l*o-h*c,g=i*p+a*d+s*m;if(0===g){var v="THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0";if(!0===r)throw new Error(v);return this.identity()}var y=1/g;return n[0]=p*y,n[1]=(s*l-f*a)*y,n[2]=(u*a-s*h)*y,n[3]=d*y,n[4]=(f*i-s*c)*y,n[5]=(s*o-u*i)*y,n[6]=m*y,n[7]=(a*c-l*i)*y,n[8]=(h*i-a*o)*y,this},transpose:function(){var t,r=this.elements;return t=r[1],r[1]=r[3],r[3]=t,t=r[2],r[2]=r[6],r[6]=t,t=r[5],r[5]=r[7],r[7]=t,this},getNormalMatrix:function(t){return this.setFromMatrix4(t).getInverse(this).transpose()},transposeIntoArray:function(t){var r=this.elements;return t[0]=r[0],t[1]=r[3],t[2]=r[6],t[3]=r[1],t[4]=r[4],t[5]=r[7],t[6]=r[2],t[7]=r[5],t[8]=r[8],this},setUvTransform:function(t,r,e,n,i,a,s){var o=Math.cos(i),h=Math.sin(i);this.set(e*o,e*h,-e*(o*a+h*s)+a+t,-n*h,n*o,-n*(-h*a+o*s)+s+r,0,0,1)},scale:function(t,r){var e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=r,e[4]*=r,e[7]*=r,this},rotate:function(t){var r=Math.cos(t),e=Math.sin(t),n=this.elements,i=n[0],a=n[3],s=n[6],o=n[1],h=n[4],u=n[7];return n[0]=r*i+e*o,n[3]=r*a+e*h,n[6]=r*s+e*u,n[1]=-e*i+r*o,n[4]=-e*a+r*h,n[7]=-e*s+r*u,this},translate:function(t,r){var e=this.elements;return e[0]+=t*e[2],e[3]+=t*e[5],e[6]+=t*e[8],e[1]+=r*e[2],e[4]+=r*e[5],e[7]+=r*e[8],this},equals:function(t){for(var r=this.elements,e=t.elements,n=0;n<9;n++)if(r[n]!==e[n])return!1;return!0},fromArray:function(t,r){void 0===r&&(r=0);for(var e=0;e<9;e++)this.elements[e]=t[e+r];return this},toArray:function(t,r){void 0===t&&(t=[]),void 0===r&&(r=0);var e=this.elements;return t[r]=e[0],t[r+1]=e[1],t[r+2]=e[2],t[r+3]=e[3],t[r+4]=e[4],t[r+5]=e[5],t[r+6]=e[6],t[r+7]=e[7],t[r+8]=e[8],t}})},function(t,r,e){"use strict";function n(t,r){this.center=void 0!==t?t:new a.a,this.radius=void 0!==r?r:0}e.d(r,"a",function(){return n});var i=e(10),a=e(0);Object.assign(n.prototype,{set:function(t,r){return this.center.copy(t),this.radius=r,this},setFromPoints:function(){var t=new i.a;return function(r,e){var n=this.center;void 0!==e?n.copy(e):t.setFromPoints(r).getCenter(n);for(var i=0,a=0,s=r.length;a<s;a++)i=Math.max(i,n.distanceToSquared(r[a]));return this.radius=Math.sqrt(i),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.center.copy(t.center),this.radius=t.radius,this},empty:function(){return this.radius<=0},containsPoint:function(t){return t.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(t){return t.distanceTo(this.center)-this.radius},intersectsSphere:function(t){var r=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=r*r},intersectsBox:function(t){return t.intersectsSphere(this)},intersectsPlane:function(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius},clampPoint:function(t,r){var e=this.center.distanceToSquared(t),n=r||new a.a;return n.copy(t),e>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n},getBoundingBox:function(t){var r=t||new i.a;return r.set(this.center,this.center),r.expandByScalar(this.radius),r},applyMatrix4:function(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this},translate:function(t){return this.center.add(t),this},equals:function(t){return t.center.equals(this.center)&&t.radius===this.radius}})},function(t,r,e){"use strict";function n(t,r){this.min=void 0!==t?t:new i.a(1/0,1/0,1/0),this.max=void 0!==r?r:new i.a(-1/0,-1/0,-1/0)}e.d(r,"a",function(){return n});var i=e(0),a=e(9);Object.assign(n.prototype,{isBox3:!0,set:function(t,r){return this.min.copy(t),this.max.copy(r),this},setFromArray:function(t){for(var r=1/0,e=1/0,n=1/0,i=-1/0,a=-1/0,s=-1/0,o=0,h=t.length;o<h;o+=3){var u=t[o],c=t[o+1],l=t[o+2];u<r&&(r=u),c<e&&(e=c),l<n&&(n=l),u>i&&(i=u),c>a&&(a=c),l>s&&(s=l)}return this.min.set(r,e,n),this.max.set(i,a,s),this},setFromBufferAttribute:function(t){for(var r=1/0,e=1/0,n=1/0,i=-1/0,a=-1/0,s=-1/0,o=0,h=t.count;o<h;o++){var u=t.getX(o),c=t.getY(o),l=t.getZ(o);u<r&&(r=u),c<e&&(e=c),l<n&&(n=l),u>i&&(i=u),c>a&&(a=c),l>s&&(s=l)}return this.min.set(r,e,n),this.max.set(i,a,s),this},setFromPoints:function(t){this.makeEmpty();for(var r=0,e=t.length;r<e;r++)this.expandByPoint(t[r]);return this},setFromCenterAndSize:function(){var t=new i.a;return function(r,e){var n=t.copy(e).multiplyScalar(.5);return this.min.copy(r).sub(n),this.max.copy(r).add(n),this}}(),setFromObject:function(t){return this.makeEmpty(),this.expandByObject(t)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.min.copy(t.min),this.max.copy(t.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(t){var r=t||new i.a;return this.isEmpty()?r.set(0,0,0):r.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(t){var r=t||new i.a;return this.isEmpty()?r.set(0,0,0):r.subVectors(this.max,this.min)},expandByPoint:function(t){return this.min.min(t),this.max.max(t),this},expandByVector:function(t){return this.min.sub(t),this.max.add(t),this},expandByScalar:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},expandByObject:function(){function t(t){var i=t.geometry;if(void 0!==i)if(i.isGeometry){var s=i.vertices;for(e=0,n=s.length;e<n;e++)a.copy(s[e]),a.applyMatrix4(t.matrixWorld),r.expandByPoint(a)}else if(i.isBufferGeometry){var o=i.attributes.position;if(void 0!==o)for(e=0,n=o.count;e<n;e++)a.fromBufferAttribute(o,e).applyMatrix4(t.matrixWorld),r.expandByPoint(a)}}var r,e,n,a=new i.a;return function(e){return r=this,e.updateMatrixWorld(!0),e.traverse(t),this}}(),containsPoint:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)},containsBox:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z},getParameter:function(t,r){return(r||new i.a).set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)},intersectsSphere:function(){var t=new i.a;return function(r){return this.clampPoint(r.center,t),t.distanceToSquared(r.center)<=r.radius*r.radius}}(),intersectsPlane:function(t){var r,e;return t.normal.x>0?(r=t.normal.x*this.min.x,e=t.normal.x*this.max.x):(r=t.normal.x*this.max.x,e=t.normal.x*this.min.x),t.normal.y>0?(r+=t.normal.y*this.min.y,e+=t.normal.y*this.max.y):(r+=t.normal.y*this.max.y,e+=t.normal.y*this.min.y),t.normal.z>0?(r+=t.normal.z*this.min.z,e+=t.normal.z*this.max.z):(r+=t.normal.z*this.max.z,e+=t.normal.z*this.min.z),r<=t.constant&&e>=t.constant},intersectsTriangle:function(){function t(t){var i,a;for(i=0,a=t.length-3;i<=a;i+=3){h.fromArray(t,i);var s=c.x*Math.abs(h.x)+c.y*Math.abs(h.y)+c.z*Math.abs(h.z),o=r.dot(h),u=e.dot(h),l=n.dot(h);if(Math.max(-Math.max(o,u,l),Math.min(o,u,l))>s)return!1}return!0}var r=new i.a,e=new i.a,n=new i.a,a=new i.a,s=new i.a,o=new i.a,h=new i.a,u=new i.a,c=new i.a,l=new i.a;return function(i){if(this.isEmpty())return!1;this.getCenter(u),c.subVectors(this.max,u),r.subVectors(i.a,u),e.subVectors(i.b,u),n.subVectors(i.c,u),a.subVectors(e,r),s.subVectors(n,e),o.subVectors(r,n);var h=[0,-a.z,a.y,0,-s.z,s.y,0,-o.z,o.y,a.z,0,-a.x,s.z,0,-s.x,o.z,0,-o.x,-a.y,a.x,0,-s.y,s.x,0,-o.y,o.x,0];return!!t(h)&&(h=[1,0,0,0,1,0,0,0,1],!!t(h)&&(l.crossVectors(a,s),h=[l.x,l.y,l.z],t(h)))}}(),clampPoint:function(t,r){return(r||new i.a).copy(t).clamp(this.min,this.max)},distanceToPoint:function(){var t=new i.a;return function(r){return t.copy(r).clamp(this.min,this.max).sub(r).length()}}(),getBoundingSphere:function(){var t=new i.a;return function(r){var e=r||new a.a;return this.getCenter(e.center),e.radius=.5*this.getSize(t).length(),e}}(),intersect:function(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this},union:function(t){return this.min.min(t.min),this.max.max(t.max),this},applyMatrix4:function(){var t=[new i.a,new i.a,new i.a,new i.a,new i.a,new i.a,new i.a,new i.a];return function(r){return this.isEmpty()?this:(t[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(r),t[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(r),t[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(r),t[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(r),t[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(r),t[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(r),t[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(r),t[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(r),this.setFromPoints(t),this)}}(),translate:function(t){return this.min.add(t),this.max.add(t),this},equals:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}})},function(t,r,e){"use strict";function n(t,r){this.x=t||0,this.y=r||0}e.d(r,"a",function(){return n}),Object.defineProperties(n.prototype,{width:{get:function(){return this.x},set:function(t){this.x=t}},height:{get:function(){return this.y},set:function(t){this.y=t}}}),Object.assign(n.prototype,{isVector2:!0,set:function(t,r){return this.x=t,this.y=r,this},setScalar:function(t){return this.x=t,this.y=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setComponent:function(t,r){switch(t){case 0:this.x=r;break;case 1:this.y=r;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(t){return this.x=t.x,this.y=t.y,this},add:function(t,r){return void 0!==r?this.addVectors(t,r):(this.x+=t.x,this.y+=t.y,this)},addScalar:function(t){return this.x+=t,this.y+=t,this},addVectors:function(t,r){return this.x=t.x+r.x,this.y=t.y+r.y,this},addScaledVector:function(t,r){return this.x+=t.x*r,this.y+=t.y*r,this},sub:function(t,r){return void 0!==r?this.subVectors(t,r):(this.x-=t.x,this.y-=t.y,this)},subScalar:function(t){return this.x-=t,this.y-=t,this},subVectors:function(t,r){return this.x=t.x-r.x,this.y=t.y-r.y,this},multiply:function(t){return this.x*=t.x,this.y*=t.y,this},multiplyScalar:function(t){return this.x*=t,this.y*=t,this},divide:function(t){return this.x/=t.x,this.y/=t.y,this},divideScalar:function(t){return this.multiplyScalar(1/t)},applyMatrix3:function(t){var r=this.x,e=this.y,n=t.elements;return this.x=n[0]*r+n[3]*e+n[6],this.y=n[1]*r+n[4]*e+n[7],this},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this},clamp:function(t,r){return this.x=Math.max(t.x,Math.min(r.x,this.x)),this.y=Math.max(t.y,Math.min(r.y,this.y)),this},clampScalar:function(){var t=new n,r=new n;return function(e,n){return t.set(e,e),r.set(n,n),this.clamp(t,r)}}(),clampLength:function(t,r){var e=this.length();return this.divideScalar(e||1).multiplyScalar(Math.max(t,Math.min(r,e)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(t){return this.x*t.x+this.y*t.y},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length()||1)},angle:function(){var t=Math.atan2(this.y,this.x);return t<0&&(t+=2*Math.PI),t},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var r=this.x-t.x,e=this.y-t.y;return r*r+e*e},manhattanDistanceTo:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)},setLength:function(t){return this.normalize().multiplyScalar(t)},lerp:function(t,r){return this.x+=(t.x-this.x)*r,this.y+=(t.y-this.y)*r,this},lerpVectors:function(t,r,e){return this.subVectors(r,t).multiplyScalar(e).add(t)},equals:function(t){return t.x===this.x&&t.y===this.y},fromArray:function(t,r){return void 0===r&&(r=0),this.x=t[r],this.y=t[r+1],this},toArray:function(t,r){return void 0===t&&(t=[]),void 0===r&&(r=0),t[r]=this.x,t[r+1]=this.y,t},fromBufferAttribute:function(t,r,e){return this.x=t.getX(r),this.y=t.getY(r),this},rotateAround:function(t,r){var e=Math.cos(r),n=Math.sin(r),i=this.x-t.x,a=this.y-t.y;return this.x=i*e-a*n+t.x,this.y=i*n+a*e+t.y,this}})},function(t,r,e){"use strict";(function(t){function n(){return a.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function i(t,r){if(n()<r)throw new RangeError("Invalid typed array length");return a.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(r),t.__proto__=a.prototype):(null===t&&(t=new a(r)),t.length=r),t}function a(t,r,e){if(!(a.TYPED_ARRAY_SUPPORT||this instanceof a))return new a(t,r,e);if("number"==typeof t){if("string"==typeof r)throw new Error("If encoding is specified then the first argument must be a string");return u(this,t)}return s(this,t,r,e)}function s(t,r,e,n){if("number"==typeof r)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&r instanceof ArrayBuffer?f(t,r,e,n):"string"==typeof r?c(t,r,e):p(t,r)}function o(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function h(t,r,e,n){return o(r),r<=0?i(t,r):void 0!==e?"string"==typeof n?i(t,r).fill(e,n):i(t,r).fill(e):i(t,r)}function u(t,r){if(o(r),t=i(t,r<0?0:0|d(r)),!a.TYPED_ARRAY_SUPPORT)for(var e=0;e<r;++e)t[e]=0;return t}function c(t,r,e){if("string"==typeof e&&""!==e||(e="utf8"),!a.isEncoding(e))throw new TypeError('"encoding" must be a valid string encoding');var n=0|g(r,e);t=i(t,n);var s=t.write(r,e);return s!==n&&(t=t.slice(0,s)),t}function l(t,r){var e=r.length<0?0:0|d(r.length);t=i(t,e);for(var n=0;n<e;n+=1)t[n]=255&r[n];return t}function f(t,r,e,n){if(r.byteLength,e<0||r.byteLength<e)throw new RangeError("'offset' is out of bounds");if(r.byteLength<e+(n||0))throw new RangeError("'length' is out of bounds");return r=void 0===e&&void 0===n?new Uint8Array(r):void 0===n?new Uint8Array(r,e):new Uint8Array(r,e,n),a.TYPED_ARRAY_SUPPORT?(t=r,t.__proto__=a.prototype):t=l(t,r),t}function p(t,r){if(a.isBuffer(r)){var e=0|d(r.length);return t=i(t,e),0===t.length?t:(r.copy(t,0,0,e),t)}if(r){if("undefined"!=typeof ArrayBuffer&&r.buffer instanceof ArrayBuffer||"length"in r)return"number"!=typeof r.length||Z(r.length)?i(t,0):l(t,r);if("Buffer"===r.type&&J(r.data))return l(t,r.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function d(t){if(t>=n())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n().toString(16)+" bytes");return 0|t}function m(t){return+t!=t&&(t=0),a.alloc(+t)}function g(t,r){if(a.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var e=t.length;if(0===e)return 0;for(var n=!1;;)switch(r){case"ascii":case"latin1":case"binary":return e;case"utf8":case"utf-8":case void 0:return Y(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*e;case"hex":return e>>>1;case"base64":return H(t).length;default:if(n)return Y(t).length;r=(""+r).toLowerCase(),n=!0}}function v(t,r,e){var n=!1;if((void 0===r||r<0)&&(r=0),r>this.length)return"";if((void 0===e||e>this.length)&&(e=this.length),e<=0)return"";if(e>>>=0,r>>>=0,e<=r)return"";for(t||(t="utf8");;)switch(t){case"hex":return P(this,r,e);case"utf8":case"utf-8":return S(this,r,e);case"ascii":return I(this,r,e);case"latin1":case"binary":return U(this,r,e);case"base64":return R(this,r,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,r,e);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function y(t,r,e){var n=t[r];t[r]=t[e],t[e]=n}function _(t,r,e,n,i){if(0===t.length)return-1;if("string"==typeof e?(n=e,e=0):e>2147483647?e=2147483647:e<-2147483648&&(e=-2147483648),e=+e,isNaN(e)&&(e=i?0:t.length-1),e<0&&(e=t.length+e),e>=t.length){if(i)return-1;e=t.length-1}else if(e<0){if(!i)return-1;e=0}if("string"==typeof r&&(r=a.from(r,n)),a.isBuffer(r))return 0===r.length?-1:x(t,r,e,n,i);if("number"==typeof r)return r&=255,a.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,r,e):Uint8Array.prototype.lastIndexOf.call(t,r,e):x(t,[r],e,n,i);throw new TypeError("val must be string, number or Buffer")}function x(t,r,e,n,i){function a(t,r){return 1===s?t[r]:t.readUInt16BE(r*s)}var s=1,o=t.length,h=r.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||r.length<2)return-1;s=2,o/=2,h/=2,e/=2}var u;if(i){var c=-1;for(u=e;u<o;u++)if(a(t,u)===a(r,-1===c?0:u-c)){if(-1===c&&(c=u),u-c+1===h)return c*s}else-1!==c&&(u-=u-c),c=-1}else for(e+h>o&&(e=o-h),u=e;u>=0;u--){for(var l=!0,f=0;f<h;f++)if(a(t,u+f)!==a(r,f)){l=!1;break}if(l)return u}return-1}function b(t,r,e,n){e=Number(e)||0;var i=t.length-e;n?(n=Number(n))>i&&(n=i):n=i;var a=r.length;if(a%2!=0)throw new TypeError("Invalid hex string");n>a/2&&(n=a/2);for(var s=0;s<n;++s){var o=parseInt(r.substr(2*s,2),16);if(isNaN(o))return s;t[e+s]=o}return s}function E(t,r,e,n){return W(Y(r,t.length-e),t,e,n)}function M(t,r,e,n){return W(q(r),t,e,n)}function w(t,r,e,n){return M(t,r,e,n)}function A(t,r,e,n){return W(H(r),t,e,n)}function T(t,r,e,n){return W(G(r,t.length-e),t,e,n)}function R(t,r,e){return 0===r&&e===t.length?Q.fromByteArray(t):Q.fromByteArray(t.slice(r,e))}function S(t,r,e){e=Math.min(t.length,e);for(var n=[],i=r;i<e;){var a=t[i],s=null,o=a>239?4:a>223?3:a>191?2:1;if(i+o<=e){var h,u,c,l;switch(o){case 1:a<128&&(s=a);break;case 2:h=t[i+1],128==(192&h)&&(l=(31&a)<<6|63&h)>127&&(s=l);break;case 3:h=t[i+1],u=t[i+2],128==(192&h)&&128==(192&u)&&(l=(15&a)<<12|(63&h)<<6|63&u)>2047&&(l<55296||l>57343)&&(s=l);break;case 4:h=t[i+1],u=t[i+2],c=t[i+3],128==(192&h)&&128==(192&u)&&128==(192&c)&&(l=(15&a)<<18|(63&h)<<12|(63&u)<<6|63&c)>65535&&l<1114112&&(s=l)}}null===s?(s=65533,o=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|1023&s),n.push(s),i+=o}return N(n)}function N(t){var r=t.length;if(r<=$)return String.fromCharCode.apply(String,t);for(var e="",n=0;n<r;)e+=String.fromCharCode.apply(String,t.slice(n,n+=$));return e}function I(t,r,e){var n="";e=Math.min(t.length,e);for(var i=r;i<e;++i)n+=String.fromCharCode(127&t[i]);return n}function U(t,r,e){var n="";e=Math.min(t.length,e);for(var i=r;i<e;++i)n+=String.fromCharCode(t[i]);return n}function P(t,r,e){var n=t.length;(!r||r<0)&&(r=0),(!e||e<0||e>n)&&(e=n);for(var i="",a=r;a<e;++a)i+=X(t[a]);return i}function O(t,r,e){for(var n=t.slice(r,e),i="",a=0;a<n.length;a+=2)i+=String.fromCharCode(n[a]+256*n[a+1]);return i}function L(t,r,e){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+r>e)throw new RangeError("Trying to access beyond buffer length")}function C(t,r,e,n,i,s){if(!a.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(r>i||r<s)throw new RangeError('"value" argument is out of bounds');if(e+n>t.length)throw new RangeError("Index out of range")}function z(t,r,e,n){r<0&&(r=65535+r+1);for(var i=0,a=Math.min(t.length-e,2);i<a;++i)t[e+i]=(r&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function D(t,r,e,n){r<0&&(r=4294967295+r+1);for(var i=0,a=Math.min(t.length-e,4);i<a;++i)t[e+i]=r>>>8*(n?i:3-i)&255}function F(t,r,e,n,i,a){if(e+n>t.length)throw new RangeError("Index out of range");if(e<0)throw new RangeError("Index out of range")}function B(t,r,e,n,i){return i||F(t,r,e,4,3.4028234663852886e38,-3.4028234663852886e38),K.write(t,r,e,n,23,4),e+4}function V(t,r,e,n,i){return i||F(t,r,e,8,1.7976931348623157e308,-1.7976931348623157e308),K.write(t,r,e,n,52,8),e+8}function k(t){if(t=j(t).replace(tt,""),t.length<2)return"";for(;t.length%4!=0;)t+="=";return t}function j(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function X(t){return t<16?"0"+t.toString(16):t.toString(16)}function Y(t,r){r=r||1/0;for(var e,n=t.length,i=null,a=[],s=0;s<n;++s){if((e=t.charCodeAt(s))>55295&&e<57344){if(!i){if(e>56319){(r-=3)>-1&&a.push(239,191,189);continue}if(s+1===n){(r-=3)>-1&&a.push(239,191,189);continue}i=e;continue}if(e<56320){(r-=3)>-1&&a.push(239,191,189),i=e;continue}e=65536+(i-55296<<10|e-56320)}else i&&(r-=3)>-1&&a.push(239,191,189);if(i=null,e<128){if((r-=1)<0)break;a.push(e)}else if(e<2048){if((r-=2)<0)break;a.push(e>>6|192,63&e|128)}else if(e<65536){if((r-=3)<0)break;a.push(e>>12|224,e>>6&63|128,63&e|128)}else{if(!(e<1114112))throw new Error("Invalid code point");if((r-=4)<0)break;a.push(e>>18|240,e>>12&63|128,e>>6&63|128,63&e|128)}}return a}function q(t){for(var r=[],e=0;e<t.length;++e)r.push(255&t.charCodeAt(e));return r}function G(t,r){for(var e,n,i,a=[],s=0;s<t.length&&!((r-=2)<0);++s)e=t.charCodeAt(s),n=e>>8,i=e%256,a.push(i),a.push(n);return a}function H(t){return Q.toByteArray(k(t))}function W(t,r,e,n){for(var i=0;i<n&&!(i+e>=r.length||i>=t.length);++i)r[i+e]=t[i];return i}function Z(t){return t!==t}var Q=e(37),K=e(38),J=e(39);r.Buffer=a,r.SlowBuffer=m,r.INSPECT_MAX_BYTES=50,a.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),r.kMaxLength=n(),a.poolSize=8192,a._augment=function(t){return t.__proto__=a.prototype,t},a.from=function(t,r,e){return s(null,t,r,e)},a.TYPED_ARRAY_SUPPORT&&(a.prototype.__proto__=Uint8Array.prototype,a.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&a[Symbol.species]===a&&Object.defineProperty(a,Symbol.species,{value:null,configurable:!0})),a.alloc=function(t,r,e){return h(null,t,r,e)},a.allocUnsafe=function(t){return u(null,t)},a.allocUnsafeSlow=function(t){return u(null,t)},a.isBuffer=function(t){return!(null==t||!t._isBuffer)},a.compare=function(t,r){if(!a.isBuffer(t)||!a.isBuffer(r))throw new TypeError("Arguments must be Buffers");if(t===r)return 0;for(var e=t.length,n=r.length,i=0,s=Math.min(e,n);i<s;++i)if(t[i]!==r[i]){e=t[i],n=r[i];break}return e<n?-1:n<e?1:0},a.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(t,r){if(!J(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return a.alloc(0);var e;if(void 0===r)for(r=0,e=0;e<t.length;++e)r+=t[e].length;var n=a.allocUnsafe(r),i=0;for(e=0;e<t.length;++e){var s=t[e];if(!a.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(n,i),i+=s.length}return n},a.byteLength=g,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var r=0;r<t;r+=2)y(this,r,r+1);return this},a.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var r=0;r<t;r+=4)y(this,r,r+3),y(this,r+1,r+2);return this},a.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var r=0;r<t;r+=8)y(this,r,r+7),y(this,r+1,r+6),y(this,r+2,r+5),y(this,r+3,r+4);return this},a.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?S(this,0,t):v.apply(this,arguments)},a.prototype.equals=function(t){if(!a.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===a.compare(this,t)},a.prototype.inspect=function(){var t="",e=r.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(t+=" ... ")),"<Buffer "+t+">"},a.prototype.compare=function(t,r,e,n,i){if(!a.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===r&&(r=0),void 0===e&&(e=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),r<0||e>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&r>=e)return 0;if(n>=i)return-1;if(r>=e)return 1;if(r>>>=0,e>>>=0,n>>>=0,i>>>=0,this===t)return 0;for(var s=i-n,o=e-r,h=Math.min(s,o),u=this.slice(n,i),c=t.slice(r,e),l=0;l<h;++l)if(u[l]!==c[l]){s=u[l],o=c[l];break}return s<o?-1:o<s?1:0},a.prototype.includes=function(t,r,e){return-1!==this.indexOf(t,r,e)},a.prototype.indexOf=function(t,r,e){return _(this,t,r,e,!0)},a.prototype.lastIndexOf=function(t,r,e){return _(this,t,r,e,!1)},a.prototype.write=function(t,r,e,n){if(void 0===r)n="utf8",e=this.length,r=0;else if(void 0===e&&"string"==typeof r)n=r,e=this.length,r=0;else{if(!isFinite(r))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");r|=0,isFinite(e)?(e|=0,void 0===n&&(n="utf8")):(n=e,e=void 0)}var i=this.length-r;if((void 0===e||e>i)&&(e=i),t.length>0&&(e<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var a=!1;;)switch(n){case"hex":return b(this,t,r,e);case"utf8":case"utf-8":return E(this,t,r,e);case"ascii":return M(this,t,r,e);case"latin1":case"binary":return w(this,t,r,e);case"base64":return A(this,t,r,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,t,r,e);default:if(a)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),a=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var $=4096;a.prototype.slice=function(t,r){var e=this.length;t=~~t,r=void 0===r?e:~~r,t<0?(t+=e)<0&&(t=0):t>e&&(t=e),r<0?(r+=e)<0&&(r=0):r>e&&(r=e),r<t&&(r=t);var n;if(a.TYPED_ARRAY_SUPPORT)n=this.subarray(t,r),n.__proto__=a.prototype;else{var i=r-t;n=new a(i,void 0);for(var s=0;s<i;++s)n[s]=this[s+t]}return n},a.prototype.readUIntLE=function(t,r,e){t|=0,r|=0,e||L(t,r,this.length);for(var n=this[t],i=1,a=0;++a<r&&(i*=256);)n+=this[t+a]*i;return n},a.prototype.readUIntBE=function(t,r,e){t|=0,r|=0,e||L(t,r,this.length);for(var n=this[t+--r],i=1;r>0&&(i*=256);)n+=this[t+--r]*i;return n},a.prototype.readUInt8=function(t,r){return r||L(t,1,this.length),this[t]},a.prototype.readUInt16LE=function(t,r){return r||L(t,2,this.length),this[t]|this[t+1]<<8},a.prototype.readUInt16BE=function(t,r){return r||L(t,2,this.length),this[t]<<8|this[t+1]},a.prototype.readUInt32LE=function(t,r){return r||L(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},a.prototype.readUInt32BE=function(t,r){return r||L(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},a.prototype.readIntLE=function(t,r,e){t|=0,r|=0,e||L(t,r,this.length);for(var n=this[t],i=1,a=0;++a<r&&(i*=256);)n+=this[t+a]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*r)),n},a.prototype.readIntBE=function(t,r,e){t|=0,r|=0,e||L(t,r,this.length);for(var n=r,i=1,a=this[t+--n];n>0&&(i*=256);)a+=this[t+--n]*i;return i*=128,a>=i&&(a-=Math.pow(2,8*r)),a},a.prototype.readInt8=function(t,r){return r||L(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},a.prototype.readInt16LE=function(t,r){r||L(t,2,this.length);var e=this[t]|this[t+1]<<8;return 32768&e?4294901760|e:e},a.prototype.readInt16BE=function(t,r){r||L(t,2,this.length);var e=this[t+1]|this[t]<<8;return 32768&e?4294901760|e:e},a.prototype.readInt32LE=function(t,r){return r||L(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},a.prototype.readInt32BE=function(t,r){return r||L(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},a.prototype.readFloatLE=function(t,r){return r||L(t,4,this.length),K.read(this,t,!0,23,4)},a.prototype.readFloatBE=function(t,r){return r||L(t,4,this.length),K.read(this,t,!1,23,4)},a.prototype.readDoubleLE=function(t,r){return r||L(t,8,this.length),K.read(this,t,!0,52,8)},a.prototype.readDoubleBE=function(t,r){return r||L(t,8,this.length),K.read(this,t,!1,52,8)},a.prototype.writeUIntLE=function(t,r,e,n){if(t=+t,r|=0,e|=0,!n){C(this,t,r,e,Math.pow(2,8*e)-1,0)}var i=1,a=0;for(this[r]=255&t;++a<e&&(i*=256);)this[r+a]=t/i&255;return r+e},a.prototype.writeUIntBE=function(t,r,e,n){if(t=+t,r|=0,e|=0,!n){C(this,t,r,e,Math.pow(2,8*e)-1,0)}var i=e-1,a=1;for(this[r+i]=255&t;--i>=0&&(a*=256);)this[r+i]=t/a&255;return r+e},a.prototype.writeUInt8=function(t,r,e){return t=+t,r|=0,e||C(this,t,r,1,255,0),a.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[r]=255&t,r+1},a.prototype.writeUInt16LE=function(t,r,e){return t=+t,r|=0,e||C(this,t,r,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[r]=255&t,this[r+1]=t>>>8):z(this,t,r,!0),r+2},a.prototype.writeUInt16BE=function(t,r,e){return t=+t,r|=0,e||C(this,t,r,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[r]=t>>>8,this[r+1]=255&t):z(this,t,r,!1),r+2},a.prototype.writeUInt32LE=function(t,r,e){return t=+t,r|=0,e||C(this,t,r,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[r+3]=t>>>24,this[r+2]=t>>>16,this[r+1]=t>>>8,this[r]=255&t):D(this,t,r,!0),r+4},a.prototype.writeUInt32BE=function(t,r,e){return t=+t,r|=0,e||C(this,t,r,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=255&t):D(this,t,r,!1),r+4},a.prototype.writeIntLE=function(t,r,e,n){if(t=+t,r|=0,!n){var i=Math.pow(2,8*e-1);C(this,t,r,e,i-1,-i)}var a=0,s=1,o=0;for(this[r]=255&t;++a<e&&(s*=256);)t<0&&0===o&&0!==this[r+a-1]&&(o=1),this[r+a]=(t/s>>0)-o&255;return r+e},a.prototype.writeIntBE=function(t,r,e,n){if(t=+t,r|=0,!n){var i=Math.pow(2,8*e-1);C(this,t,r,e,i-1,-i)}var a=e-1,s=1,o=0;for(this[r+a]=255&t;--a>=0&&(s*=256);)t<0&&0===o&&0!==this[r+a+1]&&(o=1),this[r+a]=(t/s>>0)-o&255;return r+e},a.prototype.writeInt8=function(t,r,e){return t=+t,r|=0,e||C(this,t,r,1,127,-128),a.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[r]=255&t,r+1},a.prototype.writeInt16LE=function(t,r,e){return t=+t,r|=0,e||C(this,t,r,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[r]=255&t,this[r+1]=t>>>8):z(this,t,r,!0),r+2},a.prototype.writeInt16BE=function(t,r,e){return t=+t,r|=0,e||C(this,t,r,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[r]=t>>>8,this[r+1]=255&t):z(this,t,r,!1),r+2},a.prototype.writeInt32LE=function(t,r,e){return t=+t,r|=0,e||C(this,t,r,4,2147483647,-2147483648),a.TYPED_ARRAY_SUPPORT?(this[r]=255&t,this[r+1]=t>>>8,this[r+2]=t>>>16,this[r+3]=t>>>24):D(this,t,r,!0),r+4},a.prototype.writeInt32BE=function(t,r,e){return t=+t,r|=0,e||C(this,t,r,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),a.TYPED_ARRAY_SUPPORT?(this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=255&t):D(this,t,r,!1),r+4},a.prototype.writeFloatLE=function(t,r,e){return B(this,t,r,!0,e)},a.prototype.writeFloatBE=function(t,r,e){return B(this,t,r,!1,e)},a.prototype.writeDoubleLE=function(t,r,e){return V(this,t,r,!0,e)},a.prototype.writeDoubleBE=function(t,r,e){return V(this,t,r,!1,e)},a.prototype.copy=function(t,r,e,n){if(e||(e=0),n||0===n||(n=this.length),r>=t.length&&(r=t.length),r||(r=0),n>0&&n<e&&(n=e),n===e)return 0;if(0===t.length||0===this.length)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(e<0||e>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-r<n-e&&(n=t.length-r+e);var i,s=n-e;if(this===t&&e<r&&r<n)for(i=s-1;i>=0;--i)t[i+r]=this[i+e];else if(s<1e3||!a.TYPED_ARRAY_SUPPORT)for(i=0;i<s;++i)t[i+r]=this[i+e];else Uint8Array.prototype.set.call(t,this.subarray(e,e+s),r);return s},a.prototype.fill=function(t,r,e,n){if("string"==typeof t){if("string"==typeof r?(n=r,r=0,e=this.length):"string"==typeof e&&(n=e,e=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!a.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(r<0||this.length<r||this.length<e)throw new RangeError("Out of range index");if(e<=r)return this;r>>>=0,e=void 0===e?this.length:e>>>0,t||(t=0);var s;if("number"==typeof t)for(s=r;s<e;++s)this[s]=t;else{var o=a.isBuffer(t)?t:Y(new a(t,n).toString()),h=o.length;for(s=0;s<e-r;++s)this[s+r]=o[s%h]}return this};var tt=/[^+\/0-9A-Za-z-_]/g}).call(r,e(13))},function(t,r){var e;e=function(){return this}();try{e=e||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(e=window)}t.exports=e},function(t,r,e){"use strict";(function(t,n){function i(t){if(t){var r=t.length||t.byteLength,e=y.log2(r);E[e].push(t)}}function a(t){i(t.buffer)}function s(t){var t=y.nextPow2(t),r=y.log2(t),e=E[r];return e.length>0?e.pop():new ArrayBuffer(t)}function o(t){return new Uint8Array(s(t),0,t)}function h(t){return new Uint16Array(s(2*t),0,t)}function u(t){return new Uint32Array(s(4*t),0,t)}function c(t){return new Int8Array(s(t),0,t)}function l(t){return new Int16Array(s(2*t),0,t)}function f(t){return new Int32Array(s(4*t),0,t)}function p(t){return new Float32Array(s(4*t),0,t)}function d(t){return new Float64Array(s(8*t),0,t)}function m(t){return x?new Uint8ClampedArray(s(t),0,t):o(t)}function g(t){return new DataView(s(t),0,t)}function v(t){t=y.nextPow2(t);var r=y.log2(t),e=M[r];return e.length>0?e.pop():new n(t)}var y=e(42),_=e(43);t.__TYPEDARRAY_POOL||(t.__TYPEDARRAY_POOL={UINT8:_([32,0]),UINT16:_([32,0]),UINT32:_([32,0]),INT8:_([32,0]),INT16:_([32,0]),INT32:_([32,0]),FLOAT:_([32,0]),DOUBLE:_([32,0]),DATA:_([32,0]),UINT8C:_([32,0]),BUFFER:_([32,0])});var x="undefined"!=typeof Uint8ClampedArray,b=t.__TYPEDARRAY_POOL;b.UINT8C||(b.UINT8C=_([32,0])),b.BUFFER||(b.BUFFER=_([32,0]));var E=b.DATA,M=b.BUFFER;r.free=function(t){if(n.isBuffer(t))M[y.log2(t.length)].push(t);else{if("[object ArrayBuffer]"!==Object.prototype.toString.call(t)&&(t=t.buffer),!t)return;var r=t.length||t.byteLength,e=0|y.log2(r);E[e].push(t)}},r.freeUint8=r.freeUint16=r.freeUint32=r.freeInt8=r.freeInt16=r.freeInt32=r.freeFloat32=r.freeFloat=r.freeFloat64=r.freeDouble=r.freeUint8Clamped=r.freeDataView=a,r.freeArrayBuffer=i,r.freeBuffer=function(t){M[y.log2(t.length)].push(t)},r.malloc=function(t,r){if(void 0===r||"arraybuffer"===r)return s(t);switch(r){case"uint8":return o(t);case"uint16":return h(t);case"uint32":return u(t);case"int8":return c(t);case"int16":return l(t);case"int32":return f(t);case"float":case"float32":return p(t);case"double":case"float64":return d(t);case"uint8_clamped":return m(t);case"buffer":return v(t);case"data":case"dataview":return g(t);default:return null}return null},r.mallocArrayBuffer=s,r.mallocUint8=o,r.mallocUint16=h,r.mallocUint32=u,r.mallocInt8=c,r.mallocInt16=l,r.mallocInt32=f,r.mallocFloat32=r.mallocFloat=p,r.mallocFloat64=r.mallocDouble=d,r.mallocUint8Clamped=m,r.mallocDataView=g,r.mallocBuffer=v,r.clearCache=function(){for(var t=0;t<32;++t)b.UINT8[t].length=0,b.UINT16[t].length=0,b.UINT32[t].length=0,b.INT8[t].length=0,b.INT16[t].length=0,b.INT32[t].length=0,b.FLOAT[t].length=0,b.DOUBLE[t].length=0,b.UINT8C[t].length=0,E[t].length=0,M[t].length=0}}).call(r,e(13),e(12).Buffer)},function(t,r,e){"use strict";function n(t){if(!t)return o;for(var r=0;r<t.args.length;++r){var e=t.args[r];t.args[r]=0===r?{name:e,lvalue:!0,rvalue:!!t.rvalue,count:t.count||1}:{name:e,lvalue:!1,rvalue:!0,count:1}}return t.thisVars||(t.thisVars=[]),t.localVars||(t.localVars=[]),t}function i(t){return s({args:t.args,pre:n(t.pre),body:n(t.body),post:n(t.proc),funcName:t.funcName})}function a(t){for(var r=[],e=0;e<t.args.length;++e)r.push("a"+e);return new Function("P",["return function ",t.funcName,"_ndarrayops(",r.join(","),") {P(",r.join(","),");return a0}"].join(""))(i(t))}var s=e(44),o={body:"",args:[],thisVars:[],localVars:[]},h={add:"+",sub:"-",mul:"*",div:"/",mod:"%",band:"&",bor:"|",bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"};!function(){for(var t in h){var e=h[t];r[t]=a({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+e+"c"},funcName:t}),r[t+"eq"]=a({args:["array","array"],body:{args:["a","b"],body:"a"+e+"=b"},rvalue:!0,funcName:t+"eq"}),r[t+"s"]=a({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+e+"s"},funcName:t+"s"}),r[t+"seq"]=a({args:["array","scalar"],body:{args:["a","s"],body:"a"+e+"=s"},rvalue:!0,funcName:t+"seq"})}}();var u={not:"!",bnot:"~",neg:"-",recip:"1.0/"};!function(){for(var t in u){var e=u[t];r[t]=a({args:["array","array"],body:{args:["a","b"],body:"a="+e+"b"},funcName:t}),r[t+"eq"]=a({args:["array"],body:{args:["a"],body:"a="+e+"a"},rvalue:!0,count:2,funcName:t+"eq"})}}();var c={and:"&&",or:"||",eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">="};!function(){for(var t in c){var e=c[t];r[t]=a({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+e+"c"},funcName:t}),r[t+"s"]=a({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+e+"s"},funcName:t+"s"}),r[t+"eq"]=a({args:["array","array"],body:{args:["a","b"],body:"a=a"+e+"b"},rvalue:!0,count:2,funcName:t+"eq"}),r[t+"seq"]=a({args:["array","scalar"],body:{args:["a","s"],body:"a=a"+e+"s"},rvalue:!0,count:2,funcName:t+"seq"})}}();var l=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan"];!function(){for(var t=0;t<l.length;++t){var e=l[t];r[e]=a({args:["array","array"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b)",thisVars:["this_f"]},funcName:e}),r[e+"eq"]=a({args:["array"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a"],body:"a=this_f(a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:e+"eq"})}}();var f=["max","min","atan2","pow"];!function(){for(var t=0;t<f.length;++t){var e=f[t];r[e]=a({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:e}),r[e+"s"]=a({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:e+"s"}),r[e+"eq"]=a({args:["array","array"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:e+"eq"}),r[e+"seq"]=a({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:e+"seq"})}}();var p=["atan2","pow"];!function(){for(var t=0;t<p.length;++t){var e=p[t];r[e+"op"]=a({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:e+"op"}),r[e+"ops"]=a({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:e+"ops"}),r[e+"opeq"]=a({args:["array","array"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:e+"opeq"}),r[e+"opseq"]=a({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:e+"opseq"})}}(),r.any=s({args:["array"],pre:o,body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"if(a){return true}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return false"},funcName:"any"}),r.all=s({args:["array"],pre:o,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1}],body:"if(!x){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"all"}),r.sum=s({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s+=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"sum"}),r.prod=s({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=1"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s*=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"prod"}),r.norm2squared=s({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm2squared"}),r.norm2=s({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return Math.sqrt(this_s)"},funcName:"norm2"}),r.norminf=s({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:4}],body:"if(-a>this_s){this_s=-a}else if(a>this_s){this_s=a}",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norminf"}),r.norm1=s({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:3}],body:"this_s+=a<0?-a:a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm1"}),r.sup=s({args:["array"],pre:{body:"this_h=-Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_>this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),r.inf=s({args:["array"],pre:{body:"this_h=Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_<this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),r.argmin=s({args:["index","array","shape"],pre:{body:"{this_v=Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_<this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),r.argmax=s({args:["index","array","shape"],pre:{body:"{this_v=-Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_>this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),r.random=a({args:["array"],pre:{args:[],body:"this_f=Math.random",thisVars:["this_f"]},body:{args:["a"],body:"a=this_f()",thisVars:["this_f"]},funcName:"random"}),r.assign=a({args:["array","array"],body:{args:["a","b"],body:"a=b"},funcName:"assign"}),r.assigns=a({args:["array","scalar"],body:{args:["a","b"],body:"a=b"},funcName:"assigns"}),r.equals=s({args:["array","array"],pre:o,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1},{name:"y",lvalue:!1,rvalue:!0,count:1}],body:"if(x!==y){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"equals"})},function(t,r,e){function n(t,r){return t[0]-r[0]}function i(){var t,r=this.stride,e=new Array(r.length);for(t=0;t<e.length;++t)e[t]=[Math.abs(r[t]),t];e.sort(n);var i=new Array(e.length);for(t=0;t<i.length;++t)i[t]=e[t][1];return i}function a(t,r){var e=["View",r,"d",t].join("");r<0&&(e="View_Nil"+t);var n="generic"===t;if(-1===r){var a="function "+e+"(a){this.data=a;};var proto="+e+".prototype;proto.dtype='"+t+"';proto.index=function(){return -1};proto.size=0;proto.dimension=-1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function(){return new "+e+"(this.data);};proto.get=proto.set=function(){};proto.pick=function(){return null};return function construct_"+e+"(a){return new "+e+"(a);}",s=new Function(a);return s()}if(0===r){var a="function "+e+"(a,d) {this.data = a;this.offset = d};var proto="+e+".prototype;proto.dtype='"+t+"';proto.index=function(){return this.offset};proto.dimension=0;proto.size=1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function "+e+"_copy() {return new "+e+"(this.data,this.offset)};proto.pick=function "+e+"_pick(){return TrivialArray(this.data);};proto.valueOf=proto.get=function "+e+"_get(){return "+(n?"this.data.get(this.offset)":"this.data[this.offset]")+"};proto.set=function "+e+"_set(v){return "+(n?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"};return function construct_"+e+"(a,b,c,d){return new "+e+"(a,d)}",s=new Function("TrivialArray",a);return s(l[t][0])}var a=["'use strict'"],o=h(r),u=o.map(function(t){return"i"+t}),c="this.offset+"+o.map(function(t){return"this.stride["+t+"]*i"+t}).join("+"),f=o.map(function(t){return"b"+t}).join(","),p=o.map(function(t){return"c"+t}).join(",");a.push("function "+e+"(a,"+f+","+p+",d){this.data=a","this.shape=["+f+"]","this.stride=["+p+"]","this.offset=d|0}","var proto="+e+".prototype","proto.dtype='"+t+"'","proto.dimension="+r),a.push("Object.defineProperty(proto,'size',{get:function "+e+"_size(){return "+o.map(function(t){return"this.shape["+t+"]"}).join("*"),"}})"),1===r?a.push("proto.order=[0]"):(a.push("Object.defineProperty(proto,'order',{get:"),r<4?(a.push("function "+e+"_order(){"),2===r?a.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})"):3===r&&a.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);if(s0>s1){if(s1>s2){return [2,1,0];}else if(s0>s2){return [1,2,0];}else{return [1,0,2];}}else if(s0>s2){return [2,0,1];}else if(s2>s1){return [0,1,2];}else{return [0,2,1];}}})")):a.push("ORDER})")),a.push("proto.set=function "+e+"_set("+u.join(",")+",v){"),n?a.push("return this.data.set("+c+",v)}"):a.push("return this.data["+c+"]=v}"),a.push("proto.get=function "+e+"_get("+u.join(",")+"){"),n?a.push("return this.data.get("+c+")}"):a.push("return this.data["+c+"]}"),a.push("proto.index=function "+e+"_index(",u.join(),"){return "+c+"}"),a.push("proto.hi=function "+e+"_hi("+u.join(",")+"){return new "+e+"(this.data,"+o.map(function(t){return["(typeof i",t,"!=='number'||i",t,"<0)?this.shape[",t,"]:i",t,"|0"].join("")}).join(",")+","+o.map(function(t){return"this.stride["+t+"]"}).join(",")+",this.offset)}");var d=o.map(function(t){return"a"+t+"=this.shape["+t+"]"}),m=o.map(function(t){return"c"+t+"=this.stride["+t+"]"});a.push("proto.lo=function "+e+"_lo("+u.join(",")+"){var b=this.offset,d=0,"+d.join(",")+","+m.join(","));for(var g=0;g<r;++g)a.push("if(typeof i"+g+"==='number'&&i"+g+">=0){d=i"+g+"|0;b+=c"+g+"*d;a"+g+"-=d}");a.push("return new "+e+"(this.data,"+o.map(function(t){return"a"+t}).join(",")+","+o.map(function(t){return"c"+t}).join(",")+",b)}"),a.push("proto.step=function "+e+"_step("+u.join(",")+"){var "+o.map(function(t){return"a"+t+"=this.shape["+t+"]"}).join(",")+","+o.map(function(t){return"b"+t+"=this.stride["+t+"]"}).join(",")+",c=this.offset,d=0,ceil=Math.ceil");for(var g=0;g<r;++g)a.push("if(typeof i"+g+"==='number'){d=i"+g+"|0;if(d<0){c+=b"+g+"*(a"+g+"-1);a"+g+"=ceil(-a"+g+"/d)}else{a"+g+"=ceil(a"+g+"/d)}b"+g+"*=d}");a.push("return new "+e+"(this.data,"+o.map(function(t){return"a"+t}).join(",")+","+o.map(function(t){return"b"+t}).join(",")+",c)}");for(var v=new Array(r),y=new Array(r),g=0;g<r;++g)v[g]="a[i"+g+"]",y[g]="b[i"+g+"]";a.push("proto.transpose=function "+e+"_transpose("+u+"){"+u.map(function(t,r){return t+"=("+t+"===undefined?"+r+":"+t+"|0)"}).join(";"),"var a=this.shape,b=this.stride;return new "+e+"(this.data,"+v.join(",")+","+y.join(",")+",this.offset)}"),a.push("proto.pick=function "+e+"_pick("+u+"){var a=[],b=[],c=this.offset");for(var g=0;g<r;++g)a.push("if(typeof i"+g+"==='number'&&i"+g+">=0){c=(c+this.stride["+g+"]*i"+g+")|0}else{a.push(this.shape["+g+"]);b.push(this.stride["+g+"])}");a.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"),a.push("return function construct_"+e+"(data,shape,stride,offset){return new "+e+"(data,"+o.map(function(t){return"shape["+t+"]"}).join(",")+","+o.map(function(t){return"stride["+t+"]"}).join(",")+",offset)}");var s=new Function("CTOR_LIST","ORDER",a.join("\n"));return s(l[t],i)}function s(t){if(u(t))return"buffer";if(c)switch(Object.prototype.toString.call(t)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Uint8ClampedArray]":return"uint8_clamped"}return Array.isArray(t)?"array":"generic"}function o(t,r,e,n){if(void 0===t){var i=l.array[0];return i([])}"number"==typeof t&&(t=[t]),void 0===r&&(r=[t.length]);var o=r.length;if(void 0===e){e=new Array(o);for(var h=o-1,u=1;h>=0;--h)e[h]=u,u*=r[h]}if(void 0===n){n=0;for(var h=0;h<o;++h)e[h]<0&&(n-=(r[h]-1)*e[h])}for(var c=s(t),f=l[c];f.length<=o+1;)f.push(a(c,f.length-1));var i=f[o+1];return i(t,r,e,n)}var h=e(48),u=e(49),c="undefined"!=typeof Float64Array,l={float32:[],float64:[],int8:[],int16:[],int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],buffer:[],generic:[]};t.exports=o},function(t,r,e){"use strict";function n(t,r,e){r?r.bind():t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null);var n=0|t.getParameter(t.MAX_VERTEX_ATTRIBS);if(e){if(e.length>n)throw new Error("gl-vao: Too many vertex attributes");for(var i=0;i<e.length;++i){var a=e[i];if(a.buffer){var s=a.buffer,o=a.size||4,h=a.type||t.FLOAT,u=!!a.normalized,c=a.stride||0,l=a.offset||0;s.bind(),t.enableVertexAttribArray(i),t.vertexAttribPointer(i,o,h,u,c,l)}else{if("number"==typeof a)t.vertexAttrib1f(i,a);else if(1===a.length)t.vertexAttrib1f(i,a[0]);else if(2===a.length)t.vertexAttrib2f(i,a[0],a[1]);else if(3===a.length)t.vertexAttrib3f(i,a[0],a[1],a[2]);else{if(4!==a.length)throw new Error("gl-vao: Invalid vertex attribute");t.vertexAttrib4f(i,a[0],a[1],a[2],a[3])}t.disableVertexAttribArray(i)}}for(;i<n;++i)t.disableVertexAttribArray(i)}else{t.bindBuffer(t.ARRAY_BUFFER,null);for(var i=0;i<n;++i)t.disableVertexAttribArray(i)}}t.exports=n},function(t,r,e){"use strict";function n(t,r){for(var e={},n=0;n<t.length;++n)for(var i=t[n].name,a=i.split("."),s=e,o=0;o<a.length;++o){var h=a[o].split("[");if(h.length>1){h[0]in s||(s[h[0]]=[]),s=s[h[0]];for(var u=1;u<h.length;++u){var c=parseInt(h[u]);u<h.length-1||o<a.length-1?(c in s||(u<h.length-1?s[c]=[]:s[c]={}),s=s[c]):s[c]=r?n:t[n].type}}else o<a.length-1?(h[0]in s||(s[h[0]]={}),s=s[h[0]]):s[h[0]]=r?n:t[n].type}return e}t.exports=n},function(t,r){t.exports=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"]},function(t,r){t.exports=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"]},function(t,r){function e(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}t.exports=e},function(t,r,e){function n(t,r,e){function n(){e(a),i(n)}"function"==typeof r?(e=r,r={}):r=r||{};var a=t.getContext("webgl",r)||t.getContext("webgl-experimental",r)||t.getContext("experimental-webgl",r);if(!a)throw new Error("Unable to initialize WebGL");return e&&i(n),a}var i=e(113);t.exports=n},function(t,r,e){"use strict";function n(){function t(){p.setFromEuler(o,!1)}function r(){o.setFromQuaternion(p,void 0,!1)}Object.defineProperty(this,"id",{value:f++}),this.uuid=l.a.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=n.DefaultUp.clone();var e=new a.a,o=new h.a,p=new i.a,d=new a.a(1,1,1);o.onChange(t),p.onChange(r),Object.defineProperties(this,{position:{enumerable:!0,value:e},rotation:{enumerable:!0,value:o},quaternion:{enumerable:!0,value:p},scale:{enumerable:!0,value:d},modelViewMatrix:{value:new s.a},normalMatrix:{value:new c.a}}),this.matrix=new s.a,this.matrixWorld=new s.a,this.matrixAutoUpdate=n.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new u.a,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}}e.d(r,"a",function(){return n});var i=e(7),a=e(0),s=e(2),o=e(5),h=e(118),u=e(119),c=e(8),l=e(1),f=0;n.DefaultUp=new a.a(0,1,0),n.DefaultMatrixAutoUpdate=!0,n.prototype=Object.assign(Object.create(o.a.prototype),{constructor:n,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix:function(t){this.matrix.multiplyMatrices(t,this.matrix),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(t){return this.quaternion.premultiply(t),this},setRotationFromAxisAngle:function(t,r){this.quaternion.setFromAxisAngle(t,r)},setRotationFromEuler:function(t){this.quaternion.setFromEuler(t,!0)},setRotationFromMatrix:function(t){this.quaternion.setFromRotationMatrix(t)},setRotationFromQuaternion:function(t){this.quaternion.copy(t)},rotateOnAxis:function(){var t=new i.a;return function(r,e){return t.setFromAxisAngle(r,e),this.quaternion.multiply(t),this}}(),rotateOnWorldAxis:function(){var t=new i.a;return function(r,e){return t.setFromAxisAngle(r,e),this.quaternion.premultiply(t),this}}(),rotateX:function(){var t=new a.a(1,0,0);return function(r){return this.rotateOnAxis(t,r)}}(),rotateY:function(){var t=new a.a(0,1,0);return function(r){return this.rotateOnAxis(t,r)}}(),rotateZ:function(){var t=new a.a(0,0,1);return function(r){return this.rotateOnAxis(t,r)}}(),translateOnAxis:function(){var t=new a.a;return function(r,e){return t.copy(r).applyQuaternion(this.quaternion),this.position.add(t.multiplyScalar(e)),this}}(),translateX:function(){var t=new a.a(1,0,0);return function(r){return this.translateOnAxis(t,r)}}(),translateY:function(){var t=new a.a(0,1,0);return function(r){return this.translateOnAxis(t,r)}}(),translateZ:function(){var t=new a.a(0,0,1);return function(r){return this.translateOnAxis(t,r)}}(),localToWorld:function(t){return t.applyMatrix4(this.matrixWorld)},worldToLocal:function(){var t=new s.a;return function(r){return r.applyMatrix4(t.getInverse(this.matrixWorld))}}(),lookAt:function(){var t=new s.a,r=new a.a;return function(e,n,i){e.isVector3?r.copy(e):r.set(e,n,i),this.isCamera?t.lookAt(this.position,r,this.up):t.lookAt(r,this.position,this.up),this.quaternion.setFromRotationMatrix(t)}}(),add:function(t){if(arguments.length>1){for(var r=0;r<arguments.length;r++)this.add(arguments[r]);return this}return t===this?this:(t&&t.isObject3D&&(null!==t.parent&&t.parent.remove(t),t.parent=this,t.dispatchEvent({type:"added"}),this.children.push(t)),this)},remove:function(t){if(arguments.length>1){for(var r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}var e=this.children.indexOf(t);return-1!==e&&(t.parent=null,t.dispatchEvent({type:"removed"}),this.children.splice(e,1)),this},getObjectById:function(t){return this.getObjectByProperty("id",t)},getObjectByName:function(t){return this.getObjectByProperty("name",t)},getObjectByProperty:function(t,r){if(this[t]===r)return this;for(var e=0,n=this.children.length;e<n;e++){var i=this.children[e],a=i.getObjectByProperty(t,r);if(void 0!==a)return a}},getWorldPosition:function(t){var r=t||new a.a;return this.updateMatrixWorld(!0),r.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(){var t=new a.a,r=new a.a;return function(e){var n=e||new i.a;return this.updateMatrixWorld(!0),this.matrixWorld.decompose(t,n,r),n}}(),getWorldRotation:function(){var t=new i.a;return function(r){var e=r||new h.a;return this.getWorldQuaternion(t),e.setFromQuaternion(t,this.rotation.order,!1)}}(),getWorldScale:function(){var t=new a.a,r=new i.a;return function(e){var n=e||new a.a;return this.updateMatrixWorld(!0),this.matrixWorld.decompose(t,r,n),n}}(),getWorldDirection:function(){var t=new i.a;return function(r){var e=r||new a.a;return this.getWorldQuaternion(t),e.set(0,0,1).applyQuaternion(t)}}(),raycast:function(){},traverse:function(t){t(this);for(var r=this.children,e=0,n=r.length;e<n;e++)r[e].traverse(t)},traverseVisible:function(t){if(!1!==this.visible){t(this);for(var r=this.children,e=0,n=r.length;e<n;e++)r[e].traverseVisible(t)}},traverseAncestors:function(t){var r=this.parent;null!==r&&(t(r),r.traverseAncestors(t))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);for(var r=this.children,e=0,n=r.length;e<n;e++)r[e].updateMatrixWorld(t)},toJSON:function(t){function r(r,e){return void 0===r[e.uuid]&&(r[e.uuid]=e.toJSON(t)),e.uuid}function e(t){var r=[];for(var e in t){var n=t[e];delete n.metadata,r.push(n)}return r}var n=void 0===t||"string"==typeof t,i={};n&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{}},i.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var a={};if(a.uuid=this.uuid,a.type=this.type,""!==this.name&&(a.name=this.name),!0===this.castShadow&&(a.castShadow=!0),!0===this.receiveShadow&&(a.receiveShadow=!0),!1===this.visible&&(a.visible=!1),"{}"!==JSON.stringify(this.userData)&&(a.userData=this.userData),a.matrix=this.matrix.toArray(),void 0!==this.geometry){a.geometry=r(t.geometries,this.geometry);var s=this.geometry.parameters;if(void 0!==s&&void 0!==s.shapes){var o=s.shapes;if(Array.isArray(o))for(var h=0,u=o.length;h<u;h++){var c=o[h];r(t.shapes,c)}else r(t.shapes,o)}}if(void 0!==this.material)if(Array.isArray(this.material)){for(var l=[],h=0,u=this.material.length;h<u;h++)l.push(r(t.materials,this.material[h]));a.material=l}else a.material=r(t.materials,this.material);if(this.children.length>0){a.children=[];for(var h=0;h<this.children.length;h++)a.children.push(this.children[h].toJSON(t).object)}if(n){var f=e(t.geometries),p=e(t.materials),d=e(t.textures),m=e(t.images),o=e(t.shapes);f.length>0&&(i.geometries=f),p.length>0&&(i.materials=p),d.length>0&&(i.textures=d),m.length>0&&(i.images=m),o.length>0&&(i.shapes=o)}return i.object=a,i},clone:function(t){return(new this.constructor).copy(this,t)},copy:function(t,r){if(void 0===r&&(r=!0),this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.userData=JSON.parse(JSON.stringify(t.userData)),!0===r)for(var e=0;e<t.children.length;e++){var n=t.children[e];this.add(n.clone())}return this}})},function(t,r,e){"use strict";function n(t,r,e){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.uuid=v.a.generateUUID(),this.name="",this.array=t,this.itemSize=r,this.count=void 0!==t?t.length/r:0,this.normalized=!0===e,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.onUploadCallback=function(){},this.version=0}function i(t,r,e){n.call(this,new Int8Array(t),r,e)}function a(t,r,e){n.call(this,new Uint8Array(t),r,e)}function s(t,r,e){n.call(this,new Uint8ClampedArray(t),r,e)}function o(t,r,e){n.call(this,new Int16Array(t),r,e)}function h(t,r,e){n.call(this,new Uint16Array(t),r,e)}function u(t,r,e){n.call(this,new Int32Array(t),r,e)}function c(t,r,e){n.call(this,new Uint32Array(t),r,e)}function l(t,r,e){n.call(this,new Float32Array(t),r,e)}function f(t,r,e){n.call(this,new Float64Array(t),r,e)}e.d(r,"b",function(){return l}),e.d(r,"d",function(){return c}),e.d(r,"c",function(){return h}),e.d(r,"a",function(){return n});var p=e(121),d=e(0),m=e(11),g=e(6),v=e(1);Object.defineProperty(n.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),Object.assign(n.prototype,{isBufferAttribute:!0,setArray:function(t){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.count=void 0!==t?t.length/this.itemSize:0,this.array=t},setDynamic:function(t){return this.dynamic=t,this},copy:function(t){return this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.dynamic=t.dynamic,this},copyAt:function(t,r,e){t*=this.itemSize,e*=r.itemSize;for(var n=0,i=this.itemSize;n<i;n++)this.array[t+n]=r.array[e+n];return this},copyArray:function(t){return this.array.set(t),this},copyColorsArray:function(t){for(var r=this.array,e=0,n=0,i=t.length;n<i;n++){var a=t[n];void 0===a&&(a=new g.a),r[e++]=a.r,r[e++]=a.g,r[e++]=a.b}return this},copyIndicesArray:function(t){for(var r=this.array,e=0,n=0,i=t.length;n<i;n++){var a=t[n];r[e++]=a.a,r[e++]=a.b,r[e++]=a.c}return this},copyVector2sArray:function(t){for(var r=this.array,e=0,n=0,i=t.length;n<i;n++){var a=t[n];void 0===a&&(a=new m.a),r[e++]=a.x,r[e++]=a.y}return this},copyVector3sArray:function(t){for(var r=this.array,e=0,n=0,i=t.length;n<i;n++){var a=t[n];void 0===a&&(a=new d.a),r[e++]=a.x,r[e++]=a.y,r[e++]=a.z}return this},copyVector4sArray:function(t){for(var r=this.array,e=0,n=0,i=t.length;n<i;n++){var a=t[n];void 0===a&&(a=new p.a),r[e++]=a.x,r[e++]=a.y,r[e++]=a.z,r[e++]=a.w}return this},set:function(t,r){return void 0===r&&(r=0),this.array.set(t,r),this},getX:function(t){return this.array[t*this.itemSize]},setX:function(t,r){return this.array[t*this.itemSize]=r,this},getY:function(t){return this.array[t*this.itemSize+1]},setY:function(t,r){return this.array[t*this.itemSize+1]=r,this},getZ:function(t){return this.array[t*this.itemSize+2]},setZ:function(t,r){return this.array[t*this.itemSize+2]=r,this},getW:function(t){return this.array[t*this.itemSize+3]},setW:function(t,r){return this.array[t*this.itemSize+3]=r,this},setXY:function(t,r,e){return t*=this.itemSize,this.array[t+0]=r,this.array[t+1]=e,this},setXYZ:function(t,r,e,n){return t*=this.itemSize,this.array[t+0]=r,this.array[t+1]=e,this.array[t+2]=n,this},setXYZW:function(t,r,e,n,i){return t*=this.itemSize,this.array[t+0]=r,this.array[t+1]=e,this.array[t+2]=n,this.array[t+3]=i,this},onUpload:function(t){return this.onUploadCallback=t,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)}}),i.prototype=Object.create(n.prototype),i.prototype.constructor=i,a.prototype=Object.create(n.prototype),a.prototype.constructor=a,s.prototype=Object.create(n.prototype),s.prototype.constructor=s,o.prototype=Object.create(n.prototype),o.prototype.constructor=o,h.prototype=Object.create(n.prototype),h.prototype.constructor=h,u.prototype=Object.create(n.prototype),u.prototype.constructor=u,c.prototype=Object.create(n.prototype),c.prototype.constructor=c,l.prototype=Object.create(n.prototype),l.prototype.constructor=l,f.prototype=Object.create(n.prototype),f.prototype.constructor=f},function(t,r,e){t.exports=e(26)},function(t,r,e){"use strict";function n(t,r){for(var e=[],n=0;n<t.length;n++){var i=t[n];r?e.push([i.a,i.b,i.c]):e.push([i.x,i.y,i.z])}return e}Object.defineProperty(r,"__esModule",{value:!0});var i=e(27),a=e.n(i),s=e(28),o=(e.n(s),e(32)),h=e.n(o),u=e(33),c=e.n(u),l=e(55),f=e.n(l),p=e(57),d=e.n(p),m=e(79),g=e.n(m),v=e(102),y=e.n(v),_=e(103),x=e.n(_),b=e(22),E=(e.n(b),e(114)),M=e.n(E),w=e(115),A=e(124),T=e.n(A),R=e(125),S=e.n(R),N=g.a.create(),I=g.a.create(),U=g.a.create(),P=new w.a(5,48,48),O=n(P.faces,!0),L=n(P.vertices),C=function t(r){var n=this;a()(this,t),this.init=function(){var t=new Image;t.src="moon.jpg";var r=y.a.vertexNormals(O,L);n.geometry.attr("aPosition",L),n.geometry.attr("aNormal",r),n.geometry.faces(O),n.texture=M()(n.gl,t),n.shader=d()(n.gl,S.a,T.a),n.shader.uniforms.texture=n.texture.bind(),n.geometry.bind(n.shader)},this.update=function(){n.camera.view(U),n.camera.tick();var t=n.gl.drawingBufferWidth/n.gl.drawingBufferHeight,r=Math.PI/4;g.a.perspective(N,r,t,.01,100)},this.render=function(){var t=n.gl.drawingBufferWidth,r=n.gl.drawingBufferHeight;n.stats.begin(),n.update(),n.gl.viewport(0,0,t,r),n.gl.enable(n.gl.DEPTH_TEST),n.shader.uniforms.uProjection=N,n.shader.uniforms.uView=U,n.shader.uniforms.uModel=I,n.shader.uniforms.time=performance.now(),n.geometry.draw(n.gl.TRIANGLES),n.stats.end()},this.canvas=document.createElement("canvas"),this.canvas=document.body.appendChild(document.createElement("canvas")),this.stats=new h.a,document.body.appendChild(this.stats.domElement),this.camera=x()(this.canvas),this.gl=e(22)(this.canvas,this.render),this.canvas.style.backgroundColor="#000",this.geometry=c()(this.gl),window.addEventListener("resize",f()(this.canvas),!1),this.init()};r.default=C,new C},function(t,r,e){"use strict";r.__esModule=!0,r.default=function(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}},function(t,r,e){var n=e(29);"string"==typeof n&&(n=[[t.i,n,""]]);e(31)(n,{});n.locals&&(t.exports=n.locals)},function(t,r,e){r=t.exports=e(30)(),r.push([t.i,"body,html{margin:0;padding:0;height:100%}body,canvas,html{height:100%}html{overflow:hidden}canvas{width:100%}#stats{position:absolute;top:0}",""])},function(t,r){t.exports=function(){var t=[];return t.toString=function(){for(var t=[],r=0;r<this.length;r++){var e=this[r];e[2]?t.push("@media "+e[2]+"{"+e[1]+"}"):t.push(e[1])}return t.join("")},t.i=function(r,e){"string"==typeof r&&(r=[[null,r,""]]);for(var n={},i=0;i<this.length;i++){var a=this[i][0];"number"==typeof a&&(n[a]=!0)}for(i=0;i<r.length;i++){var s=r[i];"number"==typeof s[0]&&n[s[0]]||(e&&!s[2]?s[2]=e:e&&(s[2]="("+s[2]+") and ("+e+")"),t.push(s))}},t}},function(t,r){function e(t,r){for(var e=0;e<t.length;e++){var n=t[e],i=f[n.id];if(i){i.refs++;for(var a=0;a<i.parts.length;a++)i.parts[a](n.parts[a]);for(;a<n.parts.length;a++)i.parts.push(h(n.parts[a],r))}else{for(var s=[],a=0;a<n.parts.length;a++)s.push(h(n.parts[a],r));f[n.id]={id:n.id,refs:1,parts:s}}}}function n(t){for(var r=[],e={},n=0;n<t.length;n++){var i=t[n],a=i[0],s=i[1],o=i[2],h=i[3],u={css:s,media:o,sourceMap:h};e[a]?e[a].parts.push(u):r.push(e[a]={id:a,parts:[u]})}return r}function i(t,r){var e=m(),n=y[y.length-1];if("top"===t.insertAt)n?n.nextSibling?e.insertBefore(r,n.nextSibling):e.appendChild(r):e.insertBefore(r,e.firstChild),y.push(r);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");e.appendChild(r)}}function a(t){t.parentNode.removeChild(t);var r=y.indexOf(t);r>=0&&y.splice(r,1)}function s(t){var r=document.createElement("style");return r.type="text/css",i(t,r),r}function o(t){var r=document.createElement("link");return r.rel="stylesheet",i(t,r),r}function h(t,r){var e,n,i;if(r.singleton){var h=v++;e=g||(g=s(r)),n=u.bind(null,e,h,!1),i=u.bind(null,e,h,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(e=o(r),n=l.bind(null,e),i=function(){a(e),e.href&&URL.revokeObjectURL(e.href)}):(e=s(r),n=c.bind(null,e),i=function(){a(e)});return n(t),function(r){if(r){if(r.css===t.css&&r.media===t.media&&r.sourceMap===t.sourceMap)return;n(t=r)}else i()}}function u(t,r,e,n){var i=e?"":n.css;if(t.styleSheet)t.styleSheet.cssText=_(r,i);else{var a=document.createTextNode(i),s=t.childNodes;s[r]&&t.removeChild(s[r]),s.length?t.insertBefore(a,s[r]):t.appendChild(a)}}function c(t,r){var e=r.css,n=r.media;if(n&&t.setAttribute("media",n),t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}function l(t,r){var e=r.css,n=r.sourceMap;n&&(e+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */");var i=new Blob([e],{type:"text/css"}),a=t.href;t.href=URL.createObjectURL(i),a&&URL.revokeObjectURL(a)}var f={},p=function(t){var r;return function(){return void 0===r&&(r=t.apply(this,arguments)),r}},d=p(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),m=p(function(){return document.head||document.getElementsByTagName("head")[0]}),g=null,v=0,y=[];t.exports=function(t,r){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");r=r||{},void 0===r.singleton&&(r.singleton=d()),void 0===r.insertAt&&(r.insertAt="bottom");var i=n(t);return e(i,r),function(t){for(var a=[],s=0;s<i.length;s++){var o=i[s],h=f[o.id];h.refs--,a.push(h)}if(t){e(n(t),r)}for(var s=0;s<a.length;s++){var h=a[s];if(0===h.refs){for(var u=0;u<h.parts.length;u++)h.parts[u]();delete f[h.id]}}}};var _=function(){var t=[];return function(r,e){return t[r]=e,t.filter(Boolean).join("\n")}}()},function(t,r){var e=function(){var t=Date.now(),r=t,e=0,n=1/0,i=0,a=0,s=1/0,o=0,h=0,u=0,c=document.createElement("div");c.id="stats",c.addEventListener("mousedown",function(t){t.preventDefault(),y(++u%2)},!1),c.style.cssText="width:80px;opacity:0.9;cursor:pointer";var l=document.createElement("div");l.id="fps",l.style.cssText="padding:0 0 3px 3px;text-align:left;background-color:#002",c.appendChild(l);var f=document.createElement("div");f.id="fpsText",f.style.cssText="color:#0ff;font-family:Helvetica,Arial,sans-serif;font-size:9px;font-weight:bold;line-height:15px",f.innerHTML="FPS",l.appendChild(f);var p=document.createElement("div");for(p.id="fpsGraph",p.style.cssText="position:relative;width:74px;height:30px;background-color:#0ff",l.appendChild(p);74>p.children.length;){var d=document.createElement("span");d.style.cssText="width:1px;height:30px;float:left;background-color:#113",p.appendChild(d)}var m=document.createElement("div");m.id="ms",m.style.cssText="padding:0 0 3px 3px;text-align:left;background-color:#020;display:none",c.appendChild(m);var g=document.createElement("div");g.id="msText",g.style.cssText="color:#0f0;font-family:Helvetica,Arial,sans-serif;font-size:9px;font-weight:bold;line-height:15px",g.innerHTML="MS",m.appendChild(g);var v=document.createElement("div");for(v.id="msGraph",v.style.cssText="position:relative;width:74px;height:30px;background-color:#0f0",m.appendChild(v);74>v.children.length;)d=document.createElement("span"),d.style.cssText="width:1px;height:30px;float:left;background-color:#131",v.appendChild(d);var y=function(t){switch(u=t){case 0:l.style.display="block",m.style.display="none";break;case 1:l.style.display="none",m.style.display="block"}};return{REVISION:12,domElement:c,setMode:y,begin:function(){t=Date.now()},end:function(){var u=Date.now();e=u-t,n=Math.min(n,e),i=Math.max(i,e),g.textContent=e+" MS ("+n+"-"+i+")";var c=Math.min(30,30-e/200*30);return v.appendChild(v.firstChild).style.height=c+"px",h++,u>r+1e3&&(a=Math.round(1e3*h/(u-r)),s=Math.min(s,a),o=Math.max(o,a),f.textContent=a+" FPS ("+s+"-"+o+")",c=Math.min(30,30-a/100*30),p.appendChild(p.firstChild).style.height=c+"px",r=u,h=0),u},update:function(){t=this.end()}}};"object"==typeof t&&(t.exports=e)},function(t,r,e){function n(t){if(!(this instanceof n))return new n(t);this._attributes=[],this._dirty=!0,this._length=0,this._index=null,this._vao=null,this._keys=[],this.gl=t}var i=e(34),a=e(52);t.exports=n,n.prototype.dispose=function(){for(var t=0;t<this._attributes.length;t++)this._attributes[t].buffer.dispose();this._attributes=[],this._keys=[],this._length=0,this._dirty=!0,this._index&&(this._index.dispose(),this._index=null),this._vao&&(this._vao.dispose(),this._vao=null)},n.prototype.faces=function(t,r){var e=r&&r.size||3;return t=t.cells?t.cells:t,this._dirty=!0,this._index&&this._index.dispose(),this._index=i(this.gl,t,e,this.gl.ELEMENT_ARRAY_BUFFER,"uint16"),this._length=this._index.length*e,this._index=this._index.buffer,this},n.prototype.attr=function(t,r,e){e=e||{},this._dirty=!0;var n=this.gl,a=!this._attributes.length,s=e.size||3,o=i(n,r,s,n.ARRAY_BUFFER,"float32");if(!o)throw new Error("Unexpected attribute format: needs an ndarray, array, typed array, gl-buffer or simplicial complex");var h=o.buffer,u=o.length,c=o.index;return this._keys.push(t),this._attributes.push({size:s,buffer:h}),a&&(this._length=u),a&&c&&(this._index=c),this},n.prototype.bind=function(t){if(this.update(),this._vao.bind(),this._keys){for(var r=0;r<this._keys.length;r++){var e=t.attributes[this._keys[r]];e&&(e.location=r)}t&&t.bind()}},n.prototype.draw=function(t,r,e){r=void 0===r?0:r,e=void 0===e?this._length:e,t=void 0===t?this.gl.TRIANGLES:t,this.update(),this._vao._useElements?this.gl.drawElements(t,e-r,this._vao._elementsType,r):this.gl.drawArrays(t,r,e-r)},n.prototype.unbind=function(){this.update(),this._vao.unbind()},n.prototype.update=function(){this._dirty&&(this._dirty=!1,this._vao&&this._vao.dispose(),this._vao=a(this.gl,this._attributes,this._index))}},function(t,r,e){function n(t,r,e,n,l){return Array.isArray(r)&&Array.isArray(r[0])?{buffer:h(t,s(r,l),n),length:r.length}:Array.isArray(r)&&o(r[0])?{buffer:h(t,s(r,l),n),length:r.length*r[0].length/e}:Array.isArray(r)?{buffer:h(t,new(c(l))(r),n),length:r.length/e}:r.handle instanceof WebGLBuffer?{buffer:r,length:r.length/e/4}:r.cells&&r.positions?{length:r.cells.length*e,buffer:h(t,s(r.positions,l),n),index:h(t,s(r.cells,"uint16"),t.ELEMENT_ARRAY_BUFFER)}:u(r)?{buffer:h(t,r,n),length:i(r.shape)/e}:o(r)?(!l||r instanceof c(l)||(r=a(r,c(l))),{buffer:h(t,r,n),length:r.length/e}):void 0}function i(t){for(var r=1,e=0;e<t.length;e++)r*=t[e];return r}function a(t,r){r=new r(t.length);for(var e=0;e<t.length;e++)r[e]=t[e];return r}var s=e(35),o=e(40),h=e(41),u=e(50),c=e(51);t.exports=n},function(t,r,e){function n(t,r){if(r=r||"float32",!t[0]||!t[0].length)return t;for(var e="string"==typeof r?i(r):r,n=t[0].length,a=new e(t.length*n),s=0,o=0;o<t.length;o++)for(var h=0;h<n;h++)a[s++]=t[o][h];return a}var i=e(36);t.exports=n},function(t,r,e){(function(r){t.exports=function(t){switch(t){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array;case"uint8_clamped":return Uint8ClampedArray;case"generic":case"data":case"dataview":return ArrayBuffer;case"buffer":return void 0===r?ArrayBuffer:r}}}).call(r,e(12).Buffer)},function(t,r,e){"use strict";function n(t){var r=t.length;if(r%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===t[r-2]?2:"="===t[r-1]?1:0}function i(t){return 3*t.length/4-n(t)}function a(t){var r,e,i,a,s,o=t.length;a=n(t),s=new l(3*o/4-a),e=a>0?o-4:o;var h=0;for(r=0;r<e;r+=4)i=c[t.charCodeAt(r)]<<18|c[t.charCodeAt(r+1)]<<12|c[t.charCodeAt(r+2)]<<6|c[t.charCodeAt(r+3)],s[h++]=i>>16&255,s[h++]=i>>8&255,s[h++]=255&i;return 2===a?(i=c[t.charCodeAt(r)]<<2|c[t.charCodeAt(r+1)]>>4,s[h++]=255&i):1===a&&(i=c[t.charCodeAt(r)]<<10|c[t.charCodeAt(r+1)]<<4|c[t.charCodeAt(r+2)]>>2,s[h++]=i>>8&255,s[h++]=255&i),s}function s(t){return u[t>>18&63]+u[t>>12&63]+u[t>>6&63]+u[63&t]}function o(t,r,e){for(var n,i=[],a=r;a<e;a+=3)n=(t[a]<<16)+(t[a+1]<<8)+t[a+2],i.push(s(n));return i.join("")}function h(t){for(var r,e=t.length,n=e%3,i="",a=[],s=0,h=e-n;s<h;s+=16383)a.push(o(t,s,s+16383>h?h:s+16383));return 1===n?(r=t[e-1],i+=u[r>>2],i+=u[r<<4&63],i+="=="):2===n&&(r=(t[e-2]<<8)+t[e-1],i+=u[r>>10],i+=u[r>>4&63],i+=u[r<<2&63],i+="="),a.push(i),a.join("")}r.byteLength=i,r.toByteArray=a,r.fromByteArray=h;for(var u=[],c=[],l="undefined"!=typeof Uint8Array?Uint8Array:Array,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p=0,d=f.length;p<d;++p)u[p]=f[p],c[f.charCodeAt(p)]=p;c["-".charCodeAt(0)]=62,c["_".charCodeAt(0)]=63},function(t,r){r.read=function(t,r,e,n,i){var a,s,o=8*i-n-1,h=(1<<o)-1,u=h>>1,c=-7,l=e?i-1:0,f=e?-1:1,p=t[r+l];for(l+=f,a=p&(1<<-c)-1,p>>=-c,c+=o;c>0;a=256*a+t[r+l],l+=f,c-=8);for(s=a&(1<<-c)-1,a>>=-c,c+=n;c>0;s=256*s+t[r+l],l+=f,c-=8);if(0===a)a=1-u;else{if(a===h)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,n),a-=u}return(p?-1:1)*s*Math.pow(2,a-n)},r.write=function(t,r,e,n,i,a){var s,o,h,u=8*a-i-1,c=(1<<u)-1,l=c>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:a-1,d=n?1:-1,m=r<0||0===r&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(o=isNaN(r)?1:0,s=c):(s=Math.floor(Math.log(r)/Math.LN2),r*(h=Math.pow(2,-s))<1&&(s--,h*=2),r+=s+l>=1?f/h:f*Math.pow(2,1-l),r*h>=2&&(s++,h/=2),s+l>=c?(o=0,s=c):s+l>=1?(o=(r*h-1)*Math.pow(2,i),s+=l):(o=r*Math.pow(2,l-1)*Math.pow(2,i),s=0));i>=8;t[e+p]=255&o,p+=d,o/=256,i-=8);for(s=s<<i|o,u+=i;u>0;t[e+p]=255&s,p+=d,s/=256,u-=8);t[e+p-d]|=128*m}},function(t,r){var e={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==e.call(t)}},function(t,r){function e(t){return n(t)||i(t)}function n(t){return t instanceof Int8Array||t instanceof Int16Array||t instanceof Int32Array||t instanceof Uint8Array||t instanceof Uint16Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array}function i(t){return s[a.call(t)]}t.exports=e,e.strict=n,e.loose=i;var a=Object.prototype.toString,s={"[object Int8Array]":!0,"[object Int16Array]":!0,"[object Int32Array]":!0,"[object Uint8Array]":!0,"[object Uint16Array]":!0,"[object Uint32Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0}},function(t,r,e){"use strict";function n(t,r,e,n,i){this.gl=t,this.type=r,this.handle=e,this.length=n,this.usage=i}function i(t,r,e,n,i,a){var s=i.length*i.BYTES_PER_ELEMENT;if(a<0)return t.bufferData(r,i,n),s;if(s+a>e)throw new Error("gl-buffer: If resizing buffer, must not specify offset");return t.bufferSubData(r,a,i),e}function a(t,r){for(var e=h.malloc(t.length,r),n=t.length,i=0;i<n;++i)e[i]=t[i];return e}function s(t,r){for(var e=1,n=r.length-1;n>=0;--n){if(r[n]!==e)return!1;e*=t[n]}return!0}function o(t,r,e,i){if(e=e||t.ARRAY_BUFFER,i=i||t.DYNAMIC_DRAW,e!==t.ARRAY_BUFFER&&e!==t.ELEMENT_ARRAY_BUFFER)throw new Error("gl-buffer: Invalid type for webgl buffer, must be either gl.ARRAY_BUFFER or gl.ELEMENT_ARRAY_BUFFER");if(i!==t.DYNAMIC_DRAW&&i!==t.STATIC_DRAW&&i!==t.STREAM_DRAW)throw new Error("gl-buffer: Invalid usage for buffer, must be either gl.DYNAMIC_DRAW, gl.STATIC_DRAW or gl.STREAM_DRAW");var a=t.createBuffer(),s=new n(t,e,a,0,i);return s.update(r),s}var h=e(14),u=e(15),c=e(16),l=["uint8","uint8_clamped","uint16","uint32","int8","int16","int32","float32"],f=n.prototype;f.bind=function(){this.gl.bindBuffer(this.type,this.handle)},f.unbind=function(){this.gl.bindBuffer(this.type,null)},f.dispose=function(){this.gl.deleteBuffer(this.handle)},f.update=function(t,r){if("number"!=typeof r&&(r=-1),this.bind(),"object"==typeof t&&void 0!==t.shape){var e=t.dtype;if(l.indexOf(e)<0&&(e="float32"),this.type===this.gl.ELEMENT_ARRAY_BUFFER){e=gl.getExtension("OES_element_index_uint")&&"uint16"!==e?"uint32":"uint16"}if(e===t.dtype&&s(t.shape,t.stride))0===t.offset&&t.data.length===t.shape[0]?this.length=i(this.gl,this.type,this.length,this.usage,t.data,r):this.length=i(this.gl,this.type,this.length,this.usage,t.data.subarray(t.offset,t.shape[0]),r);else{var n=h.malloc(t.size,e),o=c(n,t.shape);u.assign(o,t),this.length=r<0?i(this.gl,this.type,this.length,this.usage,n,r):i(this.gl,this.type,this.length,this.usage,n.subarray(0,t.size),r),h.free(n)}}else if(Array.isArray(t)){var f;f=this.type===this.gl.ELEMENT_ARRAY_BUFFER?a(t,"uint16"):a(t,"float32"),this.length=r<0?i(this.gl,this.type,this.length,this.usage,f,r):i(this.gl,this.type,this.length,this.usage,f.subarray(0,t.length),r),h.free(f)}else if("object"==typeof t&&"number"==typeof t.length)this.length=i(this.gl,this.type,this.length,this.usage,t,r);else{if("number"!=typeof t&&void 0!==t)throw new Error("gl-buffer: Invalid data type");if(r>=0)throw new Error("gl-buffer: Cannot specify offset when resizing buffer");t|=0,t<=0&&(t=1),this.gl.bufferData(this.type,0|t,this.usage),this.length=t}},t.exports=o},function(t,r,e){"use strict";"use restrict";function n(t){var r=32;return t&=-t,t&&r--,65535&t&&(r-=16),16711935&t&&(r-=8),252645135&t&&(r-=4),858993459&t&&(r-=2),1431655765&t&&(r-=1),r}r.INT_BITS=32,r.INT_MAX=2147483647,r.INT_MIN=-1<<31,r.sign=function(t){return(t>0)-(t<0)},r.abs=function(t){var r=t>>31;return(t^r)-r},r.min=function(t,r){return r^(t^r)&-(t<r)},r.max=function(t,r){return t^(t^r)&-(t<r)},r.isPow2=function(t){return!(t&t-1||!t)},r.log2=function(t){var r,e;return r=(t>65535)<<4,t>>>=r,e=(t>255)<<3,t>>>=e,r|=e,e=(t>15)<<2,t>>>=e,r|=e,e=(t>3)<<1,t>>>=e,(r|=e)|t>>1},r.log10=function(t){return t>=1e9?9:t>=1e8?8:t>=1e7?7:t>=1e6?6:t>=1e5?5:t>=1e4?4:t>=1e3?3:t>=100?2:t>=10?1:0},r.popCount=function(t){return t-=t>>>1&1431655765,16843009*((t=(858993459&t)+(t>>>2&858993459))+(t>>>4)&252645135)>>>24},r.countTrailingZeros=n,r.nextPow2=function(t){return t+=0===t,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)+1},r.prevPow2=function(t){return t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)-(t>>>1)},r.parity=function(t){return t^=t>>>16,t^=t>>>8,t^=t>>>4,27030>>>(t&=15)&1};var i=new Array(256);!function(t){for(var r=0;r<256;++r){var e=r,n=r,i=7;for(e>>>=1;e;e>>>=1)n<<=1,n|=1&e,--i;t[r]=n<<i&255}}(i),r.reverse=function(t){return i[255&t]<<24|i[t>>>8&255]<<16|i[t>>>16&255]<<8|i[t>>>24&255]},r.interleave2=function(t,r){return t&=65535,t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),r&=65535,r=16711935&(r|r<<8),r=252645135&(r|r<<4),r=858993459&(r|r<<2),r=1431655765&(r|r<<1),t|r<<1},r.deinterleave2=function(t,r){return t=t>>>r&1431655765,t=858993459&(t|t>>>1),t=252645135&(t|t>>>2),t=16711935&(t|t>>>4),(t=65535&(t|t>>>16))<<16>>16},r.interleave3=function(t,r,e){return t&=1023,t=4278190335&(t|t<<16),t=251719695&(t|t<<8),t=3272356035&(t|t<<4),t=1227133513&(t|t<<2),r&=1023,r=4278190335&(r|r<<16),r=251719695&(r|r<<8),r=3272356035&(r|r<<4),r=1227133513&(r|r<<2),t|=r<<1,e&=1023,e=4278190335&(e|e<<16),e=251719695&(e|e<<8),e=3272356035&(e|e<<4),e=1227133513&(e|e<<2),t|e<<2},r.deinterleave3=function(t,r){return t=t>>>r&1227133513,t=3272356035&(t|t>>>2),t=251719695&(t|t>>>4),t=4278190335&(t|t>>>8),(t=1023&(t|t>>>16))<<22>>22},r.nextCombination=function(t){var r=t|t-1;return r+1|(~r&-~r)-1>>>n(t)+1}},function(t,r,e){"use strict";function n(t,r,e){var i=0|t[e];if(i<=0)return[];var a,s=new Array(i);if(e===t.length-1)for(a=0;a<i;++a)s[a]=r;else for(a=0;a<i;++a)s[a]=n(t,r,e+1);return s}function i(t,r){var e,n;for(e=new Array(t),n=0;n<t;++n)e[n]=r;return e}function a(t,r){switch(void 0===r&&(r=0),typeof t){case"number":if(t>0)return i(0|t,r);break;case"object":if("number"==typeof t.length)return n(t,r,0)}return[]}t.exports=a},function(t,r,e){"use strict";function n(){this.argTypes=[],this.shimArgs=[],this.arrayArgs=[],this.arrayBlockIndices=[],this.scalarArgs=[],this.offsetArgs=[],this.offsetArgIndex=[],this.indexArgs=[],this.shapeArgs=[],this.funcName="",this.pre=null,this.body=null,this.post=null,this.debug=!1}function i(t){var r=new n;r.pre=t.pre,r.body=t.body,r.post=t.post;var e=t.args.slice(0);r.argTypes=e;for(var i=0;i<e.length;++i){var s=e[i];if("array"===s||"object"==typeof s&&s.blockIndices){if(r.argTypes[i]="array",r.arrayArgs.push(i),r.arrayBlockIndices.push(s.blockIndices?s.blockIndices:0),r.shimArgs.push("array"+i),i<r.pre.args.length&&r.pre.args[i].count>0)throw new Error("cwise: pre() block may not reference array args");if(i<r.post.args.length&&r.post.args[i].count>0)throw new Error("cwise: post() block may not reference array args")}else if("scalar"===s)r.scalarArgs.push(i),r.shimArgs.push("scalar"+i);else if("index"===s){if(r.indexArgs.push(i),i<r.pre.args.length&&r.pre.args[i].count>0)throw new Error("cwise: pre() block may not reference array index");if(i<r.body.args.length&&r.body.args[i].lvalue)throw new Error("cwise: body() block may not write to array index");if(i<r.post.args.length&&r.post.args[i].count>0)throw new Error("cwise: post() block may not reference array index")}else if("shape"===s){if(r.shapeArgs.push(i),i<r.pre.args.length&&r.pre.args[i].lvalue)throw new Error("cwise: pre() block may not write to array shape");if(i<r.body.args.length&&r.body.args[i].lvalue)throw new Error("cwise: body() block may not write to array shape");if(i<r.post.args.length&&r.post.args[i].lvalue)throw new Error("cwise: post() block may not write to array shape")}else{if("object"!=typeof s||!s.offset)throw new Error("cwise: Unknown argument type "+e[i]);r.argTypes[i]="offset",r.offsetArgs.push({array:s.array,offset:s.offset}),r.offsetArgIndex.push(i)}}if(r.arrayArgs.length<=0)throw new Error("cwise: No array arguments specified");if(r.pre.args.length>e.length)throw new Error("cwise: Too many arguments in pre() block");if(r.body.args.length>e.length)throw new Error("cwise: Too many arguments in body() block");if(r.post.args.length>e.length)throw new Error("cwise: Too many arguments in post() block");return r.debug=!!t.printCode||!!t.debug,r.funcName=t.funcName||"cwise",r.blockSize=t.blockSize||64,a(r)}var a=e(45);t.exports=i},function(t,r,e){"use strict";function n(t){var r=["'use strict'","var CACHED={}"],e=[],n=t.funcName+"_cwise_thunk";r.push(["return function ",n,"(",t.shimArgs.join(","),"){"].join(""));for(var a=[],s=[],o=[["array",t.arrayArgs[0],".shape.slice(",Math.max(0,t.arrayBlockIndices[0]),t.arrayBlockIndices[0]<0?","+t.arrayBlockIndices[0]+")":")"].join("")],h=[],u=[],c=0;c<t.arrayArgs.length;++c){var l=t.arrayArgs[c];e.push(["t",l,"=array",l,".dtype,","r",l,"=array",l,".order"].join("")),a.push("t"+l),a.push("r"+l),s.push("t"+l),s.push("r"+l+".join()"),o.push("array"+l+".data"),o.push("array"+l+".stride"),o.push("array"+l+".offset|0"),c>0&&(h.push("array"+t.arrayArgs[0]+".shape.length===array"+l+".shape.length+"+(Math.abs(t.arrayBlockIndices[0])-Math.abs(t.arrayBlockIndices[c]))),u.push("array"+t.arrayArgs[0]+".shape[shapeIndex+"+Math.max(0,t.arrayBlockIndices[0])+"]===array"+l+".shape[shapeIndex+"+Math.max(0,t.arrayBlockIndices[c])+"]"))}t.arrayArgs.length>1&&(r.push("if (!("+h.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same dimensionality!')"),r.push("for(var shapeIndex=array"+t.arrayArgs[0]+".shape.length-"+Math.abs(t.arrayBlockIndices[0])+"; shapeIndex--\x3e0;) {"),r.push("if (!("+u.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same shape!')"),r.push("}"));for(var c=0;c<t.scalarArgs.length;++c)o.push("scalar"+t.scalarArgs[c]);return e.push(["type=[",s.join(","),"].join()"].join("")),e.push("proc=CACHED[type]"),r.push("var "+e.join(",")),r.push(["if(!proc){","CACHED[type]=proc=compile([",a.join(","),"])}","return proc(",o.join(","),")}"].join("")),t.debug,new Function("compile",r.join("\n"))(i.bind(void 0,t))}var i=e(46);t.exports=n},function(t,r,e){"use strict";function n(t,r,e){var n,i,a=t.length,s=r.arrayArgs.length,o=r.indexArgs.length>0,h=[],u=[],c=0,l=0;for(n=0;n<a;++n)u.push(["i",n,"=0"].join(""));for(i=0;i<s;++i)for(n=0;n<a;++n)l=c,c=t[n],0===n?u.push(["d",i,"s",n,"=t",i,"p",c].join("")):u.push(["d",i,"s",n,"=(t",i,"p",c,"-s",l,"*t",i,"p",l,")"].join(""));for(u.length>0&&h.push("var "+u.join(",")),n=a-1;n>=0;--n)c=t[n],h.push(["for(i",n,"=0;i",n,"<s",c,";++i",n,"){"].join(""));for(h.push(e),n=0;n<a;++n){for(l=c,c=t[n],i=0;i<s;++i)h.push(["p",i,"+=d",i,"s",n].join(""));o&&(n>0&&h.push(["index[",l,"]-=s",l].join("")),h.push(["++index[",c,"]"].join(""))),h.push("}")}return h.join("\n")}function i(t,r,e,i){for(var a=r.length,s=e.arrayArgs.length,o=e.blockSize,h=e.indexArgs.length>0,u=[],c=0;c<s;++c)u.push(["var offset",c,"=p",c].join(""));for(var c=t;c<a;++c)u.push(["for(var j"+c+"=SS[",r[c],"]|0;j",c,">0;){"].join("")),u.push(["if(j",c,"<",o,"){"].join("")),u.push(["s",r[c],"=j",c].join("")),u.push(["j",c,"=0"].join("")),u.push(["}else{s",r[c],"=",o].join("")),u.push(["j",c,"-=",o,"}"].join("")),h&&u.push(["index[",r[c],"]=j",c].join(""));for(var c=0;c<s;++c){for(var l=["offset"+c],f=t;f<a;++f)l.push(["j",f,"*t",c,"p",r[f]].join(""));u.push(["p",c,"=(",l.join("+"),")"].join(""))}u.push(n(r,e,i));for(var c=t;c<a;++c)u.push("}");return u.join("\n")}function a(t){for(var r=0,e=t[0].length;r<e;){for(var n=1;n<t.length;++n)if(t[n][r]!==t[0][r])return r;++r}return r}function s(t,r,e){for(var n=t.body,i=[],a=[],s=0;s<t.args.length;++s){var o=t.args[s];if(!(o.count<=0)){var h=new RegExp(o.name,"g"),u="",c=r.arrayArgs.indexOf(s);switch(r.argTypes[s]){case"offset":var l=r.offsetArgIndex.indexOf(s);c=r.offsetArgs[l].array,u="+q"+l;case"array":u="p"+c+u;var f="l"+s,p="a"+c;if(0===r.arrayBlockIndices[c])1===o.count?"generic"===e[c]?o.lvalue?(i.push(["var ",f,"=",p,".get(",u,")"].join("")),n=n.replace(h,f),a.push([p,".set(",u,",",f,")"].join(""))):n=n.replace(h,[p,".get(",u,")"].join("")):n=n.replace(h,[p,"[",u,"]"].join("")):"generic"===e[c]?(i.push(["var ",f,"=",p,".get(",u,")"].join("")),n=n.replace(h,f),o.lvalue&&a.push([p,".set(",u,",",f,")"].join(""))):(i.push(["var ",f,"=",p,"[",u,"]"].join("")),n=n.replace(h,f),o.lvalue&&a.push([p,"[",u,"]=",f].join("")));else{for(var d=[o.name],m=[u],g=0;g<Math.abs(r.arrayBlockIndices[c]);g++)d.push("\\s*\\[([^\\]]+)\\]"),m.push("$"+(g+1)+"*t"+c+"b"+g);if(h=new RegExp(d.join(""),"g"),u=m.join("+"),"generic"===e[c])throw new Error("cwise: Generic arrays not supported in combination with blocks!");n=n.replace(h,[p,"[",u,"]"].join(""))}break;case"scalar":n=n.replace(h,"Y"+r.scalarArgs.indexOf(s));break;case"index":n=n.replace(h,"index");break;case"shape":n=n.replace(h,"shape")}}}return[i.join("\n"),n,a.join("\n")].join("\n").trim()}function o(t){for(var r=new Array(t.length),e=!0,n=0;n<t.length;++n){var i=t[n],a=i.match(/\d+/);a=a?a[0]:"",0===i.charAt(0)?r[n]="u"+i.charAt(1)+a:r[n]=i.charAt(0)+a,n>0&&(e=e&&r[n]===r[n-1])}return e?r[0]:r.join("")}function h(t,r){for(var e=r[1].length-Math.abs(t.arrayBlockIndices[0])|0,h=new Array(t.arrayArgs.length),c=new Array(t.arrayArgs.length),l=0;l<t.arrayArgs.length;++l)c[l]=r[2*l],h[l]=r[2*l+1];for(var f=[],p=[],d=[],m=[],g=[],l=0;l<t.arrayArgs.length;++l){t.arrayBlockIndices[l]<0?(d.push(0),m.push(e),f.push(e),p.push(e+t.arrayBlockIndices[l])):(d.push(t.arrayBlockIndices[l]),m.push(t.arrayBlockIndices[l]+e),f.push(0),p.push(t.arrayBlockIndices[l]));for(var v=[],y=0;y<h[l].length;y++)d[l]<=h[l][y]&&h[l][y]<m[l]&&v.push(h[l][y]-d[l]);g.push(v)}for(var _=["SS"],x=["'use strict'"],b=[],y=0;y<e;++y)b.push(["s",y,"=SS[",y,"]"].join(""));for(var l=0;l<t.arrayArgs.length;++l){_.push("a"+l),_.push("t"+l),_.push("p"+l);for(var y=0;y<e;++y)b.push(["t",l,"p",y,"=t",l,"[",d[l]+y,"]"].join(""));for(var y=0;y<Math.abs(t.arrayBlockIndices[l]);++y)b.push(["t",l,"b",y,"=t",l,"[",f[l]+y,"]"].join(""))}for(var l=0;l<t.scalarArgs.length;++l)_.push("Y"+l);if(t.shapeArgs.length>0&&b.push("shape=SS.slice(0)"),t.indexArgs.length>0){for(var E=new Array(e),l=0;l<e;++l)E[l]="0";b.push(["index=[",E.join(","),"]"].join(""))}for(var l=0;l<t.offsetArgs.length;++l){for(var M=t.offsetArgs[l],w=[],y=0;y<M.offset.length;++y)0!==M.offset[y]&&(1===M.offset[y]?w.push(["t",M.array,"p",y].join("")):w.push([M.offset[y],"*t",M.array,"p",y].join("")));0===w.length?b.push("q"+l+"=0"):b.push(["q",l,"=",w.join("+")].join(""))}var A=u([].concat(t.pre.thisVars).concat(t.body.thisVars).concat(t.post.thisVars));b=b.concat(A),b.length>0&&x.push("var "+b.join(","));for(var l=0;l<t.arrayArgs.length;++l)x.push("p"+l+"|=0");t.pre.body.length>3&&x.push(s(t.pre,t,c));var T=s(t.body,t,c),R=a(g);R<e?x.push(i(R,g[0],t,T)):x.push(n(g[0],t,T)),t.post.body.length>3&&x.push(s(t.post,t,c)),t.debug;var S=[t.funcName||"unnamed","_cwise_loop_",h[0].join("s"),"m",R,o(c)].join("");return new Function(["function ",S,"(",_.join(","),"){",x.join("\n"),"} return ",S].join(""))()}var u=e(47);t.exports=h},function(t,r,e){"use strict";function n(t,r){for(var e=1,n=t.length,i=t[0],a=t[0],s=1;s<n;++s)if(a=i,i=t[s],r(i,a)){if(s===e){e++;continue}t[e++]=i}return t.length=e,t}function i(t){for(var r=1,e=t.length,n=t[0],i=t[0],a=1;a<e;++a,i=n)if(i=n,(n=t[a])!==i){if(a===r){r++;continue}t[r++]=n}return t.length=r,t}function a(t,r,e){return 0===t.length?t:r?(e||t.sort(r),n(t,r)):(e||t.sort(),i(t))}t.exports=a},function(t,r,e){"use strict";function n(t){for(var r=new Array(t),e=0;e<t;++e)r[e]=e;return r}t.exports=n},function(t,r){function e(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}function n(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&e(t.slice(0,0))}t.exports=function(t){return null!=t&&(e(t)||n(t)||!!t._isBuffer)}},function(t,r){t.exports=function(t){return!!t&&(!!t.dtype&&new RegExp("function View[0-9]+d(:?"+t.dtype+")+").test(String(t.constructor)))}},function(t,r){t.exports=function(t){switch(t){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array}}},function(t,r,e){"use strict";function n(t){this.bindVertexArrayOES=t.bindVertexArray.bind(t),this.createVertexArrayOES=t.createVertexArray.bind(t),this.deleteVertexArrayOES=t.deleteVertexArray.bind(t)}function i(t,r,e,i){var o,h=t.createVertexArray?new n(t):t.getExtension("OES_vertex_array_object");return o=h?a(t,h):s(t),o.update(r,e,i),o}var a=e(53),s=e(54);t.exports=i},function(t,r,e){"use strict";function n(t,r,e,n,i,a){this.location=t,this.dimension=r,this.a=e,this.b=n,this.c=i,this.d=a}function i(t,r,e){this.gl=t,this._ext=r,this.handle=e,this._attribs=[],this._useElements=!1,this._elementsType=t.UNSIGNED_SHORT}function a(t,r){return new i(t,r,r.createVertexArrayOES())}var s=e(17);n.prototype.bind=function(t){switch(this.dimension){case 1:t.vertexAttrib1f(this.location,this.a);break;case 2:t.vertexAttrib2f(this.location,this.a,this.b);break;case 3:t.vertexAttrib3f(this.location,this.a,this.b,this.c);break;case 4:t.vertexAttrib4f(this.location,this.a,this.b,this.c,this.d)}},i.prototype.bind=function(){this._ext.bindVertexArrayOES(this.handle);for(var t=0;t<this._attribs.length;++t)this._attribs[t].bind(this.gl)},i.prototype.unbind=function(){this._ext.bindVertexArrayOES(null)},i.prototype.dispose=function(){this._ext.deleteVertexArrayOES(this.handle)},i.prototype.update=function(t,r,e){if(this.bind(),s(this.gl,r,t),this.unbind(),this._attribs.length=0,t)for(var i=0;i<t.length;++i){var a=t[i];"number"==typeof a?this._attribs.push(new n(i,1,a)):Array.isArray(a)&&this._attribs.push(new n(i,a.length,a[0],a[1],a[2],a[3]))}this._useElements=!!r,this._elementsType=e||this.gl.UNSIGNED_SHORT},i.prototype.draw=function(t,r,e){e=e||0;var n=this.gl;this._useElements?n.drawElements(t,r,this._elementsType,e):n.drawArrays(t,e,r)},t.exports=a},function(t,r,e){"use strict";function n(t){this.gl=t,this._elements=null,this._attributes=null,this._elementsType=t.UNSIGNED_SHORT}function i(t){return new n(t)}var a=e(17);n.prototype.bind=function(){a(this.gl,this._elements,this._attributes)},n.prototype.update=function(t,r,e){this._elements=r,this._attributes=t,this._elementsType=e||this.gl.UNSIGNED_SHORT},n.prototype.dispose=function(){},n.prototype.unbind=function(){},n.prototype.draw=function(t,r,e){e=e||0;var n=this.gl;this._elements?n.drawElements(t,r,this._elementsType,e):n.drawArrays(t,e,r)},t.exports=i},function(t,r,e){function n(t,r,e){function n(){var r=n.parent||t.parentNode;if("function"==typeof r)var e=r(a)||a,o=e[0],h=e[1];else if(r&&r!==document.body)var u=i(r),o=0|u[0],h=0|u[1];else var o=window.innerWidth,h=window.innerHeight;return s?(t.setAttribute("width",o*n.scale+"px"),t.setAttribute("height",h*n.scale+"px")):(t.width=o*n.scale,t.height=h*n.scale),t.style.width=o+"px",t.style.height=h+"px",n}var s="SVG"===t.nodeName.toUpperCase();return t.style.position=t.style.position||"absolute",t.style.top=0,t.style.left=0,n.scale=parseFloat(e||1),n.parent=r,n()}var i=e(56);t.exports=n;var a=new Float32Array(2)},function(t,r){function e(t){if(t===window||t===document.body)return[window.innerWidth,window.innerHeight];if(!t.parentNode){var r=!0;document.body.appendChild(t)}var e=t.getBoundingClientRect(),i=getComputedStyle(t),a=(0|e.height)+n(i.getPropertyValue("margin-top"))+n(i.getPropertyValue("margin-bottom")),s=(0|e.width)+n(i.getPropertyValue("margin-left"))+n(i.getPropertyValue("margin-right"));return r&&document.body.removeChild(t),[s,a]}function n(t){return parseFloat(t)||0}t.exports=e},function(t,r,e){"use strict";function n(t){this.gl=t,this.gl.lastAttribCount=0,this._vref=this._fref=this._relink=this.vertShader=this.fragShader=this.program=this.attributes=this.uniforms=this.types=null}function i(t,r){return t.name<r.name?-1:1}function a(t,r,e,i,a){var s=new n(t);return s.update(r,e,i,a),s}var s=e(58),o=e(59),h=e(18),u=e(60),c=e(78),l=e(3),f=n.prototype;f.bind=function(){this.program||this._relink();var t,r=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES),e=this.gl.lastAttribCount;if(r>e)for(t=e;t<r;t++)this.gl.enableVertexAttribArray(t);else if(e>r)for(t=r;t<e;t++)this.gl.disableVertexAttribArray(t);this.gl.lastAttribCount=r,this.gl.useProgram(this.program)},f.dispose=function(){for(var t=this.gl.lastAttribCount,r=0;r<t;r++)this.gl.disableVertexAttribArray(r);this.gl.lastAttribCount=0,this._fref&&this._fref.dispose(),this._vref&&this._vref.dispose(),this.attributes=this.types=this.vertShader=this.fragShader=this.program=this._relink=this._fref=this._vref=null},f.update=function(t,r,e,n){function a(){p.program=u.program(d,p._vref,p._fref,b,E);for(var t=0;t<e.length;++t)S[t]=d.getUniformLocation(p.program,e[t].name)}if(!r||1===arguments.length){var f=t;t=f.vertex,r=f.fragment,e=f.uniforms,n=f.attributes}var p=this,d=p.gl,m=p._vref;p._vref=u.shader(d,d.VERTEX_SHADER,t),m&&m.dispose(),p.vertShader=p._vref.shader;var g=this._fref;if(p._fref=u.shader(d,d.FRAGMENT_SHADER,r),g&&g.dispose(),p.fragShader=p._fref.shader,!e||!n){var v=d.createProgram();if(d.attachShader(v,p.fragShader),d.attachShader(v,p.vertShader),d.linkProgram(v),!d.getProgramParameter(v,d.LINK_STATUS)){var y=d.getProgramInfoLog(v);throw new l(y,"Error linking program:"+y)}e=e||c.uniforms(d,v),n=n||c.attributes(d,v),d.deleteProgram(v)}n=n.slice(),n.sort(i);var _,x=[],b=[],E=[];for(_=0;_<n.length;++_){var M=n[_];if(M.type.indexOf("mat")>=0){for(var w=0|M.type.charAt(M.type.length-1),A=new Array(w),T=0;T<w;++T)A[T]=E.length,b.push(M.name+"["+T+"]"),"number"==typeof M.location?E.push(M.location+T):Array.isArray(M.location)&&M.location.length===w&&"number"==typeof M.location[T]?E.push(0|M.location[T]):E.push(-1);x.push({name:M.name,type:M.type,locations:A})}else x.push({name:M.name,type:M.type,locations:[E.length]}),b.push(M.name),"number"==typeof M.location?E.push(0|M.location):E.push(-1)}var R=0;for(_=0;_<E.length;++_)if(E[_]<0){for(;E.indexOf(R)>=0;)R+=1;E[_]=R}var S=new Array(e.length);a(),p._relink=a,p.types={uniforms:h(e),attributes:h(n)},p.attributes=o(d,p,x,E),Object.defineProperty(p,"uniforms",s(d,p,e,S))},t.exports=a},function(t,r,e){"use strict";function n(t){return new Function("y","return function(){return y}")(t)}function i(t,r){for(var e=new Array(t),n=0;n<t;++n)e[n]=r;return e}function a(t,r,e,a){function h(e){return new Function("gl","wrapper","locations","return function(){return gl.getUniform(wrapper.program,locations["+e+"])}")(t,r,a)}function u(t,r,e){switch(e){case"bool":case"int":case"sampler2D":case"samplerCube":return"gl.uniform1i(locations["+r+"],obj"+t+")";case"float":return"gl.uniform1f(locations["+r+"],obj"+t+")";default:var n=e.indexOf("vec");if(!(0<=n&&n<=1&&e.length===4+n)){if(0===e.indexOf("mat")&&4===e.length){var i=e.charCodeAt(e.length-1)-48;if(i<2||i>4)throw new o("","Invalid uniform dimension type for matrix "+name+": "+e);return"gl.uniformMatrix"+i+"fv(locations["+r+"],false,obj"+t+")"}throw new o("","Unknown uniform data type for "+name+": "+e)}var i=e.charCodeAt(e.length-1)-48;if(i<2||i>4)throw new o("","Invalid data type");switch(e.charAt(0)){case"b":case"i":return"gl.uniform"+i+"iv(locations["+r+"],obj"+t+")";case"v":return"gl.uniform"+i+"fv(locations["+r+"],obj"+t+")";default:throw new o("","Unrecognized data type for vector "+name+": "+e)}}}function c(t,r){if("object"!=typeof r)return[[t,r]];var e=[];for(var n in r){var i=r[n],a=t;parseInt(n)+""===n?a+="["+n+"]":a+="."+n,"object"==typeof i?e.push.apply(e,c(a,i)):e.push([a,i])}return e}function l(r){for(var n=["return function updateProperty(obj){"],i=c("",r),s=0;s<i.length;++s){var o=i[s],h=o[0],l=o[1];a[l]&&n.push(u(h,l,e[l].type))}return n.push("return obj}"),new Function("gl","locations",n.join("\n"))(t,a)}function f(t){switch(t){case"bool":return!1;case"int":case"sampler2D":case"samplerCube":case"float":return 0;default:var r=t.indexOf("vec");if(0<=r&&r<=1&&t.length===4+r){var e=t.charCodeAt(t.length-1)-48;if(e<2||e>4)throw new o("","Invalid data type");return"b"===t.charAt(0)?i(e,!1):i(e,0)}if(0===t.indexOf("mat")&&4===t.length){var e=t.charCodeAt(t.length-1)-48;if(e<2||e>4)throw new o("","Invalid uniform dimension type for matrix "+name+": "+t);return i(e*e,0)}throw new o("","Unknown uniform data type for "+name+": "+t)}}function p(t,r,i){if("object"==typeof i){var s=d(i);Object.defineProperty(t,r,{get:n(s),set:l(i),enumerable:!0,configurable:!1})}else a[i]?Object.defineProperty(t,r,{get:h(i),set:l(i),enumerable:!0,configurable:!1}):t[r]=f(e[i].type)}function d(t){var r;if(Array.isArray(t)){r=new Array(t.length);for(var e=0;e<t.length;++e)p(r,e,t[e])}else{r={};for(var n in t)p(r,n,t[n])}return r}var m=s(e,!0);return{get:n(d(m)),set:l(m),enumerable:!0,configurable:!0}}var s=e(18),o=e(3);t.exports=a},function(t,r,e){"use strict";function n(t,r,e,n,i,a){this._gl=t,this._wrapper=r,this._index=e,this._locations=n,this._dimension=i,this._constFunc=a}function i(t,r,e,i,a,s,o){for(var h=["gl","v"],u=[],c=0;c<a;++c)h.push("x"+c),u.push("x"+c);h.push("if(x0.length===void 0){return gl.vertexAttrib"+a+"f(v,"+u.join()+")}else{return gl.vertexAttrib"+a+"fv(v,x0)}");var l=Function.apply(null,h),f=new n(t,r,e,i,a,l);Object.defineProperty(s,o,{set:function(r){return t.disableVertexAttribArray(i[e]),l(t,i[e],r),r},get:function(){return f},enumerable:!0})}function a(t,r,e,n,a,s,o){for(var h=new Array(a),u=new Array(a),c=0;c<a;++c)i(t,r,e[c],n,a,h,c),u[c]=h[c];Object.defineProperty(h,"location",{set:function(t){if(Array.isArray(t))for(var r=0;r<a;++r)u[r].location=t[r];else for(var r=0;r<a;++r)u[r].location=t+r;return t},get:function(){for(var t=new Array(a),r=0;r<a;++r)t[r]=n[e[r]];return t},enumerable:!0}),h.pointer=function(r,i,s,o){r=r||t.FLOAT,i=!!i,s=s||a*a,o=o||0;for(var h=0;h<a;++h){var u=n[e[h]];t.vertexAttribPointer(u,a,r,i,s,o+h*a),t.enableVertexAttribArray(u)}};var l=new Array(a),f=t["vertexAttrib"+a+"fv"];Object.defineProperty(s,o,{set:function(r){for(var i=0;i<a;++i){var s=n[e[i]];if(t.disableVertexAttribArray(s),Array.isArray(r[0]))f.call(t,s,r[i]);else{for(var o=0;o<a;++o)l[o]=r[a*i+o];f.call(t,s,l)}}return r},get:function(){return h},enumerable:!0})}function s(t,r,e,n){for(var s={},h=0,u=e.length;h<u;++h){var c=e[h],l=c.name,f=c.type,p=c.locations;switch(f){case"bool":case"int":case"float":i(t,r,p[0],n,1,s,l);break;default:if(f.indexOf("vec")>=0){var d=f.charCodeAt(f.length-1)-48;if(d<2||d>4)throw new o("","Invalid data type for attribute "+l+": "+f);i(t,r,p[0],n,d,s,l)}else{if(!(f.indexOf("mat")>=0))throw new o("","Unknown data type for attribute "+l+": "+f);var d=f.charCodeAt(f.length-1)-48;if(d<2||d>4)throw new o("","Invalid data type for attribute "+l+": "+f);a(t,r,p,n,d,s,l)}}}return s}t.exports=s;var o=e(3),h=n.prototype;h.pointer=function(t,r,e,n){var i=this,a=i._gl,s=i._locations[i._index];a.vertexAttribPointer(s,i._dimension,t||a.FLOAT,!!r,e||0,n||0),a.enableVertexAttribArray(s)},h.set=function(t,r,e,n){return this._constFunc(this._locations[this._index],t,r,e,n)},Object.defineProperty(h,"location",{get:function(){return this._locations[this._index]},set:function(t){return t!==this._locations[this._index]&&(this._locations[this._index]=0|t,this._wrapper.program=null),0|t}})},function(t,r,e){"use strict";function n(t,r,e,n,i,a,s){this.id=t,this.src=r,this.type=e,this.shader=n,this.count=a,this.programs=[],this.cache=s}function i(t){this.gl=t,this.shaders=[{},{}],this.programs={}}function a(t,r,e){var n=t.createShader(r);if(t.shaderSource(n,e),t.compileShader(n),!t.getShaderParameter(n,t.COMPILE_STATUS)){var i=t.getShaderInfoLog(n);try{var a=l(i,e,r)}catch(t){throw new c(i,"Error compiling shader:\n"+i)}throw new c(i,a.short,a.long)}return n}function s(t,r,e,n,i){var a=t.createProgram();t.attachShader(a,r),t.attachShader(a,e);for(var s=0;s<n.length;++s)t.bindAttribLocation(a,i[s],n[s]);if(t.linkProgram(a),!t.getProgramParameter(a,t.LINK_STATUS)){var o=t.getProgramInfoLog(a);throw new c(o,"Error linking program: "+o)}return a}function o(t){var r=p.get(t);return r||(r=new i(t),p.set(t,r)),r}function h(t,r,e){return o(t).getShaderReference(r,e)}function u(t,r,e,n,i){return o(t).getProgram(r,e,n,i)}r.shader=h,r.program=u;var c=e(3),l=e(61),f="undefined"==typeof WeakMap?e(75):WeakMap,p=new f,d=0;n.prototype.dispose=function(){if(0==--this.count){for(var t=this.cache,r=t.gl,e=this.programs,n=0,i=e.length;n<i;++n){var a=t.programs[e[n]];a&&(delete t.programs[n],r.deleteProgram(a))}r.deleteShader(this.shader),delete t.shaders[this.type===r.FRAGMENT_SHADER|0][this.src]}};var m=i.prototype;m.getShaderReference=function(t,r){var e=this.gl,i=this.shaders[t===e.FRAGMENT_SHADER|0],s=i[r];if(s&&e.isShader(s.shader))s.count+=1;else{var o=a(e,t,r);s=i[r]=new n(d++,r,t,o,[],1,this)}return s},m.getProgram=function(t,r,e,n){var i=[t.id,r.id,e.join(":"),n.join(":")].join("@"),a=this.programs[i];return a&&this.gl.isProgram(a)||(this.programs[i]=a=s(this.gl,t.shader,r.shader,e,n),t.programs.push(i),r.programs.push(i)),a}},function(t,r,e){function n(t,r,e){"use strict";var n=s(r)||"of unknown name (see npm glsl-shader-name)",h="unknown type";void 0!==e&&(h=e===a.FRAGMENT_SHADER?"fragment":"vertex");for(var u=i("Error compiling %s shader %s:\n",h,n),c=i("%s%s",u,t),l=t.split("\n"),f={},p=0;p<l.length;p++){var d=l[p];if(""!==d&&"\0"!==d){var m=parseInt(d.split(":")[2]);if(isNaN(m))throw new Error(i("Could not parse error: %s",d));f[m]=d}}for(var g=o(r).split("\n"),p=0;p<g.length;p++)if(f[p+3]||f[p+2]||f[p+1]){var v=g[p];if(u+=v+"\n",f[p+1]){var y=f[p+1];y=y.substr(y.split(":",3).join(":").length+1).trim(),u+=i("^^^ %s\n\n",y)}}return{long:u.trim(),short:c.trim()}}var i=e(62).sprintf,a=e(63),s=e(65),o=e(72);t.exports=n},function(t,r,e){var n;!function(){"use strict";function i(t){return s(o(t),arguments)}function a(t,r){return i.apply(null,[t].concat(r||[]))}function s(t,r){var e,n,a,s,o,u,c,l,f,p=1,d=t.length,m="";for(n=0;n<d;n++)if("string"==typeof t[n])m+=t[n];else if(Array.isArray(t[n])){if(s=t[n],s[2])for(e=r[p],a=0;a<s[2].length;a++){if(!e.hasOwnProperty(s[2][a]))throw new Error(i('[sprintf] property "%s" does not exist',s[2][a]));e=e[s[2][a]]}else e=s[1]?r[s[1]]:r[p++];if(h.not_type.test(s[8])&&h.not_primitive.test(s[8])&&e instanceof Function&&(e=e()),h.numeric_arg.test(s[8])&&"number"!=typeof e&&isNaN(e))throw new TypeError(i("[sprintf] expecting number but found %T",e));switch(h.number.test(s[8])&&(l=e>=0),s[8]){case"b":e=parseInt(e,10).toString(2);break;case"c":e=String.fromCharCode(parseInt(e,10));break;case"d":case"i":e=parseInt(e,10);break;case"j":e=JSON.stringify(e,null,s[6]?parseInt(s[6]):0);break;case"e":e=s[7]?parseFloat(e).toExponential(s[7]):parseFloat(e).toExponential();break;case"f":e=s[7]?parseFloat(e).toFixed(s[7]):parseFloat(e);break;case"g":e=s[7]?String(Number(e.toPrecision(s[7]))):parseFloat(e);break;case"o":e=(parseInt(e,10)>>>0).toString(8);break;case"s":e=String(e),e=s[7]?e.substring(0,s[7]):e;break;case"t":e=String(!!e),e=s[7]?e.substring(0,s[7]):e;break;case"T":e=Object.prototype.toString.call(e).slice(8,-1).toLowerCase(),e=s[7]?e.substring(0,s[7]):e;break;case"u":e=parseInt(e,10)>>>0;break;case"v":e=e.valueOf(),e=s[7]?e.substring(0,s[7]):e;break;case"x":e=(parseInt(e,10)>>>0).toString(16);break;case"X":e=(parseInt(e,10)>>>0).toString(16).toUpperCase()}h.json.test(s[8])?m+=e:(!h.number.test(s[8])||l&&!s[3]?f="":(f=l?"+":"-",e=e.toString().replace(h.sign,"")),u=s[4]?"0"===s[4]?"0":s[4].charAt(1):" ",c=s[6]-(f+e).length,o=s[6]&&c>0?u.repeat(c):"",m+=s[5]?f+e+o:"0"===u?f+o+e:o+f+e)}return m}function o(t){if(u[t])return u[t];for(var r,e=t,n=[],i=0;e;){if(null!==(r=h.text.exec(e)))n.push(r[0]);else if(null!==(r=h.modulo.exec(e)))n.push("%");else{if(null===(r=h.placeholder.exec(e)))throw new SyntaxError("[sprintf] unexpected placeholder");if(r[2]){i|=1;var a=[],s=r[2],o=[];if(null===(o=h.key.exec(s)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(a.push(o[1]);""!==(s=s.substring(o[0].length));)if(null!==(o=h.key_access.exec(s)))a.push(o[1]);else{if(null===(o=h.index_access.exec(s)))throw new SyntaxError("[sprintf] failed to parse named argument key");a.push(o[1])}r[2]=a}else i|=2;if(3===i)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");n.push(r)}e=e.substring(r[0].length)}return u[t]=n}var h={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[\+\-]/},u=Object.create(null);r.sprintf=i,r.vsprintf=a,"undefined"!=typeof window&&(window.sprintf=i,window.vsprintf=a,void 0!==(n=function(){return{sprintf:i,vsprintf:a}}.call(r,e,r,t))&&(t.exports=n))}()},function(t,r,e){var n=e(64);t.exports=function(t){return n[t]}},function(t,r){t.exports={0:"NONE",1:"ONE",2:"LINE_LOOP",3:"LINE_STRIP",4:"TRIANGLES",5:"TRIANGLE_STRIP",6:"TRIANGLE_FAN",256:"DEPTH_BUFFER_BIT",512:"NEVER",513:"LESS",514:"EQUAL",515:"LEQUAL",516:"GREATER",517:"NOTEQUAL",518:"GEQUAL",519:"ALWAYS",768:"SRC_COLOR",769:"ONE_MINUS_SRC_COLOR",770:"SRC_ALPHA",771:"ONE_MINUS_SRC_ALPHA",772:"DST_ALPHA",773:"ONE_MINUS_DST_ALPHA",774:"DST_COLOR",775:"ONE_MINUS_DST_COLOR",776:"SRC_ALPHA_SATURATE",1024:"STENCIL_BUFFER_BIT",1028:"FRONT",1029:"BACK",1032:"FRONT_AND_BACK",1280:"INVALID_ENUM",1281:"INVALID_VALUE",1282:"INVALID_OPERATION",1285:"OUT_OF_MEMORY",1286:"INVALID_FRAMEBUFFER_OPERATION",2304:"CW",2305:"CCW",2849:"LINE_WIDTH",2884:"CULL_FACE",2885:"CULL_FACE_MODE",2886:"FRONT_FACE",2928:"DEPTH_RANGE",2929:"DEPTH_TEST",2930:"DEPTH_WRITEMASK",2931:"DEPTH_CLEAR_VALUE",2932:"DEPTH_FUNC",2960:"STENCIL_TEST",2961:"STENCIL_CLEAR_VALUE",2962:"STENCIL_FUNC",2963:"STENCIL_VALUE_MASK",2964:"STENCIL_FAIL",2965:"STENCIL_PASS_DEPTH_FAIL",2966:"STENCIL_PASS_DEPTH_PASS",2967:"STENCIL_REF",2968:"STENCIL_WRITEMASK",2978:"VIEWPORT",3024:"DITHER",3042:"BLEND",3088:"SCISSOR_BOX",3089:"SCISSOR_TEST",3106:"COLOR_CLEAR_VALUE",3107:"COLOR_WRITEMASK",3317:"UNPACK_ALIGNMENT",3333:"PACK_ALIGNMENT",3379:"MAX_TEXTURE_SIZE",3386:"MAX_VIEWPORT_DIMS",3408:"SUBPIXEL_BITS",3410:"RED_BITS",3411:"GREEN_BITS",3412:"BLUE_BITS",3413:"ALPHA_BITS",3414:"DEPTH_BITS",3415:"STENCIL_BITS",3553:"TEXTURE_2D",4352:"DONT_CARE",4353:"FASTEST",4354:"NICEST",5120:"BYTE",5121:"UNSIGNED_BYTE",5122:"SHORT",5123:"UNSIGNED_SHORT",5124:"INT",5125:"UNSIGNED_INT",5126:"FLOAT",5386:"INVERT",5890:"TEXTURE",6401:"STENCIL_INDEX",6402:"DEPTH_COMPONENT",6406:"ALPHA",6407:"RGB",6408:"RGBA",6409:"LUMINANCE",6410:"LUMINANCE_ALPHA",7680:"KEEP",7681:"REPLACE",7682:"INCR",7683:"DECR",7936:"VENDOR",7937:"RENDERER",7938:"VERSION",9728:"NEAREST",9729:"LINEAR",9984:"NEAREST_MIPMAP_NEAREST",9985:"LINEAR_MIPMAP_NEAREST",9986:"NEAREST_MIPMAP_LINEAR",9987:"LINEAR_MIPMAP_LINEAR",10240:"TEXTURE_MAG_FILTER",10241:"TEXTURE_MIN_FILTER",10242:"TEXTURE_WRAP_S",10243:"TEXTURE_WRAP_T",10497:"REPEAT",10752:"POLYGON_OFFSET_UNITS",16384:"COLOR_BUFFER_BIT",32769:"CONSTANT_COLOR",32770:"ONE_MINUS_CONSTANT_COLOR",32771:"CONSTANT_ALPHA",32772:"ONE_MINUS_CONSTANT_ALPHA",32773:"BLEND_COLOR",32774:"FUNC_ADD",32777:"BLEND_EQUATION_RGB",32778:"FUNC_SUBTRACT",32779:"FUNC_REVERSE_SUBTRACT",32819:"UNSIGNED_SHORT_4_4_4_4",32820:"UNSIGNED_SHORT_5_5_5_1",32823:"POLYGON_OFFSET_FILL",32824:"POLYGON_OFFSET_FACTOR",32854:"RGBA4",32855:"RGB5_A1",32873:"TEXTURE_BINDING_2D",32926:"SAMPLE_ALPHA_TO_COVERAGE",32928:"SAMPLE_COVERAGE",32936:"SAMPLE_BUFFERS",32937:"SAMPLES",32938:"SAMPLE_COVERAGE_VALUE",32939:"SAMPLE_COVERAGE_INVERT",32968:"BLEND_DST_RGB",32969:"BLEND_SRC_RGB",32970:"BLEND_DST_ALPHA",32971:"BLEND_SRC_ALPHA",33071:"CLAMP_TO_EDGE",33170:"GENERATE_MIPMAP_HINT",33189:"DEPTH_COMPONENT16",33306:"DEPTH_STENCIL_ATTACHMENT",33635:"UNSIGNED_SHORT_5_6_5",33648:"MIRRORED_REPEAT",33901:"ALIASED_POINT_SIZE_RANGE",33902:"ALIASED_LINE_WIDTH_RANGE",33984:"TEXTURE0",33985:"TEXTURE1",33986:"TEXTURE2",33987:"TEXTURE3",33988:"TEXTURE4",33989:"TEXTURE5",33990:"TEXTURE6",33991:"TEXTURE7",33992:"TEXTURE8",33993:"TEXTURE9",33994:"TEXTURE10",33995:"TEXTURE11",33996:"TEXTURE12",33997:"TEXTURE13",33998:"TEXTURE14",33999:"TEXTURE15",34e3:"TEXTURE16",34001:"TEXTURE17",34002:"TEXTURE18",34003:"TEXTURE19",34004:"TEXTURE20",34005:"TEXTURE21",34006:"TEXTURE22",34007:"TEXTURE23",34008:"TEXTURE24",34009:"TEXTURE25",34010:"TEXTURE26",34011:"TEXTURE27",34012:"TEXTURE28",34013:"TEXTURE29",34014:"TEXTURE30",34015:"TEXTURE31",34016:"ACTIVE_TEXTURE",34024:"MAX_RENDERBUFFER_SIZE",34041:"DEPTH_STENCIL",34055:"INCR_WRAP",34056:"DECR_WRAP",34067:"TEXTURE_CUBE_MAP",34068:"TEXTURE_BINDING_CUBE_MAP",34069:"TEXTURE_CUBE_MAP_POSITIVE_X",34070:"TEXTURE_CUBE_MAP_NEGATIVE_X",34071:"TEXTURE_CUBE_MAP_POSITIVE_Y",34072:"TEXTURE_CUBE_MAP_NEGATIVE_Y",34073:"TEXTURE_CUBE_MAP_POSITIVE_Z",34074:"TEXTURE_CUBE_MAP_NEGATIVE_Z",34076:"MAX_CUBE_MAP_TEXTURE_SIZE",34338:"VERTEX_ATTRIB_ARRAY_ENABLED",34339:"VERTEX_ATTRIB_ARRAY_SIZE",34340:"VERTEX_ATTRIB_ARRAY_STRIDE",34341:"VERTEX_ATTRIB_ARRAY_TYPE",34342:"CURRENT_VERTEX_ATTRIB",34373:"VERTEX_ATTRIB_ARRAY_POINTER",34466:"NUM_COMPRESSED_TEXTURE_FORMATS",34467:"COMPRESSED_TEXTURE_FORMATS",34660:"BUFFER_SIZE",34661:"BUFFER_USAGE",34816:"STENCIL_BACK_FUNC",34817:"STENCIL_BACK_FAIL",34818:"STENCIL_BACK_PASS_DEPTH_FAIL",34819:"STENCIL_BACK_PASS_DEPTH_PASS",34877:"BLEND_EQUATION_ALPHA",34921:"MAX_VERTEX_ATTRIBS",34922:"VERTEX_ATTRIB_ARRAY_NORMALIZED",34930:"MAX_TEXTURE_IMAGE_UNITS",34962:"ARRAY_BUFFER",34963:"ELEMENT_ARRAY_BUFFER",34964:"ARRAY_BUFFER_BINDING",34965:"ELEMENT_ARRAY_BUFFER_BINDING",34975:"VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",35040:"STREAM_DRAW",35044:"STATIC_DRAW",35048:"DYNAMIC_DRAW",35632:"FRAGMENT_SHADER",35633:"VERTEX_SHADER",35660:"MAX_VERTEX_TEXTURE_IMAGE_UNITS",35661:"MAX_COMBINED_TEXTURE_IMAGE_UNITS",35663:"SHADER_TYPE",35664:"FLOAT_VEC2",35665:"FLOAT_VEC3",35666:"FLOAT_VEC4",35667:"INT_VEC2",35668:"INT_VEC3",35669:"INT_VEC4",35670:"BOOL",35671:"BOOL_VEC2",35672:"BOOL_VEC3",35673:"BOOL_VEC4",35674:"FLOAT_MAT2",35675:"FLOAT_MAT3",35676:"FLOAT_MAT4",35678:"SAMPLER_2D",35680:"SAMPLER_CUBE",35712:"DELETE_STATUS",35713:"COMPILE_STATUS",35714:"LINK_STATUS",35715:"VALIDATE_STATUS",35716:"INFO_LOG_LENGTH",35717:"ATTACHED_SHADERS",35718:"ACTIVE_UNIFORMS",35719:"ACTIVE_UNIFORM_MAX_LENGTH",35720:"SHADER_SOURCE_LENGTH",35721:"ACTIVE_ATTRIBUTES",35722:"ACTIVE_ATTRIBUTE_MAX_LENGTH",35724:"SHADING_LANGUAGE_VERSION",35725:"CURRENT_PROGRAM",36003:"STENCIL_BACK_REF",36004:"STENCIL_BACK_VALUE_MASK",36005:"STENCIL_BACK_WRITEMASK",36006:"FRAMEBUFFER_BINDING",36007:"RENDERBUFFER_BINDING",36048:"FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",36049:"FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",36050:"FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",36051:"FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",36053:"FRAMEBUFFER_COMPLETE",36054:"FRAMEBUFFER_INCOMPLETE_ATTACHMENT",36055:"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",36057:"FRAMEBUFFER_INCOMPLETE_DIMENSIONS",36061:"FRAMEBUFFER_UNSUPPORTED",36064:"COLOR_ATTACHMENT0",36096:"DEPTH_ATTACHMENT",36128:"STENCIL_ATTACHMENT",36160:"FRAMEBUFFER",36161:"RENDERBUFFER",36162:"RENDERBUFFER_WIDTH",36163:"RENDERBUFFER_HEIGHT",36164:"RENDERBUFFER_INTERNAL_FORMAT",36168:"STENCIL_INDEX8",36176:"RENDERBUFFER_RED_SIZE",36177:"RENDERBUFFER_GREEN_SIZE",36178:"RENDERBUFFER_BLUE_SIZE",36179:"RENDERBUFFER_ALPHA_SIZE",36180:"RENDERBUFFER_DEPTH_SIZE",36181:"RENDERBUFFER_STENCIL_SIZE",36194:"RGB565",36336:"LOW_FLOAT",36337:"MEDIUM_FLOAT",36338:"HIGH_FLOAT",36339:"LOW_INT",36340:"MEDIUM_INT",36341:"HIGH_INT",36346:"SHADER_COMPILER",36347:"MAX_VERTEX_UNIFORM_VECTORS",36348:"MAX_VARYING_VECTORS",36349:"MAX_FRAGMENT_UNIFORM_VECTORS",37440:"UNPACK_FLIP_Y_WEBGL",37441:"UNPACK_PREMULTIPLY_ALPHA_WEBGL",37442:"CONTEXT_LOST_WEBGL",37443:"UNPACK_COLORSPACE_CONVERSION_WEBGL",37444:"BROWSER_DEFAULT_WEBGL"}},function(t,r,e){function n(t){for(var r=Array.isArray(t)?t:i(t),e=0;e<r.length;e++){var n=r[e];if("preprocessor"===n.type){var s=n.data.match(/\#define\s+SHADER_NAME(_B64)?\s+(.+)$/);if(s&&s[2]){var o=s[1],h=s[2];return(o?a(h):h).trim()}}}}var i=e(66),a=e(71);t.exports=n},function(t,r,e){function n(t,r){var e=i(r),n=[];return n=n.concat(e(t)),n=n.concat(e(null))}var i=e(67);t.exports=n},function(t,r,e){function n(t){function r(t){t.length&&j.push({type:M[V],data:t,position:q,line:X,column:Y})}function e(t){F=0,W+=t,D=W.length;for(var r;C=W[F],F<D;){switch(r=F,V){case l:F=S();break;case f:F=R();break;case p:F=T();break;case d:F=N();break;case m:F=P();break;case E:F=U();break;case g:F=O();break;case c:F=L();break;case x:F=A();break;case u:F=w()}if(r!==F)switch(W[r]){case"\n":Y=0,++X;break;default:++Y}}return B+=F,W=W.slice(F),j}function n(t){return k.length&&r(k.join("")),V=b,r("(eof)"),j}function w(){return k=k.length?[]:k,"/"===z&&"*"===C?(q=B+F-1,V=l,z=C,F+1):"/"===z&&"/"===C?(q=B+F-1,V=f,z=C,F+1):"#"===C?(V=p,q=B+F,F):/\s/.test(C)?(V=x,q=B+F,F):(G=/\d/.test(C),H=/[^\w_]/.test(C),q=B+F,V=G?m:H?d:c,F)}function A(){return/[^\s]/g.test(C)?(r(k.join("")),V=u,F):(k.push(C),z=C,F+1)}function T(){return"\r"!==C&&"\n"!==C||"\\"===z?(k.push(C),z=C,F+1):(r(k.join("")),V=u,F)}function R(){return T()}function S(){return"/"===C&&"*"===z?(k.push(C),r(k.join("")),V=u,F+1):(k.push(C),z=C,F+1)}function N(){if("."===z&&/\d/.test(C))return V=g,F;if("/"===z&&"*"===C)return V=l,F;if("/"===z&&"/"===C)return V=f,F;if("."===C&&k.length){for(;I(k););return V=g,F}if(";"===C||")"===C||"("===C){if(k.length)for(;I(k););return r(C),V=u,F+1}var t=2===k.length&&"="!==C;if(/[\w_\d\s]/.test(C)||t){for(;I(k););return V=u,F}return k.push(C),z=C,F+1}function I(t){for(var e,n,i=0;;){if(e=a.indexOf(t.slice(0,t.length+i).join("")),n=a[e],-1===e){if(i--+t.length>0)continue;n=t.slice(0,1).join("")}return r(n),q+=n.length,k=k.slice(n.length),k.length}}function U(){return/[^a-fA-F0-9]/.test(C)?(r(k.join("")),V=u,F):(k.push(C),z=C,F+1)}function P(){return"."===C?(k.push(C),V=g,z=C,F+1):/[eE]/.test(C)?(k.push(C),V=g,z=C,F+1):"x"===C&&1===k.length&&"0"===k[0]?(V=E,k.push(C),z=C,F+1):/[^\d]/.test(C)?(r(k.join("")),V=u,F):(k.push(C),z=C,F+1)}function O(){return"f"===C&&(k.push(C),z=C,F+=1),/[eE]/.test(C)?(k.push(C),z=C,F+1):"-"===C&&/[eE]/.test(z)?(k.push(C),z=C,F+1):/[^\d]/.test(C)?(r(k.join("")),V=u,F):(k.push(C),z=C,F+1)}function L(){if(/[^\d\w_]/.test(C)){var t=k.join("");return V=Q.indexOf(t)>-1?_:Z.indexOf(t)>-1?y:v,r(k.join("")),V=u,F}return k.push(C),z=C,F+1}var C,z,D,F=0,B=0,V=u,k=[],j=[],X=1,Y=0,q=0,G=!1,H=!1,W="";t=t||{};var Z=s,Q=i;return"300 es"===t.version&&(Z=h,Q=o),function(t){return j=[],null!==t?e(t.replace?t.replace(/\r\n/g,"\n"):t):n()}}t.exports=n;var i=e(19),a=e(68),s=e(20),o=e(69),h=e(70),u=999,c=9999,l=0,f=1,p=2,d=3,m=4,g=5,v=6,y=7,_=8,x=9,b=10,E=11,M=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"]},function(t,r){t.exports=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"]},function(t,r,e){var n=e(19);t.exports=n.slice().concat(["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uint","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray"])},function(t,r,e){var n=e(20);n=n.slice().filter(function(t){return!/^(gl\_|texture)/.test(t)}),t.exports=n.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"])},function(t,r){t.exports=function(t){return atob(t)}},function(t,r,e){function n(t,r,e){r="number"==typeof r?r:1,e=e||": ";var n=t.split(/\r?\n/),a=String(n.length+r-1).length;return n.map(function(t,n){var s=n+r,o=String(s).length;return i(s,a-o)+e+t}).join("\n")}var i=e(73);t.exports=n},function(t,r,e){"use strict";var n=e(74);t.exports=function(t,r,e){return e=void 0!==e?e+"":" ",n(e,r)+t}},function(t,r,e){"use strict";function n(t,r){if("string"!=typeof t)throw new TypeError("expected a string");if(1===r)return t;if(2===r)return t+t;var e=t.length*r;if(i!==t||void 0===i)i=t,a="";else if(a.length>=e)return a.substr(0,e);for(;e>a.length&&r>1;)1&r&&(a+=t),r>>=1,t+=t;return a+=t,a=a.substr(0,e)}var i,a="";t.exports=n},function(t,r,e){function n(){var t=i();return{get:function(r,e){var n=t(r);return n.hasOwnProperty("value")?n.value:e},set:function(r,e){return t(r).value=e,this},has:function(r){return"value"in t(r)},delete:function(r){return delete t(r).value}}}var i=e(76);t.exports=n},function(t,r,e){function n(){var t={};return function(r){if(("object"!=typeof r||null===r)&&"function"!=typeof r)throw new Error("Weakmap-shim: Key must be object");var e=r.valueOf(t);return e&&e.identity===t?e:i(r,t)}}var i=e(77);t.exports=n},function(t,r){function e(t,r){var e={identity:r},n=t.valueOf;return Object.defineProperty(t,"valueOf",{value:function(t){return t!==r?n.apply(this,arguments):e},writable:!0}),e}t.exports=e},function(t,r,e){"use strict";function n(t,r){if(!o){var e=Object.keys(s);o={};for(var n=0;n<e.length;++n){var i=e[n];o[t[i]]=s[i]}}return o[r]}function i(t,r){for(var e=t.getProgramParameter(r,t.ACTIVE_UNIFORMS),i=[],a=0;a<e;++a){var s=t.getActiveUniform(r,a);if(s){var o=n(t,s.type);if(s.size>1)for(var h=0;h<s.size;++h)i.push({name:s.name.replace("[0]","["+h+"]"),type:o});else i.push({name:s.name,type:o})}}return i}function a(t,r){for(var e=t.getProgramParameter(r,t.ACTIVE_ATTRIBUTES),i=[],a=0;a<e;++a){var s=t.getActiveAttrib(r,a);s&&i.push({name:s.name,type:n(t,s.type)})}return i}r.uniforms=i,r.attributes=a;var s={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube"},o=null},function(t,r,e){t.exports={create:e(80),clone:e(81),copy:e(82),identity:e(21),transpose:e(83),invert:e(84),adjoint:e(85),determinant:e(86),multiply:e(87),translate:e(88),scale:e(89),rotate:e(90),rotateX:e(91),rotateY:e(92),rotateZ:e(93),fromRotationTranslation:e(94),fromQuat:e(95),frustum:e(96),perspective:e(97),perspectiveFromFieldOfView:e(98),ortho:e(99),lookAt:e(100),str:e(101)}},function(t,r){function e(){var t=new Float32Array(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}t.exports=e},function(t,r){function e(t){var r=new Float32Array(16);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4],r[5]=t[5],r[6]=t[6],r[7]=t[7],r[8]=t[8],r[9]=t[9],r[10]=t[10],r[11]=t[11],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15],r}t.exports=e},function(t,r){function e(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],t}t.exports=e},function(t,r){function e(t,r){if(t===r){var e=r[1],n=r[2],i=r[3],a=r[6],s=r[7],o=r[11];t[1]=r[4],t[2]=r[8],t[3]=r[12],t[4]=e,t[6]=r[9],t[7]=r[13],t[8]=n,t[9]=a,t[11]=r[14],t[12]=i,t[13]=s,t[14]=o}else t[0]=r[0],t[1]=r[4],t[2]=r[8],t[3]=r[12],t[4]=r[1],t[5]=r[5],t[6]=r[9],t[7]=r[13],t[8]=r[2],t[9]=r[6],t[10]=r[10],t[11]=r[14],t[12]=r[3],t[13]=r[7],t[14]=r[11],t[15]=r[15];return t}t.exports=e},function(t,r){function e(t,r){var e=r[0],n=r[1],i=r[2],a=r[3],s=r[4],o=r[5],h=r[6],u=r[7],c=r[8],l=r[9],f=r[10],p=r[11],d=r[12],m=r[13],g=r[14],v=r[15],y=e*o-n*s,_=e*h-i*s,x=e*u-a*s,b=n*h-i*o,E=n*u-a*o,M=i*u-a*h,w=c*m-l*d,A=c*g-f*d,T=c*v-p*d,R=l*g-f*m,S=l*v-p*m,N=f*v-p*g,I=y*N-_*S+x*R+b*T-E*A+M*w;return I?(I=1/I,t[0]=(o*N-h*S+u*R)*I,t[1]=(i*S-n*N-a*R)*I,t[2]=(m*M-g*E+v*b)*I,t[3]=(f*E-l*M-p*b)*I,t[4]=(h*T-s*N-u*A)*I,t[5]=(e*N-i*T+a*A)*I,t[6]=(g*x-d*M-v*_)*I,t[7]=(c*M-f*x+p*_)*I,t[8]=(s*S-o*T+u*w)*I,t[9]=(n*T-e*S-a*w)*I,t[10]=(d*E-m*x+v*y)*I,t[11]=(l*x-c*E-p*y)*I,t[12]=(o*A-s*R-h*w)*I,t[13]=(e*R-n*A+i*w)*I,t[14]=(m*_-d*b-g*y)*I,t[15]=(c*b-l*_+f*y)*I,t):null}t.exports=e},function(t,r){function e(t,r){var e=r[0],n=r[1],i=r[2],a=r[3],s=r[4],o=r[5],h=r[6],u=r[7],c=r[8],l=r[9],f=r[10],p=r[11],d=r[12],m=r[13],g=r[14],v=r[15];return t[0]=o*(f*v-p*g)-l*(h*v-u*g)+m*(h*p-u*f),t[1]=-(n*(f*v-p*g)-l*(i*v-a*g)+m*(i*p-a*f)),t[2]=n*(h*v-u*g)-o*(i*v-a*g)+m*(i*u-a*h),t[3]=-(n*(h*p-u*f)-o*(i*p-a*f)+l*(i*u-a*h)),t[4]=-(s*(f*v-p*g)-c*(h*v-u*g)+d*(h*p-u*f)),t[5]=e*(f*v-p*g)-c*(i*v-a*g)+d*(i*p-a*f),t[6]=-(e*(h*v-u*g)-s*(i*v-a*g)+d*(i*u-a*h)),t[7]=e*(h*p-u*f)-s*(i*p-a*f)+c*(i*u-a*h),t[8]=s*(l*v-p*m)-c*(o*v-u*m)+d*(o*p-u*l),t[9]=-(e*(l*v-p*m)-c*(n*v-a*m)+d*(n*p-a*l)),t[10]=e*(o*v-u*m)-s*(n*v-a*m)+d*(n*u-a*o),t[11]=-(e*(o*p-u*l)-s*(n*p-a*l)+c*(n*u-a*o)),t[12]=-(s*(l*g-f*m)-c*(o*g-h*m)+d*(o*f-h*l)),t[13]=e*(l*g-f*m)-c*(n*g-i*m)+d*(n*f-i*l),t[14]=-(e*(o*g-h*m)-s*(n*g-i*m)+d*(n*h-i*o)),t[15]=e*(o*f-h*l)-s*(n*f-i*l)+c*(n*h-i*o),t}t.exports=e},function(t,r){function e(t){var r=t[0],e=t[1],n=t[2],i=t[3],a=t[4],s=t[5],o=t[6],h=t[7],u=t[8],c=t[9],l=t[10],f=t[11],p=t[12],d=t[13],m=t[14],g=t[15];return(r*s-e*a)*(l*g-f*m)-(r*o-n*a)*(c*g-f*d)+(r*h-i*a)*(c*m-l*d)+(e*o-n*s)*(u*g-f*p)-(e*h-i*s)*(u*m-l*p)+(n*h-i*o)*(u*d-c*p)}t.exports=e},function(t,r){function e(t,r,e){var n=r[0],i=r[1],a=r[2],s=r[3],o=r[4],h=r[5],u=r[6],c=r[7],l=r[8],f=r[9],p=r[10],d=r[11],m=r[12],g=r[13],v=r[14],y=r[15],_=e[0],x=e[1],b=e[2],E=e[3];return t[0]=_*n+x*o+b*l+E*m,t[1]=_*i+x*h+b*f+E*g,t[2]=_*a+x*u+b*p+E*v,t[3]=_*s+x*c+b*d+E*y,_=e[4],x=e[5],b=e[6],E=e[7],t[4]=_*n+x*o+b*l+E*m,t[5]=_*i+x*h+b*f+E*g,t[6]=_*a+x*u+b*p+E*v,t[7]=_*s+x*c+b*d+E*y,_=e[8],x=e[9],b=e[10],E=e[11],t[8]=_*n+x*o+b*l+E*m,t[9]=_*i+x*h+b*f+E*g,t[10]=_*a+x*u+b*p+E*v,t[11]=_*s+x*c+b*d+E*y,_=e[12],x=e[13],b=e[14],E=e[15],t[12]=_*n+x*o+b*l+E*m,t[13]=_*i+x*h+b*f+E*g,t[14]=_*a+x*u+b*p+E*v,t[15]=_*s+x*c+b*d+E*y,t}t.exports=e},function(t,r){function e(t,r,e){var n,i,a,s,o,h,u,c,l,f,p,d,m=e[0],g=e[1],v=e[2];return r===t?(t[12]=r[0]*m+r[4]*g+r[8]*v+r[12],t[13]=r[1]*m+r[5]*g+r[9]*v+r[13],t[14]=r[2]*m+r[6]*g+r[10]*v+r[14],t[15]=r[3]*m+r[7]*g+r[11]*v+r[15]):(n=r[0],i=r[1],a=r[2],s=r[3],o=r[4],h=r[5],u=r[6],c=r[7],l=r[8],f=r[9],p=r[10],d=r[11],t[0]=n,t[1]=i,t[2]=a,t[3]=s,t[4]=o,t[5]=h,t[6]=u,t[7]=c,t[8]=l,t[9]=f,t[10]=p,t[11]=d,t[12]=n*m+o*g+l*v+r[12],t[13]=i*m+h*g+f*v+r[13],t[14]=a*m+u*g+p*v+r[14],t[15]=s*m+c*g+d*v+r[15]),t}t.exports=e},function(t,r){function e(t,r,e){var n=e[0],i=e[1],a=e[2];return t[0]=r[0]*n,t[1]=r[1]*n,t[2]=r[2]*n,t[3]=r[3]*n,t[4]=r[4]*i,t[5]=r[5]*i,t[6]=r[6]*i,t[7]=r[7]*i,t[8]=r[8]*a,t[9]=r[9]*a,t[10]=r[10]*a,t[11]=r[11]*a,t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],t}t.exports=e},function(t,r){function e(t,r,e,n){var i,a,s,o,h,u,c,l,f,p,d,m,g,v,y,_,x,b,E,M,w,A,T,R,S=n[0],N=n[1],I=n[2],U=Math.sqrt(S*S+N*N+I*I);return Math.abs(U)<1e-6?null:(U=1/U,S*=U,N*=U,I*=U,i=Math.sin(e),a=Math.cos(e),s=1-a,o=r[0],h=r[1],u=r[2],c=r[3],l=r[4],f=r[5],p=r[6],d=r[7],m=r[8],g=r[9],v=r[10],y=r[11],_=S*S*s+a,x=N*S*s+I*i,b=I*S*s-N*i,E=S*N*s-I*i,M=N*N*s+a,w=I*N*s+S*i,A=S*I*s+N*i,T=N*I*s-S*i,R=I*I*s+a,t[0]=o*_+l*x+m*b,t[1]=h*_+f*x+g*b,t[2]=u*_+p*x+v*b,t[3]=c*_+d*x+y*b,t[4]=o*E+l*M+m*w,t[5]=h*E+f*M+g*w,t[6]=u*E+p*M+v*w,t[7]=c*E+d*M+y*w,t[8]=o*A+l*T+m*R,t[9]=h*A+f*T+g*R,t[10]=u*A+p*T+v*R,t[11]=c*A+d*T+y*R,r!==t&&(t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t)}t.exports=e},function(t,r){function e(t,r,e){var n=Math.sin(e),i=Math.cos(e),a=r[4],s=r[5],o=r[6],h=r[7],u=r[8],c=r[9],l=r[10],f=r[11];return r!==t&&(t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t[4]=a*i+u*n,t[5]=s*i+c*n,t[6]=o*i+l*n,t[7]=h*i+f*n,t[8]=u*i-a*n,t[9]=c*i-s*n,t[10]=l*i-o*n,t[11]=f*i-h*n,t}t.exports=e},function(t,r){function e(t,r,e){var n=Math.sin(e),i=Math.cos(e),a=r[0],s=r[1],o=r[2],h=r[3],u=r[8],c=r[9],l=r[10],f=r[11];return r!==t&&(t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t[0]=a*i-u*n,t[1]=s*i-c*n,t[2]=o*i-l*n,t[3]=h*i-f*n,t[8]=a*n+u*i,t[9]=s*n+c*i,t[10]=o*n+l*i,t[11]=h*n+f*i,t}t.exports=e},function(t,r){function e(t,r,e){var n=Math.sin(e),i=Math.cos(e),a=r[0],s=r[1],o=r[2],h=r[3],u=r[4],c=r[5],l=r[6],f=r[7];return r!==t&&(t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t[0]=a*i+u*n,t[1]=s*i+c*n,t[2]=o*i+l*n,t[3]=h*i+f*n,t[4]=u*i-a*n,t[5]=c*i-s*n,t[6]=l*i-o*n,t[7]=f*i-h*n,t}t.exports=e},function(t,r){function e(t,r,e){var n=r[0],i=r[1],a=r[2],s=r[3],o=n+n,h=i+i,u=a+a,c=n*o,l=n*h,f=n*u,p=i*h,d=i*u,m=a*u,g=s*o,v=s*h,y=s*u;return t[0]=1-(p+m),t[1]=l+y,t[2]=f-v,t[3]=0,t[4]=l-y,t[5]=1-(c+m),t[6]=d+g,t[7]=0,t[8]=f+v,t[9]=d-g,t[10]=1-(c+p),t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}t.exports=e},function(t,r){function e(t,r){var e=r[0],n=r[1],i=r[2],a=r[3],s=e+e,o=n+n,h=i+i,u=e*s,c=n*s,l=n*o,f=i*s,p=i*o,d=i*h,m=a*s,g=a*o,v=a*h;return t[0]=1-l-d,t[1]=c+v,t[2]=f-g,t[3]=0,t[4]=c-v,t[5]=1-u-d,t[6]=p+m,t[7]=0,t[8]=f+g,t[9]=p-m,t[10]=1-u-l,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}t.exports=e},function(t,r){function e(t,r,e,n,i,a,s){var o=1/(e-r),h=1/(i-n),u=1/(a-s);return t[0]=2*a*o,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*a*h,t[6]=0,t[7]=0,t[8]=(e+r)*o,t[9]=(i+n)*h,t[10]=(s+a)*u,t[11]=-1,t[12]=0,t[13]=0,t[14]=s*a*2*u,t[15]=0,t}t.exports=e},function(t,r){function e(t,r,e,n,i){var a=1/Math.tan(r/2),s=1/(n-i);return t[0]=a/e,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(i+n)*s,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*i*n*s,t[15]=0,t}t.exports=e},function(t,r){function e(t,r,e,n){var i=Math.tan(r.upDegrees*Math.PI/180),a=Math.tan(r.downDegrees*Math.PI/180),s=Math.tan(r.leftDegrees*Math.PI/180),o=Math.tan(r.rightDegrees*Math.PI/180),h=2/(s+o),u=2/(i+a);return t[0]=h,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=u,t[6]=0,t[7]=0,t[8]=-(s-o)*h*.5,t[9]=(i-a)*u*.5,t[10]=n/(e-n),t[11]=-1,t[12]=0,t[13]=0,t[14]=n*e/(e-n),t[15]=0,t}t.exports=e},function(t,r){function e(t,r,e,n,i,a,s){var o=1/(r-e),h=1/(n-i),u=1/(a-s);return t[0]=-2*o,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*h,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*u,t[11]=0,t[12]=(r+e)*o,t[13]=(i+n)*h,t[14]=(s+a)*u,t[15]=1,t}t.exports=e},function(t,r,e){function n(t,r,e,n){var a,s,o,h,u,c,l,f,p,d,m=r[0],g=r[1],v=r[2],y=n[0],_=n[1],x=n[2],b=e[0],E=e[1],M=e[2];return Math.abs(m-b)<1e-6&&Math.abs(g-E)<1e-6&&Math.abs(v-M)<1e-6?i(t):(l=m-b,f=g-E,p=v-M,d=1/Math.sqrt(l*l+f*f+p*p),l*=d,f*=d,p*=d,a=_*p-x*f,s=x*l-y*p,o=y*f-_*l,d=Math.sqrt(a*a+s*s+o*o),d?(d=1/d,a*=d,s*=d,o*=d):(a=0,s=0,o=0),h=f*o-p*s,u=p*a-l*o,c=l*s-f*a,d=Math.sqrt(h*h+u*u+c*c),d?(d=1/d,h*=d,u*=d,c*=d):(h=0,u=0,c=0),t[0]=a,t[1]=h,t[2]=l,t[3]=0,t[4]=s,t[5]=u,t[6]=f,t[7]=0,t[8]=o,t[9]=c,t[10]=p,t[11]=0,t[12]=-(a*m+s*g+o*v),t[13]=-(h*m+u*g+c*v),t[14]=-(l*m+f*g+p*v),t[15]=1,t)}var i=e(21);t.exports=n},function(t,r){function e(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}t.exports=e},function(t,r){r.vertexNormals=function(t,r){for(var e=r.length,n=new Array(e),i=0;i<e;++i)n[i]=[0,0,0];for(var i=0;i<t.length;++i)for(var a=t[i],s=0,o=a[a.length-1],h=a[0],u=0;u<a.length;++u){s=o,o=h,h=a[(u+1)%a.length];for(var c=r[s],l=r[o],f=r[h],p=new Array(3),d=0,m=new Array(3),g=0,v=0;v<3;++v)p[v]=c[v]-l[v],d+=p[v]*p[v],m[v]=f[v]-l[v],g+=m[v]*m[v];if(d*g>1e-6)for(var y=n[o],_=1/Math.sqrt(d*g),v=0;v<3;++v){var x=(v+1)%3,b=(v+2)%3;y[v]+=_*(m[x]*p[b]-m[b]*p[x])}}for(var i=0;i<e;++i){for(var y=n[i],E=0,v=0;v<3;++v)E+=y[v]*y[v];if(E>1e-6)for(var _=1/Math.sqrt(E),v=0;v<3;++v)y[v]*=_;else for(var v=0;v<3;++v)y[v]=0}return n},r.faceNormals=function(t,r){for(var e=t.length,n=new Array(e),i=0;i<e;++i){for(var a=t[i],s=new Array(3),o=0;o<3;++o)s[o]=r[a[o]];for(var h=new Array(3),u=new Array(3),o=0;o<3;++o)h[o]=s[1][o]-s[0][o],u[o]=s[2][o]-s[0][o];for(var c=new Array(3),l=0,o=0;o<3;++o){var f=(o+1)%3,p=(o+2)%3;c[o]=h[f]*u[p]-h[p]*u[f],l+=c[o]*c[o]}l=l>1e-6?1/Math.sqrt(l):0;for(var o=0;o<3;++o)c[o]*=l;n[i]=c}return n}},function(t,r,e){function n(t,r){function e(){var e=h("<control>")||h("<alt>"),i=h("<shift>"),a=t.height,s=t.width;if(r.rotate&&c.left&&!e&&!i&&f.rotate([l.x/s-.5,l.y/a-.5],[l.prevX/s-.5,l.prevY/a-.5]),(r.pan&&c.right||c.left&&e&&!i)&&f.pan([u*(l.x-l.prevX)/s,u*(l.y-l.prevY)/a]),r.scale&&n[1]&&(f.distance*=Math.exp(n[1]/a)),r.scale&&(c.middle||c.left&&!e&&i)){var o=l.y-l.prevY;if(!o)return;f.distance*=Math.exp(o/a)}n.flush(),l.flush()}r=r||{},r.pan=!1!==r.pan,r.scale=!1!==r.scale,r.rotate=!1!==r.rotate;var n=a(t,r.scale),c=o(t,r.rotate),l=s(t),f=i([0,10,30],[0,0,0],[0,1,0]);return f.tick=e,f}var i=e(104),a=e(106),s=e(108),o=e(109),h=e(110),u=1;t.exports=n},function(t,r,e){"use strict";function n(t,r,e){this.rotation=t,this.center=r,this.distance=e}function i(t,r){var e=r[0],n=r[1],i=(r[2],e*e+n*n);i>1&&(i=1),t[0]=-r[0],t[1]=r[1],t[2]=r[2]||Math.sqrt(1-i),t[3]=0}function a(t,r,e){t=t||[0,0,-1],r=r||[0,0,0],e=e||[0,1,0];var i=new n(c.create(),o.create(),1);return i.lookAt(t,r,e),i}var s=e(105),o=s.vec3,h=s.mat3,u=s.mat4,c=s.quat,l=new Float32Array(16),f=new Float32Array(16),p=n.prototype;p.view=function(t){return t||(t=u.create()),f[0]=f[1]=0,f[2]=-this.distance,u.fromRotationTranslation(t,c.conjugate(l,this.rotation),f),u.translate(t,t,o.negate(l,this.center)),t},p.lookAt=function(t,r,e){u.lookAt(l,t,r,e),h.fromMat4(l,l),c.fromMat3(this.rotation,l),o.copy(this.center,r),this.distance=o.distance(t,r)},p.pan=function(t){var r=this.distance;l[0]=-r*(t[0]||0),l[1]=r*(t[1]||0),l[2]=r*(t[2]||0),o.transformQuat(l,l,this.rotation),o.add(this.center,this.center,l)},p.zoom=function(t){this.distance+=t,this.distance<0&&(this.distance=0)},p.rotate=function(t,r){i(l,t),i(f,r),c.invert(f,f),c.multiply(l,l,f),c.length(l)<1e-6||(c.multiply(this.rotation,this.rotation,l),c.normalize(this.rotation,this.rotation))},t.exports=a},function(t,r,e){!function(r,e){t.exports=e()}(0,function(){return function(t){function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}var e={};return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,r){return Object.prototype.hasOwnProperty.call(t,r)},r.p="",r(r.s=4)}([function(t,r,e){"use strict";function n(t){r.ARRAY_TYPE=o=t}function i(t){return t*h}function a(t,r){return Math.abs(t-r)<=s*Math.max(1,Math.abs(t),Math.abs(r))}Object.defineProperty(r,"__esModule",{value:!0}),r.setMatrixArrayType=n,r.toRadian=i,r.equals=a;var s=r.EPSILON=1e-6,o=r.ARRAY_TYPE="undefined"!=typeof Float32Array?Float32Array:Array,h=(r.RANDOM=Math.random,Math.PI/180)},function(t,r,e){"use strict";function n(){var t=new L.ARRAY_TYPE(9);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function i(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[4],t[4]=r[5],t[5]=r[6],t[6]=r[8],t[7]=r[9],t[8]=r[10],t}function a(t){var r=new L.ARRAY_TYPE(9);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4],r[5]=t[5],r[6]=t[6],r[7]=t[7],r[8]=t[8],r}function s(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t}function o(t,r,e,n,i,a,s,o,h){var u=new L.ARRAY_TYPE(9);return u[0]=t,u[1]=r,u[2]=e,u[3]=n,u[4]=i,u[5]=a,u[6]=s,u[7]=o,u[8]=h,u}function h(t,r,e,n,i,a,s,o,h,u){return t[0]=r,t[1]=e,t[2]=n,t[3]=i,t[4]=a,t[5]=s,t[6]=o,t[7]=h,t[8]=u,t}function u(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function c(t,r){if(t===r){var e=r[1],n=r[2],i=r[5];t[1]=r[3],t[2]=r[6],t[3]=e,t[5]=r[7],t[6]=n,t[7]=i}else t[0]=r[0],t[1]=r[3],t[2]=r[6],t[3]=r[1],t[4]=r[4],t[5]=r[7],t[6]=r[2],t[7]=r[5],t[8]=r[8];return t}function l(t,r){var e=r[0],n=r[1],i=r[2],a=r[3],s=r[4],o=r[5],h=r[6],u=r[7],c=r[8],l=c*s-o*u,f=-c*a+o*h,p=u*a-s*h,d=e*l+n*f+i*p;return d?(d=1/d,t[0]=l*d,t[1]=(-c*n+i*u)*d,t[2]=(o*n-i*s)*d,t[3]=f*d,t[4]=(c*e-i*h)*d,t[5]=(-o*e+i*a)*d,t[6]=p*d,t[7]=(-u*e+n*h)*d,t[8]=(s*e-n*a)*d,t):null}function f(t,r){var e=r[0],n=r[1],i=r[2],a=r[3],s=r[4],o=r[5],h=r[6],u=r[7],c=r[8];return t[0]=s*c-o*u,t[1]=i*u-n*c,t[2]=n*o-i*s,t[3]=o*h-a*c,t[4]=e*c-i*h,t[5]=i*a-e*o,t[6]=a*u-s*h,t[7]=n*h-e*u,t[8]=e*s-n*a,t}function p(t){var r=t[0],e=t[1],n=t[2],i=t[3],a=t[4],s=t[5],o=t[6],h=t[7],u=t[8];return r*(u*a-s*h)+e*(-u*i+s*o)+n*(h*i-a*o)}function d(t,r,e){var n=r[0],i=r[1],a=r[2],s=r[3],o=r[4],h=r[5],u=r[6],c=r[7],l=r[8],f=e[0],p=e[1],d=e[2],m=e[3],g=e[4],v=e[5],y=e[6],_=e[7],x=e[8];return t[0]=f*n+p*s+d*u,t[1]=f*i+p*o+d*c,t[2]=f*a+p*h+d*l,t[3]=m*n+g*s+v*u,t[4]=m*i+g*o+v*c,t[5]=m*a+g*h+v*l,t[6]=y*n+_*s+x*u,t[7]=y*i+_*o+x*c,t[8]=y*a+_*h+x*l,t}function m(t,r,e){var n=r[0],i=r[1],a=r[2],s=r[3],o=r[4],h=r[5],u=r[6],c=r[7],l=r[8],f=e[0],p=e[1];return t[0]=n,t[1]=i,t[2]=a,t[3]=s,t[4]=o,t[5]=h,t[6]=f*n+p*s+u,t[7]=f*i+p*o+c,t[8]=f*a+p*h+l,t}function g(t,r,e){var n=r[0],i=r[1],a=r[2],s=r[3],o=r[4],h=r[5],u=r[6],c=r[7],l=r[8],f=Math.sin(e),p=Math.cos(e);return t[0]=p*n+f*s,t[1]=p*i+f*o,t[2]=p*a+f*h,t[3]=p*s-f*n,t[4]=p*o-f*i,t[5]=p*h-f*a,t[6]=u,t[7]=c,t[8]=l,t}function v(t,r,e){var n=e[0],i=e[1];return t[0]=n*r[0],t[1]=n*r[1],t[2]=n*r[2],t[3]=i*r[3],t[4]=i*r[4],t[5]=i*r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t}function y(t,r){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=r[0],t[7]=r[1],t[8]=1,t}function _(t,r){var e=Math.sin(r),n=Math.cos(r);return t[0]=n,t[1]=e,t[2]=0,t[3]=-e,t[4]=n,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function x(t,r){return t[0]=r[0],t[1]=0,t[2]=0,t[3]=0,t[4]=r[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function b(t,r){return t[0]=r[0],t[1]=r[1],t[2]=0,t[3]=r[2],t[4]=r[3],t[5]=0,t[6]=r[4],t[7]=r[5],t[8]=1,t}function E(t,r){var e=r[0],n=r[1],i=r[2],a=r[3],s=e+e,o=n+n,h=i+i,u=e*s,c=n*s,l=n*o,f=i*s,p=i*o,d=i*h,m=a*s,g=a*o,v=a*h;return t[0]=1-l-d,t[3]=c-v,t[6]=f+g,t[1]=c+v,t[4]=1-u-d,t[7]=p-m,t[2]=f-g,t[5]=p+m,t[8]=1-u-l,t}function M(t,r){var e=r[0],n=r[1],i=r[2],a=r[3],s=r[4],o=r[5],h=r[6],u=r[7],c=r[8],l=r[9],f=r[10],p=r[11],d=r[12],m=r[13],g=r[14],v=r[15],y=e*o-n*s,_=e*h-i*s,x=e*u-a*s,b=n*h-i*o,E=n*u-a*o,M=i*u-a*h,w=c*m-l*d,A=c*g-f*d,T=c*v-p*d,R=l*g-f*m,S=l*v-p*m,N=f*v-p*g,I=y*N-_*S+x*R+b*T-E*A+M*w;return I?(I=1/I,t[0]=(o*N-h*S+u*R)*I,t[1]=(h*T-s*N-u*A)*I,t[2]=(s*S-o*T+u*w)*I,t[3]=(i*S-n*N-a*R)*I,t[4]=(e*N-i*T+a*A)*I,t[5]=(n*T-e*S-a*w)*I,t[6]=(m*M-g*E+v*b)*I,t[7]=(g*x-d*M-v*_)*I,t[8]=(d*E-m*x+v*y)*I,t):null}function w(t,r,e){return t[0]=2/r,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/e,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}function A(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"}function T(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))}function R(t,r,e){return t[0]=r[0]+e[0],t[1]=r[1]+e[1],t[2]=r[2]+e[2],t[3]=r[3]+e[3],t[4]=r[4]+e[4],t[5]=r[5]+e[5],t[6]=r[6]+e[6],t[7]=r[7]+e[7],t[8]=r[8]+e[8],t}function S(t,r,e){return t[0]=r[0]-e[0],t[1]=r[1]-e[1],t[2]=r[2]-e[2],t[3]=r[3]-e[3],t[4]=r[4]-e[4],t[5]=r[5]-e[5],t[6]=r[6]-e[6],t[7]=r[7]-e[7],t[8]=r[8]-e[8],t}function N(t,r,e){return t[0]=r[0]*e,t[1]=r[1]*e,t[2]=r[2]*e,t[3]=r[3]*e,t[4]=r[4]*e,t[5]=r[5]*e,t[6]=r[6]*e,t[7]=r[7]*e,t[8]=r[8]*e,t}function I(t,r,e,n){return t[0]=r[0]+e[0]*n,t[1]=r[1]+e[1]*n,t[2]=r[2]+e[2]*n,t[3]=r[3]+e[3]*n,t[4]=r[4]+e[4]*n,t[5]=r[5]+e[5]*n,t[6]=r[6]+e[6]*n,t[7]=r[7]+e[7]*n,t[8]=r[8]+e[8]*n,t}function U(t,r){return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]&&t[3]===r[3]&&t[4]===r[4]&&t[5]===r[5]&&t[6]===r[6]&&t[7]===r[7]&&t[8]===r[8]}function P(t,r){var e=t[0],n=t[1],i=t[2],a=t[3],s=t[4],o=t[5],h=t[6],u=t[7],c=t[8],l=r[0],f=r[1],p=r[2],d=r[3],m=r[4],g=r[5],v=r[6],y=r[7],_=r[8];return Math.abs(e-l)<=L.EPSILON*Math.max(1,Math.abs(e),Math.abs(l))&&Math.abs(n-f)<=L.EPSILON*Math.max(1,Math.abs(n),Math.abs(f))&&Math.abs(i-p)<=L.EPSILON*Math.max(1,Math.abs(i),Math.abs(p))&&Math.abs(a-d)<=L.EPSILON*Math.max(1,Math.abs(a),Math.abs(d))&&Math.abs(s-m)<=L.EPSILON*Math.max(1,Math.abs(s),Math.abs(m))&&Math.abs(o-g)<=L.EPSILON*Math.max(1,Math.abs(o),Math.abs(g))&&Math.abs(h-v)<=L.EPSILON*Math.max(1,Math.abs(h),Math.abs(v))&&Math.abs(u-y)<=L.EPSILON*Math.max(1,Math.abs(u),Math.abs(y))&&Math.abs(c-_)<=L.EPSILON*Math.max(1,Math.abs(c),Math.abs(_))}Object.defineProperty(r,"__esModule",{value:!0}),r.sub=r.mul=void 0,r.create=n,r.fromMat4=i,r.clone=a,r.copy=s,r.fromValues=o,r.set=h,r.identity=u,r.transpose=c,r.invert=l,r.adjoint=f,r.determinant=p,r.multiply=d,r.translate=m,r.rotate=g,r.scale=v,r.fromTranslation=y,r.fromRotation=_,r.fromScaling=x,r.fromMat2d=b,r.fromQuat=E,r.normalFromMat4=M,r.projection=w,r.str=A,r.frob=T,r.add=R,r.subtract=S,r.multiplyScalar=N,r.multiplyScalarAndAdd=I,r.exactEquals=U,r.equals=P;var O=e(0),L=function(t){if(t&&t.__esModule)return t;var r={};if(null!=t)for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(r[e]=t[e]);return r.default=t,r}(O);r.mul=d,r.sub=S},function(t,r,e){"use strict";function n(){var t=new X.ARRAY_TYPE(3);return t[0]=0,t[1]=0,t[2]=0,t}function i(t){var r=new X.ARRAY_TYPE(3);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r}function a(t){var r=t[0],e=t[1],n=t[2];return Math.sqrt(r*r+e*e+n*n)}function s(t,r,e){var n=new X.ARRAY_TYPE(3);return n[0]=t,n[1]=r,n[2]=e,n}function o(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t}function h(t,r,e,n){return t[0]=r,t[1]=e,t[2]=n,t}function u(t,r,e){return t[0]=r[0]+e[0],t[1]=r[1]+e[1],t[2]=r[2]+e[2],t}function c(t,r,e){return t[0]=r[0]-e[0],t[1]=r[1]-e[1],t[2]=r[2]-e[2],t}function l(t,r,e){return t[0]=r[0]*e[0],t[1]=r[1]*e[1],t[2]=r[2]*e[2],t}function f(t,r,e){return t[0]=r[0]/e[0],t[1]=r[1]/e[1],t[2]=r[2]/e[2],t}function p(t,r){return t[0]=Math.ceil(r[0]),t[1]=Math.ceil(r[1]),t[2]=Math.ceil(r[2]),t}function d(t,r){return t[0]=Math.floor(r[0]),t[1]=Math.floor(r[1]),t[2]=Math.floor(r[2]),t}function m(t,r,e){return t[0]=Math.min(r[0],e[0]),t[1]=Math.min(r[1],e[1]),t[2]=Math.min(r[2],e[2]),t}function g(t,r,e){return t[0]=Math.max(r[0],e[0]),t[1]=Math.max(r[1],e[1]),t[2]=Math.max(r[2],e[2]),t}function v(t,r){return t[0]=Math.round(r[0]),t[1]=Math.round(r[1]),t[2]=Math.round(r[2]),t}function y(t,r,e){return t[0]=r[0]*e,t[1]=r[1]*e,t[2]=r[2]*e,t}function _(t,r,e,n){return t[0]=r[0]+e[0]*n,t[1]=r[1]+e[1]*n,t[2]=r[2]+e[2]*n,t}function x(t,r){var e=r[0]-t[0],n=r[1]-t[1],i=r[2]-t[2];return Math.sqrt(e*e+n*n+i*i)}function b(t,r){var e=r[0]-t[0],n=r[1]-t[1],i=r[2]-t[2];return e*e+n*n+i*i}function E(t){var r=t[0],e=t[1],n=t[2];return r*r+e*e+n*n}function M(t,r){return t[0]=-r[0],t[1]=-r[1],t[2]=-r[2],t}function w(t,r){return t[0]=1/r[0],t[1]=1/r[1],t[2]=1/r[2],t}function A(t,r){var e=r[0],n=r[1],i=r[2],a=e*e+n*n+i*i;return a>0&&(a=1/Math.sqrt(a),t[0]=r[0]*a,t[1]=r[1]*a,t[2]=r[2]*a),t}function T(t,r){return t[0]*r[0]+t[1]*r[1]+t[2]*r[2]}function R(t,r,e){var n=r[0],i=r[1],a=r[2],s=e[0],o=e[1],h=e[2];return t[0]=i*h-a*o,t[1]=a*s-n*h,t[2]=n*o-i*s,t}function S(t,r,e,n){var i=r[0],a=r[1],s=r[2];return t[0]=i+n*(e[0]-i),t[1]=a+n*(e[1]-a),t[2]=s+n*(e[2]-s),t}function N(t,r,e,n,i,a){var s=a*a,o=s*(2*a-3)+1,h=s*(a-2)+a,u=s*(a-1),c=s*(3-2*a);return t[0]=r[0]*o+e[0]*h+n[0]*u+i[0]*c,t[1]=r[1]*o+e[1]*h+n[1]*u+i[1]*c,t[2]=r[2]*o+e[2]*h+n[2]*u+i[2]*c,t}function I(t,r,e,n,i,a){var s=1-a,o=s*s,h=a*a,u=o*s,c=3*a*o,l=3*h*s,f=h*a;return t[0]=r[0]*u+e[0]*c+n[0]*l+i[0]*f,t[1]=r[1]*u+e[1]*c+n[1]*l+i[1]*f,t[2]=r[2]*u+e[2]*c+n[2]*l+i[2]*f,t}function U(t,r){r=r||1;var e=2*X.RANDOM()*Math.PI,n=2*X.RANDOM()-1,i=Math.sqrt(1-n*n)*r;return t[0]=Math.cos(e)*i,t[1]=Math.sin(e)*i,t[2]=n*r,t}function P(t,r,e){var n=r[0],i=r[1],a=r[2],s=e[3]*n+e[7]*i+e[11]*a+e[15];return s=s||1,t[0]=(e[0]*n+e[4]*i+e[8]*a+e[12])/s,t[1]=(e[1]*n+e[5]*i+e[9]*a+e[13])/s,t[2]=(e[2]*n+e[6]*i+e[10]*a+e[14])/s,t}function O(t,r,e){var n=r[0],i=r[1],a=r[2];return t[0]=n*e[0]+i*e[3]+a*e[6],t[1]=n*e[1]+i*e[4]+a*e[7],t[2]=n*e[2]+i*e[5]+a*e[8],t}function L(t,r,e){var n=r[0],i=r[1],a=r[2],s=e[0],o=e[1],h=e[2],u=e[3],c=u*n+o*a-h*i,l=u*i+h*n-s*a,f=u*a+s*i-o*n,p=-s*n-o*i-h*a;return t[0]=c*u+p*-s+l*-h-f*-o,t[1]=l*u+p*-o+f*-s-c*-h,t[2]=f*u+p*-h+c*-o-l*-s,t}function C(t,r,e,n){var i=[],a=[];return i[0]=r[0]-e[0],i[1]=r[1]-e[1],i[2]=r[2]-e[2],a[0]=i[0],a[1]=i[1]*Math.cos(n)-i[2]*Math.sin(n),a[2]=i[1]*Math.sin(n)+i[2]*Math.cos(n),t[0]=a[0]+e[0],t[1]=a[1]+e[1],t[2]=a[2]+e[2],t}function z(t,r,e,n){var i=[],a=[];return i[0]=r[0]-e[0],i[1]=r[1]-e[1],i[2]=r[2]-e[2],a[0]=i[2]*Math.sin(n)+i[0]*Math.cos(n),a[1]=i[1],a[2]=i[2]*Math.cos(n)-i[0]*Math.sin(n),t[0]=a[0]+e[0],t[1]=a[1]+e[1],t[2]=a[2]+e[2],t}function D(t,r,e,n){var i=[],a=[];return i[0]=r[0]-e[0],i[1]=r[1]-e[1],i[2]=r[2]-e[2],a[0]=i[0]*Math.cos(n)-i[1]*Math.sin(n),a[1]=i[0]*Math.sin(n)+i[1]*Math.cos(n),a[2]=i[2],t[0]=a[0]+e[0],t[1]=a[1]+e[1],t[2]=a[2]+e[2],t}function F(t,r){var e=s(t[0],t[1],t[2]),n=s(r[0],r[1],r[2]);A(e,e),A(n,n);var i=T(e,n);return i>1?0:i<-1?Math.PI:Math.acos(i)}function B(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"}function V(t,r){return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]}function k(t,r){var e=t[0],n=t[1],i=t[2],a=r[0],s=r[1],o=r[2];return Math.abs(e-a)<=X.EPSILON*Math.max(1,Math.abs(e),Math.abs(a))&&Math.abs(n-s)<=X.EPSILON*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(i-o)<=X.EPSILON*Math.max(1,Math.abs(i),Math.abs(o))}Object.defineProperty(r,"__esModule",{value:!0}),r.forEach=r.sqrLen=r.len=r.sqrDist=r.dist=r.div=r.mul=r.sub=void 0,r.create=n,r.clone=i,r.length=a,r.fromValues=s,r.copy=o,r.set=h,r.add=u,r.subtract=c,r.multiply=l,r.divide=f,r.ceil=p,r.floor=d,r.min=m,r.max=g,r.round=v,r.scale=y,r.scaleAndAdd=_,r.distance=x,r.squaredDistance=b,r.squaredLength=E,r.negate=M,r.inverse=w,r.normalize=A,r.dot=T,r.cross=R,r.lerp=S,r.hermite=N,r.bezier=I,r.random=U,r.transformMat4=P,r.transformMat3=O,r.transformQuat=L,r.rotateX=C,r.rotateY=z,r.rotateZ=D,r.angle=F,r.str=B,r.exactEquals=V,r.equals=k;var j=e(0),X=function(t){if(t&&t.__esModule)return t;var r={};if(null!=t)for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(r[e]=t[e]);return r.default=t,r}(j);r.sub=c,r.mul=l,r.div=f,r.dist=x,r.sqrDist=b,r.len=a,r.sqrLen=E,r.forEach=function(){var t=n();return function(r,e,n,i,a,s){var o=void 0,h=void 0;for(e||(e=3),n||(n=0),h=i?Math.min(i*e+n,r.length):r.length,o=n;o<h;o+=e)t[0]=r[o],t[1]=r[o+1],t[2]=r[o+2],a(t,t,s),r[o]=t[0],r[o+1]=t[1],r[o+2]=t[2];return r}}()},function(t,r,e){"use strict";function n(){var t=new C.ARRAY_TYPE(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t}function i(t){var r=new C.ARRAY_TYPE(4);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r}function a(t,r,e,n){var i=new C.ARRAY_TYPE(4);return i[0]=t,i[1]=r,i[2]=e,i[3]=n,i}function s(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t}function o(t,r,e,n,i){return t[0]=r,t[1]=e,t[2]=n,t[3]=i,t}function h(t,r,e){return t[0]=r[0]+e[0],t[1]=r[1]+e[1],t[2]=r[2]+e[2],t[3]=r[3]+e[3],t}function u(t,r,e){return t[0]=r[0]-e[0],t[1]=r[1]-e[1],t[2]=r[2]-e[2],t[3]=r[3]-e[3],t}function c(t,r,e){return t[0]=r[0]*e[0],t[1]=r[1]*e[1],t[2]=r[2]*e[2],t[3]=r[3]*e[3],t}function l(t,r,e){return t[0]=r[0]/e[0],t[1]=r[1]/e[1],t[2]=r[2]/e[2],t[3]=r[3]/e[3],t}function f(t,r){return t[0]=Math.ceil(r[0]),t[1]=Math.ceil(r[1]),t[2]=Math.ceil(r[2]),t[3]=Math.ceil(r[3]),t}function p(t,r){return t[0]=Math.floor(r[0]),t[1]=Math.floor(r[1]),t[2]=Math.floor(r[2]),t[3]=Math.floor(r[3]),t}function d(t,r,e){return t[0]=Math.min(r[0],e[0]),t[1]=Math.min(r[1],e[1]),t[2]=Math.min(r[2],e[2]),t[3]=Math.min(r[3],e[3]),t}function m(t,r,e){return t[0]=Math.max(r[0],e[0]),t[1]=Math.max(r[1],e[1]),t[2]=Math.max(r[2],e[2]),t[3]=Math.max(r[3],e[3]),t}function g(t,r){return t[0]=Math.round(r[0]),t[1]=Math.round(r[1]),t[2]=Math.round(r[2]),t[3]=Math.round(r[3]),t}function v(t,r,e){return t[0]=r[0]*e,t[1]=r[1]*e,t[2]=r[2]*e,t[3]=r[3]*e,t}function y(t,r,e,n){return t[0]=r[0]+e[0]*n,t[1]=r[1]+e[1]*n,t[2]=r[2]+e[2]*n,t[3]=r[3]+e[3]*n,t}function _(t,r){var e=r[0]-t[0],n=r[1]-t[1],i=r[2]-t[2],a=r[3]-t[3];return Math.sqrt(e*e+n*n+i*i+a*a)}function x(t,r){var e=r[0]-t[0],n=r[1]-t[1],i=r[2]-t[2],a=r[3]-t[3];return e*e+n*n+i*i+a*a}function b(t){var r=t[0],e=t[1],n=t[2],i=t[3];return Math.sqrt(r*r+e*e+n*n+i*i)}function E(t){var r=t[0],e=t[1],n=t[2],i=t[3];return r*r+e*e+n*n+i*i}function M(t,r){return t[0]=-r[0],t[1]=-r[1],t[2]=-r[2],t[3]=-r[3],t}function w(t,r){return t[0]=1/r[0],t[1]=1/r[1],t[2]=1/r[2],t[3]=1/r[3],t}function A(t,r){var e=r[0],n=r[1],i=r[2],a=r[3],s=e*e+n*n+i*i+a*a;return s>0&&(s=1/Math.sqrt(s),t[0]=e*s,t[1]=n*s,t[2]=i*s,t[3]=a*s),t}function T(t,r){return t[0]*r[0]+t[1]*r[1]+t[2]*r[2]+t[3]*r[3]}function R(t,r,e,n){var i=r[0],a=r[1],s=r[2],o=r[3];return t[0]=i+n*(e[0]-i),t[1]=a+n*(e[1]-a),t[2]=s+n*(e[2]-s),t[3]=o+n*(e[3]-o),t}function S(t,r){return r=r||1,t[0]=C.RANDOM(),t[1]=C.RANDOM(),t[2]=C.RANDOM(),t[3]=C.RANDOM(),A(t,t),v(t,t,r),t}function N(t,r,e){var n=r[0],i=r[1],a=r[2],s=r[3];return t[0]=e[0]*n+e[4]*i+e[8]*a+e[12]*s,t[1]=e[1]*n+e[5]*i+e[9]*a+e[13]*s,t[2]=e[2]*n+e[6]*i+e[10]*a+e[14]*s,t[3]=e[3]*n+e[7]*i+e[11]*a+e[15]*s,t}function I(t,r,e){var n=r[0],i=r[1],a=r[2],s=e[0],o=e[1],h=e[2],u=e[3],c=u*n+o*a-h*i,l=u*i+h*n-s*a,f=u*a+s*i-o*n,p=-s*n-o*i-h*a;return t[0]=c*u+p*-s+l*-h-f*-o,t[1]=l*u+p*-o+f*-s-c*-h,t[2]=f*u+p*-h+c*-o-l*-s,t[3]=r[3],t}function U(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function P(t,r){return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]&&t[3]===r[3]}function O(t,r){var e=t[0],n=t[1],i=t[2],a=t[3],s=r[0],o=r[1],h=r[2],u=r[3];return Math.abs(e-s)<=C.EPSILON*Math.max(1,Math.abs(e),Math.abs(s))&&Math.abs(n-o)<=C.EPSILON*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(i-h)<=C.EPSILON*Math.max(1,Math.abs(i),Math.abs(h))&&Math.abs(a-u)<=C.EPSILON*Math.max(1,Math.abs(a),Math.abs(u))}Object.defineProperty(r,"__esModule",{value:!0}),r.forEach=r.sqrLen=r.len=r.sqrDist=r.dist=r.div=r.mul=r.sub=void 0,r.create=n,r.clone=i,r.fromValues=a,r.copy=s,r.set=o,r.add=h,r.subtract=u,r.multiply=c,r.divide=l,r.ceil=f,r.floor=p,r.min=d,r.max=m,r.round=g,r.scale=v,r.scaleAndAdd=y,r.distance=_,r.squaredDistance=x,r.length=b,r.squaredLength=E,r.negate=M,r.inverse=w,r.normalize=A,r.dot=T,r.lerp=R,r.random=S,r.transformMat4=N,r.transformQuat=I,r.str=U,r.exactEquals=P,r.equals=O;var L=e(0),C=function(t){if(t&&t.__esModule)return t;var r={};if(null!=t)for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(r[e]=t[e]);return r.default=t,r}(L);r.sub=u,r.mul=c,r.div=l,r.dist=_,r.sqrDist=x,r.len=b,r.sqrLen=E,r.forEach=function(){var t=n();return function(r,e,n,i,a,s){var o=void 0,h=void 0;for(e||(e=4),n||(n=0),h=i?Math.min(i*e+n,r.length):r.length,o=n;o<h;o+=e)t[0]=r[o],t[1]=r[o+1],t[2]=r[o+2],t[3]=r[o+3],a(t,t,s),r[o]=t[0],r[o+1]=t[1],r[o+2]=t[2],r[o+3]=t[3];return r}}()},function(t,r,e){"use strict";function n(t){if(t&&t.__esModule)return t;var r={};if(null!=t)for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(r[e]=t[e]);return r.default=t,r}Object.defineProperty(r,"__esModule",{value:!0}),r.vec4=r.vec3=r.vec2=r.quat=r.mat4=r.mat3=r.mat2d=r.mat2=r.glMatrix=void 0;var i=e(0),a=n(i),s=e(5),o=n(s),h=e(6),u=n(h),c=e(1),l=n(c),f=e(7),p=n(f),d=e(8),m=n(d),g=e(9),v=n(g),y=e(2),_=n(y),x=e(3),b=n(x);r.glMatrix=a,r.mat2=o,r.mat2d=u,r.mat3=l,r.mat4=p,r.quat=m,r.vec2=v,r.vec3=_,r.vec4=b},function(t,r,e){"use strict";function n(){var t=new S.ARRAY_TYPE(4);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t}function i(t){var r=new S.ARRAY_TYPE(4);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r}function a(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t}function s(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t}function o(t,r,e,n){var i=new S.ARRAY_TYPE(4);return i[0]=t,i[1]=r,i[2]=e,i[3]=n,i}function h(t,r,e,n,i){return t[0]=r,t[1]=e,t[2]=n,t[3]=i,t}function u(t,r){if(t===r){var e=r[1];t[1]=r[2],t[2]=e}else t[0]=r[0],t[1]=r[2],t[2]=r[1],t[3]=r[3];return t}function c(t,r){var e=r[0],n=r[1],i=r[2],a=r[3],s=e*a-i*n;return s?(s=1/s,t[0]=a*s,t[1]=-n*s,t[2]=-i*s,t[3]=e*s,t):null}function l(t,r){var e=r[0];return t[0]=r[3],t[1]=-r[1],t[2]=-r[2],t[3]=e,t}function f(t){return t[0]*t[3]-t[2]*t[1]}function p(t,r,e){var n=r[0],i=r[1],a=r[2],s=r[3],o=e[0],h=e[1],u=e[2],c=e[3];return t[0]=n*o+a*h,t[1]=i*o+s*h,t[2]=n*u+a*c,t[3]=i*u+s*c,t}function d(t,r,e){var n=r[0],i=r[1],a=r[2],s=r[3],o=Math.sin(e),h=Math.cos(e);return t[0]=n*h+a*o,t[1]=i*h+s*o,t[2]=n*-o+a*h,t[3]=i*-o+s*h,t}function m(t,r,e){var n=r[0],i=r[1],a=r[2],s=r[3],o=e[0],h=e[1];return t[0]=n*o,t[1]=i*o,t[2]=a*h,t[3]=s*h,t}function g(t,r){var e=Math.sin(r),n=Math.cos(r);return t[0]=n,t[1]=e,t[2]=-e,t[3]=n,t}function v(t,r){return t[0]=r[0],t[1]=0,t[2]=0,t[3]=r[1],t}function y(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function _(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2))}function x(t,r,e,n){return t[2]=n[2]/n[0],e[0]=n[0],e[1]=n[1],e[3]=n[3]-t[2]*e[1],[t,r,e]}function b(t,r,e){return t[0]=r[0]+e[0],t[1]=r[1]+e[1],t[2]=r[2]+e[2],t[3]=r[3]+e[3],t}function E(t,r,e){return t[0]=r[0]-e[0],t[1]=r[1]-e[1],t[2]=r[2]-e[2],t[3]=r[3]-e[3],t}function M(t,r){return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]&&t[3]===r[3]}function w(t,r){var e=t[0],n=t[1],i=t[2],a=t[3],s=r[0],o=r[1],h=r[2],u=r[3];return Math.abs(e-s)<=S.EPSILON*Math.max(1,Math.abs(e),Math.abs(s))&&Math.abs(n-o)<=S.EPSILON*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(i-h)<=S.EPSILON*Math.max(1,Math.abs(i),Math.abs(h))&&Math.abs(a-u)<=S.EPSILON*Math.max(1,Math.abs(a),Math.abs(u))}function A(t,r,e){return t[0]=r[0]*e,t[1]=r[1]*e,t[2]=r[2]*e,t[3]=r[3]*e,t}function T(t,r,e,n){return t[0]=r[0]+e[0]*n,t[1]=r[1]+e[1]*n,t[2]=r[2]+e[2]*n,t[3]=r[3]+e[3]*n,t}Object.defineProperty(r,"__esModule",{value:!0}),r.sub=r.mul=void 0,r.create=n,r.clone=i,r.copy=a,r.identity=s,r.fromValues=o,r.set=h,r.transpose=u,r.invert=c,r.adjoint=l,r.determinant=f,r.multiply=p,r.rotate=d,r.scale=m,r.fromRotation=g,r.fromScaling=v,r.str=y,r.frob=_,r.LDU=x,r.add=b,r.subtract=E,r.exactEquals=M,r.equals=w,r.multiplyScalar=A,r.multiplyScalarAndAdd=T;var R=e(0),S=function(t){if(t&&t.__esModule)return t;var r={};if(null!=t)for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(r[e]=t[e]);return r.default=t,r}(R);r.mul=p,r.sub=E},function(t,r,e){"use strict";function n(){var t=new R.ARRAY_TYPE(6);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function i(t){var r=new R.ARRAY_TYPE(6);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4],r[5]=t[5],r}function a(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t}function s(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function o(t,r,e,n,i,a){var s=new R.ARRAY_TYPE(6);return s[0]=t,s[1]=r,s[2]=e,s[3]=n,s[4]=i,s[5]=a,s}function h(t,r,e,n,i,a,s){return t[0]=r,t[1]=e,t[2]=n,t[3]=i,t[4]=a,t[5]=s,t}function u(t,r){var e=r[0],n=r[1],i=r[2],a=r[3],s=r[4],o=r[5],h=e*a-n*i;return h?(h=1/h,t[0]=a*h,t[1]=-n*h,t[2]=-i*h,t[3]=e*h,t[4]=(i*o-a*s)*h,t[5]=(n*s-e*o)*h,t):null}function c(t){return t[0]*t[3]-t[1]*t[2]}function l(t,r,e){var n=r[0],i=r[1],a=r[2],s=r[3],o=r[4],h=r[5],u=e[0],c=e[1],l=e[2],f=e[3],p=e[4],d=e[5];return t[0]=n*u+a*c,t[1]=i*u+s*c,t[2]=n*l+a*f,t[3]=i*l+s*f,t[4]=n*p+a*d+o,t[5]=i*p+s*d+h,t}function f(t,r,e){var n=r[0],i=r[1],a=r[2],s=r[3],o=r[4],h=r[5],u=Math.sin(e),c=Math.cos(e);return t[0]=n*c+a*u,t[1]=i*c+s*u,t[2]=n*-u+a*c,t[3]=i*-u+s*c,t[4]=o,t[5]=h,t}function p(t,r,e){var n=r[0],i=r[1],a=r[2],s=r[3],o=r[4],h=r[5],u=e[0],c=e[1];return t[0]=n*u,t[1]=i*u,t[2]=a*c,t[3]=s*c,t[4]=o,t[5]=h,t}function d(t,r,e){var n=r[0],i=r[1],a=r[2],s=r[3],o=r[4],h=r[5],u=e[0],c=e[1];return t[0]=n,t[1]=i,t[2]=a,t[3]=s,t[4]=n*u+a*c+o,t[5]=i*u+s*c+h,t}function m(t,r){var e=Math.sin(r),n=Math.cos(r);return t[0]=n,t[1]=e,t[2]=-e,t[3]=n,t[4]=0,t[5]=0,t}function g(t,r){return t[0]=r[0],t[1]=0,t[2]=0,t[3]=r[1],t[4]=0,t[5]=0,t}function v(t,r){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=r[0],t[5]=r[1],t}function y(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"}function _(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+1)}function x(t,r,e){return t[0]=r[0]+e[0],t[1]=r[1]+e[1],t[2]=r[2]+e[2],t[3]=r[3]+e[3],t[4]=r[4]+e[4],t[5]=r[5]+e[5],t}function b(t,r,e){return t[0]=r[0]-e[0],t[1]=r[1]-e[1],t[2]=r[2]-e[2],t[3]=r[3]-e[3],t[4]=r[4]-e[4],t[5]=r[5]-e[5],t}function E(t,r,e){return t[0]=r[0]*e,t[1]=r[1]*e,t[2]=r[2]*e,t[3]=r[3]*e,t[4]=r[4]*e,t[5]=r[5]*e,t}function M(t,r,e,n){return t[0]=r[0]+e[0]*n,t[1]=r[1]+e[1]*n,t[2]=r[2]+e[2]*n,t[3]=r[3]+e[3]*n,t[4]=r[4]+e[4]*n,t[5]=r[5]+e[5]*n,t}function w(t,r){return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]&&t[3]===r[3]&&t[4]===r[4]&&t[5]===r[5]}function A(t,r){var e=t[0],n=t[1],i=t[2],a=t[3],s=t[4],o=t[5],h=r[0],u=r[1],c=r[2],l=r[3],f=r[4],p=r[5];return Math.abs(e-h)<=R.EPSILON*Math.max(1,Math.abs(e),Math.abs(h))&&Math.abs(n-u)<=R.EPSILON*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(i-c)<=R.EPSILON*Math.max(1,Math.abs(i),Math.abs(c))&&Math.abs(a-l)<=R.EPSILON*Math.max(1,Math.abs(a),Math.abs(l))&&Math.abs(s-f)<=R.EPSILON*Math.max(1,Math.abs(s),Math.abs(f))&&Math.abs(o-p)<=R.EPSILON*Math.max(1,Math.abs(o),Math.abs(p))}Object.defineProperty(r,"__esModule",{value:!0}),r.sub=r.mul=void 0,r.create=n,r.clone=i,r.copy=a,r.identity=s,r.fromValues=o,r.set=h,r.invert=u,r.determinant=c,r.multiply=l,r.rotate=f,r.scale=p,r.translate=d,r.fromRotation=m,r.fromScaling=g,r.fromTranslation=v,r.str=y,r.frob=_,r.add=x,r.subtract=b,r.multiplyScalar=E,r.multiplyScalarAndAdd=M,r.exactEquals=w,r.equals=A;var T=e(0),R=function(t){if(t&&t.__esModule)return t;var r={};if(null!=t)for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(r[e]=t[e]);return r.default=t,r}(T);r.mul=l,r.sub=b},function(t,r,e){"use strict";function n(){var t=new W.ARRAY_TYPE(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function i(t){var r=new W.ARRAY_TYPE(16);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4],r[5]=t[5],r[6]=t[6],r[7]=t[7],r[8]=t[8],r[9]=t[9],r[10]=t[10],r[11]=t[11],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15],r}function a(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],t}function s(t,r,e,n,i,a,s,o,h,u,c,l,f,p,d,m){var g=new W.ARRAY_TYPE(16);return g[0]=t,g[1]=r,g[2]=e,g[3]=n,g[4]=i,g[5]=a,g[6]=s,g[7]=o,g[8]=h,g[9]=u,g[10]=c,g[11]=l,g[12]=f,g[13]=p,g[14]=d,g[15]=m,g}function o(t,r,e,n,i,a,s,o,h,u,c,l,f,p,d,m,g){return t[0]=r,t[1]=e,t[2]=n,t[3]=i,t[4]=a,t[5]=s,t[6]=o,t[7]=h,t[8]=u,t[9]=c,t[10]=l,t[11]=f,t[12]=p,t[13]=d,t[14]=m,t[15]=g,t}function h(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function u(t,r){if(t===r){var e=r[1],n=r[2],i=r[3],a=r[6],s=r[7],o=r[11];t[1]=r[4],t[2]=r[8],t[3]=r[12],t[4]=e,t[6]=r[9],t[7]=r[13],t[8]=n,t[9]=a,t[11]=r[14],t[12]=i,t[13]=s,t[14]=o}else t[0]=r[0],t[1]=r[4],t[2]=r[8],t[3]=r[12],t[4]=r[1],t[5]=r[5],t[6]=r[9],t[7]=r[13],t[8]=r[2],t[9]=r[6],t[10]=r[10],t[11]=r[14],t[12]=r[3],t[13]=r[7],t[14]=r[11],t[15]=r[15];return t}function c(t,r){var e=r[0],n=r[1],i=r[2],a=r[3],s=r[4],o=r[5],h=r[6],u=r[7],c=r[8],l=r[9],f=r[10],p=r[11],d=r[12],m=r[13],g=r[14],v=r[15],y=e*o-n*s,_=e*h-i*s,x=e*u-a*s,b=n*h-i*o,E=n*u-a*o,M=i*u-a*h,w=c*m-l*d,A=c*g-f*d,T=c*v-p*d,R=l*g-f*m,S=l*v-p*m,N=f*v-p*g,I=y*N-_*S+x*R+b*T-E*A+M*w;return I?(I=1/I,t[0]=(o*N-h*S+u*R)*I,t[1]=(i*S-n*N-a*R)*I,t[2]=(m*M-g*E+v*b)*I,t[3]=(f*E-l*M-p*b)*I,t[4]=(h*T-s*N-u*A)*I,t[5]=(e*N-i*T+a*A)*I,t[6]=(g*x-d*M-v*_)*I,t[7]=(c*M-f*x+p*_)*I,t[8]=(s*S-o*T+u*w)*I,t[9]=(n*T-e*S-a*w)*I,t[10]=(d*E-m*x+v*y)*I,t[11]=(l*x-c*E-p*y)*I,t[12]=(o*A-s*R-h*w)*I,t[13]=(e*R-n*A+i*w)*I,t[14]=(m*_-d*b-g*y)*I,t[15]=(c*b-l*_+f*y)*I,t):null}function l(t,r){var e=r[0],n=r[1],i=r[2],a=r[3],s=r[4],o=r[5],h=r[6],u=r[7],c=r[8],l=r[9],f=r[10],p=r[11],d=r[12],m=r[13],g=r[14],v=r[15];return t[0]=o*(f*v-p*g)-l*(h*v-u*g)+m*(h*p-u*f),t[1]=-(n*(f*v-p*g)-l*(i*v-a*g)+m*(i*p-a*f)),t[2]=n*(h*v-u*g)-o*(i*v-a*g)+m*(i*u-a*h),t[3]=-(n*(h*p-u*f)-o*(i*p-a*f)+l*(i*u-a*h)),t[4]=-(s*(f*v-p*g)-c*(h*v-u*g)+d*(h*p-u*f)),t[5]=e*(f*v-p*g)-c*(i*v-a*g)+d*(i*p-a*f),t[6]=-(e*(h*v-u*g)-s*(i*v-a*g)+d*(i*u-a*h)),t[7]=e*(h*p-u*f)-s*(i*p-a*f)+c*(i*u-a*h),t[8]=s*(l*v-p*m)-c*(o*v-u*m)+d*(o*p-u*l),t[9]=-(e*(l*v-p*m)-c*(n*v-a*m)+d*(n*p-a*l)),t[10]=e*(o*v-u*m)-s*(n*v-a*m)+d*(n*u-a*o),t[11]=-(e*(o*p-u*l)-s*(n*p-a*l)+c*(n*u-a*o)),t[12]=-(s*(l*g-f*m)-c*(o*g-h*m)+d*(o*f-h*l)),t[13]=e*(l*g-f*m)-c*(n*g-i*m)+d*(n*f-i*l),t[14]=-(e*(o*g-h*m)-s*(n*g-i*m)+d*(n*h-i*o)),t[15]=e*(o*f-h*l)-s*(n*f-i*l)+c*(n*h-i*o),t}function f(t){var r=t[0],e=t[1],n=t[2],i=t[3],a=t[4],s=t[5],o=t[6],h=t[7],u=t[8],c=t[9],l=t[10],f=t[11],p=t[12],d=t[13],m=t[14],g=t[15];return(r*s-e*a)*(l*g-f*m)-(r*o-n*a)*(c*g-f*d)+(r*h-i*a)*(c*m-l*d)+(e*o-n*s)*(u*g-f*p)-(e*h-i*s)*(u*m-l*p)+(n*h-i*o)*(u*d-c*p)}function p(t,r,e){var n=r[0],i=r[1],a=r[2],s=r[3],o=r[4],h=r[5],u=r[6],c=r[7],l=r[8],f=r[9],p=r[10],d=r[11],m=r[12],g=r[13],v=r[14],y=r[15],_=e[0],x=e[1],b=e[2],E=e[3];return t[0]=_*n+x*o+b*l+E*m,t[1]=_*i+x*h+b*f+E*g,t[2]=_*a+x*u+b*p+E*v,t[3]=_*s+x*c+b*d+E*y,_=e[4],x=e[5],b=e[6],E=e[7],t[4]=_*n+x*o+b*l+E*m,t[5]=_*i+x*h+b*f+E*g,t[6]=_*a+x*u+b*p+E*v,t[7]=_*s+x*c+b*d+E*y,_=e[8],x=e[9],b=e[10],E=e[11],t[8]=_*n+x*o+b*l+E*m,t[9]=_*i+x*h+b*f+E*g,t[10]=_*a+x*u+b*p+E*v,t[11]=_*s+x*c+b*d+E*y,_=e[12],x=e[13],b=e[14],E=e[15],t[12]=_*n+x*o+b*l+E*m,t[13]=_*i+x*h+b*f+E*g,t[14]=_*a+x*u+b*p+E*v,t[15]=_*s+x*c+b*d+E*y,t}function d(t,r,e){var n=e[0],i=e[1],a=e[2],s=void 0,o=void 0,h=void 0,u=void 0,c=void 0,l=void 0,f=void 0,p=void 0,d=void 0,m=void 0,g=void 0,v=void 0;return r===t?(t[12]=r[0]*n+r[4]*i+r[8]*a+r[12],t[13]=r[1]*n+r[5]*i+r[9]*a+r[13],t[14]=r[2]*n+r[6]*i+r[10]*a+r[14],t[15]=r[3]*n+r[7]*i+r[11]*a+r[15]):(s=r[0],o=r[1],h=r[2],u=r[3],c=r[4],l=r[5],f=r[6],p=r[7],d=r[8],m=r[9],g=r[10],v=r[11],t[0]=s,t[1]=o,t[2]=h,t[3]=u,t[4]=c,t[5]=l,t[6]=f,t[7]=p,t[8]=d,t[9]=m,t[10]=g,t[11]=v,t[12]=s*n+c*i+d*a+r[12],t[13]=o*n+l*i+m*a+r[13],t[14]=h*n+f*i+g*a+r[14],t[15]=u*n+p*i+v*a+r[15]),t}function m(t,r,e){var n=e[0],i=e[1],a=e[2];return t[0]=r[0]*n,t[1]=r[1]*n,t[2]=r[2]*n,t[3]=r[3]*n,t[4]=r[4]*i,t[5]=r[5]*i,t[6]=r[6]*i,t[7]=r[7]*i,t[8]=r[8]*a,t[9]=r[9]*a,t[10]=r[10]*a,t[11]=r[11]*a,t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],t}function g(t,r,e,n){var i=n[0],a=n[1],s=n[2],o=Math.sqrt(i*i+a*a+s*s),h=void 0,u=void 0,c=void 0,l=void 0,f=void 0,p=void 0,d=void 0,m=void 0,g=void 0,v=void 0,y=void 0,_=void 0,x=void 0,b=void 0,E=void 0,M=void 0,w=void 0,A=void 0,T=void 0,R=void 0,S=void 0,N=void 0,I=void 0,U=void 0;return Math.abs(o)<W.EPSILON?null:(o=1/o,i*=o,a*=o,s*=o,h=Math.sin(e),u=Math.cos(e),c=1-u,l=r[0],f=r[1],p=r[2],d=r[3],m=r[4],g=r[5],v=r[6],y=r[7],_=r[8],x=r[9],b=r[10],E=r[11],M=i*i*c+u,w=a*i*c+s*h,A=s*i*c-a*h,T=i*a*c-s*h,R=a*a*c+u,S=s*a*c+i*h,N=i*s*c+a*h,I=a*s*c-i*h,U=s*s*c+u,t[0]=l*M+m*w+_*A,t[1]=f*M+g*w+x*A,t[2]=p*M+v*w+b*A,t[3]=d*M+y*w+E*A,t[4]=l*T+m*R+_*S,t[5]=f*T+g*R+x*S,t[6]=p*T+v*R+b*S,t[7]=d*T+y*R+E*S,t[8]=l*N+m*I+_*U,t[9]=f*N+g*I+x*U,t[10]=p*N+v*I+b*U,t[11]=d*N+y*I+E*U,r!==t&&(t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t)}function v(t,r,e){var n=Math.sin(e),i=Math.cos(e),a=r[4],s=r[5],o=r[6],h=r[7],u=r[8],c=r[9],l=r[10],f=r[11];return r!==t&&(t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t[4]=a*i+u*n,t[5]=s*i+c*n,t[6]=o*i+l*n,t[7]=h*i+f*n,t[8]=u*i-a*n,t[9]=c*i-s*n,t[10]=l*i-o*n,t[11]=f*i-h*n,t}function y(t,r,e){var n=Math.sin(e),i=Math.cos(e),a=r[0],s=r[1],o=r[2],h=r[3],u=r[8],c=r[9],l=r[10],f=r[11];return r!==t&&(t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t[0]=a*i-u*n,t[1]=s*i-c*n,t[2]=o*i-l*n,t[3]=h*i-f*n,t[8]=a*n+u*i,t[9]=s*n+c*i,t[10]=o*n+l*i,t[11]=h*n+f*i,t}function _(t,r,e){var n=Math.sin(e),i=Math.cos(e),a=r[0],s=r[1],o=r[2],h=r[3],u=r[4],c=r[5],l=r[6],f=r[7];return r!==t&&(t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t[0]=a*i+u*n,t[1]=s*i+c*n,t[2]=o*i+l*n,t[3]=h*i+f*n,t[4]=u*i-a*n,t[5]=c*i-s*n,t[6]=l*i-o*n,t[7]=f*i-h*n,t}function x(t,r){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t}function b(t,r){return t[0]=r[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=r[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function E(t,r,e){var n=e[0],i=e[1],a=e[2],s=Math.sqrt(n*n+i*i+a*a),o=void 0,h=void 0,u=void 0;return Math.abs(s)<W.EPSILON?null:(s=1/s,n*=s,i*=s,a*=s,o=Math.sin(r),h=Math.cos(r),u=1-h,t[0]=n*n*u+h,t[1]=i*n*u+a*o,t[2]=a*n*u-i*o,t[3]=0,t[4]=n*i*u-a*o,t[5]=i*i*u+h,t[6]=a*i*u+n*o,t[7]=0,t[8]=n*a*u+i*o,t[9]=i*a*u-n*o,t[10]=a*a*u+h,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}function M(t,r){var e=Math.sin(r),n=Math.cos(r);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=n,t[6]=e,t[7]=0,t[8]=0,t[9]=-e,t[10]=n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function w(t,r){var e=Math.sin(r),n=Math.cos(r);return t[0]=n,t[1]=0,t[2]=-e,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=e,t[9]=0,t[10]=n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function A(t,r){var e=Math.sin(r),n=Math.cos(r);return t[0]=n,t[1]=e,t[2]=0,t[3]=0,t[4]=-e,t[5]=n,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function T(t,r,e){var n=r[0],i=r[1],a=r[2],s=r[3],o=n+n,h=i+i,u=a+a,c=n*o,l=n*h,f=n*u,p=i*h,d=i*u,m=a*u,g=s*o,v=s*h,y=s*u;return t[0]=1-(p+m),t[1]=l+y,t[2]=f-v,t[3]=0,t[4]=l-y,t[5]=1-(c+m),t[6]=d+g,t[7]=0,t[8]=f+v,t[9]=d-g,t[10]=1-(c+p),t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function R(t,r){return t[0]=r[12],t[1]=r[13],t[2]=r[14],t}function S(t,r){var e=r[0],n=r[1],i=r[2],a=r[4],s=r[5],o=r[6],h=r[8],u=r[9],c=r[10];return t[0]=Math.sqrt(e*e+n*n+i*i),t[1]=Math.sqrt(a*a+s*s+o*o),t[2]=Math.sqrt(h*h+u*u+c*c),t}function N(t,r){var e=r[0]+r[5]+r[10],n=0;return e>0?(n=2*Math.sqrt(e+1),t[3]=.25*n,t[0]=(r[6]-r[9])/n,t[1]=(r[8]-r[2])/n,t[2]=(r[1]-r[4])/n):r[0]>r[5]&r[0]>r[10]?(n=2*Math.sqrt(1+r[0]-r[5]-r[10]),t[3]=(r[6]-r[9])/n,t[0]=.25*n,t[1]=(r[1]+r[4])/n,t[2]=(r[8]+r[2])/n):r[5]>r[10]?(n=2*Math.sqrt(1+r[5]-r[0]-r[10]),t[3]=(r[8]-r[2])/n,t[0]=(r[1]+r[4])/n,t[1]=.25*n,t[2]=(r[6]+r[9])/n):(n=2*Math.sqrt(1+r[10]-r[0]-r[5]),t[3]=(r[1]-r[4])/n,t[0]=(r[8]+r[2])/n,t[1]=(r[6]+r[9])/n,t[2]=.25*n),t}function I(t,r,e,n){var i=r[0],a=r[1],s=r[2],o=r[3],h=i+i,u=a+a,c=s+s,l=i*h,f=i*u,p=i*c,d=a*u,m=a*c,g=s*c,v=o*h,y=o*u,_=o*c,x=n[0],b=n[1],E=n[2];return t[0]=(1-(d+g))*x,t[1]=(f+_)*x,t[2]=(p-y)*x,t[3]=0,t[4]=(f-_)*b,t[5]=(1-(l+g))*b,t[6]=(m+v)*b,t[7]=0,t[8]=(p+y)*E,t[9]=(m-v)*E,t[10]=(1-(l+d))*E,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function U(t,r,e,n,i){var a=r[0],s=r[1],o=r[2],h=r[3],u=a+a,c=s+s,l=o+o,f=a*u,p=a*c,d=a*l,m=s*c,g=s*l,v=o*l,y=h*u,_=h*c,x=h*l,b=n[0],E=n[1],M=n[2],w=i[0],A=i[1],T=i[2];return t[0]=(1-(m+v))*b,t[1]=(p+x)*b,t[2]=(d-_)*b,t[3]=0,t[4]=(p-x)*E,t[5]=(1-(f+v))*E,t[6]=(g+y)*E,t[7]=0,t[8]=(d+_)*M,t[9]=(g-y)*M,t[10]=(1-(f+m))*M,t[11]=0,t[12]=e[0]+w-(t[0]*w+t[4]*A+t[8]*T),t[13]=e[1]+A-(t[1]*w+t[5]*A+t[9]*T),t[14]=e[2]+T-(t[2]*w+t[6]*A+t[10]*T),t[15]=1,t}function P(t,r){var e=r[0],n=r[1],i=r[2],a=r[3],s=e+e,o=n+n,h=i+i,u=e*s,c=n*s,l=n*o,f=i*s,p=i*o,d=i*h,m=a*s,g=a*o,v=a*h;return t[0]=1-l-d,t[1]=c+v,t[2]=f-g,t[3]=0,t[4]=c-v,t[5]=1-u-d,t[6]=p+m,t[7]=0,t[8]=f+g,t[9]=p-m,t[10]=1-u-l,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function O(t,r,e,n,i,a,s){var o=1/(e-r),h=1/(i-n),u=1/(a-s);return t[0]=2*a*o,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*a*h,t[6]=0,t[7]=0,t[8]=(e+r)*o,t[9]=(i+n)*h,t[10]=(s+a)*u,t[11]=-1,t[12]=0,t[13]=0,t[14]=s*a*2*u,t[15]=0,t}function L(t,r,e,n,i){var a=1/Math.tan(r/2),s=1/(n-i);return t[0]=a/e,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(i+n)*s,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*i*n*s,t[15]=0,t}function C(t,r,e,n){var i=Math.tan(r.upDegrees*Math.PI/180),a=Math.tan(r.downDegrees*Math.PI/180),s=Math.tan(r.leftDegrees*Math.PI/180),o=Math.tan(r.rightDegrees*Math.PI/180),h=2/(s+o),u=2/(i+a);return t[0]=h,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=u,t[6]=0,t[7]=0,t[8]=-(s-o)*h*.5,t[9]=(i-a)*u*.5,t[10]=n/(e-n),t[11]=-1,t[12]=0,t[13]=0,t[14]=n*e/(e-n),t[15]=0,t}function z(t,r,e,n,i,a,s){var o=1/(r-e),h=1/(n-i),u=1/(a-s);return t[0]=-2*o,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*h,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*u,t[11]=0,t[12]=(r+e)*o,t[13]=(i+n)*h,t[14]=(s+a)*u,t[15]=1,t}function D(t,r,e,n){var i=void 0,a=void 0,s=void 0,o=void 0,h=void 0,u=void 0,c=void 0,l=void 0,f=void 0,p=void 0,d=r[0],m=r[1],g=r[2],v=n[0],y=n[1],_=n[2],x=e[0],b=e[1],E=e[2];return Math.abs(d-x)<W.EPSILON&&Math.abs(m-b)<W.EPSILON&&Math.abs(g-E)<W.EPSILON?mat4.identity(t):(c=d-x,l=m-b,f=g-E,p=1/Math.sqrt(c*c+l*l+f*f),c*=p,l*=p,f*=p,i=y*f-_*l,a=_*c-v*f,s=v*l-y*c,p=Math.sqrt(i*i+a*a+s*s),p?(p=1/p,i*=p,a*=p,s*=p):(i=0,a=0,s=0),o=l*s-f*a,h=f*i-c*s,u=c*a-l*i,p=Math.sqrt(o*o+h*h+u*u),p?(p=1/p,o*=p,h*=p,u*=p):(o=0,h=0,u=0),t[0]=i,t[1]=o,t[2]=c,t[3]=0,t[4]=a,t[5]=h,t[6]=l,t[7]=0,t[8]=s,t[9]=u,t[10]=f,t[11]=0,t[12]=-(i*d+a*m+s*g),t[13]=-(o*d+h*m+u*g),t[14]=-(c*d+l*m+f*g),t[15]=1,t)}function F(t,r,e,n){var i=r[0],a=r[1],s=r[2],o=n[0],h=n[1],u=n[2],c=i-e[0],l=a-e[1],f=s-e[2],p=c*c+l*l+f*f;p>0&&(p=1/Math.sqrt(p),c*=p,l*=p,f*=p);var d=h*f-u*l,m=u*c-o*f,g=o*l-h*c;return t[0]=d,t[1]=m,t[2]=g,t[3]=0,t[4]=l*g-f*m,t[5]=f*d-c*g,t[6]=c*m-l*d,t[7]=0,t[8]=c,t[9]=l,t[10]=f,t[11]=0,t[12]=i,t[13]=a,t[14]=s,t[15]=1,t}function B(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}function V(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2)+Math.pow(t[9],2)+Math.pow(t[10],2)+Math.pow(t[11],2)+Math.pow(t[12],2)+Math.pow(t[13],2)+Math.pow(t[14],2)+Math.pow(t[15],2))}function k(t,r,e){return t[0]=r[0]+e[0],t[1]=r[1]+e[1],t[2]=r[2]+e[2],t[3]=r[3]+e[3],t[4]=r[4]+e[4],t[5]=r[5]+e[5],t[6]=r[6]+e[6],t[7]=r[7]+e[7],t[8]=r[8]+e[8],t[9]=r[9]+e[9],t[10]=r[10]+e[10],t[11]=r[11]+e[11],t[12]=r[12]+e[12],t[13]=r[13]+e[13],t[14]=r[14]+e[14],t[15]=r[15]+e[15],t}function j(t,r,e){return t[0]=r[0]-e[0],t[1]=r[1]-e[1],t[2]=r[2]-e[2],t[3]=r[3]-e[3],t[4]=r[4]-e[4],t[5]=r[5]-e[5],t[6]=r[6]-e[6],t[7]=r[7]-e[7],t[8]=r[8]-e[8],t[9]=r[9]-e[9],t[10]=r[10]-e[10],t[11]=r[11]-e[11],t[12]=r[12]-e[12],t[13]=r[13]-e[13],t[14]=r[14]-e[14],t[15]=r[15]-e[15],t}function X(t,r,e){return t[0]=r[0]*e,t[1]=r[1]*e,t[2]=r[2]*e,t[3]=r[3]*e,t[4]=r[4]*e,t[5]=r[5]*e,t[6]=r[6]*e,t[7]=r[7]*e,t[8]=r[8]*e,t[9]=r[9]*e,t[10]=r[10]*e,t[11]=r[11]*e,t[12]=r[12]*e,t[13]=r[13]*e,t[14]=r[14]*e,t[15]=r[15]*e,t}function Y(t,r,e,n){return t[0]=r[0]+e[0]*n,t[1]=r[1]+e[1]*n,t[2]=r[2]+e[2]*n,t[3]=r[3]+e[3]*n,t[4]=r[4]+e[4]*n,t[5]=r[5]+e[5]*n,t[6]=r[6]+e[6]*n,t[7]=r[7]+e[7]*n,t[8]=r[8]+e[8]*n,t[9]=r[9]+e[9]*n,t[10]=r[10]+e[10]*n,t[11]=r[11]+e[11]*n,t[12]=r[12]+e[12]*n,t[13]=r[13]+e[13]*n,t[14]=r[14]+e[14]*n,t[15]=r[15]+e[15]*n,t}function q(t,r){return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]&&t[3]===r[3]&&t[4]===r[4]&&t[5]===r[5]&&t[6]===r[6]&&t[7]===r[7]&&t[8]===r[8]&&t[9]===r[9]&&t[10]===r[10]&&t[11]===r[11]&&t[12]===r[12]&&t[13]===r[13]&&t[14]===r[14]&&t[15]===r[15]}function G(t,r){var e=t[0],n=t[1],i=t[2],a=t[3],s=t[4],o=t[5],h=t[6],u=t[7],c=t[8],l=t[9],f=t[10],p=t[11],d=t[12],m=t[13],g=t[14],v=t[15],y=r[0],_=r[1],x=r[2],b=r[3],E=r[4],M=r[5],w=r[6],A=r[7],T=r[8],R=r[9],S=r[10],N=r[11],I=r[12],U=r[13],P=r[14],O=r[15];return Math.abs(e-y)<=W.EPSILON*Math.max(1,Math.abs(e),Math.abs(y))&&Math.abs(n-_)<=W.EPSILON*Math.max(1,Math.abs(n),Math.abs(_))&&Math.abs(i-x)<=W.EPSILON*Math.max(1,Math.abs(i),Math.abs(x))&&Math.abs(a-b)<=W.EPSILON*Math.max(1,Math.abs(a),Math.abs(b))&&Math.abs(s-E)<=W.EPSILON*Math.max(1,Math.abs(s),Math.abs(E))&&Math.abs(o-M)<=W.EPSILON*Math.max(1,Math.abs(o),Math.abs(M))&&Math.abs(h-w)<=W.EPSILON*Math.max(1,Math.abs(h),Math.abs(w))&&Math.abs(u-A)<=W.EPSILON*Math.max(1,Math.abs(u),Math.abs(A))&&Math.abs(c-T)<=W.EPSILON*Math.max(1,Math.abs(c),Math.abs(T))&&Math.abs(l-R)<=W.EPSILON*Math.max(1,Math.abs(l),Math.abs(R))&&Math.abs(f-S)<=W.EPSILON*Math.max(1,Math.abs(f),Math.abs(S))&&Math.abs(p-N)<=W.EPSILON*Math.max(1,Math.abs(p),Math.abs(N))&&Math.abs(d-I)<=W.EPSILON*Math.max(1,Math.abs(d),Math.abs(I))&&Math.abs(m-U)<=W.EPSILON*Math.max(1,Math.abs(m),Math.abs(U))&&Math.abs(g-P)<=W.EPSILON*Math.max(1,Math.abs(g),Math.abs(P))&&Math.abs(v-O)<=W.EPSILON*Math.max(1,Math.abs(v),Math.abs(O))}Object.defineProperty(r,"__esModule",{value:!0}),r.sub=r.mul=void 0,r.create=n,r.clone=i,r.copy=a,r.fromValues=s,r.set=o,r.identity=h,r.transpose=u,r.invert=c,r.adjoint=l,r.determinant=f,r.multiply=p,r.translate=d,r.scale=m,r.rotate=g,r.rotateX=v,r.rotateY=y,r.rotateZ=_,r.fromTranslation=x,r.fromScaling=b,r.fromRotation=E,r.fromXRotation=M,r.fromYRotation=w,r.fromZRotation=A,r.fromRotationTranslation=T,r.getTranslation=R,r.getScaling=S,r.getRotation=N,r.fromRotationTranslationScale=I,r.fromRotationTranslationScaleOrigin=U,r.fromQuat=P,r.frustum=O,r.perspective=L,r.perspectiveFromFieldOfView=C,r.ortho=z,r.lookAt=D,r.targetTo=F,r.str=B,r.frob=V,r.add=k,r.subtract=j,r.multiplyScalar=X,r.multiplyScalarAndAdd=Y,r.exactEquals=q,r.equals=G;var H=e(0),W=function(t){if(t&&t.__esModule)return t;var r={};if(null!=t)for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(r[e]=t[e]);return r.default=t,r}(H);r.mul=p,r.sub=j},function(t,r,e){"use strict";function n(t){if(t&&t.__esModule)return t;var r={};if(null!=t)for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(r[e]=t[e]);return r.default=t,r}function i(){var t=new x.ARRAY_TYPE(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function a(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function s(t,r,e){e*=.5;var n=Math.sin(e);return t[0]=n*r[0],t[1]=n*r[1],t[2]=n*r[2],t[3]=Math.cos(e),t}function o(t,r){var e=2*Math.acos(r[3]),n=Math.sin(e/2);return 0!=n?(t[0]=r[0]/n,t[1]=r[1]/n,t[2]=r[2]/n):(t[0]=1,t[1]=0,t[2]=0),e}function h(t,r,e){var n=r[0],i=r[1],a=r[2],s=r[3],o=e[0],h=e[1],u=e[2],c=e[3];return t[0]=n*c+s*o+i*u-a*h,t[1]=i*c+s*h+a*o-n*u,t[2]=a*c+s*u+n*h-i*o,t[3]=s*c-n*o-i*h-a*u,t}function u(t,r,e){e*=.5;var n=r[0],i=r[1],a=r[2],s=r[3],o=Math.sin(e),h=Math.cos(e);return t[0]=n*h+s*o,t[1]=i*h+a*o,t[2]=a*h-i*o,t[3]=s*h-n*o,t}function c(t,r,e){e*=.5;var n=r[0],i=r[1],a=r[2],s=r[3],o=Math.sin(e),h=Math.cos(e);return t[0]=n*h-a*o,t[1]=i*h+s*o,t[2]=a*h+n*o,t[3]=s*h-i*o,t}function l(t,r,e){e*=.5;var n=r[0],i=r[1],a=r[2],s=r[3],o=Math.sin(e),h=Math.cos(e);return t[0]=n*h+i*o,t[1]=i*h-n*o,t[2]=a*h+s*o,t[3]=s*h-a*o,t}function f(t,r){var e=r[0],n=r[1],i=r[2];return t[0]=e,t[1]=n,t[2]=i,t[3]=Math.sqrt(Math.abs(1-e*e-n*n-i*i)),t}function p(t,r,e,n){var i=r[0],a=r[1],s=r[2],o=r[3],h=e[0],u=e[1],c=e[2],l=e[3],f=void 0,p=void 0,d=void 0,m=void 0,g=void 0;return p=i*h+a*u+s*c+o*l,p<0&&(p=-p,h=-h,u=-u,c=-c,l=-l),1-p>1e-6?(f=Math.acos(p),d=Math.sin(f),m=Math.sin((1-n)*f)/d,g=Math.sin(n*f)/d):(m=1-n,g=n),t[0]=m*i+g*h,t[1]=m*a+g*u,t[2]=m*s+g*c,t[3]=m*o+g*l,t}function d(t,r){var e=r[0],n=r[1],i=r[2],a=r[3],s=e*e+n*n+i*i+a*a,o=s?1/s:0;return t[0]=-e*o,t[1]=-n*o,t[2]=-i*o,t[3]=a*o,t}function m(t,r){return t[0]=-r[0],t[1]=-r[1],t[2]=-r[2],t[3]=r[3],t}function g(t,r){var e=r[0]+r[4]+r[8],n=void 0;if(e>0)n=Math.sqrt(e+1),t[3]=.5*n,n=.5/n,t[0]=(r[5]-r[7])*n,t[1]=(r[6]-r[2])*n,t[2]=(r[1]-r[3])*n;else{var i=0;r[4]>r[0]&&(i=1),r[8]>r[3*i+i]&&(i=2);var a=(i+1)%3,s=(i+2)%3;n=Math.sqrt(r[3*i+i]-r[3*a+a]-r[3*s+s]+1),t[i]=.5*n,n=.5/n,t[3]=(r[3*a+s]-r[3*s+a])*n,t[a]=(r[3*a+i]+r[3*i+a])*n,t[s]=(r[3*s+i]+r[3*i+s])*n}return t}function v(t,r,e,n){var i=.5*Math.PI/180;r*=i,e*=i,n*=i;var a=Math.sin(r),s=Math.cos(r),o=Math.sin(e),h=Math.cos(e),u=Math.sin(n),c=Math.cos(n);return t[0]=a*h*c-s*o*u,t[1]=s*o*c+a*h*u,t[2]=s*h*u-a*o*c,t[3]=s*h*c+a*o*u,t}function y(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}Object.defineProperty(r,"__esModule",{value:!0}),r.setAxes=r.sqlerp=r.rotationTo=r.equals=r.exactEquals=r.normalize=r.sqrLen=r.squaredLength=r.len=r.length=r.lerp=r.dot=r.scale=r.mul=r.add=r.set=r.copy=r.fromValues=r.clone=void 0,r.create=i,r.identity=a,r.setAxisAngle=s,r.getAxisAngle=o,r.multiply=h,r.rotateX=u,r.rotateY=c,r.rotateZ=l,r.calculateW=f,r.slerp=p,r.invert=d,r.conjugate=m,r.fromMat3=g,r.fromEuler=v,r.str=y;var _=e(0),x=n(_),b=e(1),E=n(b),M=e(2),w=n(M),A=e(3),T=n(A),R=(r.clone=T.clone,r.fromValues=T.fromValues,r.copy=T.copy,r.set=T.set,r.add=T.add,r.mul=h,r.scale=T.scale,r.dot=T.dot,r.lerp=T.lerp,r.length=T.length),S=(r.len=R,r.squaredLength=T.squaredLength),N=(r.sqrLen=S,r.normalize=T.normalize);r.exactEquals=T.exactEquals,r.equals=T.equals,r.rotationTo=function(){var t=w.create(),r=w.fromValues(1,0,0),e=w.fromValues(0,1,0);return function(n,i,a){var o=w.dot(i,a);return o<-.999999?(w.cross(t,r,i),w.len(t)<1e-6&&w.cross(t,e,i),w.normalize(t,t),s(n,t,Math.PI),n):o>.999999?(n[0]=0,n[1]=0,n[2]=0,n[3]=1,n):(w.cross(t,i,a),n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=1+o,N(n,n))}}(),r.sqlerp=function(){var t=i(),r=i();return function(e,n,i,a,s,o){return p(t,n,s,o),p(r,i,a,o),p(e,t,r,2*o*(1-o)),e}}(),r.setAxes=function(){var t=E.create();return function(r,e,n,i){return t[0]=n[0],t[3]=n[1],t[6]=n[2],t[1]=i[0],t[4]=i[1],t[7]=i[2],t[2]=-e[0],t[5]=-e[1],t[8]=-e[2],N(r,g(r,t))}}()},function(t,r,e){"use strict";function n(){var t=new F.ARRAY_TYPE(2);return t[0]=0,t[1]=0,t}function i(t){var r=new F.ARRAY_TYPE(2);return r[0]=t[0],r[1]=t[1],r}function a(t,r){var e=new F.ARRAY_TYPE(2);return e[0]=t,e[1]=r,e}function s(t,r){return t[0]=r[0],t[1]=r[1],t}function o(t,r,e){return t[0]=r,t[1]=e,t}function h(t,r,e){return t[0]=r[0]+e[0],t[1]=r[1]+e[1],t}function u(t,r,e){return t[0]=r[0]-e[0],t[1]=r[1]-e[1],t}function c(t,r,e){return t[0]=r[0]*e[0],t[1]=r[1]*e[1],t}function l(t,r,e){return t[0]=r[0]/e[0],t[1]=r[1]/e[1],t}function f(t,r){return t[0]=Math.ceil(r[0]),t[1]=Math.ceil(r[1]),t}function p(t,r){return t[0]=Math.floor(r[0]),t[1]=Math.floor(r[1]),t}function d(t,r,e){return t[0]=Math.min(r[0],e[0]),t[1]=Math.min(r[1],e[1]),t}function m(t,r,e){return t[0]=Math.max(r[0],e[0]),t[1]=Math.max(r[1],e[1]),t}function g(t,r){return t[0]=Math.round(r[0]),t[1]=Math.round(r[1]),t}function v(t,r,e){return t[0]=r[0]*e,t[1]=r[1]*e,t}function y(t,r,e,n){return t[0]=r[0]+e[0]*n,t[1]=r[1]+e[1]*n,t}function _(t,r){var e=r[0]-t[0],n=r[1]-t[1];return Math.sqrt(e*e+n*n)}function x(t,r){var e=r[0]-t[0],n=r[1]-t[1];return e*e+n*n}function b(t){var r=t[0],e=t[1];return Math.sqrt(r*r+e*e)}function E(t){var r=t[0],e=t[1];return r*r+e*e}function M(t,r){return t[0]=-r[0],t[1]=-r[1],t}function w(t,r){return t[0]=1/r[0],t[1]=1/r[1],t}function A(t,r){var e=r[0],n=r[1],i=e*e+n*n;return i>0&&(i=1/Math.sqrt(i),t[0]=r[0]*i,t[1]=r[1]*i),t}function T(t,r){return t[0]*r[0]+t[1]*r[1]}function R(t,r,e){var n=r[0]*e[1]-r[1]*e[0];return t[0]=t[1]=0,t[2]=n,t}function S(t,r,e,n){var i=r[0],a=r[1];return t[0]=i+n*(e[0]-i),t[1]=a+n*(e[1]-a),t}function N(t,r){r=r||1;var e=2*F.RANDOM()*Math.PI;return t[0]=Math.cos(e)*r,t[1]=Math.sin(e)*r,t}function I(t,r,e){var n=r[0],i=r[1];return t[0]=e[0]*n+e[2]*i,t[1]=e[1]*n+e[3]*i,t}function U(t,r,e){var n=r[0],i=r[1];return t[0]=e[0]*n+e[2]*i+e[4],t[1]=e[1]*n+e[3]*i+e[5],t}function P(t,r,e){var n=r[0],i=r[1];return t[0]=e[0]*n+e[3]*i+e[6],t[1]=e[1]*n+e[4]*i+e[7],t}function O(t,r,e){var n=r[0],i=r[1];return t[0]=e[0]*n+e[4]*i+e[12],t[1]=e[1]*n+e[5]*i+e[13],t}function L(t){return"vec2("+t[0]+", "+t[1]+")"}function C(t,r){return t[0]===r[0]&&t[1]===r[1]}function z(t,r){var e=t[0],n=t[1],i=r[0],a=r[1];return Math.abs(e-i)<=F.EPSILON*Math.max(1,Math.abs(e),Math.abs(i))&&Math.abs(n-a)<=F.EPSILON*Math.max(1,Math.abs(n),Math.abs(a))}Object.defineProperty(r,"__esModule",{value:!0}),r.forEach=r.sqrLen=r.sqrDist=r.dist=r.div=r.mul=r.sub=r.len=void 0,r.create=n,r.clone=i,r.fromValues=a,r.copy=s,r.set=o,r.add=h,r.subtract=u,r.multiply=c,r.divide=l,r.ceil=f,r.floor=p,r.min=d,r.max=m,r.round=g,r.scale=v,r.scaleAndAdd=y,r.distance=_,r.squaredDistance=x,r.length=b,r.squaredLength=E,r.negate=M,r.inverse=w,r.normalize=A,r.dot=T,r.cross=R,r.lerp=S,r.random=N,r.transformMat2=I,r.transformMat2d=U,r.transformMat3=P,r.transformMat4=O,r.str=L,r.exactEquals=C,r.equals=z;var D=e(0),F=function(t){if(t&&t.__esModule)return t;var r={};if(null!=t)for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(r[e]=t[e]);return r.default=t,r}(D);r.len=b,r.sub=u,r.mul=c,r.div=l,r.dist=_,r.sqrDist=x,r.sqrLen=E,r.forEach=function(){var t=n();return function(r,e,n,i,a,s){var o=void 0,h=void 0;for(e||(e=2),n||(n=0),h=i?Math.min(i*e+n,r.length):r.length,o=n;o<h;o+=e)t[0]=r[o],t[1]=r[o+1],a(t,t,s),r[o]=t[0],r[o+1]=t[1];return r}}()}])})},function(t,r,e){function n(t,r){function e(){s[0]=s[1]=s[2]=0}function n(t){var e=1===t.deltaMode?12:1;s[0]+=e*(t.deltaX||0),s[1]+=e*(t.deltaY||0),s[2]+=e*(t.deltaZ||0),s.emit("scroll",s),r&&t.preventDefault&&(t.preventDefault(),t.stopPropagation&&t.stopPropagation())}var s=new i;return s.flush=e,e(),"undefined"==typeof window?s:(t=t||window,a(t,n,!1),s)}var i=e(4),a=e(107);t.exports=n},function(t,r){function e(t,r,e){n(t,a,r,e),"DOMMouseScroll"==a&&n(t,"MozMousePixelScroll",r,e)}function n(t,r,e,n){t[i](s+r,"wheel"==a?e:function(t){!t&&(t=window.event);var r={originalEvent:t,target:t.target||t.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==t.type?0:1,deltaX:0,delatZ:0,preventDefault:function(){t.preventDefault?t.preventDefault():t.returnValue=!1}};return"mousewheel"==a?(r.deltaY=-.025*t.wheelDelta,t.wheelDeltaX&&(r.deltaX=-.025*t.wheelDeltaX)):r.deltaY=t.detail,e(r)},n||!1)}t.exports=e;var i,a,s="";window.addEventListener?i="addEventListener":(i="attachEvent",s="on"),a="onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll"},function(t,r,e){function n(t,r){function e(){this.prevX=this.x,this.prevY=this.y}var n=new i;return n.x=0,n.y=0,n.prevX=0,n.prevY=0,n.flush=e,"undefined"==typeof window?n:(r=r||t||window,t=t||document.body,r.addEventListener("mousemove",t===document.body||t===window?function(t){n.prevX=n.x,n.prevY=n.y,n.x=t.clientX,n.y=t.clientY,n.emit("move",t)}:function(r){n.prevX=n.x,n.prevY=n.y;var e=t.getBoundingClientRect();n.x=r.clientX-e.left,n.y=r.clientY-e.top,n.emit("move",r)},!1),n)}var i=e(4);t.exports=n},function(t,r,e){function n(t,r){function e(t){if(s.right=!1,s[a[t.button]]=!0,s.emit("down",t),r){if(!t.preventDefault)return!1;t.preventDefault(),t.stopPropagation()}}function n(t){s.right=!1,s[a[t.button]]=!1,s.emit("up",t),r&&t.preventDefault&&(t.preventDefault(),t.stopPropagation())}var s=new i;return s.left=!1,s.right=!1,s.middle=!1,"undefined"!=typeof window&&(t=t||window,t.addEventListener("mousedown",e,!1),t.addEventListener("mouseup",n,!1),r&&t.addEventListener("contextmenu",function(t){return t.preventDefault&&t.preventDefault()&&!1},!1)),s}var i=e(4),a=["left","middle","right"];t.exports=n},function(t,r,e){(function(r){function n(t){return t?u[t]:u}function i(){h.forEach(function(t){u[o[t]]=!1})}function a(t){u[o[t.keyCode]]=!1}function s(t){u[o[t.keyCode]]=!0}var o=e(112),h=Object.keys(o),u={};i(),t.exports=n,r.browser&&(window.addEventListener("keydown",s,!1),window.addEventListener("keyup",a,!1),window.addEventListener("blur",i,!1))}).call(r,e(111))},function(t,r){function e(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function i(t){if(c===setTimeout)return setTimeout(t,0);if((c===e||!c)&&setTimeout)return c=setTimeout,setTimeout(t,0);try{return c(t,0)}catch(r){try{return c.call(null,t,0)}catch(r){return c.call(this,t,0)}}}function a(t){if(l===clearTimeout)return clearTimeout(t);if((l===n||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(t);try{return l(t)}catch(r){try{return l.call(null,t)}catch(r){return l.call(this,t)}}}function s(){m&&p&&(m=!1,p.length?d=p.concat(d):g=-1,d.length&&o())}function o(){if(!m){var t=i(s);m=!0;for(var r=d.length;r;){for(p=d,d=[];++g<r;)p&&p[g].run();g=-1,r=d.length}p=null,m=!1,a(t)}}function h(t,r){this.fun=t,this.array=r}function u(){}var c,l,f=t.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:e}catch(t){c=e}try{l="function"==typeof clearTimeout?clearTimeout:n}catch(t){l=n}}();var p,d=[],m=!1,g=-1;f.nextTick=function(t){var r=new Array(arguments.length-1);if(arguments.length>1)for(var e=1;e<arguments.length;e++)r[e-1]=arguments[e];d.push(new h(t,r)),1!==d.length||m||i(o)},h.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=u,f.addListener=u,f.once=u,f.off=u,f.removeListener=u,f.removeAllListeners=u,f.emit=u,f.prependListener=u,f.prependOnceListener=u,f.listeners=function(t){return[]},f.binding=function(t){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(t){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},function(t,r){var e,n="undefined"!=typeof window?window.navigator.userAgent:"",i=/OS X/.test(n),a=/Opera/.test(n),s=!/like Gecko/.test(n)&&!a,o=t.exports={0:i?"<menu>":"<UNK>",1:"<mouse 1>",2:"<mouse 2>",3:"<break>",4:"<mouse 3>",5:"<mouse 4>",6:"<mouse 5>",8:"<backspace>",9:"<tab>",12:"<clear>",13:"<enter>",16:"<shift>",17:"<control>",18:"<alt>",19:"<pause>",20:"<caps-lock>",21:"<ime-hangul>",23:"<ime-junja>",24:"<ime-final>",25:"<ime-kanji>",27:"<escape>",28:"<ime-convert>",29:"<ime-nonconvert>",30:"<ime-accept>",31:"<ime-mode-change>",27:"<escape>",32:"<space>",33:"<page-up>",34:"<page-down>",35:"<end>",36:"<home>",37:"<left>",38:"<up>",39:"<right>",40:"<down>",41:"<select>",42:"<print>",43:"<execute>",44:"<snapshot>",45:"<insert>",46:"<delete>",47:"<help>",91:"<meta>",92:"<meta>",93:i?"<meta>":"<menu>",95:"<sleep>",106:"<num-*>",107:"<num-+>",108:"<num-enter>",109:"<num--\x3e",110:"<num-.>",111:"<num-/>",144:"<num-lock>",145:"<scroll-lock>",160:"<shift-left>",161:"<shift-right>",162:"<control-left>",163:"<control-right>",164:"<alt-left>",165:"<alt-right>",166:"<browser-back>",167:"<browser-forward>",168:"<browser-refresh>",169:"<browser-stop>",170:"<browser-search>",171:"<browser-favorites>",172:"<browser-home>",173:i&&s?"-":"<volume-mute>",174:"<volume-down>",175:"<volume-up>",176:"<next-track>",177:"<prev-track>",178:"<stop>",179:"<play-pause>",180:"<launch-mail>",181:"<launch-media-select>",182:"<launch-app 1>",183:"<launch-app 2>",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",223:"<meta>",224:"<meta>",226:"<alt-gr>",229:"<ime-process>",231:a?"`":"<unicode>",246:"<attention>",247:"<crsel>",248:"<exsel>",249:"<erase-eof>",250:"<play>",251:"<zoom>",252:"<no-name>",253:"<pa-1>",254:"<clear>"};for(e=58;e<65;++e)o[e]=String.fromCharCode(e);for(e=48;e<58;++e)o[e]=e-48+"";for(e=65;e<91;++e)o[e]=String.fromCharCode(e);for(e=96;e<106;++e)o[e]="<num-"+(e-96)+">";for(e=112;e<136;++e)o[e]="F"+(e-111)},function(t,r){function e(t){var r=(new Date).getTime(),e=Math.max(0,16-(r-n)),i=setTimeout(t,e);return n=r,i}r=t.exports=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||e;var n=(new Date).getTime(),i=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||window.clearTimeout;r.cancel=function(t){i.call(window,t)}},function(t,r,e){"use strict";function n(t){v=[t.LINEAR,t.NEAREST_MIPMAP_LINEAR,t.LINEAR_MIPMAP_NEAREST,t.LINEAR_MIPMAP_NEAREST],y=[t.NEAREST,t.LINEAR,t.NEAREST_MIPMAP_NEAREST,t.NEAREST_MIPMAP_LINEAR,t.LINEAR_MIPMAP_NEAREST,t.LINEAR_MIPMAP_LINEAR],_=[t.REPEAT,t.CLAMP_TO_EDGE,t.MIRRORED_REPEAT]}function i(t){return"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!=typeof HTMLVideoElement&&t instanceof HTMLVideoElement||"undefined"!=typeof ImageData&&t instanceof ImageData}function a(t,r,e){var n=t.gl,i=n.getParameter(n.MAX_TEXTURE_SIZE);if(r<0||r>i||e<0||e>i)throw new Error("gl-texture2d: Invalid texture size");return t._shape=[r,e],t.bind(),n.texImage2D(n.TEXTURE_2D,0,t.format,r,e,0,t.format,t.type,null),t._mipLevels=[0],t}function s(t,r,e,n,i,a){this.gl=t,this.handle=r,this.format=i,this.type=a,this._shape=[e,n],this._mipLevels=[0],this._magFilter=t.NEAREST,this._minFilter=t.NEAREST,this._wrapS=t.CLAMP_TO_EDGE,this._wrapT=t.CLAMP_TO_EDGE,this._anisoSamples=1;var s=this,o=[this._wrapS,this._wrapT];Object.defineProperties(o,[{get:function(){return s._wrapS},set:function(t){return s.wrapS=t}},{get:function(){return s._wrapT},set:function(t){return s.wrapT=t}}]),this._wrapVector=o;var h=[this._shape[0],this._shape[1]];Object.defineProperties(h,[{get:function(){return s._shape[0]},set:function(t){return s.width=t}},{get:function(){return s._shape[1]},set:function(t){return s.height=t}}]),this._shapeVector=h}function o(t,r){return 3===t.length?1===r[2]&&r[1]===t[0]*t[2]&&r[0]===t[2]:1===r[0]&&r[1]===t[0]}function h(t,r,e,n,i,a,s,h){var u=h.dtype,c=h.shape.slice();if(c.length<2||c.length>3)throw new Error("gl-texture2d: Invalid ndarray, must be 2d or 3d");var l=0,f=0,p=o(c,h.stride.slice());"float32"===u?l=t.FLOAT:"float64"===u?(l=t.FLOAT,p=!1,u="float32"):"uint8"===u?l=t.UNSIGNED_BYTE:(l=t.UNSIGNED_BYTE,p=!1,u="uint8");if(2===c.length)f=t.LUMINANCE,c=[c[0],c[1],1],h=d(h.data,c,[h.stride[0],h.stride[1],1],h.offset);else{if(3!==c.length)throw new Error("gl-texture2d: Invalid shape for texture");if(1===c[2])f=t.ALPHA;else if(2===c[2])f=t.LUMINANCE_ALPHA;else if(3===c[2])f=t.RGB;else{if(4!==c[2])throw new Error("gl-texture2d: Invalid shape for pixel coords");f=t.RGBA}c[2]}if(f!==t.LUMINANCE&&f!==t.ALPHA||i!==t.LUMINANCE&&i!==t.ALPHA||(f=i),f!==i)throw new Error("gl-texture2d: Incompatible texture format for setPixels");var v=h.size,y=s.indexOf(n)<0;if(y&&s.push(n),l===a&&p)0===h.offset&&h.data.length===v?y?t.texImage2D(t.TEXTURE_2D,n,i,c[0],c[1],0,i,a,h.data):t.texSubImage2D(t.TEXTURE_2D,n,r,e,c[0],c[1],i,a,h.data):y?t.texImage2D(t.TEXTURE_2D,n,i,c[0],c[1],0,i,a,h.data.subarray(h.offset,h.offset+v)):t.texSubImage2D(t.TEXTURE_2D,n,r,e,c[0],c[1],i,a,h.data.subarray(h.offset,h.offset+v));else{var _;_=a===t.FLOAT?g.mallocFloat32(v):g.mallocUint8(v);var b=d(_,c,[c[2],c[2]*c[0],1]);l===t.FLOAT&&a===t.UNSIGNED_BYTE?x(b,h):m.assign(b,h),y?t.texImage2D(t.TEXTURE_2D,n,i,c[0],c[1],0,i,a,_.subarray(0,v)):t.texSubImage2D(t.TEXTURE_2D,n,r,e,c[0],c[1],i,a,_.subarray(0,v)),a===t.FLOAT?g.freeFloat32(_):g.freeUint8(_)}}function u(t){var r=t.createTexture();return t.bindTexture(t.TEXTURE_2D,r),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),r}function c(t,r,e,n,i){var a=t.getParameter(t.MAX_TEXTURE_SIZE);if(r<0||r>a||e<0||e>a)throw new Error("gl-texture2d: Invalid texture shape");if(i===t.FLOAT&&!t.getExtension("OES_texture_float"))throw new Error("gl-texture2d: Floating point textures not supported on this platform");var o=u(t);return t.texImage2D(t.TEXTURE_2D,0,n,r,e,0,n,i,null),new s(t,o,r,e,n,i)}function l(t,r,e,n,i,a){var o=u(t);return t.texImage2D(t.TEXTURE_2D,0,i,i,a,r),new s(t,o,e,n,i,a)}function f(t,r){var e=r.dtype,n=r.shape.slice(),i=t.getParameter(t.MAX_TEXTURE_SIZE);if(n[0]<0||n[0]>i||n[1]<0||n[1]>i)throw new Error("gl-texture2d: Invalid texture size");var a=o(n,r.stride.slice()),h=0;"float32"===e?h=t.FLOAT:"float64"===e?(h=t.FLOAT,a=!1,e="float32"):"uint8"===e?h=t.UNSIGNED_BYTE:(h=t.UNSIGNED_BYTE,a=!1,e="uint8");var c=0;if(2===n.length)c=t.LUMINANCE,n=[n[0],n[1],1],r=d(r.data,n,[r.stride[0],r.stride[1],1],r.offset);else{if(3!==n.length)throw new Error("gl-texture2d: Invalid shape for texture");if(1===n[2])c=t.ALPHA;else if(2===n[2])c=t.LUMINANCE_ALPHA;else if(3===n[2])c=t.RGB;else{if(4!==n[2])throw new Error("gl-texture2d: Invalid shape for pixel coords");c=t.RGBA}}h!==t.FLOAT||t.getExtension("OES_texture_float")||(h=t.UNSIGNED_BYTE,a=!1);var l,f,p=r.size;if(a)l=0===r.offset&&r.data.length===p?r.data:r.data.subarray(r.offset,r.offset+p);else{var v=[n[2],n[2]*n[0],1];f=g.malloc(p,e);var y=d(f,n,v,0);"float32"!==e&&"float64"!==e||h!==t.UNSIGNED_BYTE?m.assign(y,r):x(y,r),l=f.subarray(0,p)}var _=u(t);return t.texImage2D(t.TEXTURE_2D,0,c,n[0],n[1],0,c,h,l),a||g.free(f),new s(t,_,n[0],n[1],c,h)}function p(t){if(arguments.length<=1)throw new Error("gl-texture2d: Missing arguments for texture2d constructor");if(v||n(t),"number"==typeof arguments[1])return c(t,arguments[1],arguments[2],arguments[3]||t.RGBA,arguments[4]||t.UNSIGNED_BYTE);if(Array.isArray(arguments[1]))return c(t,0|arguments[1][0],0|arguments[1][1],arguments[2]||t.RGBA,arguments[3]||t.UNSIGNED_BYTE);if("object"==typeof arguments[1]){var r=arguments[1],e=i(r)?r:r.raw;if(e)return l(t,e,0|r.width,0|r.height,arguments[2]||t.RGBA,arguments[3]||t.UNSIGNED_BYTE);if(r.shape&&r.data&&r.stride)return f(t,r)}throw new Error("gl-texture2d: Invalid arguments for texture2d constructor")}var d=e(16),m=e(15),g=e(14);t.exports=p;var v=null,y=null,_=null,x=function(t,r){m.muls(t,r,255)},b=s.prototype;Object.defineProperties(b,{minFilter:{get:function(){return this._minFilter},set:function(t){this.bind();var r=this.gl;if(this.type===r.FLOAT&&v.indexOf(t)>=0&&(r.getExtension("OES_texture_float_linear")||(t=r.NEAREST)),y.indexOf(t)<0)throw new Error("gl-texture2d: Unknown filter mode "+t);return r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,t),this._minFilter=t}},magFilter:{get:function(){return this._magFilter},set:function(t){this.bind();var r=this.gl;if(this.type===r.FLOAT&&v.indexOf(t)>=0&&(r.getExtension("OES_texture_float_linear")||(t=r.NEAREST)),y.indexOf(t)<0)throw new Error("gl-texture2d: Unknown filter mode "+t);return r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,t),this._magFilter=t}},mipSamples:{get:function(){return this._anisoSamples},set:function(t){var r=this._anisoSamples;if(this._anisoSamples=0|Math.max(t,1),r!==this._anisoSamples){var e=this.gl.getExtension("EXT_texture_filter_anisotropic");e&&this.gl.texParameterf(this.gl.TEXTURE_2D,e.TEXTURE_MAX_ANISOTROPY_EXT,this._anisoSamples)}return this._anisoSamples}},wrapS:{get:function(){return this._wrapS},set:function(t){if(this.bind(),_.indexOf(t)<0)throw new Error("gl-texture2d: Unknown wrap mode "+t);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,t),this._wrapS=t}},wrapT:{get:function(){return this._wrapT},set:function(t){if(this.bind(),_.indexOf(t)<0)throw new Error("gl-texture2d: Unknown wrap mode "+t);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,t),this._wrapT=t}},wrap:{get:function(){return this._wrapVector},set:function(t){if(Array.isArray(t)||(t=[t,t]),2!==t.length)throw new Error("gl-texture2d: Must specify wrap mode for rows and columns");for(var r=0;r<2;++r)if(_.indexOf(t[r])<0)throw new Error("gl-texture2d: Unknown wrap mode "+t);this._wrapS=t[0],this._wrapT=t[1];var e=this.gl;return this.bind(),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,this._wrapS),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,this._wrapT),t}},shape:{get:function(){return this._shapeVector},set:function(t){if(Array.isArray(t)){if(2!==t.length)throw new Error("gl-texture2d: Invalid texture shape")}else t=[0|t,0|t];return a(this,0|t[0],0|t[1]),[0|t[0],0|t[1]]}},width:{get:function(){return this._shape[0]},set:function(t){return t|=0,a(this,t,this._shape[1]),t}},height:{get:function(){return this._shape[1]},set:function(t){return t|=0,a(this,this._shape[0],t),t}}}),b.bind=function(t){var r=this.gl;return void 0!==t&&r.activeTexture(r.TEXTURE0+(0|t)),r.bindTexture(r.TEXTURE_2D,this.handle),void 0!==t?0|t:r.getParameter(r.ACTIVE_TEXTURE)-r.TEXTURE0},b.dispose=function(){this.gl.deleteTexture(this.handle)},b.generateMipmap=function(){this.bind(),this.gl.generateMipmap(this.gl.TEXTURE_2D);for(var t=Math.min(this._shape[0],this._shape[1]),r=0;t>0;++r,t>>>=1)this._mipLevels.indexOf(r)<0&&this._mipLevels.push(r)},b.setPixels=function(t,r,e,n){var a=this.gl;this.bind(),Array.isArray(r)?(n=e,e=0|r[1],r=0|r[0]):(r=r||0,e=e||0),n=n||0;var s=i(t)?t:t.raw;if(s){this._mipLevels.indexOf(n)<0?(a.texImage2D(a.TEXTURE_2D,0,this.format,this.format,this.type,s),this._mipLevels.push(n)):a.texSubImage2D(a.TEXTURE_2D,n,r,e,this.format,this.type,s)}else{if(!(t.shape&&t.stride&&t.data))throw new Error("gl-texture2d: Unsupported data type");if(t.shape.length<2||r+t.shape[1]>this._shape[1]>>>n||e+t.shape[0]>this._shape[0]>>>n||r<0||e<0)throw new Error("gl-texture2d: Texture dimensions are out of bounds");h(a,r,e,n,this.format,this.type,this._mipLevels,t)}}},function(t,r,e){"use strict";function n(t,r,e,n,s,o,h){a.a.call(this),this.type="SphereGeometry",this.parameters={radius:t,widthSegments:r,heightSegments:e,phiStart:n,phiLength:s,thetaStart:o,thetaLength:h},this.fromBufferGeometry(new i(t,r,e,n,s,o,h)),this.mergeVertices()}function i(t,r,e,n,i,a,u){s.a.call(this),this.type="SphereBufferGeometry",this.parameters={radius:t,widthSegments:r,heightSegments:e,phiStart:n,phiLength:i,thetaStart:a,thetaLength:u},t=t||1,r=Math.max(3,Math.floor(r)||8),e=Math.max(2,Math.floor(e)||6),n=void 0!==n?n:0,i=void 0!==i?i:2*Math.PI,a=void 0!==a?a:0,u=void 0!==u?u:Math.PI;var c,l,f=a+u,p=0,d=[],m=new h.a,g=new h.a,v=[],y=[],_=[],x=[];for(l=0;l<=e;l++){var b=[],E=l/e;for(c=0;c<=r;c++){var M=c/r;m.x=-t*Math.cos(n+M*i)*Math.sin(a+E*u),m.y=t*Math.cos(a+E*u),m.z=t*Math.sin(n+M*i)*Math.sin(a+E*u),y.push(m.x,m.y,m.z),g.set(m.x,m.y,m.z).normalize(),_.push(g.x,g.y,g.z),x.push(M,1-E),b.push(p++)}d.push(b)}for(l=0;l<e;l++)for(c=0;c<r;c++){var w=d[l][c+1],A=d[l][c],T=d[l+1][c],R=d[l+1][c+1];(0!==l||a>0)&&v.push(w,A,R),(l!==e-1||f<Math.PI)&&v.push(A,T,R)}this.setIndex(v),this.addAttribute("position",new o.b(y,3)),this.addAttribute("normal",new o.b(_,3)),this.addAttribute("uv",new o.b(x,2))}e.d(r,"a",function(){return n});var a=e(116),s=e(120),o=e(24),h=e(0);n.prototype=Object.create(a.a.prototype),n.prototype.constructor=n,i.prototype=Object.create(s.a.prototype),i.prototype.constructor=i},function(t,r,e){"use strict";function n(){Object.defineProperty(this,"id",{value:m+=2}),this.uuid=d.a.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}e.d(r,"a",function(){return n});var i=e(5),a=e(117),s=e(8),o=e(9),h=e(10),u=e(0),c=e(2),l=e(11),f=e(6),p=e(23),d=e(1),m=0;n.prototype=Object.assign(Object.create(i.a.prototype),{constructor:n,isGeometry:!0,applyMatrix:function(t){for(var r=(new s.a).getNormalMatrix(t),e=0,n=this.vertices.length;e<n;e++){this.vertices[e].applyMatrix4(t)}for(var e=0,n=this.faces.length;e<n;e++){var i=this.faces[e];i.normal.applyMatrix3(r).normalize();for(var a=0,o=i.vertexNormals.length;a<o;a++)i.vertexNormals[a].applyMatrix3(r).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(){var t=new c.a;return function(r){return t.makeRotationX(r),this.applyMatrix(t),this}}(),rotateY:function(){var t=new c.a;return function(r){return t.makeRotationY(r),this.applyMatrix(t),this}}(),rotateZ:function(){var t=new c.a;return function(r){return t.makeRotationZ(r),this.applyMatrix(t),this}}(),translate:function(){var t=new c.a;return function(r,e,n){return t.makeTranslation(r,e,n),this.applyMatrix(t),this}}(),scale:function(){var t=new c.a;return function(r,e,n){return t.makeScale(r,e,n),this.applyMatrix(t),this}}(),lookAt:function(){var t=new p.a;return function(r){t.lookAt(r),t.updateMatrix(),this.applyMatrix(t.matrix)}}(),fromBufferGeometry:function(t){function r(t,r,n,i){var s=void 0!==o?[d[t].clone(),d[r].clone(),d[n].clone()]:[],u=void 0!==h?[e.colors[t].clone(),e.colors[r].clone(),e.colors[n].clone()]:[],l=new a.a(t,r,n,s,u,i);e.faces.push(l),void 0!==c&&e.faceVertexUvs[0].push([m[t].clone(),m[r].clone(),m[n].clone()]),void 0!==p&&e.faceVertexUvs[1].push([g[t].clone(),g[r].clone(),g[n].clone()])}var e=this,n=null!==t.index?t.index.array:void 0,i=t.attributes,s=i.position.array,o=void 0!==i.normal?i.normal.array:void 0,h=void 0!==i.color?i.color.array:void 0,c=void 0!==i.uv?i.uv.array:void 0,p=void 0!==i.uv2?i.uv2.array:void 0;void 0!==p&&(this.faceVertexUvs[1]=[]);for(var d=[],m=[],g=[],v=0,y=0;v<s.length;v+=3,y+=2)e.vertices.push(new u.a(s[v],s[v+1],s[v+2])),void 0!==o&&d.push(new u.a(o[v],o[v+1],o[v+2])),void 0!==h&&e.colors.push(new f.a(h[v],h[v+1],h[v+2])),void 0!==c&&m.push(new l.a(c[y],c[y+1])),void 0!==p&&g.push(new l.a(p[y],p[y+1]));var _=t.groups;if(_.length>0)for(var v=0;v<_.length;v++)for(var x=_[v],b=x.start,E=x.count,y=b,M=b+E;y<M;y+=3)void 0!==n?r(n[y],n[y+1],n[y+2],x.materialIndex):r(y,y+1,y+2,x.materialIndex);else if(void 0!==n)for(var v=0;v<n.length;v+=3)r(n[v],n[v+1],n[v+2]);else for(var v=0;v<s.length/3;v+=3)r(v,v+1,v+2);return this.computeFaceNormals(),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),this},center:function(){this.computeBoundingBox();var t=this.boundingBox.getCenter().negate();return this.translate(t.x,t.y,t.z),t},normalize:function(){this.computeBoundingSphere();var t=this.boundingSphere.center,r=this.boundingSphere.radius,e=0===r?1:1/r,n=new c.a;return n.set(e,0,0,-e*t.x,0,e,0,-e*t.y,0,0,e,-e*t.z,0,0,0,1),this.applyMatrix(n),this},computeFaceNormals:function(){for(var t=new u.a,r=new u.a,e=0,n=this.faces.length;e<n;e++){var i=this.faces[e],a=this.vertices[i.a],s=this.vertices[i.b],o=this.vertices[i.c];t.subVectors(o,s),r.subVectors(a,s),t.cross(r),t.normalize(),i.normal.copy(t)}},computeVertexNormals:function(t){void 0===t&&(t=!0);var r,e,n,i,a,s;for(s=new Array(this.vertices.length),r=0,e=this.vertices.length;r<e;r++)s[r]=new u.a;if(t){var o,h,c,l=new u.a,f=new u.a;for(n=0,i=this.faces.length;n<i;n++)a=this.faces[n],o=this.vertices[a.a],h=this.vertices[a.b],c=this.vertices[a.c],l.subVectors(c,h),f.subVectors(o,h),l.cross(f),s[a.a].add(l),s[a.b].add(l),s[a.c].add(l)}else for(this.computeFaceNormals(),n=0,i=this.faces.length;n<i;n++)a=this.faces[n],s[a.a].add(a.normal),s[a.b].add(a.normal),s[a.c].add(a.normal);for(r=0,e=this.vertices.length;r<e;r++)s[r].normalize();for(n=0,i=this.faces.length;n<i;n++){a=this.faces[n];var p=a.vertexNormals;3===p.length?(p[0].copy(s[a.a]),p[1].copy(s[a.b]),p[2].copy(s[a.c])):(p[0]=s[a.a].clone(),p[1]=s[a.b].clone(),p[2]=s[a.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){var t,r,e;for(this.computeFaceNormals(),t=0,r=this.faces.length;t<r;t++){e=this.faces[t];var n=e.vertexNormals;3===n.length?(n[0].copy(e.normal),n[1].copy(e.normal),n[2].copy(e.normal)):(n[0]=e.normal.clone(),n[1]=e.normal.clone(),n[2]=e.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var t,r,e,i,a;for(e=0,i=this.faces.length;e<i;e++)for(a=this.faces[e],a.__originalFaceNormal?a.__originalFaceNormal.copy(a.normal):a.__originalFaceNormal=a.normal.clone(),a.__originalVertexNormals||(a.__originalVertexNormals=[]),t=0,r=a.vertexNormals.length;t<r;t++)a.__originalVertexNormals[t]?a.__originalVertexNormals[t].copy(a.vertexNormals[t]):a.__originalVertexNormals[t]=a.vertexNormals[t].clone();var s=new n;for(s.faces=this.faces,t=0,r=this.morphTargets.length;t<r;t++){if(!this.morphNormals[t]){this.morphNormals[t]={},this.morphNormals[t].faceNormals=[],this.morphNormals[t].vertexNormals=[];var o,h,c=this.morphNormals[t].faceNormals,l=this.morphNormals[t].vertexNormals;for(e=0,i=this.faces.length;e<i;e++)o=new u.a,h={a:new u.a,b:new u.a,c:new u.a},c.push(o),l.push(h)}var f=this.morphNormals[t];s.vertices=this.morphTargets[t].vertices,s.computeFaceNormals(),s.computeVertexNormals();var o,h;for(e=0,i=this.faces.length;e<i;e++)a=this.faces[e],o=f.faceNormals[e],h=f.vertexNormals[e],o.copy(a.normal),h.a.copy(a.vertexNormals[0]),h.b.copy(a.vertexNormals[1]),h.c.copy(a.vertexNormals[2])}for(e=0,i=this.faces.length;e<i;e++)a=this.faces[e],a.normal=a.__originalFaceNormal,a.vertexNormals=a.__originalVertexNormals},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new h.a),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new o.a),this.boundingSphere.setFromPoints(this.vertices)},merge:function(t,r,e){if(t&&t.isGeometry){var n,i=this.vertices.length,o=this.vertices,h=t.vertices,u=this.faces,c=t.faces,l=this.faceVertexUvs[0],f=t.faceVertexUvs[0],p=this.colors,d=t.colors;void 0===e&&(e=0),void 0!==r&&(n=(new s.a).getNormalMatrix(r));for(var m=0,g=h.length;m<g;m++){var v=h[m],y=v.clone();void 0!==r&&y.applyMatrix4(r),o.push(y)}for(var m=0,g=d.length;m<g;m++)p.push(d[m].clone());for(m=0,g=c.length;m<g;m++){var _,x,b,E=c[m],M=E.vertexNormals,w=E.vertexColors;_=new a.a(E.a+i,E.b+i,E.c+i),_.normal.copy(E.normal),void 0!==n&&_.normal.applyMatrix3(n).normalize();for(var A=0,T=M.length;A<T;A++)x=M[A].clone(),void 0!==n&&x.applyMatrix3(n).normalize(),_.vertexNormals.push(x);_.color.copy(E.color);for(var A=0,T=w.length;A<T;A++)b=w[A],_.vertexColors.push(b.clone());_.materialIndex=E.materialIndex+e,u.push(_)}for(m=0,g=f.length;m<g;m++){var R=f[m],S=[];if(void 0!==R){for(var A=0,T=R.length;A<T;A++)S.push(R[A].clone());l.push(S)}}}},mergeMesh:function(t){t&&t.isMesh&&(t.matrixAutoUpdate&&t.updateMatrix(),this.merge(t.geometry,t.matrix))},mergeVertices:function(){var t,r,e,n,i,a,s,o,h={},u=[],c=[],l=Math.pow(10,4);for(e=0,n=this.vertices.length;e<n;e++)t=this.vertices[e],r=Math.round(t.x*l)+"_"+Math.round(t.y*l)+"_"+Math.round(t.z*l),void 0===h[r]?(h[r]=e,u.push(this.vertices[e]),c[e]=u.length-1):c[e]=c[h[r]];var f=[];for(e=0,n=this.faces.length;e<n;e++){i=this.faces[e],i.a=c[i.a],i.b=c[i.b],i.c=c[i.c],a=[i.a,i.b,i.c];for(var p=0;p<3;p++)if(a[p]===a[(p+1)%3]){f.push(e);break}}for(e=f.length-1;e>=0;e--){var d=f[e];for(this.faces.splice(d,1),s=0,o=this.faceVertexUvs.length;s<o;s++)this.faceVertexUvs[s].splice(d,1)}var m=this.vertices.length-u.length;return this.vertices=u,m},setFromPoints:function(t){this.vertices=[];for(var r=0,e=t.length;r<e;r++){var n=t[r];this.vertices.push(new u.a(n.x,n.y,n.z||0))}return this},sortFacesByMaterialIndex:function(){function t(t,r){return t.materialIndex-r.materialIndex}for(var r=this.faces,e=r.length,n=0;n<e;n++)r[n]._id=n;r.sort(t);var i,a,s=this.faceVertexUvs[0],o=this.faceVertexUvs[1];s&&s.length===e&&(i=[]),o&&o.length===e&&(a=[]);for(var n=0;n<e;n++){var h=r[n]._id;i&&i.push(s[h]),a&&a.push(o[h])}i&&(this.faceVertexUvs[0]=i),a&&(this.faceVertexUvs[1]=a)},toJSON:function(){function t(t,r,e){return e?t|1<<r:t&~(1<<r)}function r(t){var r=t.x.toString()+t.y.toString()+t.z.toString();return void 0!==f[r]?f[r]:(f[r]=l.length/3,l.push(t.x,t.y,t.z),f[r])}function e(t){var r=t.r.toString()+t.g.toString()+t.b.toString();return void 0!==d[r]?d[r]:(d[r]=p.length,p.push(t.getHex()),d[r])}function n(t){var r=t.x.toString()+t.y.toString();return void 0!==g[r]?g[r]:(g[r]=m.length/2,m.push(t.x,t.y),g[r])}var i={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),void 0!==this.parameters){var a=this.parameters;for(var s in a)void 0!==a[s]&&(i[s]=a[s]);return i}for(var o=[],h=0;h<this.vertices.length;h++){var u=this.vertices[h];o.push(u.x,u.y,u.z)}for(var c=[],l=[],f={},p=[],d={},m=[],g={},h=0;h<this.faces.length;h++){var v=this.faces[h],y=void 0!==this.faceVertexUvs[0][h],_=v.normal.length()>0,x=v.vertexNormals.length>0,b=1!==v.color.r||1!==v.color.g||1!==v.color.b,E=v.vertexColors.length>0,M=0;if(M=t(M,0,0),M=t(M,1,!0),M=t(M,2,!1),M=t(M,3,y),M=t(M,4,_),M=t(M,5,x),M=t(M,6,b),M=t(M,7,E),c.push(M),c.push(v.a,v.b,v.c),c.push(v.materialIndex),y){var w=this.faceVertexUvs[0][h];c.push(n(w[0]),n(w[1]),n(w[2]))}if(_&&c.push(r(v.normal)),x){var A=v.vertexNormals;c.push(r(A[0]),r(A[1]),r(A[2]))}if(b&&c.push(e(v.color)),E){var T=v.vertexColors;c.push(e(T[0]),e(T[1]),e(T[2]))}}return i.data={},i.data.vertices=o,i.data.normals=l,p.length>0&&(i.data.colors=p),m.length>0&&(i.data.uvs=[m]),i.data.faces=c,i},clone:function(){return(new n).copy(this)},copy:function(t){var r,e,n,i,a,s;this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=t.name;var o=t.vertices;for(r=0,e=o.length;r<e;r++)this.vertices.push(o[r].clone());var h=t.colors;for(r=0,e=h.length;r<e;r++)this.colors.push(h[r].clone());var u=t.faces;for(r=0,e=u.length;r<e;r++)this.faces.push(u[r].clone());for(r=0,e=t.faceVertexUvs.length;r<e;r++){var c=t.faceVertexUvs[r];for(void 0===this.faceVertexUvs[r]&&(this.faceVertexUvs[r]=[]),n=0,i=c.length;n<i;n++){var l=c[n],f=[];for(a=0,s=l.length;a<s;a++){var p=l[a];f.push(p.clone())}this.faceVertexUvs[r].push(f)}}var d=t.morphTargets;for(r=0,e=d.length;r<e;r++){var m={};if(m.name=d[r].name,void 0!==d[r].vertices)for(m.vertices=[],n=0,i=d[r].vertices.length;n<i;n++)m.vertices.push(d[r].vertices[n].clone());if(void 0!==d[r].normals)for(m.normals=[],n=0,i=d[r].normals.length;n<i;n++)m.normals.push(d[r].normals[n].clone());this.morphTargets.push(m)}var g=t.morphNormals;for(r=0,e=g.length;r<e;r++){var v={};if(void 0!==g[r].vertexNormals)for(v.vertexNormals=[],n=0,i=g[r].vertexNormals.length;n<i;n++){var y=g[r].vertexNormals[n],_={};_.a=y.a.clone(),_.b=y.b.clone(),_.c=y.c.clone(),v.vertexNormals.push(_)}if(void 0!==g[r].faceNormals)for(v.faceNormals=[],n=0,i=g[r].faceNormals.length;n<i;n++)v.faceNormals.push(g[r].faceNormals[n].clone());this.morphNormals.push(v)}var x=t.skinWeights;for(r=0,e=x.length;r<e;r++)this.skinWeights.push(x[r].clone());var b=t.skinIndices;for(r=0,e=b.length;r<e;r++)this.skinIndices.push(b[r].clone());var E=t.lineDistances;for(r=0,e=E.length;r<e;r++)this.lineDistances.push(E[r]);var M=t.boundingBox;null!==M&&(this.boundingBox=M.clone());var w=t.boundingSphere;return null!==w&&(this.boundingSphere=w.clone()),this.elementsNeedUpdate=t.elementsNeedUpdate,this.verticesNeedUpdate=t.verticesNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.lineDistancesNeedUpdate=t.lineDistancesNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}})},function(t,r,e){"use strict";function n(t,r,e,n,s,o){this.a=t,this.b=r,this.c=e,this.normal=n&&n.isVector3?n:new a.a,this.vertexNormals=Array.isArray(n)?n:[],this.color=s&&s.isColor?s:new i.a,this.vertexColors=Array.isArray(s)?s:[],this.materialIndex=void 0!==o?o:0}e.d(r,"a",function(){return n});var i=e(6),a=e(0);Object.assign(n.prototype,{clone:function(){return(new this.constructor).copy(this)},copy:function(t){this.a=t.a,this.b=t.b,this.c=t.c,this.normal.copy(t.normal),this.color.copy(t.color),this.materialIndex=t.materialIndex;for(var r=0,e=t.vertexNormals.length;r<e;r++)this.vertexNormals[r]=t.vertexNormals[r].clone();for(var r=0,e=t.vertexColors.length;r<e;r++)this.vertexColors[r]=t.vertexColors[r].clone();return this}})},function(t,r,e){"use strict";function n(t,r,e,i){this._x=t||0,this._y=r||0,this._z=e||0,this._order=i||n.DefaultOrder}e.d(r,"a",function(){return n});var i=e(7),a=e(0),s=e(2),o=e(1);n.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],n.DefaultOrder="XYZ",Object.defineProperties(n.prototype,{x:{get:function(){return this._x},set:function(t){this._x=t,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(t){this._y=t,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(t){this._z=t,this.onChangeCallback()}},order:{get:function(){return this._order},set:function(t){this._order=t,this.onChangeCallback()}}}),Object.assign(n.prototype,{isEuler:!0,set:function(t,r,e,n){return this._x=t,this._y=r,this._z=e,this._order=n||this._order,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this.onChangeCallback(),this},setFromRotationMatrix:function(t,r,e){var n=o.a.clamp,i=t.elements,a=i[0],s=i[4],h=i[8],u=i[1],c=i[5],l=i[9],f=i[2],p=i[6],d=i[10];return r=r||this._order,"XYZ"===r?(this._y=Math.asin(n(h,-1,1)),Math.abs(h)<.99999?(this._x=Math.atan2(-l,d),this._z=Math.atan2(-s,a)):(this._x=Math.atan2(p,c),this._z=0)):"YXZ"===r?(this._x=Math.asin(-n(l,-1,1)),Math.abs(l)<.99999?(this._y=Math.atan2(h,d),this._z=Math.atan2(u,c)):(this._y=Math.atan2(-f,a),this._z=0)):"ZXY"===r?(this._x=Math.asin(n(p,-1,1)),Math.abs(p)<.99999?(this._y=Math.atan2(-f,d),this._z=Math.atan2(-s,c)):(this._y=0,this._z=Math.atan2(u,a))):"ZYX"===r?(this._y=Math.asin(-n(f,-1,1)),Math.abs(f)<.99999?(this._x=Math.atan2(p,d),this._z=Math.atan2(u,a)):(this._x=0,this._z=Math.atan2(-s,c))):"YZX"===r?(this._z=Math.asin(n(u,-1,1)),Math.abs(u)<.99999?(this._x=Math.atan2(-l,c),this._y=Math.atan2(-f,a)):(this._x=0,this._y=Math.atan2(h,d))):"XZY"===r&&(this._z=Math.asin(-n(s,-1,1)),Math.abs(s)<.99999?(this._x=Math.atan2(p,c),this._y=Math.atan2(h,a)):(this._x=Math.atan2(-l,d),this._y=0)),this._order=r,!1!==e&&this.onChangeCallback(),this},setFromQuaternion:function(){var t=new s.a;return function(r,e,n){return t.makeRotationFromQuaternion(r),this.setFromRotationMatrix(t,e,n)}}(),setFromVector3:function(t,r){return this.set(t.x,t.y,t.z,r||this._order)},reorder:function(){var t=new i.a;return function(r){return t.setFromEuler(this),this.setFromQuaternion(t,r)}}(),equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order},fromArray:function(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this.onChangeCallback(),this},toArray:function(t,r){return void 0===t&&(t=[]),void 0===r&&(r=0),t[r]=this._x,t[r+1]=this._y,t[r+2]=this._z,t[r+3]=this._order,t},toVector3:function(t){return t?t.set(this._x,this._y,this._z):new a.a(this._x,this._y,this._z)},onChange:function(t){return this.onChangeCallback=t,this},onChangeCallback:function(){}})},function(t,r,e){"use strict";function n(){this.mask=1}e.d(r,"a",function(){return n}),Object.assign(n.prototype,{set:function(t){this.mask=1<<t|0},enable:function(t){this.mask|=1<<t|0},toggle:function(t){this.mask^=1<<t|0},disable:function(t){this.mask&=~(1<<t|0)},test:function(t){return 0!=(this.mask&t.mask)}})},function(t,r,e){"use strict";function n(){Object.defineProperty(this,"id",{value:m+=2}),this.uuid=p.a.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0}}e.d(r,"a",function(){return n});var i=e(0),a=e(10),s=e(5),o=e(24),h=e(9),u=e(122),c=e(23),l=e(2),f=e(8),p=e(1),d=e(123),m=1;n.prototype=Object.assign(Object.create(s.a.prototype),{constructor:n,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(t){Array.isArray(t)?this.index=new(Object(d.a)(t)>65535?o.d:o.c)(t,1):this.index=t},addAttribute:function(t,r){return r&&r.isBufferAttribute||r&&r.isInterleavedBufferAttribute?"index"===t?void this.setIndex(r):(this.attributes[t]=r,this):void this.addAttribute(t,new o.a(arguments[1],arguments[2]))},getAttribute:function(t){return this.attributes[t]},removeAttribute:function(t){return delete this.attributes[t],this},addGroup:function(t,r,e){this.groups.push({start:t,count:r,materialIndex:void 0!==e?e:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(t,r){this.drawRange.start=t,this.drawRange.count=r},applyMatrix:function(t){var r=this.attributes.position;void 0!==r&&(t.applyToBufferAttribute(r),r.needsUpdate=!0);var e=this.attributes.normal;if(void 0!==e){(new f.a).getNormalMatrix(t).applyToBufferAttribute(e),e.needsUpdate=!0}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(){var t=new l.a;return function(r){return t.makeRotationX(r),this.applyMatrix(t),this}}(),rotateY:function(){var t=new l.a;return function(r){return t.makeRotationY(r),this.applyMatrix(t),this}}(),rotateZ:function(){var t=new l.a;return function(r){return t.makeRotationZ(r),this.applyMatrix(t),this}}(),translate:function(){var t=new l.a;return function(r,e,n){return t.makeTranslation(r,e,n),this.applyMatrix(t),this}}(),scale:function(){var t=new l.a;return function(r,e,n){return t.makeScale(r,e,n),this.applyMatrix(t),this}}(),lookAt:function(){var t=new c.a;return function(r){t.lookAt(r),t.updateMatrix(),this.applyMatrix(t.matrix)}}(),center:function(){this.computeBoundingBox();var t=this.boundingBox.getCenter().negate();return this.translate(t.x,t.y,t.z),t},setFromObject:function(t){var r=t.geometry;if(t.isPoints||t.isLine){var e=new o.b(3*r.vertices.length,3),n=new o.b(3*r.colors.length,3);if(this.addAttribute("position",e.copyVector3sArray(r.vertices)),this.addAttribute("color",n.copyColorsArray(r.colors)),r.lineDistances&&r.lineDistances.length===r.vertices.length){var i=new o.b(r.lineDistances.length,1);this.addAttribute("lineDistance",i.copyArray(r.lineDistances))}null!==r.boundingSphere&&(this.boundingSphere=r.boundingSphere.clone()),null!==r.boundingBox&&(this.boundingBox=r.boundingBox.clone())}else t.isMesh&&r&&r.isGeometry&&this.fromGeometry(r);return this},setFromPoints:function(t){for(var r=[],e=0,n=t.length;e<n;e++){var i=t[e];r.push(i.x,i.y,i.z||0)}return this.addAttribute("position",new o.b(r,3)),this},updateFromObject:function(t){var r=t.geometry;if(t.isMesh){var e=r.__directGeometry;if(!0===r.elementsNeedUpdate&&(e=void 0,r.elementsNeedUpdate=!1),void 0===e)return this.fromGeometry(r);e.verticesNeedUpdate=r.verticesNeedUpdate,e.normalsNeedUpdate=r.normalsNeedUpdate,e.colorsNeedUpdate=r.colorsNeedUpdate,e.uvsNeedUpdate=r.uvsNeedUpdate,e.groupsNeedUpdate=r.groupsNeedUpdate,r.verticesNeedUpdate=!1,r.normalsNeedUpdate=!1,r.colorsNeedUpdate=!1,r.uvsNeedUpdate=!1,r.groupsNeedUpdate=!1,r=e}var n;return!0===r.verticesNeedUpdate&&(n=this.attributes.position,void 0!==n&&(n.copyVector3sArray(r.vertices),n.needsUpdate=!0),r.verticesNeedUpdate=!1),!0===r.normalsNeedUpdate&&(n=this.attributes.normal,void 0!==n&&(n.copyVector3sArray(r.normals),n.needsUpdate=!0),r.normalsNeedUpdate=!1),!0===r.colorsNeedUpdate&&(n=this.attributes.color,void 0!==n&&(n.copyColorsArray(r.colors),n.needsUpdate=!0),r.colorsNeedUpdate=!1),r.uvsNeedUpdate&&(n=this.attributes.uv,void 0!==n&&(n.copyVector2sArray(r.uvs),n.needsUpdate=!0),r.uvsNeedUpdate=!1),r.lineDistancesNeedUpdate&&(n=this.attributes.lineDistance,void 0!==n&&(n.copyArray(r.lineDistances),n.needsUpdate=!0),r.lineDistancesNeedUpdate=!1),r.groupsNeedUpdate&&(r.computeGroups(t.geometry),this.groups=r.groups,r.groupsNeedUpdate=!1),this},fromGeometry:function(t){return t.__directGeometry=(new u.a).fromGeometry(t),this.fromDirectGeometry(t.__directGeometry)},fromDirectGeometry:function(t){var r=new Float32Array(3*t.vertices.length);if(this.addAttribute("position",new o.a(r,3).copyVector3sArray(t.vertices)),t.normals.length>0){var e=new Float32Array(3*t.normals.length);this.addAttribute("normal",new o.a(e,3).copyVector3sArray(t.normals))}if(t.colors.length>0){var n=new Float32Array(3*t.colors.length);this.addAttribute("color",new o.a(n,3).copyColorsArray(t.colors))}if(t.uvs.length>0){var i=new Float32Array(2*t.uvs.length);this.addAttribute("uv",new o.a(i,2).copyVector2sArray(t.uvs))}if(t.uvs2.length>0){var a=new Float32Array(2*t.uvs2.length);this.addAttribute("uv2",new o.a(a,2).copyVector2sArray(t.uvs2))}if(t.indices.length>0){var s=Object(d.a)(t.indices)>65535?Uint32Array:Uint16Array,h=new s(3*t.indices.length);this.setIndex(new o.a(h,1).copyIndicesArray(t.indices))}this.groups=t.groups;for(var u in t.morphTargets){for(var c=[],l=t.morphTargets[u],f=0,p=l.length;f<p;f++){var m=l[f],g=new o.b(3*m.length,3);c.push(g.copyVector3sArray(m))}this.morphAttributes[u]=c}if(t.skinIndices.length>0){var v=new o.b(4*t.skinIndices.length,4);this.addAttribute("skinIndex",v.copyVector4sArray(t.skinIndices))}if(t.skinWeights.length>0){var y=new o.b(4*t.skinWeights.length,4);this.addAttribute("skinWeight",y.copyVector4sArray(t.skinWeights))}return null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new a.a);var t=this.attributes.position;void 0!==t?this.boundingBox.setFromBufferAttribute(t):this.boundingBox.makeEmpty(),isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z)},computeBoundingSphere:function(){var t=new a.a,r=new i.a;return function(){null===this.boundingSphere&&(this.boundingSphere=new h.a);var e=this.attributes.position;if(e){var n=this.boundingSphere.center;t.setFromBufferAttribute(e),t.getCenter(n);for(var i=0,a=0,s=e.count;a<s;a++)r.x=e.getX(a),r.y=e.getY(a),r.z=e.getZ(a),i=Math.max(i,n.distanceToSquared(r));this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)}}}(),computeFaceNormals:function(){},computeVertexNormals:function(){var t=this.index,r=this.attributes,e=this.groups;if(r.position){var n=r.position.array;if(void 0===r.normal)this.addAttribute("normal",new o.a(new Float32Array(n.length),3));else for(var a=r.normal.array,s=0,h=a.length;s<h;s++)a[s]=0;var u,c,l,f=r.normal.array,p=new i.a,d=new i.a,m=new i.a,g=new i.a,v=new i.a;if(t){var y=t.array;0===e.length&&this.addGroup(0,y.length);for(var _=0,x=e.length;_<x;++_)for(var b=e[_],E=b.start,M=b.count,s=E,h=E+M;s<h;s+=3)u=3*y[s+0],c=3*y[s+1],l=3*y[s+2],p.fromArray(n,u),d.fromArray(n,c),m.fromArray(n,l),g.subVectors(m,d),v.subVectors(p,d),g.cross(v),f[u]+=g.x,f[u+1]+=g.y,f[u+2]+=g.z,f[c]+=g.x,f[c+1]+=g.y,f[c+2]+=g.z,f[l]+=g.x,f[l+1]+=g.y,f[l+2]+=g.z}else for(var s=0,h=n.length;s<h;s+=9)p.fromArray(n,s),d.fromArray(n,s+3),m.fromArray(n,s+6),g.subVectors(m,d),v.subVectors(p,d),g.cross(v),f[s]=g.x,f[s+1]=g.y,f[s+2]=g.z,f[s+3]=g.x,f[s+4]=g.y,f[s+5]=g.z,f[s+6]=g.x,f[s+7]=g.y,f[s+8]=g.z;this.normalizeNormals(),r.normal.needsUpdate=!0}},merge:function(t,r){if(t&&t.isBufferGeometry){void 0===r&&(r=0);var e=this.attributes;for(var n in e)if(void 0!==t.attributes[n])for(var i=e[n],a=i.array,s=t.attributes[n],o=s.array,h=s.itemSize,u=0,c=h*r;u<o.length;u++,c++)a[c]=o[u];return this}},normalizeNormals:function(){var t=new i.a;return function(){for(var r=this.attributes.normal,e=0,n=r.count;e<n;e++)t.x=r.getX(e),t.y=r.getY(e),t.z=r.getZ(e),t.normalize(),r.setXYZ(e,t.x,t.y,t.z)}}(),toNonIndexed:function(){if(null===this.index)return this;var t=new n,r=this.index.array,e=this.attributes;for(var i in e){for(var a=e[i],s=a.array,h=a.itemSize,u=new s.constructor(r.length*h),c=0,l=0,f=0,p=r.length;f<p;f++){c=r[f]*h;for(var d=0;d<h;d++)u[l++]=s[c++]}t.addAttribute(i,new o.a(u,h))}return t},toJSON:function(){var t={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),void 0!==this.parameters){var r=this.parameters;for(var e in r)void 0!==r[e]&&(t[e]=r[e]);return t}t.data={attributes:{}};var n=this.index;if(null!==n){var i=Array.prototype.slice.call(n.array);t.data.index={type:n.array.constructor.name,array:i}}var a=this.attributes;for(var e in a){var s=a[e],i=Array.prototype.slice.call(s.array);t.data.attributes[e]={itemSize:s.itemSize,type:s.array.constructor.name,array:i,normalized:s.normalized}}var o=this.groups;o.length>0&&(t.data.groups=JSON.parse(JSON.stringify(o)));var h=this.boundingSphere;return null!==h&&(t.data.boundingSphere={center:h.center.toArray(),radius:h.radius}),t},clone:function(){return(new n).copy(this)},copy:function(t){var r,e,n;this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.name=t.name;var i=t.index;null!==i&&this.setIndex(i.clone());var a=t.attributes;for(r in a){var s=a[r];this.addAttribute(r,s.clone())}var o=t.morphAttributes;for(r in o){var h=[],u=o[r];for(e=0,n=u.length;e<n;e++)h.push(u[e].clone());this.morphAttributes[r]=h}var c=t.groups;for(e=0,n=c.length;e<n;e++){var l=c[e];this.addGroup(l.start,l.count,l.materialIndex)}var f=t.boundingBox;null!==f&&(this.boundingBox=f.clone());var p=t.boundingSphere;return null!==p&&(this.boundingSphere=p.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this},dispose:function(){this.dispatchEvent({type:"dispose"})}})},function(t,r,e){"use strict";function n(t,r,e,n){this.x=t||0,this.y=r||0,this.z=e||0,this.w=void 0!==n?n:1}e.d(r,"a",function(){return n}),Object.assign(n.prototype,{isVector4:!0,set:function(t,r,e,n){return this.x=t,this.y=r,this.z=e,this.w=n,this},setScalar:function(t){return this.x=t,this.y=t,this.z=t,this.w=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setW:function(t){return this.w=t,this},setComponent:function(t,r){switch(t){case 0:this.x=r;break;case 1:this.y=r;break;case 2:this.z=r;break;case 3:this.w=r;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=void 0!==t.w?t.w:1,this},add:function(t,r){return void 0!==r?this.addVectors(t,r):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this},addVectors:function(t,r){return this.x=t.x+r.x,this.y=t.y+r.y,this.z=t.z+r.z,this.w=t.w+r.w,this},addScaledVector:function(t,r){return this.x+=t.x*r,this.y+=t.y*r,this.z+=t.z*r,this.w+=t.w*r,this},sub:function(t,r){return void 0!==r?this.subVectors(t,r):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this},subVectors:function(t,r){return this.x=t.x-r.x,this.y=t.y-r.y,this.z=t.z-r.z,this.w=t.w-r.w,this},multiplyScalar:function(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this},applyMatrix4:function(t){var r=this.x,e=this.y,n=this.z,i=this.w,a=t.elements;return this.x=a[0]*r+a[4]*e+a[8]*n+a[12]*i,this.y=a[1]*r+a[5]*e+a[9]*n+a[13]*i,this.z=a[2]*r+a[6]*e+a[10]*n+a[14]*i,this.w=a[3]*r+a[7]*e+a[11]*n+a[15]*i,this},divideScalar:function(t){return this.multiplyScalar(1/t)},setAxisAngleFromQuaternion:function(t){this.w=2*Math.acos(t.w);var r=Math.sqrt(1-t.w*t.w);return r<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/r,this.y=t.y/r,this.z=t.z/r),this},setAxisAngleFromRotationMatrix:function(t){var r,e,n,i,a=t.elements,s=a[0],o=a[4],h=a[8],u=a[1],c=a[5],l=a[9],f=a[2],p=a[6],d=a[10];if(Math.abs(o-u)<.01&&Math.abs(h-f)<.01&&Math.abs(l-p)<.01){if(Math.abs(o+u)<.1&&Math.abs(h+f)<.1&&Math.abs(l+p)<.1&&Math.abs(s+c+d-3)<.1)return this.set(1,0,0,0),this;r=Math.PI;var m=(s+1)/2,g=(c+1)/2,v=(d+1)/2,y=(o+u)/4,_=(h+f)/4,x=(l+p)/4;return m>g&&m>v?m<.01?(e=0,n=.707106781,i=.707106781):(e=Math.sqrt(m),n=y/e,i=_/e):g>v?g<.01?(e=.707106781,n=0,i=.707106781):(n=Math.sqrt(g),e=y/n,i=x/n):v<.01?(e=.707106781,n=.707106781,i=0):(i=Math.sqrt(v),e=_/i,n=x/i),this.set(e,n,i,r),this}var b=Math.sqrt((p-l)*(p-l)+(h-f)*(h-f)+(u-o)*(u-o));return Math.abs(b)<.001&&(b=1),this.x=(p-l)/b,this.y=(h-f)/b,this.z=(u-o)/b,this.w=Math.acos((s+c+d-1)/2),this},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this},clamp:function(t,r){return this.x=Math.max(t.x,Math.min(r.x,this.x)),this.y=Math.max(t.y,Math.min(r.y,this.y)),this.z=Math.max(t.z,Math.min(r.z,this.z)),this.w=Math.max(t.w,Math.min(r.w,this.w)),this},clampScalar:function(){var t,r;return function(e,i){return void 0===t&&(t=new n,r=new n),t.set(e,e,e,e),r.set(i,i,i,i),this.clamp(t,r)}}(),clampLength:function(t,r){var e=this.length();return this.divideScalar(e||1).multiplyScalar(Math.max(t,Math.min(r,e)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(t){return this.normalize().multiplyScalar(t)},lerp:function(t,r){return this.x+=(t.x-this.x)*r,this.y+=(t.y-this.y)*r,this.z+=(t.z-this.z)*r,this.w+=(t.w-this.w)*r,this},lerpVectors:function(t,r,e){return this.subVectors(r,t).multiplyScalar(e).add(t)},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w},fromArray:function(t,r){return void 0===r&&(r=0),this.x=t[r],this.y=t[r+1],this.z=t[r+2],this.w=t[r+3],this},toArray:function(t,r){return void 0===t&&(t=[]),void 0===r&&(r=0),t[r]=this.x,t[r+1]=this.y,t[r+2]=this.z,t[r+3]=this.w,t},fromBufferAttribute:function(t,r,e){return this.x=t.getX(r),this.y=t.getY(r),this.z=t.getZ(r),this.w=t.getW(r),this}})},function(t,r,e){"use strict";function n(){this.indices=[],this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}e.d(r,"a",function(){return n});var i=e(11);Object.assign(n.prototype,{computeGroups:function(t){for(var r,e=[],n=void 0,i=t.faces,a=0;a<i.length;a++){var s=i[a];s.materialIndex!==n&&(n=s.materialIndex,void 0!==r&&(r.count=3*a-r.start,e.push(r)),r={start:3*a,materialIndex:n})}void 0!==r&&(r.count=3*a-r.start,e.push(r)),this.groups=e},fromGeometry:function(t){var r,e=t.faces,n=t.vertices,a=t.faceVertexUvs,s=a[0]&&a[0].length>0,o=a[1]&&a[1].length>0,h=t.morphTargets,u=h.length;if(u>0){r=[];for(var c=0;c<u;c++)r[c]=[];this.morphTargets.position=r}var l,f=t.morphNormals,p=f.length;if(p>0){l=[];for(var c=0;c<p;c++)l[c]=[];this.morphTargets.normal=l}for(var d=t.skinIndices,m=t.skinWeights,g=d.length===n.length,v=m.length===n.length,c=0;c<e.length;c++){var y=e[c];this.vertices.push(n[y.a],n[y.b],n[y.c]);var _=y.vertexNormals;if(3===_.length)this.normals.push(_[0],_[1],_[2]);else{var x=y.normal;this.normals.push(x,x,x)}var b=y.vertexColors;if(3===b.length)this.colors.push(b[0],b[1],b[2]);else{var E=y.color;this.colors.push(E,E,E)}if(!0===s){var M=a[0][c];void 0!==M?this.uvs.push(M[0],M[1],M[2]):this.uvs.push(new i.a,new i.a,new i.a)}if(!0===o){var M=a[1][c];void 0!==M?this.uvs2.push(M[0],M[1],M[2]):this.uvs2.push(new i.a,new i.a,new i.a)}for(var w=0;w<u;w++){var A=h[w].vertices;r[w].push(A[y.a],A[y.b],A[y.c])}for(var w=0;w<p;w++){var T=f[w].vertexNormals[c];l[w].push(T.a,T.b,T.c)}g&&this.skinIndices.push(d[y.a],d[y.b],d[y.c]),v&&this.skinWeights.push(m[y.a],m[y.b],m[y.c])}return this.computeGroups(t),this.verticesNeedUpdate=t.verticesNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,this}})},function(t,r,e){"use strict";function n(t){if(0===t.length)return-1/0;for(var r=t[0],e=1,n=t.length;e<n;++e)t[e]>r&&(r=t[e]);return r}e.d(r,"a",function(){return n})},function(t,r){t.exports="precision mediump float;\n\nvarying vec3 vNormal;\nvarying float intensity;\nvec3 white = vec3(1.0,1.0,1.0);\n\nuniform sampler2D texture;\nvarying vec2 texCoord;\n\nvoid main() {\n  vec3 glow = white * intensity;\n  // gl_FragColor = vec4( glow, glow.r);\n  gl_FragColor = texture2D(texture, texCoord);\n}\n"},function(t,r){t.exports="precision mediump float;\n\nattribute vec3 aPosition;\nattribute vec3 aNormal;\nvarying vec3 vNormal;\nvarying vec2 texCoord;\n\nuniform mat4 uProjection;\nuniform mat4 uModel;\nuniform mat4 uView;\n\nvarying float intensity;\nuniform float time;\n\nvoid main() {\n  mat4 modelViewMatrix = uView * uModel;\n  vNormal = aNormal;\n  vec3 modelNormal = normalize(vec3(0.0,0.0,-100.0) );\n  vec3 cameraNormal = normalize( vec3(modelViewMatrix * vec4(aPosition,0.0)));\n\n  float frequency = 100.0;\n  float speed=0.003;\n  float amplitude = 0.123;\n    float p = 6.0;\n  float c = 0.5;\n  intensity = pow( c - dot(cameraNormal, modelNormal), p );\n\n  float distortion = sin(aPosition.y * frequency + time * speed) * amplitude;\n  vec3 newPosition = vec3(aPosition.x + distortion, aPosition.y, aPosition.z);\n  texCoord = vec2(0.0,1.0)+vec2(0.5,-0.5) * (aPosition.xz + 1.0);\n  gl_Position = uProjection * modelViewMatrix * vec4(newPosition, 1.0);\n}\n"}]);
!function(t){function e(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var r={};e.m=t,e.c=r,e.d=function(t,r,n){e.o(t,r)||Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=66)}([function(t,e,r){"use strict";function n(t,e,r){this.x=t||0,this.y=e||0,this.z=r||0}r.d(e,"a",function(){return n});var i=r(7),a=r(15),s=r(32);Object.assign(n.prototype,{isVector3:!0,set:function(t,e,r){return this.x=t,this.y=e,this.z=r,this},setScalar:function(t){return this.x=t,this.y=t,this.z=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},add:function(t,e){return void 0!==e?this.addVectors(t,e):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this},sub:function(t,e){return void 0!==e?this.subVectors(t,e):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this},multiply:function(t,e){return void 0!==e?this.multiplyVectors(t,e):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)},multiplyScalar:function(t){return this.x*=t,this.y*=t,this.z*=t,this},multiplyVectors:function(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this},applyEuler:function(){var t=new s.a;return function(e){return!e||e.isEuler,this.applyQuaternion(t.setFromEuler(e))}}(),applyAxisAngle:function(){var t=new s.a;return function(e,r){return this.applyQuaternion(t.setFromAxisAngle(e,r))}}(),applyMatrix3:function(t){var e=this.x,r=this.y,n=this.z,i=t.elements;return this.x=i[0]*e+i[3]*r+i[6]*n,this.y=i[1]*e+i[4]*r+i[7]*n,this.z=i[2]*e+i[5]*r+i[8]*n,this},applyMatrix4:function(t){var e=this.x,r=this.y,n=this.z,i=t.elements,a=1/(i[3]*e+i[7]*r+i[11]*n+i[15]);return this.x=(i[0]*e+i[4]*r+i[8]*n+i[12])*a,this.y=(i[1]*e+i[5]*r+i[9]*n+i[13])*a,this.z=(i[2]*e+i[6]*r+i[10]*n+i[14])*a,this},applyQuaternion:function(t){var e=this.x,r=this.y,n=this.z,i=t.x,a=t.y,s=t.z,o=t.w,u=o*e+a*n-s*r,h=o*r+s*e-i*n,c=o*n+i*r-a*e,l=-i*e-a*r-s*n;return this.x=u*o+l*-i+h*-s-c*-a,this.y=h*o+l*-a+c*-i-u*-s,this.z=c*o+l*-s+u*-a-h*-i,this},project:function(){var t=new a.a;return function(e){return t.multiplyMatrices(e.projectionMatrix,t.getInverse(e.matrixWorld)),this.applyMatrix4(t)}}(),unproject:function(){var t=new a.a;return function(e){return t.multiplyMatrices(e.matrixWorld,t.getInverse(e.projectionMatrix)),this.applyMatrix4(t)}}(),transformDirection:function(t){var e=this.x,r=this.y,n=this.z,i=t.elements;return this.x=i[0]*e+i[4]*r+i[8]*n,this.y=i[1]*e+i[5]*r+i[9]*n,this.z=i[2]*e+i[6]*r+i[10]*n,this.normalize()},divide:function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this},divideScalar:function(t){return this.multiplyScalar(1/t)},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this},clampScalar:function(){var t=new n,e=new n;return function(r,n){return t.set(r,r,r),e.set(n,n,n),this.clamp(t,e)}}(),clampLength:function(t,e){var r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(t,Math.min(e,r)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(t){return this.normalize().multiplyScalar(t)},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this},lerpVectors:function(t,e,r){return this.subVectors(e,t).multiplyScalar(r).add(t)},cross:function(t,e){return void 0!==e?this.crossVectors(t,e):this.crossVectors(this,t)},crossVectors:function(t,e){var r=t.x,n=t.y,i=t.z,a=e.x,s=e.y,o=e.z;return this.x=n*o-i*s,this.y=i*a-r*o,this.z=r*s-n*a,this},projectOnVector:function(t){var e=t.dot(this)/t.lengthSq();return this.copy(t).multiplyScalar(e)},projectOnPlane:function(){var t=new n;return function(e){return t.copy(this).projectOnVector(e),this.sub(t)}}(),reflect:function(){var t=new n;return function(e){return this.sub(t.copy(e).multiplyScalar(2*this.dot(e)))}}(),angleTo:function(t){var e=this.dot(t)/Math.sqrt(this.lengthSq()*t.lengthSq());return Math.acos(i.a.clamp(e,-1,1))},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,r=this.y-t.y,n=this.z-t.z;return e*e+r*r+n*n},manhattanDistanceTo:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)},setFromSpherical:function(t){var e=Math.sin(t.phi)*t.radius;return this.x=e*Math.sin(t.theta),this.y=Math.cos(t.phi)*t.radius,this.z=e*Math.cos(t.theta),this},setFromCylindrical:function(t){return this.x=t.radius*Math.sin(t.theta),this.y=t.y,this.z=t.radius*Math.cos(t.theta),this},setFromMatrixPosition:function(t){var e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this},setFromMatrixScale:function(t){var e=this.setFromMatrixColumn(t,0).length(),r=this.setFromMatrixColumn(t,1).length(),n=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=r,this.z=n,this},setFromMatrixColumn:function(t,e){return this.fromArray(t.elements,4*e)},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t},fromBufferAttribute:function(t,e,r){return this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}})},function(t,e,r){var n=r(55)("wks"),i=r(27),a=r(2).Symbol,s="function"==typeof a;(t.exports=function(t){return n[t]||(n[t]=s&&a[t]||(s?a:i)("Symbol."+t))}).store=n},function(t,e){var r=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},function(t,e,r){var n=r(4),i=r(52);t.exports=r(6)?function(t,e,r){return n.f(t,e,i(1,r))}:function(t,e,r){return t[e]=r,t}},function(t,e,r){var n=r(10),i=r(162),a=r(163),s=Object.defineProperty;e.f=r(6)?Object.defineProperty:function(t,e,r){if(n(t),e=a(e,!0),n(r),i)try{return s(t,e,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(t[e]=r.value),t}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,r){t.exports=!r(13)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,r){"use strict";r.d(e,"a",function(){return n});var n={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){for(var t=[],e=0;e<256;e++)t[e]=(e<16?"0":"")+e.toString(16).toUpperCase();return function(){var e=4294967295*Math.random()|0,r=4294967295*Math.random()|0,n=4294967295*Math.random()|0,i=4294967295*Math.random()|0;return t[255&e]+t[e>>8&255]+t[e>>16&255]+t[e>>24&255]+"-"+t[255&r]+t[r>>8&255]+"-"+t[r>>16&15|64]+t[r>>24&255]+"-"+t[63&n|128]+t[n>>8&255]+"-"+t[n>>16&255]+t[n>>24&255]+t[255&i]+t[i>>8&255]+t[i>>16&255]+t[i>>24&255]}}(),clamp:function(t,e,r){return Math.max(e,Math.min(r,t))},euclideanModulo:function(t,e){return(t%e+e)%e},mapLinear:function(t,e,r,n,i){return n+(t-e)*(i-n)/(r-e)},lerp:function(t,e,r){return(1-r)*t+r*e},smoothstep:function(t,e,r){return t<=e?0:t>=r?1:(t=(t-e)/(r-e))*t*(3-2*t)},smootherstep:function(t,e,r){return t<=e?0:t>=r?1:(t=(t-e)/(r-e))*t*t*(t*(6*t-15)+10)},randInt:function(t,e){return t+Math.floor(Math.random()*(e-t+1))},randFloat:function(t,e){return t+Math.random()*(e-t)},randFloatSpread:function(t){return t*(.5-Math.random())},degToRad:function(t){return t*n.DEG2RAD},radToDeg:function(t){return t*n.RAD2DEG},isPowerOfTwo:function(t){return 0==(t&t-1)&&0!==t},ceilPowerOfTwo:function(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))},floorPowerOfTwo:function(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}}},function(t,e,r){var n=r(2),i=r(9),a=r(12),s=r(3),o=function(t,e,r){var u,h,c,l=t&o.F,f=t&o.G,p=t&o.S,d=t&o.P,v=t&o.B,m=t&o.W,g=f?i:i[e]||(i[e]={}),y=g.prototype,_=f?n:p?n[e]:(n[e]||{}).prototype;f&&(r=e);for(u in r)(h=!l&&_&&void 0!==_[u])&&u in g||(c=h?_[u]:r[u],g[u]=f&&"function"!=typeof _[u]?r[u]:v&&h?a(c,n):m&&_[u]==c?function(t){var e=function(e,r,n){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,r)}return new t(e,r,n)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(c):d&&"function"==typeof c?a(Function.call,c):c,d&&((g.virtual||(g.virtual={}))[u]=c,t&o.R&&y&&!y[u]&&s(y,u,c)))};o.F=1,o.G=2,o.S=4,o.P=8,o.B=16,o.W=32,o.U=64,o.R=128,t.exports=o},function(t,e){var r=t.exports={version:"2.5.3"};"number"==typeof __e&&(__e=r)},function(t,e,r){var n=r(5);t.exports=function(t){if(!n(t))throw TypeError(t+" is not an object!");return t}},function(t,e){t.exports={}},function(t,e,r){var n=r(50);t.exports=function(t,e,r){if(n(t),void 0===e)return t;switch(r){case 1:return function(r){return t.call(e,r)};case 2:return function(r,n){return t.call(e,r,n)};case 3:return function(r,n,i){return t.call(e,r,n,i)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){var r={}.hasOwnProperty;t.exports=function(t,e){return r.call(t,e)}},function(t,e,r){"use strict";function n(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length}r.d(e,"a",function(){return n});var i=r(0);Object.assign(n.prototype,{isMatrix4:!0,set:function(t,e,r,n,i,a,s,o,u,h,c,l,f,p,d,v){var m=this.elements;return m[0]=t,m[4]=e,m[8]=r,m[12]=n,m[1]=i,m[5]=a,m[9]=s,m[13]=o,m[2]=u,m[6]=h,m[10]=c,m[14]=l,m[3]=f,m[7]=p,m[11]=d,m[15]=v,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new n).fromArray(this.elements)},copy:function(t){var e=this.elements,r=t.elements;return e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e[4]=r[4],e[5]=r[5],e[6]=r[6],e[7]=r[7],e[8]=r[8],e[9]=r[9],e[10]=r[10],e[11]=r[11],e[12]=r[12],e[13]=r[13],e[14]=r[14],e[15]=r[15],this},copyPosition:function(t){var e=this.elements,r=t.elements;return e[12]=r[12],e[13]=r[13],e[14]=r[14],this},extractBasis:function(t,e,r){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this},makeBasis:function(t,e,r){return this.set(t.x,e.x,r.x,0,t.y,e.y,r.y,0,t.z,e.z,r.z,0,0,0,0,1),this},extractRotation:function(){var t=new i.a;return function(e){var r=this.elements,n=e.elements,i=1/t.setFromMatrixColumn(e,0).length(),a=1/t.setFromMatrixColumn(e,1).length(),s=1/t.setFromMatrixColumn(e,2).length();return r[0]=n[0]*i,r[1]=n[1]*i,r[2]=n[2]*i,r[4]=n[4]*a,r[5]=n[5]*a,r[6]=n[6]*a,r[8]=n[8]*s,r[9]=n[9]*s,r[10]=n[10]*s,this}}(),makeRotationFromEuler:function(t){!t||t.isEuler;var e=this.elements,r=t.x,n=t.y,i=t.z,a=Math.cos(r),s=Math.sin(r),o=Math.cos(n),u=Math.sin(n),h=Math.cos(i),c=Math.sin(i);if("XYZ"===t.order){var l=a*h,f=a*c,p=s*h,d=s*c;e[0]=o*h,e[4]=-o*c,e[8]=u,e[1]=f+p*u,e[5]=l-d*u,e[9]=-s*o,e[2]=d-l*u,e[6]=p+f*u,e[10]=a*o}else if("YXZ"===t.order){var v=o*h,m=o*c,g=u*h,y=u*c;e[0]=v+y*s,e[4]=g*s-m,e[8]=a*u,e[1]=a*c,e[5]=a*h,e[9]=-s,e[2]=m*s-g,e[6]=y+v*s,e[10]=a*o}else if("ZXY"===t.order){var v=o*h,m=o*c,g=u*h,y=u*c;e[0]=v-y*s,e[4]=-a*c,e[8]=g+m*s,e[1]=m+g*s,e[5]=a*h,e[9]=y-v*s,e[2]=-a*u,e[6]=s,e[10]=a*o}else if("ZYX"===t.order){var l=a*h,f=a*c,p=s*h,d=s*c;e[0]=o*h,e[4]=p*u-f,e[8]=l*u+d,e[1]=o*c,e[5]=d*u+l,e[9]=f*u-p,e[2]=-u,e[6]=s*o,e[10]=a*o}else if("YZX"===t.order){var _=a*o,x=a*u,b=s*o,E=s*u;e[0]=o*h,e[4]=E-_*c,e[8]=b*c+x,e[1]=c,e[5]=a*h,e[9]=-s*h,e[2]=-u*h,e[6]=x*c+b,e[10]=_-E*c}else if("XZY"===t.order){var _=a*o,x=a*u,b=s*o,E=s*u;e[0]=o*h,e[4]=-c,e[8]=u*h,e[1]=_*c+E,e[5]=a*h,e[9]=x*c-b,e[2]=b*c-x,e[6]=s*h,e[10]=E*c+_}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this},makeRotationFromQuaternion:function(t){var e=this.elements,r=t._x,n=t._y,i=t._z,a=t._w,s=r+r,o=n+n,u=i+i,h=r*s,c=r*o,l=r*u,f=n*o,p=n*u,d=i*u,v=a*s,m=a*o,g=a*u;return e[0]=1-(f+d),e[4]=c-g,e[8]=l+m,e[1]=c+g,e[5]=1-(h+d),e[9]=p-v,e[2]=l-m,e[6]=p+v,e[10]=1-(h+f),e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this},lookAt:function(){var t=new i.a,e=new i.a,r=new i.a;return function(n,i,a){var s=this.elements;return r.subVectors(n,i),0===r.lengthSq()&&(r.z=1),r.normalize(),t.crossVectors(a,r),0===t.lengthSq()&&(1===Math.abs(a.z)?r.x+=1e-4:r.z+=1e-4,r.normalize(),t.crossVectors(a,r)),t.normalize(),e.crossVectors(r,t),s[0]=t.x,s[4]=e.x,s[8]=r.x,s[1]=t.y,s[5]=e.y,s[9]=r.y,s[2]=t.z,s[6]=e.z,s[10]=r.z,this}}(),multiply:function(t,e){return void 0!==e?this.multiplyMatrices(t,e):this.multiplyMatrices(this,t)},premultiply:function(t){return this.multiplyMatrices(t,this)},multiplyMatrices:function(t,e){var r=t.elements,n=e.elements,i=this.elements,a=r[0],s=r[4],o=r[8],u=r[12],h=r[1],c=r[5],l=r[9],f=r[13],p=r[2],d=r[6],v=r[10],m=r[14],g=r[3],y=r[7],_=r[11],x=r[15],b=n[0],E=n[4],w=n[8],M=n[12],A=n[1],T=n[5],S=n[9],R=n[13],N=n[2],I=n[6],P=n[10],O=n[14],U=n[3],L=n[7],C=n[11],z=n[15];return i[0]=a*b+s*A+o*N+u*U,i[4]=a*E+s*T+o*I+u*L,i[8]=a*w+s*S+o*P+u*C,i[12]=a*M+s*R+o*O+u*z,i[1]=h*b+c*A+l*N+f*U,i[5]=h*E+c*T+l*I+f*L,i[9]=h*w+c*S+l*P+f*C,i[13]=h*M+c*R+l*O+f*z,i[2]=p*b+d*A+v*N+m*U,i[6]=p*E+d*T+v*I+m*L,i[10]=p*w+d*S+v*P+m*C,i[14]=p*M+d*R+v*O+m*z,i[3]=g*b+y*A+_*N+x*U,i[7]=g*E+y*T+_*I+x*L,i[11]=g*w+y*S+_*P+x*C,i[15]=g*M+y*R+_*O+x*z,this},multiplyScalar:function(t){var e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this},applyToBufferAttribute:function(){var t=new i.a;return function(e){for(var r=0,n=e.count;r<n;r++)t.x=e.getX(r),t.y=e.getY(r),t.z=e.getZ(r),t.applyMatrix4(this),e.setXYZ(r,t.x,t.y,t.z);return e}}(),determinant:function(){var t=this.elements,e=t[0],r=t[4],n=t[8],i=t[12],a=t[1],s=t[5],o=t[9],u=t[13],h=t[2],c=t[6],l=t[10],f=t[14];return t[3]*(+i*o*c-n*u*c-i*s*l+r*u*l+n*s*f-r*o*f)+t[7]*(+e*o*f-e*u*l+i*a*l-n*a*f+n*u*h-i*o*h)+t[11]*(+e*u*c-e*s*f-i*a*c+r*a*f+i*s*h-r*u*h)+t[15]*(-n*s*h-e*o*c+e*s*l+n*a*c-r*a*l+r*o*h)},transpose:function(){var t,e=this.elements;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this},setPosition:function(t){var e=this.elements;return e[12]=t.x,e[13]=t.y,e[14]=t.z,this},getInverse:function(t,e){var r=this.elements,n=t.elements,i=n[0],a=n[1],s=n[2],o=n[3],u=n[4],h=n[5],c=n[6],l=n[7],f=n[8],p=n[9],d=n[10],v=n[11],m=n[12],g=n[13],y=n[14],_=n[15],x=p*y*l-g*d*l+g*c*v-h*y*v-p*c*_+h*d*_,b=m*d*l-f*y*l-m*c*v+u*y*v+f*c*_-u*d*_,E=f*g*l-m*p*l+m*h*v-u*g*v-f*h*_+u*p*_,w=m*p*c-f*g*c-m*h*d+u*g*d+f*h*y-u*p*y,M=i*x+a*b+s*E+o*w;if(0===M){var A="THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0";if(!0===e)throw new Error(A);return this.identity()}var T=1/M;return r[0]=x*T,r[1]=(g*d*o-p*y*o-g*s*v+a*y*v+p*s*_-a*d*_)*T,r[2]=(h*y*o-g*c*o+g*s*l-a*y*l-h*s*_+a*c*_)*T,r[3]=(p*c*o-h*d*o-p*s*l+a*d*l+h*s*v-a*c*v)*T,r[4]=b*T,r[5]=(f*y*o-m*d*o+m*s*v-i*y*v-f*s*_+i*d*_)*T,r[6]=(m*c*o-u*y*o-m*s*l+i*y*l+u*s*_-i*c*_)*T,r[7]=(u*d*o-f*c*o+f*s*l-i*d*l-u*s*v+i*c*v)*T,r[8]=E*T,r[9]=(m*p*o-f*g*o-m*a*v+i*g*v+f*a*_-i*p*_)*T,r[10]=(u*g*o-m*h*o+m*a*l-i*g*l-u*a*_+i*h*_)*T,r[11]=(f*h*o-u*p*o-f*a*l+i*p*l+u*a*v-i*h*v)*T,r[12]=w*T,r[13]=(f*g*s-m*p*s+m*a*d-i*g*d-f*a*y+i*p*y)*T,r[14]=(m*h*s-u*g*s-m*a*c+i*g*c+u*a*y-i*h*y)*T,r[15]=(u*p*s-f*h*s+f*a*c-i*p*c-u*a*d+i*h*d)*T,this},scale:function(t){var e=this.elements,r=t.x,n=t.y,i=t.z;return e[0]*=r,e[4]*=n,e[8]*=i,e[1]*=r,e[5]*=n,e[9]*=i,e[2]*=r,e[6]*=n,e[10]*=i,e[3]*=r,e[7]*=n,e[11]*=i,this},getMaxScaleOnAxis:function(){var t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],r=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],n=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,r,n))},makeTranslation:function(t,e,r){return this.set(1,0,0,t,0,1,0,e,0,0,1,r,0,0,0,1),this},makeRotationX:function(t){var e=Math.cos(t),r=Math.sin(t);return this.set(1,0,0,0,0,e,-r,0,0,r,e,0,0,0,0,1),this},makeRotationY:function(t){var e=Math.cos(t),r=Math.sin(t);return this.set(e,0,r,0,0,1,0,0,-r,0,e,0,0,0,0,1),this},makeRotationZ:function(t){var e=Math.cos(t),r=Math.sin(t);return this.set(e,-r,0,0,r,e,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(t,e){var r=Math.cos(e),n=Math.sin(e),i=1-r,a=t.x,s=t.y,o=t.z,u=i*a,h=i*s;return this.set(u*a+r,u*s-n*o,u*o+n*s,0,u*s+n*o,h*s+r,h*o-n*a,0,u*o-n*s,h*o+n*a,i*o*o+r,0,0,0,0,1),this},makeScale:function(t,e,r){return this.set(t,0,0,0,0,e,0,0,0,0,r,0,0,0,0,1),this},makeShear:function(t,e,r){return this.set(1,e,r,0,t,1,r,0,t,e,1,0,0,0,0,1),this},compose:function(t,e,r){return this.makeRotationFromQuaternion(e),this.scale(r),this.setPosition(t),this},decompose:function(){var t=new i.a,e=new n;return function(r,n,i){var a=this.elements,s=t.set(a[0],a[1],a[2]).length(),o=t.set(a[4],a[5],a[6]).length(),u=t.set(a[8],a[9],a[10]).length();this.determinant()<0&&(s=-s),r.x=a[12],r.y=a[13],r.z=a[14],e.copy(this);var h=1/s,c=1/o,l=1/u;return e.elements[0]*=h,e.elements[1]*=h,e.elements[2]*=h,e.elements[4]*=c,e.elements[5]*=c,e.elements[6]*=c,e.elements[8]*=l,e.elements[9]*=l,e.elements[10]*=l,n.setFromRotationMatrix(e),i.x=s,i.y=o,i.z=u,this}}(),makePerspective:function(t,e,r,n,i,a){var s=this.elements,o=2*i/(e-t),u=2*i/(r-n),h=(e+t)/(e-t),c=(r+n)/(r-n),l=-(a+i)/(a-i),f=-2*a*i/(a-i);return s[0]=o,s[4]=0,s[8]=h,s[12]=0,s[1]=0,s[5]=u,s[9]=c,s[13]=0,s[2]=0,s[6]=0,s[10]=l,s[14]=f,s[3]=0,s[7]=0,s[11]=-1,s[15]=0,this},makeOrthographic:function(t,e,r,n,i,a){var s=this.elements,o=1/(e-t),u=1/(r-n),h=1/(a-i),c=(e+t)*o,l=(r+n)*u,f=(a+i)*h;return s[0]=2*o,s[4]=0,s[8]=0,s[12]=-c,s[1]=0,s[5]=2*u,s[9]=0,s[13]=-l,s[2]=0,s[6]=0,s[10]=-2*h,s[14]=-f,s[3]=0,s[7]=0,s[11]=0,s[15]=1,this},equals:function(t){for(var e=this.elements,r=t.elements,n=0;n<16;n++)if(e[n]!==r[n])return!1;return!0},fromArray:function(t,e){void 0===e&&(e=0);for(var r=0;r<16;r++)this.elements[r]=t[r+e];return this},toArray:function(t,e){void 0===t&&(t=[]),void 0===e&&(e=0);var r=this.elements;return t[e]=r[0],t[e+1]=r[1],t[e+2]=r[2],t[e+3]=r[3],t[e+4]=r[4],t[e+5]=r[5],t[e+6]=r[6],t[e+7]=r[7],t[e+8]=r[8],t[e+9]=r[9],t[e+10]=r[10],t[e+11]=r[11],t[e+12]=r[12],t[e+13]=r[13],t[e+14]=r[14],t[e+15]=r[15],t}})},function(t,e){function r(t,e,r){this.shortMessage=e||"",this.longMessage=r||"",this.rawError=t||"",this.message="gl-shader: "+(e||t||"")+(r?"\n"+r:""),this.stack=(new Error).stack}r.prototype=new Error,r.prototype.name="GLError",r.prototype.constructor=r,t.exports=r},function(t,e,r){var n=r(12),i=r(185),a=r(186),s=r(10),o=r(24),u=r(58),h={},c={},e=t.exports=function(t,e,r,l,f){var p,d,v,m,g=f?function(){return t}:u(t),y=n(r,l,e?2:1),_=0;if("function"!=typeof g)throw TypeError(t+" is not iterable!");if(a(g)){for(p=o(t.length);p>_;_++)if((m=e?y(s(d=t[_])[0],d[1]):y(t[_]))===h||m===c)return m}else for(v=g.call(t);!(d=v.next()).done;)if((m=i(v,y,d.value,e))===h||m===c)return m};e.BREAK=h,e.RETURN=c},function(t,e){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(t){return"function"==typeof t}function i(t){return"number"==typeof t}function a(t){return"object"==typeof t&&null!==t}function s(t){return void 0===t}t.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(t){if(!i(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},r.prototype.emit=function(t){var e,r,i,o,u,h;if(this._events||(this._events={}),"error"===t&&(!this._events.error||a(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;var c=new Error('Uncaught, unspecified "error" event. ('+e+")");throw c.context=e,c}if(r=this._events[t],s(r))return!1;if(n(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:o=Array.prototype.slice.call(arguments,1),r.apply(this,o)}else if(a(r))for(o=Array.prototype.slice.call(arguments,1),h=r.slice(),i=h.length,u=0;u<i;u++)h[u].apply(this,o);return!0},r.prototype.addListener=function(t,e){var i;if(!n(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,n(e.listener)?e.listener:e),this._events[t]?a(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,a(this._events[t])&&!this._events[t].warned&&(i=s(this._maxListeners)?r.defaultMaxListeners:this._maxListeners)&&i>0&&this._events[t].length>i&&(this._events[t].warned=!0,console.trace),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(t,e){function r(){this.removeListener(t,r),i||(i=!0,e.apply(this,arguments))}if(!n(e))throw TypeError("listener must be a function");var i=!1;return r.listener=e,this.on(t,r),this},r.prototype.removeListener=function(t,e){var r,i,s,o;if(!n(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(r=this._events[t],s=r.length,i=-1,r===e||n(r.listener)&&r.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(a(r)){for(o=s;o-- >0;)if(r[o]===e||r[o].listener&&r[o].listener===e){i=o;break}if(i<0)return this;1===r.length?(r.length=0,delete this._events[t]):r.splice(i,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},r.prototype.removeAllListeners=function(t){var e,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(r=this._events[t],n(r))this.removeListener(t,r);else if(r)for(;r.length;)this.removeListener(t,r[r.length-1]);return delete this._events[t],this},r.prototype.listeners=function(t){return this._events&&this._events[t]?n(this._events[t])?[this._events[t]]:this._events[t].slice():[]},r.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(n(e))return 1;if(e)return e.length}return 0},r.listenerCount=function(t,e){return t.listenerCount(e)}},function(t,e,r){var n=r(20),i=r(22);t.exports=function(t){return n(i(t))}},function(t,e,r){var n=r(21);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==n(t)?t.split(""):Object(t)}},function(t,e){var r={}.toString;t.exports=function(t){return r.call(t).slice(8,-1)}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,r){"use strict";var n=r(161),i=r(8),a=r(164),s=r(3),o=r(14),u=r(11),h=r(165),c=r(28),l=r(171),f=r(1)("iterator"),p=!([].keys&&"next"in[].keys()),d=function(){return this};t.exports=function(t,e,r,v,m,g,y){h(r,e,v);var _,x,b,E=function(t){if(!p&&t in T)return T[t];switch(t){case"keys":case"values":return function(){return new r(this,t)}}return function(){return new r(this,t)}},w=e+" Iterator",M="values"==m,A=!1,T=t.prototype,S=T[f]||T["@@iterator"]||m&&T[m],R=!p&&S||E(m),N=m?M?E("entries"):R:void 0,I="Array"==e?T.entries||S:S;if(I&&(b=l(I.call(new t)))!==Object.prototype&&b.next&&(c(b,w,!0),n||o(b,f)||s(b,f,d)),M&&S&&"values"!==S.name&&(A=!0,R=function(){return S.call(this)}),n&&!y||!p&&!A&&T[f]||s(T,f,R),u[e]=R,u[w]=d,m)if(_={values:M?R:E("values"),keys:g?R:E("keys"),entries:N},y)for(x in _)x in T||a(T,x,_[x]);else i(i.P+i.F*(p||A),e,_);return _}},function(t,e,r){var n=r(25),i=Math.min;t.exports=function(t){return t>0?i(n(t),9007199254740991):0}},function(t,e){var r=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?n:r)(t)}},function(t,e,r){var n=r(55)("keys"),i=r(27);t.exports=function(t){return n[t]||(n[t]=i(t))}},function(t,e){var r=0,n=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++r+n).toString(36))}},function(t,e,r){var n=r(4).f,i=r(14),a=r(1)("toStringTag");t.exports=function(t,e,r){t&&!i(t=r?t:t.prototype,a)&&n(t,a,{configurable:!0,value:e})}},function(t,e,r){var n=r(22);t.exports=function(t){return Object(n(t))}},function(t,e,r){"use strict";function n(){}r.d(e,"a",function(){return n}),Object.assign(n.prototype,{addEventListener:function(t,e){void 0===this._listeners&&(this._listeners={});var r=this._listeners;void 0===r[t]&&(r[t]=[]),-1===r[t].indexOf(e)&&r[t].push(e)},hasEventListener:function(t,e){if(void 0===this._listeners)return!1;var r=this._listeners;return void 0!==r[t]&&-1!==r[t].indexOf(e)},removeEventListener:function(t,e){if(void 0!==this._listeners){var r=this._listeners,n=r[t];if(void 0!==n){var i=n.indexOf(e);-1!==i&&n.splice(i,1)}}},dispatchEvent:function(t){if(void 0!==this._listeners){var e=this._listeners,r=e[t.type];if(void 0!==r){t.target=this;for(var n=r.slice(0),i=0,a=n.length;i<a;i++)n[i].call(this,t)}}}})},function(t,e,r){"use strict";function n(t,e,r){return void 0===e&&void 0===r?this.set(t):this.setRGB(t,e,r)}r.d(e,"a",function(){return n});var i=r(7),a={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Object.assign(n.prototype,{isColor:!0,r:1,g:1,b:1,set:function(t){return t&&t.isColor?this.copy(t):"number"==typeof t?this.setHex(t):"string"==typeof t&&this.setStyle(t),this},setScalar:function(t){return this.r=t,this.g=t,this.b=t,this},setHex:function(t){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,this},setRGB:function(t,e,r){return this.r=t,this.g=e,this.b=r,this},setHSL:function(){function t(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+6*(e-t)*r:r<.5?e:r<2/3?t+6*(e-t)*(2/3-r):t}return function(e,r,n){if(e=i.a.euclideanModulo(e,1),r=i.a.clamp(r,0,1),n=i.a.clamp(n,0,1),0===r)this.r=this.g=this.b=n;else{var a=n<=.5?n*(1+r):n+r-n*r,s=2*n-a;this.r=t(s,a,e+1/3),this.g=t(s,a,e),this.b=t(s,a,e-1/3)}return this}}(),setStyle:function(t){function e(t){void 0!==t&&parseFloat(t)}var r;if(r=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(t)){var n,i=r[1],s=r[2];switch(i){case"rgb":case"rgba":if(n=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(s))return this.r=Math.min(255,parseInt(n[1],10))/255,this.g=Math.min(255,parseInt(n[2],10))/255,this.b=Math.min(255,parseInt(n[3],10))/255,e(n[5]),this;if(n=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(s))return this.r=Math.min(100,parseInt(n[1],10))/100,this.g=Math.min(100,parseInt(n[2],10))/100,this.b=Math.min(100,parseInt(n[3],10))/100,e(n[5]),this;break;case"hsl":case"hsla":if(n=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(s)){var o=parseFloat(n[1])/360,u=parseInt(n[2],10)/100,h=parseInt(n[3],10)/100;return e(n[5]),this.setHSL(o,u,h)}}}else if(r=/^\#([A-Fa-f0-9]+)$/.exec(t)){var c=r[1],l=c.length;if(3===l)return this.r=parseInt(c.charAt(0)+c.charAt(0),16)/255,this.g=parseInt(c.charAt(1)+c.charAt(1),16)/255,this.b=parseInt(c.charAt(2)+c.charAt(2),16)/255,this;if(6===l)return this.r=parseInt(c.charAt(0)+c.charAt(1),16)/255,this.g=parseInt(c.charAt(2)+c.charAt(3),16)/255,this.b=parseInt(c.charAt(4)+c.charAt(5),16)/255,this}if(t&&t.length>0){var c=a[t];void 0!==c&&this.setHex(c)}return this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this},copyGammaToLinear:function(t,e){return void 0===e&&(e=2),this.r=Math.pow(t.r,e),this.g=Math.pow(t.g,e),this.b=Math.pow(t.b,e),this},copyLinearToGamma:function(t,e){void 0===e&&(e=2);var r=e>0?1/e:1;return this.r=Math.pow(t.r,r),this.g=Math.pow(t.g,r),this.b=Math.pow(t.b,r),this},convertGammaToLinear:function(){var t=this.r,e=this.g,r=this.b;return this.r=t*t,this.g=e*e,this.b=r*r,this},convertLinearToGamma:function(){return this.r=Math.sqrt(this.r),this.g=Math.sqrt(this.g),this.b=Math.sqrt(this.b),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(t){var e,r,n=t||{h:0,s:0,l:0},i=this.r,a=this.g,s=this.b,o=Math.max(i,a,s),u=Math.min(i,a,s),h=(u+o)/2;if(u===o)e=0,r=0;else{var c=o-u;switch(r=h<=.5?c/(o+u):c/(2-o-u),o){case i:e=(a-s)/c+(a<s?6:0);break;case a:e=(s-i)/c+2;break;case s:e=(i-a)/c+4}e/=6}return n.h=e,n.s=r,n.l=h,n},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:function(t,e,r){var n=this.getHSL();return n.h+=t,n.s+=e,n.l+=r,this.setHSL(n.h,n.s,n.l),this},add:function(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this},addColors:function(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this},addScalar:function(t){return this.r+=t,this.g+=t,this.b+=t,this},sub:function(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this},multiply:function(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this},multiplyScalar:function(t){return this.r*=t,this.g*=t,this.b*=t,this},lerp:function(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this},equals:function(t){return t.r===this.r&&t.g===this.g&&t.b===this.b},fromArray:function(t,e){return void 0===e&&(e=0),this.r=t[e],this.g=t[e+1],this.b=t[e+2],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t},toJSON:function(){return this.getHex()}})},function(t,e,r){"use strict";function n(t,e,r,n){this._x=t||0,this._y=e||0,this._z=r||0,this._w=void 0!==n?n:1}r.d(e,"a",function(){return n});var i=r(0);Object.assign(n,{slerp:function(t,e,r,n){return r.copy(t).slerp(e,n)},slerpFlat:function(t,e,r,n,i,a,s){var o=r[n+0],u=r[n+1],h=r[n+2],c=r[n+3],l=i[a+0],f=i[a+1],p=i[a+2],d=i[a+3];if(c!==d||o!==l||u!==f||h!==p){var v=1-s,m=o*l+u*f+h*p+c*d,g=m>=0?1:-1,y=1-m*m;if(y>Number.EPSILON){var _=Math.sqrt(y),x=Math.atan2(_,m*g);v=Math.sin(v*x)/_,s=Math.sin(s*x)/_}var b=s*g;if(o=o*v+l*b,u=u*v+f*b,h=h*v+p*b,c=c*v+d*b,v===1-s){var E=1/Math.sqrt(o*o+u*u+h*h+c*c);o*=E,u*=E,h*=E,c*=E}}t[e]=o,t[e+1]=u,t[e+2]=h,t[e+3]=c}}),Object.defineProperties(n.prototype,{x:{get:function(){return this._x},set:function(t){this._x=t,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(t){this._y=t,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(t){this._z=t,this.onChangeCallback()}},w:{get:function(){return this._w},set:function(t){this._w=t,this.onChangeCallback()}}}),Object.assign(n.prototype,{set:function(t,e,r,n){return this._x=t,this._y=e,this._z=r,this._w=n,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this.onChangeCallback(),this},setFromEuler:function(t,e){if(!t||!t.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var r=t._x,n=t._y,i=t._z,a=t.order,s=Math.cos,o=Math.sin,u=s(r/2),h=s(n/2),c=s(i/2),l=o(r/2),f=o(n/2),p=o(i/2);return"XYZ"===a?(this._x=l*h*c+u*f*p,this._y=u*f*c-l*h*p,this._z=u*h*p+l*f*c,this._w=u*h*c-l*f*p):"YXZ"===a?(this._x=l*h*c+u*f*p,this._y=u*f*c-l*h*p,this._z=u*h*p-l*f*c,this._w=u*h*c+l*f*p):"ZXY"===a?(this._x=l*h*c-u*f*p,this._y=u*f*c+l*h*p,this._z=u*h*p+l*f*c,this._w=u*h*c-l*f*p):"ZYX"===a?(this._x=l*h*c-u*f*p,this._y=u*f*c+l*h*p,this._z=u*h*p-l*f*c,this._w=u*h*c+l*f*p):"YZX"===a?(this._x=l*h*c+u*f*p,this._y=u*f*c+l*h*p,this._z=u*h*p-l*f*c,this._w=u*h*c-l*f*p):"XZY"===a&&(this._x=l*h*c-u*f*p,this._y=u*f*c-l*h*p,this._z=u*h*p+l*f*c,this._w=u*h*c+l*f*p),!1!==e&&this.onChangeCallback(),this},setFromAxisAngle:function(t,e){var r=e/2,n=Math.sin(r);return this._x=t.x*n,this._y=t.y*n,this._z=t.z*n,this._w=Math.cos(r),this.onChangeCallback(),this},setFromRotationMatrix:function(t){var e,r=t.elements,n=r[0],i=r[4],a=r[8],s=r[1],o=r[5],u=r[9],h=r[2],c=r[6],l=r[10],f=n+o+l;return f>0?(e=.5/Math.sqrt(f+1),this._w=.25/e,this._x=(c-u)*e,this._y=(a-h)*e,this._z=(s-i)*e):n>o&&n>l?(e=2*Math.sqrt(1+n-o-l),this._w=(c-u)/e,this._x=.25*e,this._y=(i+s)/e,this._z=(a+h)/e):o>l?(e=2*Math.sqrt(1+o-n-l),this._w=(a-h)/e,this._x=(i+s)/e,this._y=.25*e,this._z=(u+c)/e):(e=2*Math.sqrt(1+l-n-o),this._w=(s-i)/e,this._x=(a+h)/e,this._y=(u+c)/e,this._z=.25*e),this.onChangeCallback(),this},setFromUnitVectors:function(){var t,e=new i.a;return function(r,n){return void 0===e&&(e=new i.a),t=r.dot(n)+1,t<1e-6?(t=0,Math.abs(r.x)>Math.abs(r.z)?e.set(-r.y,r.x,0):e.set(0,-r.z,r.y)):e.crossVectors(r,n),this._x=e.x,this._y=e.y,this._z=e.z,this._w=t,this.normalize()}}(),inverse:function(){return this.conjugate()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this.onChangeCallback(),this},dot:function(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this.onChangeCallback(),this},multiply:function(t,e){return void 0!==e?this.multiplyQuaternions(t,e):this.multiplyQuaternions(this,t)},premultiply:function(t){return this.multiplyQuaternions(t,this)},multiplyQuaternions:function(t,e){var r=t._x,n=t._y,i=t._z,a=t._w,s=e._x,o=e._y,u=e._z,h=e._w;return this._x=r*h+a*s+n*u-i*o,this._y=n*h+a*o+i*s-r*u,this._z=i*h+a*u+r*o-n*s,this._w=a*h-r*s-n*o-i*u,this.onChangeCallback(),this},slerp:function(t,e){if(0===e)return this;if(1===e)return this.copy(t);var r=this._x,n=this._y,i=this._z,a=this._w,s=a*t._w+r*t._x+n*t._y+i*t._z;if(s<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,s=-s):this.copy(t),s>=1)return this._w=a,this._x=r,this._y=n,this._z=i,this;var o=Math.sqrt(1-s*s);if(Math.abs(o)<.001)return this._w=.5*(a+this._w),this._x=.5*(r+this._x),this._y=.5*(n+this._y),this._z=.5*(i+this._z),this;var u=Math.atan2(o,s),h=Math.sin((1-e)*u)/o,c=Math.sin(e*u)/o;return this._w=a*h+this._w*c,this._x=r*h+this._x*c,this._y=n*h+this._y*c,this._z=i*h+this._z*c,this.onChangeCallback(),this},equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w},fromArray:function(t,e){return void 0===e&&(e=0),this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this.onChangeCallback(),this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t},onChange:function(t){return this.onChangeCallback=t,this},onChangeCallback:function(){}})},function(t,e,r){"use strict";function n(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length}r.d(e,"a",function(){return n});var i=r(0);Object.assign(n.prototype,{isMatrix3:!0,set:function(t,e,r,n,i,a,s,o,u){var h=this.elements;return h[0]=t,h[1]=n,h[2]=s,h[3]=e,h[4]=i,h[5]=o,h[6]=r,h[7]=a,h[8]=u,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(t){var e=this.elements,r=t.elements;return e[0]=r[0],e[1]=r[1],e[2]=r[2],e[3]=r[3],e[4]=r[4],e[5]=r[5],e[6]=r[6],e[7]=r[7],e[8]=r[8],this},setFromMatrix4:function(t){var e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this},applyToBufferAttribute:function(){var t=new i.a;return function(e){for(var r=0,n=e.count;r<n;r++)t.x=e.getX(r),t.y=e.getY(r),t.z=e.getZ(r),t.applyMatrix3(this),e.setXYZ(r,t.x,t.y,t.z);return e}}(),multiply:function(t){return this.multiplyMatrices(this,t)},premultiply:function(t){return this.multiplyMatrices(t,this)},multiplyMatrices:function(t,e){var r=t.elements,n=e.elements,i=this.elements,a=r[0],s=r[3],o=r[6],u=r[1],h=r[4],c=r[7],l=r[2],f=r[5],p=r[8],d=n[0],v=n[3],m=n[6],g=n[1],y=n[4],_=n[7],x=n[2],b=n[5],E=n[8];return i[0]=a*d+s*g+o*x,i[3]=a*v+s*y+o*b,i[6]=a*m+s*_+o*E,i[1]=u*d+h*g+c*x,i[4]=u*v+h*y+c*b,i[7]=u*m+h*_+c*E,i[2]=l*d+f*g+p*x,i[5]=l*v+f*y+p*b,i[8]=l*m+f*_+p*E,this},multiplyScalar:function(t){var e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this},determinant:function(){var t=this.elements,e=t[0],r=t[1],n=t[2],i=t[3],a=t[4],s=t[5],o=t[6],u=t[7],h=t[8];return e*a*h-e*s*u-r*i*h+r*s*o+n*i*u-n*a*o},getInverse:function(t,e){t&&t.isMatrix4;var r=t.elements,n=this.elements,i=r[0],a=r[1],s=r[2],o=r[3],u=r[4],h=r[5],c=r[6],l=r[7],f=r[8],p=f*u-h*l,d=h*c-f*o,v=l*o-u*c,m=i*p+a*d+s*v;if(0===m){var g="THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0";if(!0===e)throw new Error(g);return this.identity()}var y=1/m;return n[0]=p*y,n[1]=(s*l-f*a)*y,n[2]=(h*a-s*u)*y,n[3]=d*y,n[4]=(f*i-s*c)*y,n[5]=(s*o-h*i)*y,n[6]=v*y,n[7]=(a*c-l*i)*y,n[8]=(u*i-a*o)*y,this},transpose:function(){var t,e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this},getNormalMatrix:function(t){return this.setFromMatrix4(t).getInverse(this).transpose()},transposeIntoArray:function(t){var e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this},setUvTransform:function(t,e,r,n,i,a,s){var o=Math.cos(i),u=Math.sin(i);this.set(r*o,r*u,-r*(o*a+u*s)+a+t,-n*u,n*o,-n*(-u*a+o*s)+s+e,0,0,1)},scale:function(t,e){var r=this.elements;return r[0]*=t,r[3]*=t,r[6]*=t,r[1]*=e,r[4]*=e,r[7]*=e,this},rotate:function(t){var e=Math.cos(t),r=Math.sin(t),n=this.elements,i=n[0],a=n[3],s=n[6],o=n[1],u=n[4],h=n[7];return n[0]=e*i+r*o,n[3]=e*a+r*u,n[6]=e*s+r*h,n[1]=-r*i+e*o,n[4]=-r*a+e*u,n[7]=-r*s+e*h,this},translate:function(t,e){var r=this.elements;return r[0]+=t*r[2],r[3]+=t*r[5],r[6]+=t*r[8],r[1]+=e*r[2],r[4]+=e*r[5],r[7]+=e*r[8],this},equals:function(t){for(var e=this.elements,r=t.elements,n=0;n<9;n++)if(e[n]!==r[n])return!1;return!0},fromArray:function(t,e){void 0===e&&(e=0);for(var r=0;r<9;r++)this.elements[r]=t[r+e];return this},toArray:function(t,e){void 0===t&&(t=[]),void 0===e&&(e=0);var r=this.elements;return t[e]=r[0],t[e+1]=r[1],t[e+2]=r[2],t[e+3]=r[3],t[e+4]=r[4],t[e+5]=r[5],t[e+6]=r[6],t[e+7]=r[7],t[e+8]=r[8],t}})},function(t,e,r){"use strict";function n(t,e){this.center=void 0!==t?t:new a.a,this.radius=void 0!==e?e:0}r.d(e,"a",function(){return n});var i=r(35),a=r(0);Object.assign(n.prototype,{set:function(t,e){return this.center.copy(t),this.radius=e,this},setFromPoints:function(){var t=new i.a;return function(e,r){var n=this.center;void 0!==r?n.copy(r):t.setFromPoints(e).getCenter(n);for(var i=0,a=0,s=e.length;a<s;a++)i=Math.max(i,n.distanceToSquared(e[a]));return this.radius=Math.sqrt(i),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.center.copy(t.center),this.radius=t.radius,this},empty:function(){return this.radius<=0},containsPoint:function(t){return t.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(t){return t.distanceTo(this.center)-this.radius},intersectsSphere:function(t){var e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e},intersectsBox:function(t){return t.intersectsSphere(this)},intersectsPlane:function(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius},clampPoint:function(t,e){var r=this.center.distanceToSquared(t),n=e||new a.a;return n.copy(t),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n},getBoundingBox:function(t){var e=t||new i.a;return e.set(this.center,this.center),e.expandByScalar(this.radius),e},applyMatrix4:function(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this},translate:function(t){return this.center.add(t),this},equals:function(t){return t.center.equals(this.center)&&t.radius===this.radius}})},function(t,e,r){"use strict";function n(t,e){this.min=void 0!==t?t:new i.a(1/0,1/0,1/0),this.max=void 0!==e?e:new i.a(-1/0,-1/0,-1/0)}r.d(e,"a",function(){return n});var i=r(0),a=r(34);Object.assign(n.prototype,{isBox3:!0,set:function(t,e){return this.min.copy(t),this.max.copy(e),this},setFromArray:function(t){for(var e=1/0,r=1/0,n=1/0,i=-1/0,a=-1/0,s=-1/0,o=0,u=t.length;o<u;o+=3){var h=t[o],c=t[o+1],l=t[o+2];h<e&&(e=h),c<r&&(r=c),l<n&&(n=l),h>i&&(i=h),c>a&&(a=c),l>s&&(s=l)}return this.min.set(e,r,n),this.max.set(i,a,s),this},setFromBufferAttribute:function(t){for(var e=1/0,r=1/0,n=1/0,i=-1/0,a=-1/0,s=-1/0,o=0,u=t.count;o<u;o++){var h=t.getX(o),c=t.getY(o),l=t.getZ(o);h<e&&(e=h),c<r&&(r=c),l<n&&(n=l),h>i&&(i=h),c>a&&(a=c),l>s&&(s=l)}return this.min.set(e,r,n),this.max.set(i,a,s),this},setFromPoints:function(t){this.makeEmpty();for(var e=0,r=t.length;e<r;e++)this.expandByPoint(t[e]);return this},setFromCenterAndSize:function(){var t=new i.a;return function(e,r){var n=t.copy(r).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}}(),setFromObject:function(t){return this.makeEmpty(),this.expandByObject(t)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.min.copy(t.min),this.max.copy(t.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(t){var e=t||new i.a;return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(t){var e=t||new i.a;return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)},expandByPoint:function(t){return this.min.min(t),this.max.max(t),this},expandByVector:function(t){return this.min.sub(t),this.max.add(t),this},expandByScalar:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},expandByObject:function(){function t(t){var i=t.geometry;if(void 0!==i)if(i.isGeometry){var s=i.vertices;for(r=0,n=s.length;r<n;r++)a.copy(s[r]),a.applyMatrix4(t.matrixWorld),e.expandByPoint(a)}else if(i.isBufferGeometry){var o=i.attributes.position;if(void 0!==o)for(r=0,n=o.count;r<n;r++)a.fromBufferAttribute(o,r).applyMatrix4(t.matrixWorld),e.expandByPoint(a)}}var e,r,n,a=new i.a;return function(r){return e=this,r.updateMatrixWorld(!0),r.traverse(t),this}}(),containsPoint:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)},containsBox:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z},getParameter:function(t,e){return(e||new i.a).set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)},intersectsSphere:function(){var t=new i.a;return function(e){return this.clampPoint(e.center,t),t.distanceToSquared(e.center)<=e.radius*e.radius}}(),intersectsPlane:function(t){var e,r;return t.normal.x>0?(e=t.normal.x*this.min.x,r=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,r=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,r+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,r+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,r+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,r+=t.normal.z*this.min.z),e<=t.constant&&r>=t.constant},intersectsTriangle:function(){function t(t){var i,a;for(i=0,a=t.length-3;i<=a;i+=3){u.fromArray(t,i);var s=c.x*Math.abs(u.x)+c.y*Math.abs(u.y)+c.z*Math.abs(u.z),o=e.dot(u),h=r.dot(u),l=n.dot(u);if(Math.max(-Math.max(o,h,l),Math.min(o,h,l))>s)return!1}return!0}var e=new i.a,r=new i.a,n=new i.a,a=new i.a,s=new i.a,o=new i.a,u=new i.a,h=new i.a,c=new i.a,l=new i.a;return function(i){if(this.isEmpty())return!1;this.getCenter(h),c.subVectors(this.max,h),e.subVectors(i.a,h),r.subVectors(i.b,h),n.subVectors(i.c,h),a.subVectors(r,e),s.subVectors(n,r),o.subVectors(e,n);var u=[0,-a.z,a.y,0,-s.z,s.y,0,-o.z,o.y,a.z,0,-a.x,s.z,0,-s.x,o.z,0,-o.x,-a.y,a.x,0,-s.y,s.x,0,-o.y,o.x,0];return!!t(u)&&(u=[1,0,0,0,1,0,0,0,1],!!t(u)&&(l.crossVectors(a,s),u=[l.x,l.y,l.z],t(u)))}}(),clampPoint:function(t,e){return(e||new i.a).copy(t).clamp(this.min,this.max)},distanceToPoint:function(){var t=new i.a;return function(e){return t.copy(e).clamp(this.min,this.max).sub(e).length()}}(),getBoundingSphere:function(){var t=new i.a;return function(e){var r=e||new a.a;return this.getCenter(r.center),r.radius=.5*this.getSize(t).length(),r}}(),intersect:function(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this},union:function(t){return this.min.min(t.min),this.max.max(t.max),this},applyMatrix4:function(){var t=[new i.a,new i.a,new i.a,new i.a,new i.a,new i.a,new i.a,new i.a];return function(e){return this.isEmpty()?this:(t[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),t[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),t[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),t[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),t[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),t[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),t[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),t[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(t),this)}}(),translate:function(t){return this.min.add(t),this.max.add(t),this},equals:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}})},function(t,e,r){"use strict";function n(t,e){this.x=t||0,this.y=e||0}r.d(e,"a",function(){return n}),Object.defineProperties(n.prototype,{width:{get:function(){return this.x},set:function(t){this.x=t}},height:{get:function(){return this.y},set:function(t){this.y=t}}}),Object.assign(n.prototype,{isVector2:!0,set:function(t,e){return this.x=t,this.y=e,this},setScalar:function(t){return this.x=t,this.y=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(t){return this.x=t.x,this.y=t.y,this},add:function(t,e){return void 0!==e?this.addVectors(t,e):(this.x+=t.x,this.y+=t.y,this)},addScalar:function(t){return this.x+=t,this.y+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this},sub:function(t,e){return void 0!==e?this.subVectors(t,e):(this.x-=t.x,this.y-=t.y,this)},subScalar:function(t){return this.x-=t,this.y-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this},multiply:function(t){return this.x*=t.x,this.y*=t.y,this},multiplyScalar:function(t){return this.x*=t,this.y*=t,this},divide:function(t){return this.x/=t.x,this.y/=t.y,this},divideScalar:function(t){return this.multiplyScalar(1/t)},applyMatrix3:function(t){var e=this.x,r=this.y,n=t.elements;return this.x=n[0]*e+n[3]*r+n[6],this.y=n[1]*e+n[4]*r+n[7],this},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this},clampScalar:function(){var t=new n,e=new n;return function(r,n){return t.set(r,r),e.set(n,n),this.clamp(t,e)}}(),clampLength:function(t,e){var r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(t,Math.min(e,r)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(t){return this.x*t.x+this.y*t.y},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length()||1)},angle:function(){var t=Math.atan2(this.y,this.x);return t<0&&(t+=2*Math.PI),t},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,r=this.y-t.y;return e*e+r*r},manhattanDistanceTo:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)},setLength:function(t){return this.normalize().multiplyScalar(t)},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this},lerpVectors:function(t,e,r){return this.subVectors(e,t).multiplyScalar(r).add(t)},equals:function(t){return t.x===this.x&&t.y===this.y},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t},fromBufferAttribute:function(t,e,r){return this.x=t.getX(e),this.y=t.getY(e),this},rotateAround:function(t,e){var r=Math.cos(e),n=Math.sin(e),i=this.x-t.x,a=this.y-t.y;return this.x=i*r-a*n+t.x,this.y=i*n+a*r+t.y,this}})},function(t,e,r){"use strict";(function(t){function n(){return a.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function i(t,e){if(n()<e)throw new RangeError("Invalid typed array length");return a.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e),t.__proto__=a.prototype):(null===t&&(t=new a(e)),t.length=e),t}function a(t,e,r){if(!(a.TYPED_ARRAY_SUPPORT||this instanceof a))return new a(t,e,r);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return h(this,t)}return s(this,t,e,r)}function s(t,e,r,n){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?f(t,e,r,n):"string"==typeof e?c(t,e,r):p(t,e)}function o(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function u(t,e,r,n){return o(e),e<=0?i(t,e):void 0!==r?"string"==typeof n?i(t,e).fill(r,n):i(t,e).fill(r):i(t,e)}function h(t,e){if(o(e),t=i(t,e<0?0:0|d(e)),!a.TYPED_ARRAY_SUPPORT)for(var r=0;r<e;++r)t[r]=0;return t}function c(t,e,r){if("string"==typeof r&&""!==r||(r="utf8"),!a.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|m(e,r);t=i(t,n);var s=t.write(e,r);return s!==n&&(t=t.slice(0,s)),t}function l(t,e){var r=e.length<0?0:0|d(e.length);t=i(t,r);for(var n=0;n<r;n+=1)t[n]=255&e[n];return t}function f(t,e,r,n){if(e.byteLength,r<0||e.byteLength<r)throw new RangeError("'offset' is out of bounds");if(e.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");return e=void 0===r&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,r):new Uint8Array(e,r,n),a.TYPED_ARRAY_SUPPORT?(t=e,t.__proto__=a.prototype):t=l(t,e),t}function p(t,e){if(a.isBuffer(e)){var r=0|d(e.length);return t=i(t,r),0===t.length?t:(e.copy(t,0,0,r),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||Z(e.length)?i(t,0):l(t,e);if("Buffer"===e.type&&J(e.data))return l(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function d(t){if(t>=n())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n().toString(16)+" bytes");return 0|t}function v(t){return+t!=t&&(t=0),a.alloc(+t)}function m(t,e){if(a.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var r=t.length;if(0===r)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return Y(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return H(t).length;default:if(n)return Y(t).length;e=(""+e).toLowerCase(),n=!0}}function g(t,e,r){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if(r>>>=0,e>>>=0,r<=e)return"";for(t||(t="utf8");;)switch(t){case"hex":return O(this,e,r);case"utf8":case"utf-8":return R(this,e,r);case"ascii":return I(this,e,r);case"latin1":case"binary":return P(this,e,r);case"base64":return S(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return U(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function y(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function _(t,e,r,n,i){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof e&&(e=a.from(e,n)),a.isBuffer(e))return 0===e.length?-1:x(t,e,r,n,i);if("number"==typeof e)return e&=255,a.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):x(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function x(t,e,r,n,i){function a(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}var s=1,o=t.length,u=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;s=2,o/=2,u/=2,r/=2}var h;if(i){var c=-1;for(h=r;h<o;h++)if(a(t,h)===a(e,-1===c?0:h-c)){if(-1===c&&(c=h),h-c+1===u)return c*s}else-1!==c&&(h-=h-c),c=-1}else for(r+u>o&&(r=o-u),h=r;h>=0;h--){for(var l=!0,f=0;f<u;f++)if(a(t,h+f)!==a(e,f)){l=!1;break}if(l)return h}return-1}function b(t,e,r,n){r=Number(r)||0;var i=t.length-r;n?(n=Number(n))>i&&(n=i):n=i;var a=e.length;if(a%2!=0)throw new TypeError("Invalid hex string");n>a/2&&(n=a/2);for(var s=0;s<n;++s){var o=parseInt(e.substr(2*s,2),16);if(isNaN(o))return s;t[r+s]=o}return s}function E(t,e,r,n){return W(Y(e,t.length-r),t,r,n)}function w(t,e,r,n){return W(q(e),t,r,n)}function M(t,e,r,n){return w(t,e,r,n)}function A(t,e,r,n){return W(H(e),t,r,n)}function T(t,e,r,n){return W(G(e,t.length-r),t,r,n)}function S(t,e,r){return 0===e&&r===t.length?Q.fromByteArray(t):Q.fromByteArray(t.slice(e,r))}function R(t,e,r){r=Math.min(t.length,r);for(var n=[],i=e;i<r;){var a=t[i],s=null,o=a>239?4:a>223?3:a>191?2:1;if(i+o<=r){var u,h,c,l;switch(o){case 1:a<128&&(s=a);break;case 2:u=t[i+1],128==(192&u)&&(l=(31&a)<<6|63&u)>127&&(s=l);break;case 3:u=t[i+1],h=t[i+2],128==(192&u)&&128==(192&h)&&(l=(15&a)<<12|(63&u)<<6|63&h)>2047&&(l<55296||l>57343)&&(s=l);break;case 4:u=t[i+1],h=t[i+2],c=t[i+3],128==(192&u)&&128==(192&h)&&128==(192&c)&&(l=(15&a)<<18|(63&u)<<12|(63&h)<<6|63&c)>65535&&l<1114112&&(s=l)}}null===s?(s=65533,o=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|1023&s),n.push(s),i+=o}return N(n)}function N(t){var e=t.length;if(e<=$)return String.fromCharCode.apply(String,t);for(var r="",n=0;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=$));return r}function I(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function P(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function O(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var i="",a=e;a<r;++a)i+=X(t[a]);return i}function U(t,e,r){for(var n=t.slice(e,r),i="",a=0;a<n.length;a+=2)i+=String.fromCharCode(n[a]+256*n[a+1]);return i}function L(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function C(t,e,r,n,i,s){if(!a.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<s)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function z(t,e,r,n){e<0&&(e=65535+e+1);for(var i=0,a=Math.min(t.length-r,2);i<a;++i)t[r+i]=(e&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function F(t,e,r,n){e<0&&(e=4294967295+e+1);for(var i=0,a=Math.min(t.length-r,4);i<a;++i)t[r+i]=e>>>8*(n?i:3-i)&255}function D(t,e,r,n,i,a){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function B(t,e,r,n,i){return i||D(t,e,r,4,3.4028234663852886e38,-3.4028234663852886e38),K.write(t,e,r,n,23,4),r+4}function V(t,e,r,n,i){return i||D(t,e,r,8,1.7976931348623157e308,-1.7976931348623157e308),K.write(t,e,r,n,52,8),r+8}function k(t){if(t=j(t).replace(tt,""),t.length<2)return"";for(;t.length%4!=0;)t+="=";return t}function j(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function X(t){return t<16?"0"+t.toString(16):t.toString(16)}function Y(t,e){e=e||1/0;for(var r,n=t.length,i=null,a=[],s=0;s<n;++s){if((r=t.charCodeAt(s))>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&a.push(239,191,189);continue}if(s+1===n){(e-=3)>-1&&a.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&a.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(e-=3)>-1&&a.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;a.push(r)}else if(r<2048){if((e-=2)<0)break;a.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;a.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;a.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return a}function q(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}function G(t,e){for(var r,n,i,a=[],s=0;s<t.length&&!((e-=2)<0);++s)r=t.charCodeAt(s),n=r>>8,i=r%256,a.push(i),a.push(n);return a}function H(t){return Q.toByteArray(k(t))}function W(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function Z(t){return t!==t}var Q=r(78),K=r(79),J=r(80);e.Buffer=a,e.SlowBuffer=v,e.INSPECT_MAX_BYTES=50,a.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=n(),a.poolSize=8192,a._augment=function(t){return t.__proto__=a.prototype,t},a.from=function(t,e,r){return s(null,t,e,r)},a.TYPED_ARRAY_SUPPORT&&(a.prototype.__proto__=Uint8Array.prototype,a.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&a[Symbol.species]===a&&Object.defineProperty(a,Symbol.species,{value:null,configurable:!0})),a.alloc=function(t,e,r){return u(null,t,e,r)},a.allocUnsafe=function(t){return h(null,t)},a.allocUnsafeSlow=function(t){return h(null,t)},a.isBuffer=function(t){return!(null==t||!t._isBuffer)},a.compare=function(t,e){if(!a.isBuffer(t)||!a.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var r=t.length,n=e.length,i=0,s=Math.min(r,n);i<s;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},a.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(t,e){if(!J(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return a.alloc(0);var r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var n=a.allocUnsafe(e),i=0;for(r=0;r<t.length;++r){var s=t[r];if(!a.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(n,i),i+=s.length}return n},a.byteLength=m,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)y(this,e,e+1);return this},a.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)y(this,e,e+3),y(this,e+1,e+2);return this},a.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)y(this,e,e+7),y(this,e+1,e+6),y(this,e+2,e+5),y(this,e+3,e+4);return this},a.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?R(this,0,t):g.apply(this,arguments)},a.prototype.equals=function(t){if(!a.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===a.compare(this,t)},a.prototype.inspect=function(){var t="",r=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(t+=" ... ")),"<Buffer "+t+">"},a.prototype.compare=function(t,e,r,n,i){if(!a.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),e<0||r>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&e>=r)return 0;if(n>=i)return-1;if(e>=r)return 1;if(e>>>=0,r>>>=0,n>>>=0,i>>>=0,this===t)return 0;for(var s=i-n,o=r-e,u=Math.min(s,o),h=this.slice(n,i),c=t.slice(e,r),l=0;l<u;++l)if(h[l]!==c[l]){s=h[l],o=c[l];break}return s<o?-1:o<s?1:0},a.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},a.prototype.indexOf=function(t,e,r){return _(this,t,e,r,!0)},a.prototype.lastIndexOf=function(t,e,r){return _(this,t,e,r,!1)},a.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-e;if((void 0===r||r>i)&&(r=i),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var a=!1;;)switch(n){case"hex":return b(this,t,e,r);case"utf8":case"utf-8":return E(this,t,e,r);case"ascii":return w(this,t,e,r);case"latin1":case"binary":return M(this,t,e,r);case"base64":return A(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,t,e,r);default:if(a)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),a=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var $=4096;a.prototype.slice=function(t,e){var r=this.length;t=~~t,e=void 0===e?r:~~e,t<0?(t+=r)<0&&(t=0):t>r&&(t=r),e<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t);var n;if(a.TYPED_ARRAY_SUPPORT)n=this.subarray(t,e),n.__proto__=a.prototype;else{var i=e-t;n=new a(i,void 0);for(var s=0;s<i;++s)n[s]=this[s+t]}return n},a.prototype.readUIntLE=function(t,e,r){t|=0,e|=0,r||L(t,e,this.length);for(var n=this[t],i=1,a=0;++a<e&&(i*=256);)n+=this[t+a]*i;return n},a.prototype.readUIntBE=function(t,e,r){t|=0,e|=0,r||L(t,e,this.length);for(var n=this[t+--e],i=1;e>0&&(i*=256);)n+=this[t+--e]*i;return n},a.prototype.readUInt8=function(t,e){return e||L(t,1,this.length),this[t]},a.prototype.readUInt16LE=function(t,e){return e||L(t,2,this.length),this[t]|this[t+1]<<8},a.prototype.readUInt16BE=function(t,e){return e||L(t,2,this.length),this[t]<<8|this[t+1]},a.prototype.readUInt32LE=function(t,e){return e||L(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},a.prototype.readUInt32BE=function(t,e){return e||L(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},a.prototype.readIntLE=function(t,e,r){t|=0,e|=0,r||L(t,e,this.length);for(var n=this[t],i=1,a=0;++a<e&&(i*=256);)n+=this[t+a]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*e)),n},a.prototype.readIntBE=function(t,e,r){t|=0,e|=0,r||L(t,e,this.length);for(var n=e,i=1,a=this[t+--n];n>0&&(i*=256);)a+=this[t+--n]*i;return i*=128,a>=i&&(a-=Math.pow(2,8*e)),a},a.prototype.readInt8=function(t,e){return e||L(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},a.prototype.readInt16LE=function(t,e){e||L(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},a.prototype.readInt16BE=function(t,e){e||L(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},a.prototype.readInt32LE=function(t,e){return e||L(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},a.prototype.readInt32BE=function(t,e){return e||L(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},a.prototype.readFloatLE=function(t,e){return e||L(t,4,this.length),K.read(this,t,!0,23,4)},a.prototype.readFloatBE=function(t,e){return e||L(t,4,this.length),K.read(this,t,!1,23,4)},a.prototype.readDoubleLE=function(t,e){return e||L(t,8,this.length),K.read(this,t,!0,52,8)},a.prototype.readDoubleBE=function(t,e){return e||L(t,8,this.length),K.read(this,t,!1,52,8)},a.prototype.writeUIntLE=function(t,e,r,n){if(t=+t,e|=0,r|=0,!n){C(this,t,e,r,Math.pow(2,8*r)-1,0)}var i=1,a=0;for(this[e]=255&t;++a<r&&(i*=256);)this[e+a]=t/i&255;return e+r},a.prototype.writeUIntBE=function(t,e,r,n){if(t=+t,e|=0,r|=0,!n){C(this,t,e,r,Math.pow(2,8*r)-1,0)}var i=r-1,a=1;for(this[e+i]=255&t;--i>=0&&(a*=256);)this[e+i]=t/a&255;return e+r},a.prototype.writeUInt8=function(t,e,r){return t=+t,e|=0,r||C(this,t,e,1,255,0),a.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},a.prototype.writeUInt16LE=function(t,e,r){return t=+t,e|=0,r||C(this,t,e,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):z(this,t,e,!0),e+2},a.prototype.writeUInt16BE=function(t,e,r){return t=+t,e|=0,r||C(this,t,e,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):z(this,t,e,!1),e+2},a.prototype.writeUInt32LE=function(t,e,r){return t=+t,e|=0,r||C(this,t,e,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):F(this,t,e,!0),e+4},a.prototype.writeUInt32BE=function(t,e,r){return t=+t,e|=0,r||C(this,t,e,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):F(this,t,e,!1),e+4},a.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e|=0,!n){var i=Math.pow(2,8*r-1);C(this,t,e,r,i-1,-i)}var a=0,s=1,o=0;for(this[e]=255&t;++a<r&&(s*=256);)t<0&&0===o&&0!==this[e+a-1]&&(o=1),this[e+a]=(t/s>>0)-o&255;return e+r},a.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e|=0,!n){var i=Math.pow(2,8*r-1);C(this,t,e,r,i-1,-i)}var a=r-1,s=1,o=0;for(this[e+a]=255&t;--a>=0&&(s*=256);)t<0&&0===o&&0!==this[e+a+1]&&(o=1),this[e+a]=(t/s>>0)-o&255;return e+r},a.prototype.writeInt8=function(t,e,r){return t=+t,e|=0,r||C(this,t,e,1,127,-128),a.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},a.prototype.writeInt16LE=function(t,e,r){return t=+t,e|=0,r||C(this,t,e,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):z(this,t,e,!0),e+2},a.prototype.writeInt16BE=function(t,e,r){return t=+t,e|=0,r||C(this,t,e,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):z(this,t,e,!1),e+2},a.prototype.writeInt32LE=function(t,e,r){return t=+t,e|=0,r||C(this,t,e,4,2147483647,-2147483648),a.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):F(this,t,e,!0),e+4},a.prototype.writeInt32BE=function(t,e,r){return t=+t,e|=0,r||C(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),a.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):F(this,t,e,!1),e+4},a.prototype.writeFloatLE=function(t,e,r){return B(this,t,e,!0,r)},a.prototype.writeFloatBE=function(t,e,r){return B(this,t,e,!1,r)},a.prototype.writeDoubleLE=function(t,e,r){return V(this,t,e,!0,r)},a.prototype.writeDoubleBE=function(t,e,r){return V(this,t,e,!1,r)},a.prototype.copy=function(t,e,r,n){if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var i,s=n-r;if(this===t&&r<e&&e<n)for(i=s-1;i>=0;--i)t[i+e]=this[i+r];else if(s<1e3||!a.TYPED_ARRAY_SUPPORT)for(i=0;i<s;++i)t[i+e]=this[i+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+s),e);return s},a.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!a.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0);var s;if("number"==typeof t)for(s=e;s<r;++s)this[s]=t;else{var o=a.isBuffer(t)?t:Y(new a(t,n).toString()),u=o.length;for(s=0;s<r-e;++s)this[s+e]=o[s%u]}return this};var tt=/[^+\/0-9A-Za-z-_]/g}).call(e,r(38))},function(t,e){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,e,r){"use strict";(function(t,n){function i(t){if(t){var e=t.length||t.byteLength,r=y.log2(e);E[r].push(t)}}function a(t){i(t.buffer)}function s(t){var t=y.nextPow2(t),e=y.log2(t),r=E[e];return r.length>0?r.pop():new ArrayBuffer(t)}function o(t){return new Uint8Array(s(t),0,t)}function u(t){return new Uint16Array(s(2*t),0,t)}function h(t){return new Uint32Array(s(4*t),0,t)}function c(t){return new Int8Array(s(t),0,t)}function l(t){return new Int16Array(s(2*t),0,t)}function f(t){return new Int32Array(s(4*t),0,t)}function p(t){return new Float32Array(s(4*t),0,t)}function d(t){return new Float64Array(s(8*t),0,t)}function v(t){return x?new Uint8ClampedArray(s(t),0,t):o(t)}function m(t){return new DataView(s(t),0,t)}function g(t){t=y.nextPow2(t);var e=y.log2(t),r=w[e];return r.length>0?r.pop():new n(t)}var y=r(83),_=r(84);t.__TYPEDARRAY_POOL||(t.__TYPEDARRAY_POOL={UINT8:_([32,0]),UINT16:_([32,0]),UINT32:_([32,0]),INT8:_([32,0]),INT16:_([32,0]),INT32:_([32,0]),FLOAT:_([32,0]),DOUBLE:_([32,0]),DATA:_([32,0]),UINT8C:_([32,0]),BUFFER:_([32,0])});var x="undefined"!=typeof Uint8ClampedArray,b=t.__TYPEDARRAY_POOL;b.UINT8C||(b.UINT8C=_([32,0])),b.BUFFER||(b.BUFFER=_([32,0]));var E=b.DATA,w=b.BUFFER;e.free=function(t){if(n.isBuffer(t))w[y.log2(t.length)].push(t);else{if("[object ArrayBuffer]"!==Object.prototype.toString.call(t)&&(t=t.buffer),!t)return;var e=t.length||t.byteLength,r=0|y.log2(e);E[r].push(t)}},e.freeUint8=e.freeUint16=e.freeUint32=e.freeInt8=e.freeInt16=e.freeInt32=e.freeFloat32=e.freeFloat=e.freeFloat64=e.freeDouble=e.freeUint8Clamped=e.freeDataView=a,e.freeArrayBuffer=i,e.freeBuffer=function(t){w[y.log2(t.length)].push(t)},e.malloc=function(t,e){if(void 0===e||"arraybuffer"===e)return s(t);switch(e){case"uint8":return o(t);case"uint16":return u(t);case"uint32":return h(t);case"int8":return c(t);case"int16":return l(t);case"int32":return f(t);case"float":case"float32":return p(t);case"double":case"float64":return d(t);case"uint8_clamped":return v(t);case"buffer":return g(t);case"data":case"dataview":return m(t);default:return null}return null},e.mallocArrayBuffer=s,e.mallocUint8=o,e.mallocUint16=u,e.mallocUint32=h,e.mallocInt8=c,e.mallocInt16=l,e.mallocInt32=f,e.mallocFloat32=e.mallocFloat=p,e.mallocFloat64=e.mallocDouble=d,e.mallocUint8Clamped=v,e.mallocDataView=m,e.mallocBuffer=g,e.clearCache=function(){for(var t=0;t<32;++t)b.UINT8[t].length=0,b.UINT16[t].length=0,b.UINT32[t].length=0,b.INT8[t].length=0,b.INT16[t].length=0,b.INT32[t].length=0,b.FLOAT[t].length=0,b.DOUBLE[t].length=0,b.UINT8C[t].length=0,E[t].length=0,w[t].length=0}}).call(e,r(38),r(37).Buffer)},function(t,e,r){"use strict";function n(t){if(!t)return o;for(var e=0;e<t.args.length;++e){var r=t.args[e];t.args[e]=0===e?{name:r,lvalue:!0,rvalue:!!t.rvalue,count:t.count||1}:{name:r,lvalue:!1,rvalue:!0,count:1}}return t.thisVars||(t.thisVars=[]),t.localVars||(t.localVars=[]),t}function i(t){return s({args:t.args,pre:n(t.pre),body:n(t.body),post:n(t.proc),funcName:t.funcName})}function a(t){for(var e=[],r=0;r<t.args.length;++r)e.push("a"+r);return new Function("P",["return function ",t.funcName,"_ndarrayops(",e.join(","),") {P(",e.join(","),");return a0}"].join(""))(i(t))}var s=r(85),o={body:"",args:[],thisVars:[],localVars:[]},u={add:"+",sub:"-",mul:"*",div:"/",mod:"%",band:"&",bor:"|",bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"};!function(){for(var t in u){var r=u[t];e[t]=a({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+r+"c"},funcName:t}),e[t+"eq"]=a({args:["array","array"],body:{args:["a","b"],body:"a"+r+"=b"},rvalue:!0,funcName:t+"eq"}),e[t+"s"]=a({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+r+"s"},funcName:t+"s"}),e[t+"seq"]=a({args:["array","scalar"],body:{args:["a","s"],body:"a"+r+"=s"},rvalue:!0,funcName:t+"seq"})}}();var h={not:"!",bnot:"~",neg:"-",recip:"1.0/"};!function(){for(var t in h){var r=h[t];e[t]=a({args:["array","array"],body:{args:["a","b"],body:"a="+r+"b"},funcName:t}),e[t+"eq"]=a({args:["array"],body:{args:["a"],body:"a="+r+"a"},rvalue:!0,count:2,funcName:t+"eq"})}}();var c={and:"&&",or:"||",eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">="};!function(){for(var t in c){var r=c[t];e[t]=a({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+r+"c"},funcName:t}),e[t+"s"]=a({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+r+"s"},funcName:t+"s"}),e[t+"eq"]=a({args:["array","array"],body:{args:["a","b"],body:"a=a"+r+"b"},rvalue:!0,count:2,funcName:t+"eq"}),e[t+"seq"]=a({args:["array","scalar"],body:{args:["a","s"],body:"a=a"+r+"s"},rvalue:!0,count:2,funcName:t+"seq"})}}();var l=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan"];!function(){for(var t=0;t<l.length;++t){var r=l[t];e[r]=a({args:["array","array"],pre:{args:[],body:"this_f=Math."+r,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b)",thisVars:["this_f"]},funcName:r}),e[r+"eq"]=a({args:["array"],pre:{args:[],body:"this_f=Math."+r,thisVars:["this_f"]},body:{args:["a"],body:"a=this_f(a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:r+"eq"})}}();var f=["max","min","atan2","pow"];!function(){for(var t=0;t<f.length;++t){var r=f[t];e[r]=a({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+r,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:r}),e[r+"s"]=a({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+r,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:r+"s"}),e[r+"eq"]=a({args:["array","array"],pre:{args:[],body:"this_f=Math."+r,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:r+"eq"}),e[r+"seq"]=a({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+r,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:r+"seq"})}}();var p=["atan2","pow"];!function(){for(var t=0;t<p.length;++t){var r=p[t];e[r+"op"]=a({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+r,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:r+"op"}),e[r+"ops"]=a({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+r,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:r+"ops"}),e[r+"opeq"]=a({args:["array","array"],pre:{args:[],body:"this_f=Math."+r,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:r+"opeq"}),e[r+"opseq"]=a({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+r,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:r+"opseq"})}}(),e.any=s({args:["array"],pre:o,body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"if(a){return true}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return false"},funcName:"any"}),e.all=s({args:["array"],pre:o,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1}],body:"if(!x){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"all"}),e.sum=s({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s+=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"sum"}),e.prod=s({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=1"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s*=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"prod"}),e.norm2squared=s({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm2squared"}),e.norm2=s({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return Math.sqrt(this_s)"},funcName:"norm2"}),e.norminf=s({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:4}],body:"if(-a>this_s){this_s=-a}else if(a>this_s){this_s=a}",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norminf"}),e.norm1=s({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:3}],body:"this_s+=a<0?-a:a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm1"}),e.sup=s({args:["array"],pre:{body:"this_h=-Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_>this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),e.inf=s({args:["array"],pre:{body:"this_h=Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_<this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),e.argmin=s({args:["index","array","shape"],pre:{body:"{this_v=Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_<this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),e.argmax=s({args:["index","array","shape"],pre:{body:"{this_v=-Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_>this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),e.random=a({args:["array"],pre:{args:[],body:"this_f=Math.random",thisVars:["this_f"]},body:{args:["a"],body:"a=this_f()",thisVars:["this_f"]},funcName:"random"}),e.assign=a({args:["array","array"],body:{args:["a","b"],body:"a=b"},funcName:"assign"}),e.assigns=a({args:["array","scalar"],body:{args:["a","b"],body:"a=b"},funcName:"assigns"}),e.equals=s({args:["array","array"],pre:o,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1},{name:"y",lvalue:!1,rvalue:!0,count:1}],body:"if(x!==y){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"equals"})},function(t,e,r){function n(t,e){return t[0]-e[0]}function i(){var t,e=this.stride,r=new Array(e.length);for(t=0;t<r.length;++t)r[t]=[Math.abs(e[t]),t];r.sort(n);var i=new Array(r.length);for(t=0;t<i.length;++t)i[t]=r[t][1];return i}function a(t,e){var r=["View",e,"d",t].join("");e<0&&(r="View_Nil"+t);var n="generic"===t;if(-1===e){var a="function "+r+"(a){this.data=a;};var proto="+r+".prototype;proto.dtype='"+t+"';proto.index=function(){return -1};proto.size=0;proto.dimension=-1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function(){return new "+r+"(this.data);};proto.get=proto.set=function(){};proto.pick=function(){return null};return function construct_"+r+"(a){return new "+r+"(a);}",s=new Function(a);return s()}if(0===e){var a="function "+r+"(a,d) {this.data = a;this.offset = d};var proto="+r+".prototype;proto.dtype='"+t+"';proto.index=function(){return this.offset};proto.dimension=0;proto.size=1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function "+r+"_copy() {return new "+r+"(this.data,this.offset)};proto.pick=function "+r+"_pick(){return TrivialArray(this.data);};proto.valueOf=proto.get=function "+r+"_get(){return "+(n?"this.data.get(this.offset)":"this.data[this.offset]")+"};proto.set=function "+r+"_set(v){return "+(n?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"};return function construct_"+r+"(a,b,c,d){return new "+r+"(a,d)}",s=new Function("TrivialArray",a);return s(l[t][0])}var a=["'use strict'"],o=u(e),h=o.map(function(t){return"i"+t}),c="this.offset+"+o.map(function(t){return"this.stride["+t+"]*i"+t}).join("+"),f=o.map(function(t){return"b"+t}).join(","),p=o.map(function(t){return"c"+t}).join(",");a.push("function "+r+"(a,"+f+","+p+",d){this.data=a","this.shape=["+f+"]","this.stride=["+p+"]","this.offset=d|0}","var proto="+r+".prototype","proto.dtype='"+t+"'","proto.dimension="+e),a.push("Object.defineProperty(proto,'size',{get:function "+r+"_size(){return "+o.map(function(t){return"this.shape["+t+"]"}).join("*"),"}})"),1===e?a.push("proto.order=[0]"):(a.push("Object.defineProperty(proto,'order',{get:"),e<4?(a.push("function "+r+"_order(){"),2===e?a.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})"):3===e&&a.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);if(s0>s1){if(s1>s2){return [2,1,0];}else if(s0>s2){return [1,2,0];}else{return [1,0,2];}}else if(s0>s2){return [2,0,1];}else if(s2>s1){return [0,1,2];}else{return [0,2,1];}}})")):a.push("ORDER})")),a.push("proto.set=function "+r+"_set("+h.join(",")+",v){"),n?a.push("return this.data.set("+c+",v)}"):a.push("return this.data["+c+"]=v}"),a.push("proto.get=function "+r+"_get("+h.join(",")+"){"),n?a.push("return this.data.get("+c+")}"):a.push("return this.data["+c+"]}"),a.push("proto.index=function "+r+"_index(",h.join(),"){return "+c+"}"),a.push("proto.hi=function "+r+"_hi("+h.join(",")+"){return new "+r+"(this.data,"+o.map(function(t){return["(typeof i",t,"!=='number'||i",t,"<0)?this.shape[",t,"]:i",t,"|0"].join("")}).join(",")+","+o.map(function(t){return"this.stride["+t+"]"}).join(",")+",this.offset)}");var d=o.map(function(t){return"a"+t+"=this.shape["+t+"]"}),v=o.map(function(t){return"c"+t+"=this.stride["+t+"]"});a.push("proto.lo=function "+r+"_lo("+h.join(",")+"){var b=this.offset,d=0,"+d.join(",")+","+v.join(","));for(var m=0;m<e;++m)a.push("if(typeof i"+m+"==='number'&&i"+m+">=0){d=i"+m+"|0;b+=c"+m+"*d;a"+m+"-=d}");a.push("return new "+r+"(this.data,"+o.map(function(t){return"a"+t}).join(",")+","+o.map(function(t){return"c"+t}).join(",")+",b)}"),a.push("proto.step=function "+r+"_step("+h.join(",")+"){var "+o.map(function(t){return"a"+t+"=this.shape["+t+"]"}).join(",")+","+o.map(function(t){return"b"+t+"=this.stride["+t+"]"}).join(",")+",c=this.offset,d=0,ceil=Math.ceil");for(var m=0;m<e;++m)a.push("if(typeof i"+m+"==='number'){d=i"+m+"|0;if(d<0){c+=b"+m+"*(a"+m+"-1);a"+m+"=ceil(-a"+m+"/d)}else{a"+m+"=ceil(a"+m+"/d)}b"+m+"*=d}");a.push("return new "+r+"(this.data,"+o.map(function(t){return"a"+t}).join(",")+","+o.map(function(t){return"b"+t}).join(",")+",c)}");for(var g=new Array(e),y=new Array(e),m=0;m<e;++m)g[m]="a[i"+m+"]",y[m]="b[i"+m+"]";a.push("proto.transpose=function "+r+"_transpose("+h+"){"+h.map(function(t,e){return t+"=("+t+"===undefined?"+e+":"+t+"|0)"}).join(";"),"var a=this.shape,b=this.stride;return new "+r+"(this.data,"+g.join(",")+","+y.join(",")+",this.offset)}"),a.push("proto.pick=function "+r+"_pick("+h+"){var a=[],b=[],c=this.offset");for(var m=0;m<e;++m)a.push("if(typeof i"+m+"==='number'&&i"+m+">=0){c=(c+this.stride["+m+"]*i"+m+")|0}else{a.push(this.shape["+m+"]);b.push(this.stride["+m+"])}");a.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"),a.push("return function construct_"+r+"(data,shape,stride,offset){return new "+r+"(data,"+o.map(function(t){return"shape["+t+"]"}).join(",")+","+o.map(function(t){return"stride["+t+"]"}).join(",")+",offset)}");var s=new Function("CTOR_LIST","ORDER",a.join("\n"));return s(l[t],i)}function s(t){if(h(t))return"buffer";if(c)switch(Object.prototype.toString.call(t)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Uint8ClampedArray]":return"uint8_clamped"}return Array.isArray(t)?"array":"generic"}function o(t,e,r,n){if(void 0===t){var i=l.array[0];return i([])}"number"==typeof t&&(t=[t]),void 0===e&&(e=[t.length]);var o=e.length;if(void 0===r){r=new Array(o);for(var u=o-1,h=1;u>=0;--u)r[u]=h,h*=e[u]}if(void 0===n){n=0;for(var u=0;u<o;++u)r[u]<0&&(n-=(e[u]-1)*r[u])}for(var c=s(t),f=l[c];f.length<=o+1;)f.push(a(c,f.length-1));var i=f[o+1];return i(t,e,r,n)}var u=r(89),h=r(90),c="undefined"!=typeof Float64Array,l={float32:[],float64:[],int8:[],int16:[],int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],buffer:[],generic:[]};t.exports=o},function(t,e,r){"use strict";function n(t,e,r){e?e.bind():t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null);var n=0|t.getParameter(t.MAX_VERTEX_ATTRIBS);if(r){if(r.length>n)throw new Error("gl-vao: Too many vertex attributes");for(var i=0;i<r.length;++i){var a=r[i];if(a.buffer){var s=a.buffer,o=a.size||4,u=a.type||t.FLOAT,h=!!a.normalized,c=a.stride||0,l=a.offset||0;s.bind(),t.enableVertexAttribArray(i),t.vertexAttribPointer(i,o,u,h,c,l)}else{if("number"==typeof a)t.vertexAttrib1f(i,a);else if(1===a.length)t.vertexAttrib1f(i,a[0]);else if(2===a.length)t.vertexAttrib2f(i,a[0],a[1]);else if(3===a.length)t.vertexAttrib3f(i,a[0],a[1],a[2]);else{if(4!==a.length)throw new Error("gl-vao: Invalid vertex attribute");t.vertexAttrib4f(i,a[0],a[1],a[2],a[3])}t.disableVertexAttribArray(i)}}for(;i<n;++i)t.disableVertexAttribArray(i)}else{t.bindBuffer(t.ARRAY_BUFFER,null);for(var i=0;i<n;++i)t.disableVertexAttribArray(i)}}t.exports=n},function(t,e,r){"use strict";function n(t,e){for(var r={},n=0;n<t.length;++n)for(var i=t[n].name,a=i.split("."),s=r,o=0;o<a.length;++o){var u=a[o].split("[");if(u.length>1){u[0]in s||(s[u[0]]=[]),s=s[u[0]];for(var h=1;h<u.length;++h){var c=parseInt(u[h]);h<u.length-1||o<a.length-1?(c in s||(h<u.length-1?s[c]=[]:s[c]={}),s=s[c]):s[c]=e?n:t[n].type}}else o<a.length-1?(u[0]in s||(s[u[0]]={}),s=s[u[0]]):s[u[0]]=e?n:t[n].type}return r}t.exports=n},function(t,e){t.exports=["precision","highp","mediump","lowp","attribute","const","uniform","varying","break","continue","do","for","while","if","else","in","out","inout","float","int","void","bool","true","false","discard","return","mat2","mat3","mat4","vec2","vec3","vec4","ivec2","ivec3","ivec4","bvec2","bvec3","bvec4","sampler1D","sampler2D","sampler3D","samplerCube","sampler1DShadow","sampler2DShadow","struct","asm","class","union","enum","typedef","template","this","packed","goto","switch","default","inline","noinline","volatile","public","static","extern","external","interface","long","short","double","half","fixed","unsigned","input","output","hvec2","hvec3","hvec4","dvec2","dvec3","dvec4","fvec2","fvec3","fvec4","sampler2DRect","sampler3DRect","sampler2DRectShadow","sizeof","cast","namespace","using"]},function(t,e){t.exports=["abs","acos","all","any","asin","atan","ceil","clamp","cos","cross","dFdx","dFdy","degrees","distance","dot","equal","exp","exp2","faceforward","floor","fract","gl_BackColor","gl_BackLightModelProduct","gl_BackLightProduct","gl_BackMaterial","gl_BackSecondaryColor","gl_ClipPlane","gl_ClipVertex","gl_Color","gl_DepthRange","gl_DepthRangeParameters","gl_EyePlaneQ","gl_EyePlaneR","gl_EyePlaneS","gl_EyePlaneT","gl_Fog","gl_FogCoord","gl_FogFragCoord","gl_FogParameters","gl_FragColor","gl_FragCoord","gl_FragData","gl_FragDepth","gl_FragDepthEXT","gl_FrontColor","gl_FrontFacing","gl_FrontLightModelProduct","gl_FrontLightProduct","gl_FrontMaterial","gl_FrontSecondaryColor","gl_LightModel","gl_LightModelParameters","gl_LightModelProducts","gl_LightProducts","gl_LightSource","gl_LightSourceParameters","gl_MaterialParameters","gl_MaxClipPlanes","gl_MaxCombinedTextureImageUnits","gl_MaxDrawBuffers","gl_MaxFragmentUniformComponents","gl_MaxLights","gl_MaxTextureCoords","gl_MaxTextureImageUnits","gl_MaxTextureUnits","gl_MaxVaryingFloats","gl_MaxVertexAttribs","gl_MaxVertexTextureImageUnits","gl_MaxVertexUniformComponents","gl_ModelViewMatrix","gl_ModelViewMatrixInverse","gl_ModelViewMatrixInverseTranspose","gl_ModelViewMatrixTranspose","gl_ModelViewProjectionMatrix","gl_ModelViewProjectionMatrixInverse","gl_ModelViewProjectionMatrixInverseTranspose","gl_ModelViewProjectionMatrixTranspose","gl_MultiTexCoord0","gl_MultiTexCoord1","gl_MultiTexCoord2","gl_MultiTexCoord3","gl_MultiTexCoord4","gl_MultiTexCoord5","gl_MultiTexCoord6","gl_MultiTexCoord7","gl_Normal","gl_NormalMatrix","gl_NormalScale","gl_ObjectPlaneQ","gl_ObjectPlaneR","gl_ObjectPlaneS","gl_ObjectPlaneT","gl_Point","gl_PointCoord","gl_PointParameters","gl_PointSize","gl_Position","gl_ProjectionMatrix","gl_ProjectionMatrixInverse","gl_ProjectionMatrixInverseTranspose","gl_ProjectionMatrixTranspose","gl_SecondaryColor","gl_TexCoord","gl_TextureEnvColor","gl_TextureMatrix","gl_TextureMatrixInverse","gl_TextureMatrixInverseTranspose","gl_TextureMatrixTranspose","gl_Vertex","greaterThan","greaterThanEqual","inversesqrt","length","lessThan","lessThanEqual","log","log2","matrixCompMult","max","min","mix","mod","normalize","not","notEqual","pow","radians","reflect","refract","sign","sin","smoothstep","sqrt","step","tan","texture2D","texture2DLod","texture2DProj","texture2DProjLod","textureCube","textureCubeLod","texture2DLodEXT","texture2DProjLodEXT","textureCubeLodEXT","texture2DGradEXT","texture2DProjGradEXT","textureCubeGradEXT"]},function(t,e){function r(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}t.exports=r},function(t,e,r){function n(t,e,r){function n(){r(a),i(n)}"function"==typeof e?(r=e,e={}):e=e||{};var a=t.getContext("webgl",e)||t.getContext("webgl-experimental",e)||t.getContext("experimental-webgl",e);if(!a)throw new Error("Unable to initialize WebGL");return r&&i(n),a}var i=r(154);t.exports=n},function(t,e,r){r(159);for(var n=r(2),i=r(3),a=r(11),s=r(1)("toStringTag"),o="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),u=0;u<o.length;u++){var h=o[u],c=n[h],l=c&&c.prototype;l&&!l[s]&&i(l,s,h),a[h]=a.Array}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,r){var n=r(5),i=r(2).document,a=n(i)&&n(i.createElement);t.exports=function(t){return a?i.createElement(t):{}}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,r){var n=r(10),i=r(166),a=r(56),s=r(26)("IE_PROTO"),o=function(){},u=function(){var t,e=r(51)("iframe"),n=a.length;for(e.style.display="none",r(170).appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write("<script>document.F=Object<\/script>"),t.close(),u=t.F;n--;)delete u.prototype[a[n]];return u()};t.exports=Object.create||function(t,e){var r;return null!==t?(o.prototype=n(t),r=new o,o.prototype=null,r[s]=t):r=u(),void 0===e?r:i(r,e)}},function(t,e,r){var n=r(167),i=r(56);t.exports=Object.keys||function(t){return n(t,i)}},function(t,e,r){var n=r(2),i=n["__core-js_shared__"]||(n["__core-js_shared__"]={});t.exports=function(t){return i[t]||(i[t]={})}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,r){"use strict";var n=r(172)(!0);r(23)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,r=this._i;return r>=e.length?{value:void 0,done:!0}:(t=n(e,r),this._i+=t.length,{value:t,done:!1})})},function(t,e,r){var n=r(59),i=r(1)("iterator"),a=r(11);t.exports=r(9).getIteratorMethod=function(t){if(void 0!=t)return t[i]||t["@@iterator"]||a[n(t)]}},function(t,e,r){var n=r(21),i=r(1)("toStringTag"),a="Arguments"==n(function(){return arguments}()),s=function(t,e){try{return t[e]}catch(t){}};t.exports=function(t){var e,r,o;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=s(e=Object(t),i))?r:a?n(e):"Object"==(o=n(e))&&"function"==typeof e.callee?"Arguments":o}},function(t,e,r){var n=r(3);t.exports=function(t,e,r){for(var i in e)r&&t[i]?t[i]=e[i]:n(t,i,e[i]);return t}},function(t,e){t.exports=function(t,e,r,n){if(!(t instanceof e)||void 0!==n&&n in t)throw TypeError(r+": incorrect invocation!");return t}},function(t,e,r){var n=r(27)("meta"),i=r(5),a=r(14),s=r(4).f,o=0,u=Object.isExtensible||function(){return!0},h=!r(13)(function(){return u(Object.preventExtensions({}))}),c=function(t){s(t,n,{value:{i:"O"+ ++o,w:{}}})},l=function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!a(t,n)){if(!u(t))return"F";if(!e)return"E";c(t)}return t[n].i},f=function(t,e){if(!a(t,n)){if(!u(t))return!0;if(!e)return!1;c(t)}return t[n].w},p=function(t){return h&&d.NEED&&u(t)&&!a(t,n)&&c(t),t},d=t.exports={KEY:n,NEED:!1,fastKey:l,getWeak:f,onFreeze:p}},function(t,e,r){var n=r(5);t.exports=function(t,e){if(!n(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},function(t,e,r){"use strict";function n(){function t(){p.setFromEuler(o,!1)}function e(){o.setFromQuaternion(p,void 0,!1)}Object.defineProperty(this,"id",{value:f++}),this.uuid=l.a.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=n.DefaultUp.clone();var r=new a.a,o=new u.a,p=new i.a,d=new a.a(1,1,1);o.onChange(t),p.onChange(e),Object.defineProperties(this,{position:{enumerable:!0,value:r},rotation:{enumerable:!0,value:o},quaternion:{enumerable:!0,value:p},scale:{enumerable:!0,value:d},modelViewMatrix:{value:new s.a},normalMatrix:{value:new c.a}}),this.matrix=new s.a,this.matrixWorld=new s.a,this.matrixAutoUpdate=n.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new h.a,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}}r.d(e,"a",function(){return n});var i=r(32),a=r(0),s=r(15),o=r(30),u=r(203),h=r(204),c=r(33),l=r(7),f=0;n.DefaultUp=new a.a(0,1,0),n.DefaultMatrixAutoUpdate=!0,n.prototype=Object.assign(Object.create(o.a.prototype),{constructor:n,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix:function(t){this.matrix.multiplyMatrices(t,this.matrix),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(t){return this.quaternion.premultiply(t),this},setRotationFromAxisAngle:function(t,e){this.quaternion.setFromAxisAngle(t,e)},setRotationFromEuler:function(t){this.quaternion.setFromEuler(t,!0)},setRotationFromMatrix:function(t){this.quaternion.setFromRotationMatrix(t)},setRotationFromQuaternion:function(t){this.quaternion.copy(t)},rotateOnAxis:function(){var t=new i.a;return function(e,r){return t.setFromAxisAngle(e,r),this.quaternion.multiply(t),this}}(),rotateOnWorldAxis:function(){var t=new i.a;return function(e,r){return t.setFromAxisAngle(e,r),this.quaternion.premultiply(t),this}}(),rotateX:function(){var t=new a.a(1,0,0);return function(e){return this.rotateOnAxis(t,e)}}(),rotateY:function(){var t=new a.a(0,1,0);return function(e){return this.rotateOnAxis(t,e)}}(),rotateZ:function(){var t=new a.a(0,0,1);return function(e){return this.rotateOnAxis(t,e)}}(),translateOnAxis:function(){var t=new a.a;return function(e,r){return t.copy(e).applyQuaternion(this.quaternion),this.position.add(t.multiplyScalar(r)),this}}(),translateX:function(){var t=new a.a(1,0,0);return function(e){return this.translateOnAxis(t,e)}}(),translateY:function(){var t=new a.a(0,1,0);return function(e){return this.translateOnAxis(t,e)}}(),translateZ:function(){var t=new a.a(0,0,1);return function(e){return this.translateOnAxis(t,e)}}(),localToWorld:function(t){return t.applyMatrix4(this.matrixWorld)},worldToLocal:function(){var t=new s.a;return function(e){return e.applyMatrix4(t.getInverse(this.matrixWorld))}}(),lookAt:function(){var t=new s.a,e=new a.a;return function(r,n,i){r.isVector3?e.copy(r):e.set(r,n,i),this.isCamera?t.lookAt(this.position,e,this.up):t.lookAt(e,this.position,this.up),this.quaternion.setFromRotationMatrix(t)}}(),add:function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return t===this?this:(t&&t.isObject3D&&(null!==t.parent&&t.parent.remove(t),t.parent=this,t.dispatchEvent({type:"added"}),this.children.push(t)),this)},remove:function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.remove(arguments[e]);return this}var r=this.children.indexOf(t);return-1!==r&&(t.parent=null,t.dispatchEvent({type:"removed"}),this.children.splice(r,1)),this},getObjectById:function(t){return this.getObjectByProperty("id",t)},getObjectByName:function(t){return this.getObjectByProperty("name",t)},getObjectByProperty:function(t,e){if(this[t]===e)return this;for(var r=0,n=this.children.length;r<n;r++){var i=this.children[r],a=i.getObjectByProperty(t,e);if(void 0!==a)return a}},getWorldPosition:function(t){var e=t||new a.a;return this.updateMatrixWorld(!0),e.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(){var t=new a.a,e=new a.a;return function(r){var n=r||new i.a;return this.updateMatrixWorld(!0),this.matrixWorld.decompose(t,n,e),n}}(),getWorldRotation:function(){var t=new i.a;return function(e){var r=e||new u.a;return this.getWorldQuaternion(t),r.setFromQuaternion(t,this.rotation.order,!1)}}(),getWorldScale:function(){var t=new a.a,e=new i.a;return function(r){var n=r||new a.a;return this.updateMatrixWorld(!0),this.matrixWorld.decompose(t,e,n),n}}(),getWorldDirection:function(){var t=new i.a;return function(e){var r=e||new a.a;return this.getWorldQuaternion(t),r.set(0,0,1).applyQuaternion(t)}}(),raycast:function(){},traverse:function(t){t(this);for(var e=this.children,r=0,n=e.length;r<n;r++)e[r].traverse(t)},traverseVisible:function(t){if(!1!==this.visible){t(this);for(var e=this.children,r=0,n=e.length;r<n;r++)e[r].traverseVisible(t)}},traverseAncestors:function(t){var e=this.parent;null!==e&&(t(e),e.traverseAncestors(t))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);for(var e=this.children,r=0,n=e.length;r<n;r++)e[r].updateMatrixWorld(t)},toJSON:function(t){function e(e,r){return void 0===e[r.uuid]&&(e[r.uuid]=r.toJSON(t)),r.uuid}function r(t){var e=[];for(var r in t){var n=t[r];delete n.metadata,e.push(n)}return e}var n=void 0===t||"string"==typeof t,i={};n&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{}},i.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var a={};if(a.uuid=this.uuid,a.type=this.type,""!==this.name&&(a.name=this.name),!0===this.castShadow&&(a.castShadow=!0),!0===this.receiveShadow&&(a.receiveShadow=!0),!1===this.visible&&(a.visible=!1),"{}"!==JSON.stringify(this.userData)&&(a.userData=this.userData),a.matrix=this.matrix.toArray(),void 0!==this.geometry){a.geometry=e(t.geometries,this.geometry);var s=this.geometry.parameters;if(void 0!==s&&void 0!==s.shapes){var o=s.shapes;if(Array.isArray(o))for(var u=0,h=o.length;u<h;u++){var c=o[u];e(t.shapes,c)}else e(t.shapes,o)}}if(void 0!==this.material)if(Array.isArray(this.material)){for(var l=[],u=0,h=this.material.length;u<h;u++)l.push(e(t.materials,this.material[u]));a.material=l}else a.material=e(t.materials,this.material);if(this.children.length>0){a.children=[];for(var u=0;u<this.children.length;u++)a.children.push(this.children[u].toJSON(t).object)}if(n){var f=r(t.geometries),p=r(t.materials),d=r(t.textures),v=r(t.images),o=r(t.shapes);f.length>0&&(i.geometries=f),p.length>0&&(i.materials=p),d.length>0&&(i.textures=d),v.length>0&&(i.images=v),o.length>0&&(i.shapes=o)}return i.object=a,i},clone:function(t){return(new this.constructor).copy(this,t)},copy:function(t,e){if(void 0===e&&(e=!0),this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.userData=JSON.parse(JSON.stringify(t.userData)),!0===e)for(var r=0;r<t.children.length;r++){var n=t.children[r];this.add(n.clone())}return this}})},function(t,e,r){"use strict";function n(t,e,r){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.uuid=g.a.generateUUID(),this.name="",this.array=t,this.itemSize=e,this.count=void 0!==t?t.length/e:0,this.normalized=!0===r,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.onUploadCallback=function(){},this.version=0}function i(t,e,r){n.call(this,new Int8Array(t),e,r)}function a(t,e,r){n.call(this,new Uint8Array(t),e,r)}function s(t,e,r){n.call(this,new Uint8ClampedArray(t),e,r)}function o(t,e,r){n.call(this,new Int16Array(t),e,r)}function u(t,e,r){n.call(this,new Uint16Array(t),e,r)}function h(t,e,r){n.call(this,new Int32Array(t),e,r)}function c(t,e,r){n.call(this,new Uint32Array(t),e,r)}function l(t,e,r){n.call(this,new Float32Array(t),e,r)}function f(t,e,r){n.call(this,new Float64Array(t),e,r)}r.d(e,"b",function(){return l}),r.d(e,"d",function(){return c}),r.d(e,"c",function(){return u}),r.d(e,"a",function(){return n});var p=r(206),d=r(0),v=r(36),m=r(31),g=r(7);Object.defineProperty(n.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),Object.assign(n.prototype,{isBufferAttribute:!0,setArray:function(t){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.count=void 0!==t?t.length/this.itemSize:0,this.array=t},setDynamic:function(t){return this.dynamic=t,this},copy:function(t){return this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.dynamic=t.dynamic,this},copyAt:function(t,e,r){t*=this.itemSize,r*=e.itemSize;for(var n=0,i=this.itemSize;n<i;n++)this.array[t+n]=e.array[r+n];return this},copyArray:function(t){return this.array.set(t),this},copyColorsArray:function(t){for(var e=this.array,r=0,n=0,i=t.length;n<i;n++){var a=t[n];void 0===a&&(a=new m.a),e[r++]=a.r,e[r++]=a.g,e[r++]=a.b}return this},copyIndicesArray:function(t){for(var e=this.array,r=0,n=0,i=t.length;n<i;n++){var a=t[n];e[r++]=a.a,e[r++]=a.b,e[r++]=a.c}return this},copyVector2sArray:function(t){for(var e=this.array,r=0,n=0,i=t.length;n<i;n++){var a=t[n];void 0===a&&(a=new v.a),e[r++]=a.x,e[r++]=a.y}return this},copyVector3sArray:function(t){for(var e=this.array,r=0,n=0,i=t.length;n<i;n++){var a=t[n];void 0===a&&(a=new d.a),e[r++]=a.x,e[r++]=a.y,e[r++]=a.z}return this},copyVector4sArray:function(t){for(var e=this.array,r=0,n=0,i=t.length;n<i;n++){var a=t[n];void 0===a&&(a=new p.a),e[r++]=a.x,e[r++]=a.y,e[r++]=a.z,e[r++]=a.w}return this},set:function(t,e){return void 0===e&&(e=0),this.array.set(t,e),this},getX:function(t){return this.array[t*this.itemSize]},setX:function(t,e){return this.array[t*this.itemSize]=e,this},getY:function(t){return this.array[t*this.itemSize+1]},setY:function(t,e){return this.array[t*this.itemSize+1]=e,this},getZ:function(t){return this.array[t*this.itemSize+2]},setZ:function(t,e){return this.array[t*this.itemSize+2]=e,this},getW:function(t){return this.array[t*this.itemSize+3]},setW:function(t,e){return this.array[t*this.itemSize+3]=e,this},setXY:function(t,e,r){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=r,this},setXYZ:function(t,e,r,n){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=r,this.array[t+2]=n,this},setXYZW:function(t,e,r,n,i){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=r,this.array[t+2]=n,this.array[t+3]=i,this},onUpload:function(t){return this.onUploadCallback=t,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)}}),i.prototype=Object.create(n.prototype),i.prototype.constructor=i,a.prototype=Object.create(n.prototype),a.prototype.constructor=a,s.prototype=Object.create(n.prototype),s.prototype.constructor=s,o.prototype=Object.create(n.prototype),o.prototype.constructor=o,u.prototype=Object.create(n.prototype),u.prototype.constructor=u,h.prototype=Object.create(n.prototype),h.prototype.constructor=h,c.prototype=Object.create(n.prototype),c.prototype.constructor=c,l.prototype=Object.create(n.prototype),l.prototype.constructor=l,f.prototype=Object.create(n.prototype),f.prototype.constructor=f},function(t,e,r){t.exports=r(67)},function(t,e,r){"use strict";function n(t,e){for(var r=[],n=0;n<t.length;n++){var i=t[n];e?r.push([i.a,i.b,i.c]):r.push([i.x,i.y,i.z])}return r}Object.defineProperty(e,"__esModule",{value:!0});var i=r(68),a=r.n(i),s=r(69),o=(r.n(s),r(73)),u=r.n(o),h=r(74),c=r.n(h),l=r(96),f=r.n(l),p=r(98),d=r.n(p),v=r(120),m=r.n(v),g=r(143),y=r.n(g),_=r(144),x=r.n(_),b=r(47),E=(r.n(b),r(155)),w=r.n(E),M=r(156),A=r(200),T=r(209),S=r.n(T),R=r(210),N=r.n(R),I=r(211),P=(r.n(I),r(212)),O=r.n(P),U=r(213),L=r.n(U),C=new m.a.create,z=new m.a.create,F=new m.a.create,D=(new m.a.create,new m.a.create,new m.a.create,new A.a(5,48,48)),B=n(D.faces,!0),V=n(D.vertices),k=function t(e){var r=this;a()(this,t),j.call(this),this.uniforms={},this.canvas=document.createElement("canvas"),this.canvas=document.body.appendChild(document.createElement("canvas")),this.stats=new u.a,document.body.appendChild(this.stats.domElement),this.camera=x()(this.canvas),this.canvas.style.backgroundColor="#ccc",window.addEventListener("resize",f()(this.canvas),!1);var n=new Image;n.src="moon.jpg",n.onload=function(t){r.init(n)}},j=function(){var t=this;this.init=function(e){t.gl=r(47)(t.canvas,t.render),t.backGeometry=new c.a(t.gl),t.geometry=new c.a(t.gl);var n=y.a.vertexNormals(B,V),i=[];i.push([-50,-50,0]),i.push([-50,50,0]),i.push([50,50,0]),i.push([50,-50,0]),t.geometry.attr("aPosition",V),t.geometry.attr("aNormal",n),t.geometry.faces(B),t.shader=new d.a(t.gl,N.a,S.a),t.geometry.bind(t.shader),t.backGeometry.attr("a_position",i),t.texture=w()(t.gl,e),t.shaderBack=new d.a(t.gl,O.a,L.a),t.backGeometry.bind(t.shaderBack),t.uniform(t.shaderBack.program,"2f","vec2","u_resolution",t.canvas.width,t.canvas.height),t.gl.activeTexture(t.gl.TEXTURE0),t.gl.bindTexture(t.gl.TEXTURE_2D,t.texture.handle),t.uniform(t.shaderBack.program,"2f","vec2","u_tex0Resolution",e.width,e.height)},this.update=function(){t.camera.view(F),t.camera.tick();var e=t.gl.drawingBufferWidth/t.gl.drawingBufferHeight,r=Math.PI/4;m.a.perspective(C,r,e,.01,100)},this.render=function(){var e=t.gl.drawingBufferWidth,r=t.gl.drawingBufferHeight;t.stats.begin(),t.update(),t.gl.viewport(0,0,e,r),t.gl.enable(t.gl.DEPTH_TEST),t.backGeometry.bind(t.shaderBack),t.shaderBack.uniforms.uProjection=C,t.shaderBack.uniforms.uView=F,t.shaderBack.uniforms.uModel=z,t.shaderBack.uniforms.u_time=.001*performance.now(),t.backGeometry.draw(t.gl.TRIANGLE_FAN),t.geometry.bind(t.shader),t.shader.uniforms.uProjection=C,t.shader.uniforms.uView=F,t.shader.uniforms.uModel=z,t.shader.uniforms.time=performance.now(),t.geometry.draw(t.gl.TRIANGLES),t.stats.end()},this.uniform=function(e,r,n,i){for(var a=arguments.length,s=Array(a>4?a-4:0),o=4;o<a;o++)s[o-4]=arguments[o];t.uniforms[i]=t.uniforms[i]||{};var u=t.uniforms[i];(Object(M.a)(u.value,s)||t.change||void 0===u.location||void 0===u.value)&&(u.name=i,u.value=s,u.type=n,u.method="uniform"+r,u.location=t.gl.getUniformLocation(e,i),t.gl[u.method].apply(t.gl,[u.location].concat(u.value)))}};e.default=k,new k},function(t,e,r){"use strict";e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,r){var n=r(70);"string"==typeof n&&(n=[[t.i,n,""]]);r(72)(n,{});n.locals&&(t.exports=n.locals)},function(t,e,r){e=t.exports=r(71)(),e.push([t.i,"body,html{margin:0;padding:0;height:100%}body,canvas,html{height:100%}html{overflow:hidden}canvas{width:100%}#stats{position:absolute;top:0}",""])},function(t,e){t.exports=function(){var t=[];return t.toString=function(){for(var t=[],e=0;e<this.length;e++){var r=this[e];r[2]?t.push("@media "+r[2]+"{"+r[1]+"}"):t.push(r[1])}return t.join("")},t.i=function(e,r){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},i=0;i<this.length;i++){var a=this[i][0];"number"==typeof a&&(n[a]=!0)}for(i=0;i<e.length;i++){var s=e[i];"number"==typeof s[0]&&n[s[0]]||(r&&!s[2]?s[2]=r:r&&(s[2]="("+s[2]+") and ("+r+")"),t.push(s))}},t}},function(t,e){function r(t,e){for(var r=0;r<t.length;r++){var n=t[r],i=f[n.id];if(i){i.refs++;for(var a=0;a<i.parts.length;a++)i.parts[a](n.parts[a]);for(;a<n.parts.length;a++)i.parts.push(u(n.parts[a],e))}else{for(var s=[],a=0;a<n.parts.length;a++)s.push(u(n.parts[a],e));f[n.id]={id:n.id,refs:1,parts:s}}}}function n(t){for(var e=[],r={},n=0;n<t.length;n++){var i=t[n],a=i[0],s=i[1],o=i[2],u=i[3],h={css:s,media:o,sourceMap:u};r[a]?r[a].parts.push(h):e.push(r[a]={id:a,parts:[h]})}return e}function i(t,e){var r=v(),n=y[y.length-1];if("top"===t.insertAt)n?n.nextSibling?r.insertBefore(e,n.nextSibling):r.appendChild(e):r.insertBefore(e,r.firstChild),y.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");r.appendChild(e)}}function a(t){t.parentNode.removeChild(t);var e=y.indexOf(t);e>=0&&y.splice(e,1)}function s(t){var e=document.createElement("style");return e.type="text/css",i(t,e),e}function o(t){var e=document.createElement("link");return e.rel="stylesheet",i(t,e),e}function u(t,e){var r,n,i;if(e.singleton){var u=g++;r=m||(m=s(e)),n=h.bind(null,r,u,!1),i=h.bind(null,r,u,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(r=o(e),n=l.bind(null,r),i=function(){a(r),r.href&&URL.revokeObjectURL(r.href)}):(r=s(e),n=c.bind(null,r),i=function(){a(r)});return n(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;n(t=e)}else i()}}function h(t,e,r,n){var i=r?"":n.css;if(t.styleSheet)t.styleSheet.cssText=_(e,i);else{var a=document.createTextNode(i),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(a,s[e]):t.appendChild(a)}}function c(t,e){var r=e.css,n=e.media;if(n&&t.setAttribute("media",n),t.styleSheet)t.styleSheet.cssText=r;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}function l(t,e){var r=e.css,n=e.sourceMap;n&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */");var i=new Blob([r],{type:"text/css"}),a=t.href;t.href=URL.createObjectURL(i),a&&URL.revokeObjectURL(a)}var f={},p=function(t){var e;return function(){return void 0===e&&(e=t.apply(this,arguments)),e}},d=p(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),v=p(function(){return document.head||document.getElementsByTagName("head")[0]}),m=null,g=0,y=[];t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");e=e||{},void 0===e.singleton&&(e.singleton=d()),void 0===e.insertAt&&(e.insertAt="bottom");var i=n(t);return r(i,e),function(t){for(var a=[],s=0;s<i.length;s++){var o=i[s],u=f[o.id];u.refs--,a.push(u)}if(t){r(n(t),e)}for(var s=0;s<a.length;s++){var u=a[s];if(0===u.refs){for(var h=0;h<u.parts.length;h++)u.parts[h]();delete f[u.id]}}}};var _=function(){var t=[];return function(e,r){return t[e]=r,t.filter(Boolean).join("\n")}}()},function(t,e){var r=function(){var t=Date.now(),e=t,r=0,n=1/0,i=0,a=0,s=1/0,o=0,u=0,h=0,c=document.createElement("div");c.id="stats",c.addEventListener("mousedown",function(t){t.preventDefault(),y(++h%2)},!1),c.style.cssText="width:80px;opacity:0.9;cursor:pointer";var l=document.createElement("div");l.id="fps",l.style.cssText="padding:0 0 3px 3px;text-align:left;background-color:#002",c.appendChild(l);var f=document.createElement("div");f.id="fpsText",f.style.cssText="color:#0ff;font-family:Helvetica,Arial,sans-serif;font-size:9px;font-weight:bold;line-height:15px",f.innerHTML="FPS",l.appendChild(f);var p=document.createElement("div");for(p.id="fpsGraph",p.style.cssText="position:relative;width:74px;height:30px;background-color:#0ff",l.appendChild(p);74>p.children.length;){var d=document.createElement("span");d.style.cssText="width:1px;height:30px;float:left;background-color:#113",p.appendChild(d)}var v=document.createElement("div");v.id="ms",v.style.cssText="padding:0 0 3px 3px;text-align:left;background-color:#020;display:none",c.appendChild(v);var m=document.createElement("div");m.id="msText",m.style.cssText="color:#0f0;font-family:Helvetica,Arial,sans-serif;font-size:9px;font-weight:bold;line-height:15px",m.innerHTML="MS",v.appendChild(m);var g=document.createElement("div");for(g.id="msGraph",g.style.cssText="position:relative;width:74px;height:30px;background-color:#0f0",v.appendChild(g);74>g.children.length;)d=document.createElement("span"),d.style.cssText="width:1px;height:30px;float:left;background-color:#131",g.appendChild(d);var y=function(t){switch(h=t){case 0:l.style.display="block",v.style.display="none";break;case 1:l.style.display="none",v.style.display="block"}};return{REVISION:12,domElement:c,setMode:y,begin:function(){t=Date.now()},end:function(){var h=Date.now();r=h-t,n=Math.min(n,r),i=Math.max(i,r),m.textContent=r+" MS ("+n+"-"+i+")";var c=Math.min(30,30-r/200*30);return g.appendChild(g.firstChild).style.height=c+"px",u++,h>e+1e3&&(a=Math.round(1e3*u/(h-e)),s=Math.min(s,a),o=Math.max(o,a),f.textContent=a+" FPS ("+s+"-"+o+")",c=Math.min(30,30-a/100*30),p.appendChild(p.firstChild).style.height=c+"px",e=h,u=0),h},update:function(){t=this.end()}}};"object"==typeof t&&(t.exports=r)},function(t,e,r){function n(t){if(!(this instanceof n))return new n(t);this._attributes=[],this._dirty=!0,this._length=0,this._index=null,this._vao=null,this._keys=[],this.gl=t}var i=r(75),a=r(93);t.exports=n,n.prototype.dispose=function(){for(var t=0;t<this._attributes.length;t++)this._attributes[t].buffer.dispose();this._attributes=[],this._keys=[],this._length=0,this._dirty=!0,this._index&&(this._index.dispose(),this._index=null),this._vao&&(this._vao.dispose(),this._vao=null)},n.prototype.faces=function(t,e){var r=e&&e.size||3;return t=t.cells?t.cells:t,this._dirty=!0,this._index&&this._index.dispose(),this._index=i(this.gl,t,r,this.gl.ELEMENT_ARRAY_BUFFER,"uint16"),this._length=this._index.length*r,this._index=this._index.buffer,this},n.prototype.attr=function(t,e,r){r=r||{},this._dirty=!0;var n=this.gl,a=!this._attributes.length,s=r.size||3,o=i(n,e,s,n.ARRAY_BUFFER,"float32");if(!o)throw new Error("Unexpected attribute format: needs an ndarray, array, typed array, gl-buffer or simplicial complex");var u=o.buffer,h=o.length,c=o.index;return this._keys.push(t),this._attributes.push({size:s,buffer:u}),a&&(this._length=h),a&&c&&(this._index=c),this},n.prototype.bind=function(t){if(this.update(),this._vao.bind(),this._keys){for(var e=0;e<this._keys.length;e++){var r=t.attributes[this._keys[e]];r&&(r.location=e)}t&&t.bind()}},n.prototype.draw=function(t,e,r){e=void 0===e?0:e,r=void 0===r?this._length:r,t=void 0===t?this.gl.TRIANGLES:t,this.update(),this._vao._useElements?this.gl.drawElements(t,r-e,this._vao._elementsType,e):this.gl.drawArrays(t,e,r-e)},n.prototype.unbind=function(){this.update(),this._vao.unbind()},n.prototype.update=function(){this._dirty&&(this._dirty=!1,this._vao&&this._vao.dispose(),this._vao=a(this.gl,this._attributes,this._index))}},function(t,e,r){function n(t,e,r,n,l){return Array.isArray(e)&&Array.isArray(e[0])?{buffer:u(t,s(e,l),n),length:e.length}:Array.isArray(e)&&o(e[0])?{buffer:u(t,s(e,l),n),length:e.length*e[0].length/r}:Array.isArray(e)?{buffer:u(t,new(c(l))(e),n),length:e.length/r}:e.handle instanceof WebGLBuffer?{buffer:e,length:e.length/r/4}:e.cells&&e.positions?{length:e.cells.length*r,buffer:u(t,s(e.positions,l),n),index:u(t,s(e.cells,"uint16"),t.ELEMENT_ARRAY_BUFFER)}:h(e)?{buffer:u(t,e,n),length:i(e.shape)/r}:o(e)?(!l||e instanceof c(l)||(e=a(e,c(l))),{buffer:u(t,e,n),length:e.length/r}):void 0}function i(t){for(var e=1,r=0;r<t.length;r++)e*=t[r];return e}function a(t,e){e=new e(t.length);for(var r=0;r<t.length;r++)e[r]=t[r];return e}var s=r(76),o=r(81),u=r(82),h=r(91),c=r(92);t.exports=n},function(t,e,r){function n(t,e){if(e=e||"float32",!t[0]||!t[0].length)return t;for(var r="string"==typeof e?i(e):e,n=t[0].length,a=new r(t.length*n),s=0,o=0;o<t.length;o++)for(var u=0;u<n;u++)a[s++]=t[o][u];return a}var i=r(77);t.exports=n},function(t,e,r){(function(e){t.exports=function(t){switch(t){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array;case"uint8_clamped":return Uint8ClampedArray;case"generic":case"data":case"dataview":return ArrayBuffer;case"buffer":return void 0===e?ArrayBuffer:e}}}).call(e,r(37).Buffer)},function(t,e,r){"use strict";function n(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===t[e-2]?2:"="===t[e-1]?1:0}function i(t){return 3*t.length/4-n(t)}function a(t){var e,r,i,a,s,o=t.length;a=n(t),s=new l(3*o/4-a),r=a>0?o-4:o;var u=0;for(e=0;e<r;e+=4)i=c[t.charCodeAt(e)]<<18|c[t.charCodeAt(e+1)]<<12|c[t.charCodeAt(e+2)]<<6|c[t.charCodeAt(e+3)],s[u++]=i>>16&255,s[u++]=i>>8&255,s[u++]=255&i;return 2===a?(i=c[t.charCodeAt(e)]<<2|c[t.charCodeAt(e+1)]>>4,s[u++]=255&i):1===a&&(i=c[t.charCodeAt(e)]<<10|c[t.charCodeAt(e+1)]<<4|c[t.charCodeAt(e+2)]>>2,s[u++]=i>>8&255,s[u++]=255&i),s}function s(t){return h[t>>18&63]+h[t>>12&63]+h[t>>6&63]+h[63&t]}function o(t,e,r){for(var n,i=[],a=e;a<r;a+=3)n=(t[a]<<16)+(t[a+1]<<8)+t[a+2],i.push(s(n));return i.join("")}function u(t){for(var e,r=t.length,n=r%3,i="",a=[],s=0,u=r-n;s<u;s+=16383)a.push(o(t,s,s+16383>u?u:s+16383));return 1===n?(e=t[r-1],i+=h[e>>2],i+=h[e<<4&63],i+="=="):2===n&&(e=(t[r-2]<<8)+t[r-1],i+=h[e>>10],i+=h[e>>4&63],i+=h[e<<2&63],i+="="),a.push(i),a.join("")}e.byteLength=i,e.toByteArray=a,e.fromByteArray=u;for(var h=[],c=[],l="undefined"!=typeof Uint8Array?Uint8Array:Array,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p=0,d=f.length;p<d;++p)h[p]=f[p],c[f.charCodeAt(p)]=p;c["-".charCodeAt(0)]=62,c["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,r,n,i){var a,s,o=8*i-n-1,u=(1<<o)-1,h=u>>1,c=-7,l=r?i-1:0,f=r?-1:1,p=t[e+l];for(l+=f,a=p&(1<<-c)-1,p>>=-c,c+=o;c>0;a=256*a+t[e+l],l+=f,c-=8);for(s=a&(1<<-c)-1,a>>=-c,c+=n;c>0;s=256*s+t[e+l],l+=f,c-=8);if(0===a)a=1-h;else{if(a===u)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,n),a-=h}return(p?-1:1)*s*Math.pow(2,a-n)},e.write=function(t,e,r,n,i,a){var s,o,u,h=8*a-i-1,c=(1<<h)-1,l=c>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:a-1,d=n?1:-1,v=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(o=isNaN(e)?1:0,s=c):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),e+=s+l>=1?f/u:f*Math.pow(2,1-l),e*u>=2&&(s++,u/=2),s+l>=c?(o=0,s=c):s+l>=1?(o=(e*u-1)*Math.pow(2,i),s+=l):(o=e*Math.pow(2,l-1)*Math.pow(2,i),s=0));i>=8;t[r+p]=255&o,p+=d,o/=256,i-=8);for(s=s<<i|o,h+=i;h>0;t[r+p]=255&s,p+=d,s/=256,h-=8);t[r+p-d]|=128*v}},function(t,e){var r={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)}},function(t,e){function r(t){return n(t)||i(t)}function n(t){return t instanceof Int8Array||t instanceof Int16Array||t instanceof Int32Array||t instanceof Uint8Array||t instanceof Uint16Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array}function i(t){return s[a.call(t)]}t.exports=r,r.strict=n,r.loose=i;var a=Object.prototype.toString,s={"[object Int8Array]":!0,"[object Int16Array]":!0,"[object Int32Array]":!0,"[object Uint8Array]":!0,"[object Uint16Array]":!0,"[object Uint32Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0}},function(t,e,r){"use strict";function n(t,e,r,n,i){this.gl=t,this.type=e,this.handle=r,this.length=n,this.usage=i}function i(t,e,r,n,i,a){var s=i.length*i.BYTES_PER_ELEMENT;if(a<0)return t.bufferData(e,i,n),s;if(s+a>r)throw new Error("gl-buffer: If resizing buffer, must not specify offset");return t.bufferSubData(e,a,i),r}function a(t,e){for(var r=u.malloc(t.length,e),n=t.length,i=0;i<n;++i)r[i]=t[i];return r}function s(t,e){for(var r=1,n=e.length-1;n>=0;--n){if(e[n]!==r)return!1;r*=t[n]}return!0}function o(t,e,r,i){if(r=r||t.ARRAY_BUFFER,i=i||t.DYNAMIC_DRAW,r!==t.ARRAY_BUFFER&&r!==t.ELEMENT_ARRAY_BUFFER)throw new Error("gl-buffer: Invalid type for webgl buffer, must be either gl.ARRAY_BUFFER or gl.ELEMENT_ARRAY_BUFFER");if(i!==t.DYNAMIC_DRAW&&i!==t.STATIC_DRAW&&i!==t.STREAM_DRAW)throw new Error("gl-buffer: Invalid usage for buffer, must be either gl.DYNAMIC_DRAW, gl.STATIC_DRAW or gl.STREAM_DRAW");var a=t.createBuffer(),s=new n(t,r,a,0,i);return s.update(e),s}var u=r(39),h=r(40),c=r(41),l=["uint8","uint8_clamped","uint16","uint32","int8","int16","int32","float32"],f=n.prototype;f.bind=function(){this.gl.bindBuffer(this.type,this.handle)},f.unbind=function(){this.gl.bindBuffer(this.type,null)},f.dispose=function(){this.gl.deleteBuffer(this.handle)},f.update=function(t,e){if("number"!=typeof e&&(e=-1),this.bind(),"object"==typeof t&&void 0!==t.shape){var r=t.dtype;if(l.indexOf(r)<0&&(r="float32"),this.type===this.gl.ELEMENT_ARRAY_BUFFER){r=gl.getExtension("OES_element_index_uint")&&"uint16"!==r?"uint32":"uint16"}if(r===t.dtype&&s(t.shape,t.stride))0===t.offset&&t.data.length===t.shape[0]?this.length=i(this.gl,this.type,this.length,this.usage,t.data,e):this.length=i(this.gl,this.type,this.length,this.usage,t.data.subarray(t.offset,t.shape[0]),e);else{var n=u.malloc(t.size,r),o=c(n,t.shape);h.assign(o,t),this.length=e<0?i(this.gl,this.type,this.length,this.usage,n,e):i(this.gl,this.type,this.length,this.usage,n.subarray(0,t.size),e),u.free(n)}}else if(Array.isArray(t)){var f;f=this.type===this.gl.ELEMENT_ARRAY_BUFFER?a(t,"uint16"):a(t,"float32"),this.length=e<0?i(this.gl,this.type,this.length,this.usage,f,e):i(this.gl,this.type,this.length,this.usage,f.subarray(0,t.length),e),u.free(f)}else if("object"==typeof t&&"number"==typeof t.length)this.length=i(this.gl,this.type,this.length,this.usage,t,e);else{if("number"!=typeof t&&void 0!==t)throw new Error("gl-buffer: Invalid data type");if(e>=0)throw new Error("gl-buffer: Cannot specify offset when resizing buffer");t|=0,t<=0&&(t=1),this.gl.bufferData(this.type,0|t,this.usage),this.length=t}},t.exports=o},function(t,e,r){"use strict";"use restrict";function n(t){var e=32;return t&=-t,t&&e--,65535&t&&(e-=16),16711935&t&&(e-=8),252645135&t&&(e-=4),858993459&t&&(e-=2),1431655765&t&&(e-=1),e}e.INT_BITS=32,e.INT_MAX=2147483647,e.INT_MIN=-1<<31,e.sign=function(t){return(t>0)-(t<0)},e.abs=function(t){var e=t>>31;return(t^e)-e},e.min=function(t,e){return e^(t^e)&-(t<e)},e.max=function(t,e){return t^(t^e)&-(t<e)},e.isPow2=function(t){return!(t&t-1||!t)},e.log2=function(t){var e,r;return e=(t>65535)<<4,t>>>=e,r=(t>255)<<3,t>>>=r,e|=r,r=(t>15)<<2,t>>>=r,e|=r,r=(t>3)<<1,t>>>=r,(e|=r)|t>>1},e.log10=function(t){return t>=1e9?9:t>=1e8?8:t>=1e7?7:t>=1e6?6:t>=1e5?5:t>=1e4?4:t>=1e3?3:t>=100?2:t>=10?1:0},e.popCount=function(t){return t-=t>>>1&1431655765,16843009*((t=(858993459&t)+(t>>>2&858993459))+(t>>>4)&252645135)>>>24},e.countTrailingZeros=n,e.nextPow2=function(t){return t+=0===t,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)+1},e.prevPow2=function(t){return t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)-(t>>>1)},e.parity=function(t){return t^=t>>>16,t^=t>>>8,t^=t>>>4,27030>>>(t&=15)&1};var i=new Array(256);!function(t){for(var e=0;e<256;++e){var r=e,n=e,i=7;for(r>>>=1;r;r>>>=1)n<<=1,n|=1&r,--i;t[e]=n<<i&255}}(i),e.reverse=function(t){return i[255&t]<<24|i[t>>>8&255]<<16|i[t>>>16&255]<<8|i[t>>>24&255]},e.interleave2=function(t,e){return t&=65535,t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e&=65535,e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t|e<<1},e.deinterleave2=function(t,e){return t=t>>>e&1431655765,t=858993459&(t|t>>>1),t=252645135&(t|t>>>2),t=16711935&(t|t>>>4),(t=65535&(t|t>>>16))<<16>>16},e.interleave3=function(t,e,r){return t&=1023,t=4278190335&(t|t<<16),t=251719695&(t|t<<8),t=3272356035&(t|t<<4),t=1227133513&(t|t<<2),e&=1023,e=4278190335&(e|e<<16),e=251719695&(e|e<<8),e=3272356035&(e|e<<4),e=1227133513&(e|e<<2),t|=e<<1,r&=1023,r=4278190335&(r|r<<16),r=251719695&(r|r<<8),r=3272356035&(r|r<<4),r=1227133513&(r|r<<2),t|r<<2},e.deinterleave3=function(t,e){return t=t>>>e&1227133513,t=3272356035&(t|t>>>2),t=251719695&(t|t>>>4),t=4278190335&(t|t>>>8),(t=1023&(t|t>>>16))<<22>>22},e.nextCombination=function(t){var e=t|t-1;return e+1|(~e&-~e)-1>>>n(t)+1}},function(t,e,r){"use strict";function n(t,e,r){var i=0|t[r];if(i<=0)return[];var a,s=new Array(i);if(r===t.length-1)for(a=0;a<i;++a)s[a]=e;else for(a=0;a<i;++a)s[a]=n(t,e,r+1);return s}function i(t,e){var r,n;for(r=new Array(t),n=0;n<t;++n)r[n]=e;return r}function a(t,e){switch(void 0===e&&(e=0),typeof t){case"number":if(t>0)return i(0|t,e);break;case"object":if("number"==typeof t.length)return n(t,e,0)}return[]}t.exports=a},function(t,e,r){"use strict";function n(){this.argTypes=[],this.shimArgs=[],this.arrayArgs=[],this.arrayBlockIndices=[],this.scalarArgs=[],this.offsetArgs=[],this.offsetArgIndex=[],this.indexArgs=[],this.shapeArgs=[],this.funcName="",this.pre=null,this.body=null,this.post=null,this.debug=!1}function i(t){var e=new n;e.pre=t.pre,e.body=t.body,e.post=t.post;var r=t.args.slice(0);e.argTypes=r;for(var i=0;i<r.length;++i){var s=r[i];if("array"===s||"object"==typeof s&&s.blockIndices){if(e.argTypes[i]="array",e.arrayArgs.push(i),e.arrayBlockIndices.push(s.blockIndices?s.blockIndices:0),e.shimArgs.push("array"+i),i<e.pre.args.length&&e.pre.args[i].count>0)throw new Error("cwise: pre() block may not reference array args");if(i<e.post.args.length&&e.post.args[i].count>0)throw new Error("cwise: post() block may not reference array args")}else if("scalar"===s)e.scalarArgs.push(i),e.shimArgs.push("scalar"+i);else if("index"===s){if(e.indexArgs.push(i),i<e.pre.args.length&&e.pre.args[i].count>0)throw new Error("cwise: pre() block may not reference array index");if(i<e.body.args.length&&e.body.args[i].lvalue)throw new Error("cwise: body() block may not write to array index");if(i<e.post.args.length&&e.post.args[i].count>0)throw new Error("cwise: post() block may not reference array index")}else if("shape"===s){if(e.shapeArgs.push(i),i<e.pre.args.length&&e.pre.args[i].lvalue)throw new Error("cwise: pre() block may not write to array shape");if(i<e.body.args.length&&e.body.args[i].lvalue)throw new Error("cwise: body() block may not write to array shape");if(i<e.post.args.length&&e.post.args[i].lvalue)throw new Error("cwise: post() block may not write to array shape")}else{if("object"!=typeof s||!s.offset)throw new Error("cwise: Unknown argument type "+r[i]);e.argTypes[i]="offset",e.offsetArgs.push({array:s.array,offset:s.offset}),e.offsetArgIndex.push(i)}}if(e.arrayArgs.length<=0)throw new Error("cwise: No array arguments specified");if(e.pre.args.length>r.length)throw new Error("cwise: Too many arguments in pre() block");if(e.body.args.length>r.length)throw new Error("cwise: Too many arguments in body() block");if(e.post.args.length>r.length)throw new Error("cwise: Too many arguments in post() block");return e.debug=!!t.printCode||!!t.debug,e.funcName=t.funcName||"cwise",e.blockSize=t.blockSize||64,a(e)}var a=r(86);t.exports=i},function(t,e,r){"use strict";function n(t){var e=["'use strict'","var CACHED={}"],r=[],n=t.funcName+"_cwise_thunk";e.push(["return function ",n,"(",t.shimArgs.join(","),"){"].join(""));for(var a=[],s=[],o=[["array",t.arrayArgs[0],".shape.slice(",Math.max(0,t.arrayBlockIndices[0]),t.arrayBlockIndices[0]<0?","+t.arrayBlockIndices[0]+")":")"].join("")],u=[],h=[],c=0;c<t.arrayArgs.length;++c){var l=t.arrayArgs[c];r.push(["t",l,"=array",l,".dtype,","r",l,"=array",l,".order"].join("")),a.push("t"+l),a.push("r"+l),s.push("t"+l),s.push("r"+l+".join()"),o.push("array"+l+".data"),o.push("array"+l+".stride"),o.push("array"+l+".offset|0"),c>0&&(u.push("array"+t.arrayArgs[0]+".shape.length===array"+l+".shape.length+"+(Math.abs(t.arrayBlockIndices[0])-Math.abs(t.arrayBlockIndices[c]))),h.push("array"+t.arrayArgs[0]+".shape[shapeIndex+"+Math.max(0,t.arrayBlockIndices[0])+"]===array"+l+".shape[shapeIndex+"+Math.max(0,t.arrayBlockIndices[c])+"]"))}t.arrayArgs.length>1&&(e.push("if (!("+u.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same dimensionality!')"),e.push("for(var shapeIndex=array"+t.arrayArgs[0]+".shape.length-"+Math.abs(t.arrayBlockIndices[0])+"; shapeIndex--\x3e0;) {"),e.push("if (!("+h.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same shape!')"),e.push("}"));for(var c=0;c<t.scalarArgs.length;++c)o.push("scalar"+t.scalarArgs[c]);return r.push(["type=[",s.join(","),"].join()"].join("")),r.push("proc=CACHED[type]"),e.push("var "+r.join(",")),e.push(["if(!proc){","CACHED[type]=proc=compile([",a.join(","),"])}","return proc(",o.join(","),")}"].join("")),t.debug,new Function("compile",e.join("\n"))(i.bind(void 0,t))}var i=r(87);t.exports=n},function(t,e,r){"use strict";function n(t,e,r){var n,i,a=t.length,s=e.arrayArgs.length,o=e.indexArgs.length>0,u=[],h=[],c=0,l=0;for(n=0;n<a;++n)h.push(["i",n,"=0"].join(""));for(i=0;i<s;++i)for(n=0;n<a;++n)l=c,c=t[n],0===n?h.push(["d",i,"s",n,"=t",i,"p",c].join("")):h.push(["d",i,"s",n,"=(t",i,"p",c,"-s",l,"*t",i,"p",l,")"].join(""));for(h.length>0&&u.push("var "+h.join(",")),n=a-1;n>=0;--n)c=t[n],u.push(["for(i",n,"=0;i",n,"<s",c,";++i",n,"){"].join(""));for(u.push(r),n=0;n<a;++n){for(l=c,c=t[n],i=0;i<s;++i)u.push(["p",i,"+=d",i,"s",n].join(""));o&&(n>0&&u.push(["index[",l,"]-=s",l].join("")),u.push(["++index[",c,"]"].join(""))),u.push("}")}return u.join("\n")}function i(t,e,r,i){for(var a=e.length,s=r.arrayArgs.length,o=r.blockSize,u=r.indexArgs.length>0,h=[],c=0;c<s;++c)h.push(["var offset",c,"=p",c].join(""));for(var c=t;c<a;++c)h.push(["for(var j"+c+"=SS[",e[c],"]|0;j",c,">0;){"].join("")),h.push(["if(j",c,"<",o,"){"].join("")),h.push(["s",e[c],"=j",c].join("")),h.push(["j",c,"=0"].join("")),h.push(["}else{s",e[c],"=",o].join("")),h.push(["j",c,"-=",o,"}"].join("")),u&&h.push(["index[",e[c],"]=j",c].join(""));for(var c=0;c<s;++c){for(var l=["offset"+c],f=t;f<a;++f)l.push(["j",f,"*t",c,"p",e[f]].join(""));h.push(["p",c,"=(",l.join("+"),")"].join(""))}h.push(n(e,r,i));for(var c=t;c<a;++c)h.push("}");return h.join("\n")}function a(t){for(var e=0,r=t[0].length;e<r;){for(var n=1;n<t.length;++n)if(t[n][e]!==t[0][e])return e;++e}return e}function s(t,e,r){for(var n=t.body,i=[],a=[],s=0;s<t.args.length;++s){var o=t.args[s];if(!(o.count<=0)){var u=new RegExp(o.name,"g"),h="",c=e.arrayArgs.indexOf(s);switch(e.argTypes[s]){case"offset":var l=e.offsetArgIndex.indexOf(s);c=e.offsetArgs[l].array,h="+q"+l;case"array":h="p"+c+h;var f="l"+s,p="a"+c;if(0===e.arrayBlockIndices[c])1===o.count?"generic"===r[c]?o.lvalue?(i.push(["var ",f,"=",p,".get(",h,")"].join("")),n=n.replace(u,f),a.push([p,".set(",h,",",f,")"].join(""))):n=n.replace(u,[p,".get(",h,")"].join("")):n=n.replace(u,[p,"[",h,"]"].join("")):"generic"===r[c]?(i.push(["var ",f,"=",p,".get(",h,")"].join("")),n=n.replace(u,f),o.lvalue&&a.push([p,".set(",h,",",f,")"].join(""))):(i.push(["var ",f,"=",p,"[",h,"]"].join("")),n=n.replace(u,f),o.lvalue&&a.push([p,"[",h,"]=",f].join("")));else{for(var d=[o.name],v=[h],m=0;m<Math.abs(e.arrayBlockIndices[c]);m++)d.push("\\s*\\[([^\\]]+)\\]"),v.push("$"+(m+1)+"*t"+c+"b"+m);if(u=new RegExp(d.join(""),"g"),h=v.join("+"),"generic"===r[c])throw new Error("cwise: Generic arrays not supported in combination with blocks!");n=n.replace(u,[p,"[",h,"]"].join(""))}break;case"scalar":n=n.replace(u,"Y"+e.scalarArgs.indexOf(s));break;case"index":n=n.replace(u,"index");break;case"shape":n=n.replace(u,"shape")}}}return[i.join("\n"),n,a.join("\n")].join("\n").trim()}function o(t){for(var e=new Array(t.length),r=!0,n=0;n<t.length;++n){var i=t[n],a=i.match(/\d+/);a=a?a[0]:"",0===i.charAt(0)?e[n]="u"+i.charAt(1)+a:e[n]=i.charAt(0)+a,n>0&&(r=r&&e[n]===e[n-1])}return r?e[0]:e.join("")}function u(t,e){for(var r=e[1].length-Math.abs(t.arrayBlockIndices[0])|0,u=new Array(t.arrayArgs.length),c=new Array(t.arrayArgs.length),l=0;l<t.arrayArgs.length;++l)c[l]=e[2*l],u[l]=e[2*l+1];for(var f=[],p=[],d=[],v=[],m=[],l=0;l<t.arrayArgs.length;++l){t.arrayBlockIndices[l]<0?(d.push(0),v.push(r),f.push(r),p.push(r+t.arrayBlockIndices[l])):(d.push(t.arrayBlockIndices[l]),v.push(t.arrayBlockIndices[l]+r),f.push(0),p.push(t.arrayBlockIndices[l]));for(var g=[],y=0;y<u[l].length;y++)d[l]<=u[l][y]&&u[l][y]<v[l]&&g.push(u[l][y]-d[l]);m.push(g)}for(var _=["SS"],x=["'use strict'"],b=[],y=0;y<r;++y)b.push(["s",y,"=SS[",y,"]"].join(""));for(var l=0;l<t.arrayArgs.length;++l){_.push("a"+l),_.push("t"+l),_.push("p"+l);for(var y=0;y<r;++y)b.push(["t",l,"p",y,"=t",l,"[",d[l]+y,"]"].join(""));for(var y=0;y<Math.abs(t.arrayBlockIndices[l]);++y)b.push(["t",l,"b",y,"=t",l,"[",f[l]+y,"]"].join(""))}for(var l=0;l<t.scalarArgs.length;++l)_.push("Y"+l);if(t.shapeArgs.length>0&&b.push("shape=SS.slice(0)"),t.indexArgs.length>0){for(var E=new Array(r),l=0;l<r;++l)E[l]="0";b.push(["index=[",E.join(","),"]"].join(""))}for(var l=0;l<t.offsetArgs.length;++l){for(var w=t.offsetArgs[l],M=[],y=0;y<w.offset.length;++y)0!==w.offset[y]&&(1===w.offset[y]?M.push(["t",w.array,"p",y].join("")):M.push([w.offset[y],"*t",w.array,"p",y].join("")));0===M.length?b.push("q"+l+"=0"):b.push(["q",l,"=",M.join("+")].join(""))}var A=h([].concat(t.pre.thisVars).concat(t.body.thisVars).concat(t.post.thisVars));b=b.concat(A),b.length>0&&x.push("var "+b.join(","));for(var l=0;l<t.arrayArgs.length;++l)x.push("p"+l+"|=0");t.pre.body.length>3&&x.push(s(t.pre,t,c));var T=s(t.body,t,c),S=a(m);S<r?x.push(i(S,m[0],t,T)):x.push(n(m[0],t,T)),t.post.body.length>3&&x.push(s(t.post,t,c)),t.debug;var R=[t.funcName||"unnamed","_cwise_loop_",u[0].join("s"),"m",S,o(c)].join("");return new Function(["function ",R,"(",_.join(","),"){",x.join("\n"),"} return ",R].join(""))()}var h=r(88);t.exports=u},function(t,e,r){"use strict";function n(t,e){for(var r=1,n=t.length,i=t[0],a=t[0],s=1;s<n;++s)if(a=i,i=t[s],e(i,a)){if(s===r){r++;continue}t[r++]=i}return t.length=r,t}function i(t){for(var e=1,r=t.length,n=t[0],i=t[0],a=1;a<r;++a,i=n)if(i=n,(n=t[a])!==i){if(a===e){e++;continue}t[e++]=n}return t.length=e,t}function a(t,e,r){return 0===t.length?t:e?(r||t.sort(e),n(t,e)):(r||t.sort(),i(t))}t.exports=a},function(t,e,r){"use strict";function n(t){for(var e=new Array(t),r=0;r<t;++r)e[r]=r;return e}t.exports=n},function(t,e){function r(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}function n(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&r(t.slice(0,0))}t.exports=function(t){return null!=t&&(r(t)||n(t)||!!t._isBuffer)}},function(t,e){t.exports=function(t){return!!t&&(!!t.dtype&&new RegExp("function View[0-9]+d(:?"+t.dtype+")+").test(String(t.constructor)))}},function(t,e){t.exports=function(t){switch(t){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array}}},function(t,e,r){"use strict";function n(t){this.bindVertexArrayOES=t.bindVertexArray.bind(t),this.createVertexArrayOES=t.createVertexArray.bind(t),this.deleteVertexArrayOES=t.deleteVertexArray.bind(t)}function i(t,e,r,i){var o,u=t.createVertexArray?new n(t):t.getExtension("OES_vertex_array_object");return o=u?a(t,u):s(t),o.update(e,r,i),o}var a=r(94),s=r(95);t.exports=i},function(t,e,r){"use strict";function n(t,e,r,n,i,a){this.location=t,this.dimension=e,this.a=r,this.b=n,this.c=i,this.d=a}function i(t,e,r){this.gl=t,this._ext=e,this.handle=r,this._attribs=[],this._useElements=!1,this._elementsType=t.UNSIGNED_SHORT}function a(t,e){return new i(t,e,e.createVertexArrayOES())}var s=r(42);n.prototype.bind=function(t){switch(this.dimension){case 1:t.vertexAttrib1f(this.location,this.a);break;case 2:t.vertexAttrib2f(this.location,this.a,this.b);break;case 3:t.vertexAttrib3f(this.location,this.a,this.b,this.c);break;case 4:t.vertexAttrib4f(this.location,this.a,this.b,this.c,this.d)}},i.prototype.bind=function(){this._ext.bindVertexArrayOES(this.handle);for(var t=0;t<this._attribs.length;++t)this._attribs[t].bind(this.gl)},i.prototype.unbind=function(){this._ext.bindVertexArrayOES(null)},i.prototype.dispose=function(){this._ext.deleteVertexArrayOES(this.handle)},i.prototype.update=function(t,e,r){if(this.bind(),s(this.gl,e,t),this.unbind(),this._attribs.length=0,t)for(var i=0;i<t.length;++i){var a=t[i];"number"==typeof a?this._attribs.push(new n(i,1,a)):Array.isArray(a)&&this._attribs.push(new n(i,a.length,a[0],a[1],a[2],a[3]))}this._useElements=!!e,this._elementsType=r||this.gl.UNSIGNED_SHORT},i.prototype.draw=function(t,e,r){r=r||0;var n=this.gl;this._useElements?n.drawElements(t,e,this._elementsType,r):n.drawArrays(t,r,e)},t.exports=a},function(t,e,r){"use strict";function n(t){this.gl=t,this._elements=null,this._attributes=null,this._elementsType=t.UNSIGNED_SHORT}function i(t){return new n(t)}var a=r(42);n.prototype.bind=function(){a(this.gl,this._elements,this._attributes)},n.prototype.update=function(t,e,r){this._elements=e,this._attributes=t,this._elementsType=r||this.gl.UNSIGNED_SHORT},n.prototype.dispose=function(){},n.prototype.unbind=function(){},n.prototype.draw=function(t,e,r){r=r||0;var n=this.gl;this._elements?n.drawElements(t,e,this._elementsType,r):n.drawArrays(t,r,e)},t.exports=i},function(t,e,r){function n(t,e,r){function n(){var e=n.parent||t.parentNode;if("function"==typeof e)var r=e(a)||a,o=r[0],u=r[1];else if(e&&e!==document.body)var h=i(e),o=0|h[0],u=0|h[1];else var o=window.innerWidth,u=window.innerHeight;return s?(t.setAttribute("width",o*n.scale+"px"),t.setAttribute("height",u*n.scale+"px")):(t.width=o*n.scale,t.height=u*n.scale),t.style.width=o+"px",t.style.height=u+"px",n}var s="SVG"===t.nodeName.toUpperCase();return t.style.position=t.style.position||"absolute",t.style.top=0,t.style.left=0,n.scale=parseFloat(r||1),n.parent=e,n()}var i=r(97);t.exports=n;var a=new Float32Array(2)},function(t,e){function r(t){if(t===window||t===document.body)return[window.innerWidth,window.innerHeight];if(!t.parentNode){var e=!0;document.body.appendChild(t)}var r=t.getBoundingClientRect(),i=getComputedStyle(t),a=(0|r.height)+n(i.getPropertyValue("margin-top"))+n(i.getPropertyValue("margin-bottom")),s=(0|r.width)+n(i.getPropertyValue("margin-left"))+n(i.getPropertyValue("margin-right"));return e&&document.body.removeChild(t),[s,a]}function n(t){return parseFloat(t)||0}t.exports=r},function(t,e,r){"use strict";function n(t){this.gl=t,this.gl.lastAttribCount=0,this._vref=this._fref=this._relink=this.vertShader=this.fragShader=this.program=this.attributes=this.uniforms=this.types=null}function i(t,e){return t.name<e.name?-1:1}function a(t,e,r,i,a){var s=new n(t);return s.update(e,r,i,a),s}var s=r(99),o=r(100),u=r(43),h=r(101),c=r(119),l=r(16),f=n.prototype;f.bind=function(){this.program||this._relink();var t,e=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES),r=this.gl.lastAttribCount;if(e>r)for(t=r;t<e;t++)this.gl.enableVertexAttribArray(t);else if(r>e)for(t=e;t<r;t++)this.gl.disableVertexAttribArray(t);this.gl.lastAttribCount=e,this.gl.useProgram(this.program)},f.dispose=function(){for(var t=this.gl.lastAttribCount,e=0;e<t;e++)this.gl.disableVertexAttribArray(e);this.gl.lastAttribCount=0,this._fref&&this._fref.dispose(),this._vref&&this._vref.dispose(),this.attributes=this.types=this.vertShader=this.fragShader=this.program=this._relink=this._fref=this._vref=null},f.update=function(t,e,r,n){function a(){p.program=h.program(d,p._vref,p._fref,b,E);for(var t=0;t<r.length;++t)R[t]=d.getUniformLocation(p.program,r[t].name)}if(!e||1===arguments.length){var f=t;t=f.vertex,e=f.fragment,r=f.uniforms,n=f.attributes}var p=this,d=p.gl,v=p._vref;p._vref=h.shader(d,d.VERTEX_SHADER,t),v&&v.dispose(),p.vertShader=p._vref.shader;var m=this._fref;if(p._fref=h.shader(d,d.FRAGMENT_SHADER,e),m&&m.dispose(),p.fragShader=p._fref.shader,!r||!n){var g=d.createProgram();if(d.attachShader(g,p.fragShader),d.attachShader(g,p.vertShader),d.linkProgram(g),!d.getProgramParameter(g,d.LINK_STATUS)){var y=d.getProgramInfoLog(g);throw new l(y,"Error linking program:"+y)}r=r||c.uniforms(d,g),n=n||c.attributes(d,g),d.deleteProgram(g)}n=n.slice(),n.sort(i);var _,x=[],b=[],E=[];for(_=0;_<n.length;++_){var w=n[_];if(w.type.indexOf("mat")>=0){for(var M=0|w.type.charAt(w.type.length-1),A=new Array(M),T=0;T<M;++T)A[T]=E.length,b.push(w.name+"["+T+"]"),"number"==typeof w.location?E.push(w.location+T):Array.isArray(w.location)&&w.location.length===M&&"number"==typeof w.location[T]?E.push(0|w.location[T]):E.push(-1);x.push({name:w.name,type:w.type,locations:A})}else x.push({name:w.name,type:w.type,locations:[E.length]}),b.push(w.name),"number"==typeof w.location?E.push(0|w.location):E.push(-1)}var S=0;for(_=0;_<E.length;++_)if(E[_]<0){for(;E.indexOf(S)>=0;)S+=1;E[_]=S}var R=new Array(r.length);a(),p._relink=a,p.types={uniforms:u(r),attributes:u(n)},p.attributes=o(d,p,x,E),Object.defineProperty(p,"uniforms",s(d,p,r,R))},t.exports=a},function(t,e,r){"use strict";function n(t){return new Function("y","return function(){return y}")(t)}function i(t,e){for(var r=new Array(t),n=0;n<t;++n)r[n]=e;return r}function a(t,e,r,a){function u(r){return new Function("gl","wrapper","locations","return function(){return gl.getUniform(wrapper.program,locations["+r+"])}")(t,e,a)}function h(t,e,r){switch(r){case"bool":case"int":case"sampler2D":case"samplerCube":return"gl.uniform1i(locations["+e+"],obj"+t+")";case"float":return"gl.uniform1f(locations["+e+"],obj"+t+")";default:var n=r.indexOf("vec");if(!(0<=n&&n<=1&&r.length===4+n)){if(0===r.indexOf("mat")&&4===r.length){var i=r.charCodeAt(r.length-1)-48;if(i<2||i>4)throw new o("","Invalid uniform dimension type for matrix "+name+": "+r);return"gl.uniformMatrix"+i+"fv(locations["+e+"],false,obj"+t+")"}throw new o("","Unknown uniform data type for "+name+": "+r)}var i=r.charCodeAt(r.length-1)-48;if(i<2||i>4)throw new o("","Invalid data type");switch(r.charAt(0)){case"b":case"i":return"gl.uniform"+i+"iv(locations["+e+"],obj"+t+")";case"v":return"gl.uniform"+i+"fv(locations["+e+"],obj"+t+")";default:throw new o("","Unrecognized data type for vector "+name+": "+r)}}}function c(t,e){if("object"!=typeof e)return[[t,e]];var r=[];for(var n in e){var i=e[n],a=t;parseInt(n)+""===n?a+="["+n+"]":a+="."+n,"object"==typeof i?r.push.apply(r,c(a,i)):r.push([a,i])}return r}function l(e){for(var n=["return function updateProperty(obj){"],i=c("",e),s=0;s<i.length;++s){var o=i[s],u=o[0],l=o[1];a[l]&&n.push(h(u,l,r[l].type))}return n.push("return obj}"),new Function("gl","locations",n.join("\n"))(t,a)}function f(t){switch(t){case"bool":return!1;case"int":case"sampler2D":case"samplerCube":case"float":return 0;default:var e=t.indexOf("vec");if(0<=e&&e<=1&&t.length===4+e){var r=t.charCodeAt(t.length-1)-48;if(r<2||r>4)throw new o("","Invalid data type");return"b"===t.charAt(0)?i(r,!1):i(r,0)}if(0===t.indexOf("mat")&&4===t.length){var r=t.charCodeAt(t.length-1)-48;if(r<2||r>4)throw new o("","Invalid uniform dimension type for matrix "+name+": "+t);return i(r*r,0)}throw new o("","Unknown uniform data type for "+name+": "+t)}}function p(t,e,i){if("object"==typeof i){var s=d(i);Object.defineProperty(t,e,{get:n(s),set:l(i),enumerable:!0,configurable:!1})}else a[i]?Object.defineProperty(t,e,{get:u(i),set:l(i),enumerable:!0,configurable:!1}):t[e]=f(r[i].type)}function d(t){var e;if(Array.isArray(t)){e=new Array(t.length);for(var r=0;r<t.length;++r)p(e,r,t[r])}else{e={};for(var n in t)p(e,n,t[n])}return e}var v=s(r,!0);return{get:n(d(v)),set:l(v),enumerable:!0,configurable:!0}}var s=r(43),o=r(16);t.exports=a},function(t,e,r){"use strict";function n(t,e,r,n,i,a){this._gl=t,this._wrapper=e,this._index=r,this._locations=n,this._dimension=i,this._constFunc=a}function i(t,e,r,i,a,s,o){for(var u=["gl","v"],h=[],c=0;c<a;++c)u.push("x"+c),h.push("x"+c);u.push("if(x0.length===void 0){return gl.vertexAttrib"+a+"f(v,"+h.join()+")}else{return gl.vertexAttrib"+a+"fv(v,x0)}");var l=Function.apply(null,u),f=new n(t,e,r,i,a,l);Object.defineProperty(s,o,{set:function(e){return t.disableVertexAttribArray(i[r]),l(t,i[r],e),e},get:function(){return f},enumerable:!0})}function a(t,e,r,n,a,s,o){for(var u=new Array(a),h=new Array(a),c=0;c<a;++c)i(t,e,r[c],n,a,u,c),h[c]=u[c];Object.defineProperty(u,"location",{set:function(t){if(Array.isArray(t))for(var e=0;e<a;++e)h[e].location=t[e];else for(var e=0;e<a;++e)h[e].location=t+e;return t},get:function(){for(var t=new Array(a),e=0;e<a;++e)t[e]=n[r[e]];return t},enumerable:!0}),u.pointer=function(e,i,s,o){e=e||t.FLOAT,i=!!i,s=s||a*a,o=o||0;for(var u=0;u<a;++u){var h=n[r[u]];t.vertexAttribPointer(h,a,e,i,s,o+u*a),t.enableVertexAttribArray(h)}};var l=new Array(a),f=t["vertexAttrib"+a+"fv"];Object.defineProperty(s,o,{set:function(e){for(var i=0;i<a;++i){var s=n[r[i]];if(t.disableVertexAttribArray(s),Array.isArray(e[0]))f.call(t,s,e[i]);else{for(var o=0;o<a;++o)l[o]=e[a*i+o];f.call(t,s,l)}}return e},get:function(){return u},enumerable:!0})}function s(t,e,r,n){for(var s={},u=0,h=r.length;u<h;++u){var c=r[u],l=c.name,f=c.type,p=c.locations;switch(f){case"bool":case"int":case"float":i(t,e,p[0],n,1,s,l);break;default:if(f.indexOf("vec")>=0){var d=f.charCodeAt(f.length-1)-48;if(d<2||d>4)throw new o("","Invalid data type for attribute "+l+": "+f);i(t,e,p[0],n,d,s,l)}else{if(!(f.indexOf("mat")>=0))throw new o("","Unknown data type for attribute "+l+": "+f);var d=f.charCodeAt(f.length-1)-48;if(d<2||d>4)throw new o("","Invalid data type for attribute "+l+": "+f);a(t,e,p,n,d,s,l)}}}return s}t.exports=s;var o=r(16),u=n.prototype;u.pointer=function(t,e,r,n){var i=this,a=i._gl,s=i._locations[i._index];a.vertexAttribPointer(s,i._dimension,t||a.FLOAT,!!e,r||0,n||0),a.enableVertexAttribArray(s)},u.set=function(t,e,r,n){return this._constFunc(this._locations[this._index],t,e,r,n)},Object.defineProperty(u,"location",{get:function(){return this._locations[this._index]},set:function(t){return t!==this._locations[this._index]&&(this._locations[this._index]=0|t,this._wrapper.program=null),0|t}})},function(t,e,r){"use strict";function n(t,e,r,n,i,a,s){this.id=t,this.src=e,this.type=r,this.shader=n,this.count=a,this.programs=[],this.cache=s}function i(t){this.gl=t,this.shaders=[{},{}],this.programs={}}function a(t,e,r){var n=t.createShader(e);if(t.shaderSource(n,r),t.compileShader(n),!t.getShaderParameter(n,t.COMPILE_STATUS)){var i=t.getShaderInfoLog(n);try{var a=l(i,r,e)}catch(t){throw new c(i,"Error compiling shader:\n"+i)}throw new c(i,a.short,a.long)}return n}function s(t,e,r,n,i){var a=t.createProgram();t.attachShader(a,e),t.attachShader(a,r);for(var s=0;s<n.length;++s)t.bindAttribLocation(a,i[s],n[s]);if(t.linkProgram(a),!t.getProgramParameter(a,t.LINK_STATUS)){var o=t.getProgramInfoLog(a);throw new c(o,"Error linking program: "+o)}return a}function o(t){var e=p.get(t);return e||(e=new i(t),p.set(t,e)),e}function u(t,e,r){return o(t).getShaderReference(e,r)}function h(t,e,r,n,i){return o(t).getProgram(e,r,n,i)}e.shader=u,e.program=h;var c=r(16),l=r(102),f="undefined"==typeof WeakMap?r(116):WeakMap,p=new f,d=0;n.prototype.dispose=function(){if(0==--this.count){for(var t=this.cache,e=t.gl,r=this.programs,n=0,i=r.length;n<i;++n){var a=t.programs[r[n]];a&&(delete t.programs[n],e.deleteProgram(a))}e.deleteShader(this.shader),delete t.shaders[this.type===e.FRAGMENT_SHADER|0][this.src]}};var v=i.prototype;v.getShaderReference=function(t,e){var r=this.gl,i=this.shaders[t===r.FRAGMENT_SHADER|0],s=i[e];if(s&&r.isShader(s.shader))s.count+=1;else{var o=a(r,t,e);s=i[e]=new n(d++,e,t,o,[],1,this)}return s},v.getProgram=function(t,e,r,n){var i=[t.id,e.id,r.join(":"),n.join(":")].join("@"),a=this.programs[i];return a&&this.gl.isProgram(a)||(this.programs[i]=a=s(this.gl,t.shader,e.shader,r,n),t.programs.push(i),e.programs.push(i)),a}},function(t,e,r){function n(t,e,r){"use strict";var n=s(e)||"of unknown name (see npm glsl-shader-name)",u="unknown type";void 0!==r&&(u=r===a.FRAGMENT_SHADER?"fragment":"vertex");for(var h=i("Error compiling %s shader %s:\n",u,n),c=i("%s%s",h,t),l=t.split("\n"),f={},p=0;p<l.length;p++){var d=l[p];if(""!==d&&"\0"!==d){var v=parseInt(d.split(":")[2]);if(isNaN(v))throw new Error(i("Could not parse error: %s",d));f[v]=d}}for(var m=o(e).split("\n"),p=0;p<m.length;p++)if(f[p+3]||f[p+2]||f[p+1]){var g=m[p];if(h+=g+"\n",f[p+1]){var y=f[p+1];y=y.substr(y.split(":",3).join(":").length+1).trim(),h+=i("^^^ %s\n\n",y)}}return{long:h.trim(),short:c.trim()}}var i=r(103).sprintf,a=r(104),s=r(106),o=r(113);t.exports=n},function(t,e,r){var n;!function(){"use strict";function i(t){return s(o(t),arguments)}function a(t,e){return i.apply(null,[t].concat(e||[]))}function s(t,e){var r,n,a,s,o,h,c,l,f,p=1,d=t.length,v="";for(n=0;n<d;n++)if("string"==typeof t[n])v+=t[n];else if(Array.isArray(t[n])){if(s=t[n],s[2])for(r=e[p],a=0;a<s[2].length;a++){if(!r.hasOwnProperty(s[2][a]))throw new Error(i('[sprintf] property "%s" does not exist',s[2][a]));r=r[s[2][a]]}else r=s[1]?e[s[1]]:e[p++];if(u.not_type.test(s[8])&&u.not_primitive.test(s[8])&&r instanceof Function&&(r=r()),u.numeric_arg.test(s[8])&&"number"!=typeof r&&isNaN(r))throw new TypeError(i("[sprintf] expecting number but found %T",r));switch(u.number.test(s[8])&&(l=r>=0),s[8]){case"b":r=parseInt(r,10).toString(2);break;case"c":r=String.fromCharCode(parseInt(r,10));break;case"d":case"i":r=parseInt(r,10);break;case"j":r=JSON.stringify(r,null,s[6]?parseInt(s[6]):0);break;case"e":r=s[7]?parseFloat(r).toExponential(s[7]):parseFloat(r).toExponential();break;case"f":r=s[7]?parseFloat(r).toFixed(s[7]):parseFloat(r);break;case"g":r=s[7]?String(Number(r.toPrecision(s[7]))):parseFloat(r);break;case"o":r=(parseInt(r,10)>>>0).toString(8);break;case"s":r=String(r),r=s[7]?r.substring(0,s[7]):r;break;case"t":r=String(!!r),r=s[7]?r.substring(0,s[7]):r;break;case"T":r=Object.prototype.toString.call(r).slice(8,-1).toLowerCase(),r=s[7]?r.substring(0,s[7]):r;break;case"u":r=parseInt(r,10)>>>0;break;case"v":r=r.valueOf(),r=s[7]?r.substring(0,s[7]):r;break;case"x":r=(parseInt(r,10)>>>0).toString(16);break;case"X":r=(parseInt(r,10)>>>0).toString(16).toUpperCase()}u.json.test(s[8])?v+=r:(!u.number.test(s[8])||l&&!s[3]?f="":(f=l?"+":"-",r=r.toString().replace(u.sign,"")),h=s[4]?"0"===s[4]?"0":s[4].charAt(1):" ",c=s[6]-(f+r).length,o=s[6]&&c>0?h.repeat(c):"",v+=s[5]?f+r+o:"0"===h?f+o+r:o+f+r)}return v}function o(t){if(h[t])return h[t];for(var e,r=t,n=[],i=0;r;){if(null!==(e=u.text.exec(r)))n.push(e[0]);else if(null!==(e=u.modulo.exec(r)))n.push("%");else{if(null===(e=u.placeholder.exec(r)))throw new SyntaxError("[sprintf] unexpected placeholder");if(e[2]){i|=1;var a=[],s=e[2],o=[];if(null===(o=u.key.exec(s)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(a.push(o[1]);""!==(s=s.substring(o[0].length));)if(null!==(o=u.key_access.exec(s)))a.push(o[1]);else{if(null===(o=u.index_access.exec(s)))throw new SyntaxError("[sprintf] failed to parse named argument key");a.push(o[1])}e[2]=a}else i|=2;if(3===i)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");n.push(e)}r=r.substring(e[0].length)}return h[t]=n}var u={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[\+\-]/},h=Object.create(null);e.sprintf=i,e.vsprintf=a,"undefined"!=typeof window&&(window.sprintf=i,window.vsprintf=a,void 0!==(n=function(){return{sprintf:i,vsprintf:a}}.call(e,r,e,t))&&(t.exports=n))}()},function(t,e,r){var n=r(105);t.exports=function(t){return n[t]}},function(t,e){t.exports={0:"NONE",1:"ONE",2:"LINE_LOOP",3:"LINE_STRIP",4:"TRIANGLES",5:"TRIANGLE_STRIP",6:"TRIANGLE_FAN",256:"DEPTH_BUFFER_BIT",512:"NEVER",513:"LESS",514:"EQUAL",515:"LEQUAL",516:"GREATER",517:"NOTEQUAL",518:"GEQUAL",519:"ALWAYS",768:"SRC_COLOR",769:"ONE_MINUS_SRC_COLOR",770:"SRC_ALPHA",771:"ONE_MINUS_SRC_ALPHA",772:"DST_ALPHA",773:"ONE_MINUS_DST_ALPHA",774:"DST_COLOR",775:"ONE_MINUS_DST_COLOR",776:"SRC_ALPHA_SATURATE",1024:"STENCIL_BUFFER_BIT",1028:"FRONT",1029:"BACK",1032:"FRONT_AND_BACK",1280:"INVALID_ENUM",1281:"INVALID_VALUE",1282:"INVALID_OPERATION",1285:"OUT_OF_MEMORY",1286:"INVALID_FRAMEBUFFER_OPERATION",2304:"CW",2305:"CCW",2849:"LINE_WIDTH",2884:"CULL_FACE",2885:"CULL_FACE_MODE",2886:"FRONT_FACE",2928:"DEPTH_RANGE",2929:"DEPTH_TEST",2930:"DEPTH_WRITEMASK",2931:"DEPTH_CLEAR_VALUE",2932:"DEPTH_FUNC",2960:"STENCIL_TEST",2961:"STENCIL_CLEAR_VALUE",2962:"STENCIL_FUNC",2963:"STENCIL_VALUE_MASK",2964:"STENCIL_FAIL",2965:"STENCIL_PASS_DEPTH_FAIL",2966:"STENCIL_PASS_DEPTH_PASS",2967:"STENCIL_REF",2968:"STENCIL_WRITEMASK",2978:"VIEWPORT",3024:"DITHER",3042:"BLEND",3088:"SCISSOR_BOX",3089:"SCISSOR_TEST",3106:"COLOR_CLEAR_VALUE",3107:"COLOR_WRITEMASK",3317:"UNPACK_ALIGNMENT",3333:"PACK_ALIGNMENT",3379:"MAX_TEXTURE_SIZE",3386:"MAX_VIEWPORT_DIMS",3408:"SUBPIXEL_BITS",3410:"RED_BITS",3411:"GREEN_BITS",3412:"BLUE_BITS",3413:"ALPHA_BITS",3414:"DEPTH_BITS",3415:"STENCIL_BITS",3553:"TEXTURE_2D",4352:"DONT_CARE",4353:"FASTEST",4354:"NICEST",5120:"BYTE",5121:"UNSIGNED_BYTE",5122:"SHORT",5123:"UNSIGNED_SHORT",5124:"INT",5125:"UNSIGNED_INT",5126:"FLOAT",5386:"INVERT",5890:"TEXTURE",6401:"STENCIL_INDEX",6402:"DEPTH_COMPONENT",6406:"ALPHA",6407:"RGB",6408:"RGBA",6409:"LUMINANCE",6410:"LUMINANCE_ALPHA",7680:"KEEP",7681:"REPLACE",7682:"INCR",7683:"DECR",7936:"VENDOR",7937:"RENDERER",7938:"VERSION",9728:"NEAREST",9729:"LINEAR",9984:"NEAREST_MIPMAP_NEAREST",9985:"LINEAR_MIPMAP_NEAREST",9986:"NEAREST_MIPMAP_LINEAR",9987:"LINEAR_MIPMAP_LINEAR",10240:"TEXTURE_MAG_FILTER",10241:"TEXTURE_MIN_FILTER",10242:"TEXTURE_WRAP_S",10243:"TEXTURE_WRAP_T",10497:"REPEAT",10752:"POLYGON_OFFSET_UNITS",16384:"COLOR_BUFFER_BIT",32769:"CONSTANT_COLOR",32770:"ONE_MINUS_CONSTANT_COLOR",32771:"CONSTANT_ALPHA",32772:"ONE_MINUS_CONSTANT_ALPHA",32773:"BLEND_COLOR",32774:"FUNC_ADD",32777:"BLEND_EQUATION_RGB",32778:"FUNC_SUBTRACT",32779:"FUNC_REVERSE_SUBTRACT",32819:"UNSIGNED_SHORT_4_4_4_4",32820:"UNSIGNED_SHORT_5_5_5_1",32823:"POLYGON_OFFSET_FILL",32824:"POLYGON_OFFSET_FACTOR",32854:"RGBA4",32855:"RGB5_A1",32873:"TEXTURE_BINDING_2D",32926:"SAMPLE_ALPHA_TO_COVERAGE",32928:"SAMPLE_COVERAGE",32936:"SAMPLE_BUFFERS",32937:"SAMPLES",32938:"SAMPLE_COVERAGE_VALUE",32939:"SAMPLE_COVERAGE_INVERT",32968:"BLEND_DST_RGB",32969:"BLEND_SRC_RGB",32970:"BLEND_DST_ALPHA",32971:"BLEND_SRC_ALPHA",33071:"CLAMP_TO_EDGE",33170:"GENERATE_MIPMAP_HINT",33189:"DEPTH_COMPONENT16",33306:"DEPTH_STENCIL_ATTACHMENT",33635:"UNSIGNED_SHORT_5_6_5",33648:"MIRRORED_REPEAT",33901:"ALIASED_POINT_SIZE_RANGE",33902:"ALIASED_LINE_WIDTH_RANGE",33984:"TEXTURE0",33985:"TEXTURE1",33986:"TEXTURE2",33987:"TEXTURE3",33988:"TEXTURE4",33989:"TEXTURE5",33990:"TEXTURE6",33991:"TEXTURE7",33992:"TEXTURE8",33993:"TEXTURE9",33994:"TEXTURE10",33995:"TEXTURE11",33996:"TEXTURE12",33997:"TEXTURE13",33998:"TEXTURE14",33999:"TEXTURE15",34e3:"TEXTURE16",34001:"TEXTURE17",34002:"TEXTURE18",34003:"TEXTURE19",34004:"TEXTURE20",34005:"TEXTURE21",34006:"TEXTURE22",34007:"TEXTURE23",34008:"TEXTURE24",34009:"TEXTURE25",34010:"TEXTURE26",34011:"TEXTURE27",34012:"TEXTURE28",34013:"TEXTURE29",34014:"TEXTURE30",34015:"TEXTURE31",34016:"ACTIVE_TEXTURE",34024:"MAX_RENDERBUFFER_SIZE",34041:"DEPTH_STENCIL",34055:"INCR_WRAP",34056:"DECR_WRAP",34067:"TEXTURE_CUBE_MAP",34068:"TEXTURE_BINDING_CUBE_MAP",34069:"TEXTURE_CUBE_MAP_POSITIVE_X",34070:"TEXTURE_CUBE_MAP_NEGATIVE_X",34071:"TEXTURE_CUBE_MAP_POSITIVE_Y",34072:"TEXTURE_CUBE_MAP_NEGATIVE_Y",34073:"TEXTURE_CUBE_MAP_POSITIVE_Z",34074:"TEXTURE_CUBE_MAP_NEGATIVE_Z",34076:"MAX_CUBE_MAP_TEXTURE_SIZE",34338:"VERTEX_ATTRIB_ARRAY_ENABLED",34339:"VERTEX_ATTRIB_ARRAY_SIZE",34340:"VERTEX_ATTRIB_ARRAY_STRIDE",34341:"VERTEX_ATTRIB_ARRAY_TYPE",34342:"CURRENT_VERTEX_ATTRIB",34373:"VERTEX_ATTRIB_ARRAY_POINTER",34466:"NUM_COMPRESSED_TEXTURE_FORMATS",34467:"COMPRESSED_TEXTURE_FORMATS",34660:"BUFFER_SIZE",34661:"BUFFER_USAGE",34816:"STENCIL_BACK_FUNC",34817:"STENCIL_BACK_FAIL",34818:"STENCIL_BACK_PASS_DEPTH_FAIL",34819:"STENCIL_BACK_PASS_DEPTH_PASS",34877:"BLEND_EQUATION_ALPHA",34921:"MAX_VERTEX_ATTRIBS",34922:"VERTEX_ATTRIB_ARRAY_NORMALIZED",34930:"MAX_TEXTURE_IMAGE_UNITS",34962:"ARRAY_BUFFER",34963:"ELEMENT_ARRAY_BUFFER",34964:"ARRAY_BUFFER_BINDING",34965:"ELEMENT_ARRAY_BUFFER_BINDING",34975:"VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",35040:"STREAM_DRAW",35044:"STATIC_DRAW",35048:"DYNAMIC_DRAW",35632:"FRAGMENT_SHADER",35633:"VERTEX_SHADER",35660:"MAX_VERTEX_TEXTURE_IMAGE_UNITS",35661:"MAX_COMBINED_TEXTURE_IMAGE_UNITS",35663:"SHADER_TYPE",35664:"FLOAT_VEC2",35665:"FLOAT_VEC3",35666:"FLOAT_VEC4",35667:"INT_VEC2",35668:"INT_VEC3",35669:"INT_VEC4",35670:"BOOL",35671:"BOOL_VEC2",35672:"BOOL_VEC3",35673:"BOOL_VEC4",35674:"FLOAT_MAT2",35675:"FLOAT_MAT3",35676:"FLOAT_MAT4",35678:"SAMPLER_2D",35680:"SAMPLER_CUBE",35712:"DELETE_STATUS",35713:"COMPILE_STATUS",35714:"LINK_STATUS",35715:"VALIDATE_STATUS",35716:"INFO_LOG_LENGTH",35717:"ATTACHED_SHADERS",35718:"ACTIVE_UNIFORMS",35719:"ACTIVE_UNIFORM_MAX_LENGTH",35720:"SHADER_SOURCE_LENGTH",35721:"ACTIVE_ATTRIBUTES",35722:"ACTIVE_ATTRIBUTE_MAX_LENGTH",35724:"SHADING_LANGUAGE_VERSION",35725:"CURRENT_PROGRAM",36003:"STENCIL_BACK_REF",36004:"STENCIL_BACK_VALUE_MASK",36005:"STENCIL_BACK_WRITEMASK",36006:"FRAMEBUFFER_BINDING",36007:"RENDERBUFFER_BINDING",36048:"FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",36049:"FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",36050:"FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",36051:"FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",36053:"FRAMEBUFFER_COMPLETE",36054:"FRAMEBUFFER_INCOMPLETE_ATTACHMENT",36055:"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",36057:"FRAMEBUFFER_INCOMPLETE_DIMENSIONS",36061:"FRAMEBUFFER_UNSUPPORTED",36064:"COLOR_ATTACHMENT0",36096:"DEPTH_ATTACHMENT",36128:"STENCIL_ATTACHMENT",36160:"FRAMEBUFFER",36161:"RENDERBUFFER",36162:"RENDERBUFFER_WIDTH",36163:"RENDERBUFFER_HEIGHT",36164:"RENDERBUFFER_INTERNAL_FORMAT",36168:"STENCIL_INDEX8",36176:"RENDERBUFFER_RED_SIZE",36177:"RENDERBUFFER_GREEN_SIZE",36178:"RENDERBUFFER_BLUE_SIZE",36179:"RENDERBUFFER_ALPHA_SIZE",36180:"RENDERBUFFER_DEPTH_SIZE",36181:"RENDERBUFFER_STENCIL_SIZE",36194:"RGB565",36336:"LOW_FLOAT",36337:"MEDIUM_FLOAT",36338:"HIGH_FLOAT",36339:"LOW_INT",36340:"MEDIUM_INT",36341:"HIGH_INT",36346:"SHADER_COMPILER",36347:"MAX_VERTEX_UNIFORM_VECTORS",36348:"MAX_VARYING_VECTORS",36349:"MAX_FRAGMENT_UNIFORM_VECTORS",37440:"UNPACK_FLIP_Y_WEBGL",37441:"UNPACK_PREMULTIPLY_ALPHA_WEBGL",37442:"CONTEXT_LOST_WEBGL",37443:"UNPACK_COLORSPACE_CONVERSION_WEBGL",37444:"BROWSER_DEFAULT_WEBGL"}},function(t,e,r){function n(t){for(var e=Array.isArray(t)?t:i(t),r=0;r<e.length;r++){var n=e[r];if("preprocessor"===n.type){var s=n.data.match(/\#define\s+SHADER_NAME(_B64)?\s+(.+)$/);if(s&&s[2]){var o=s[1],u=s[2];return(o?a(u):u).trim()}}}}var i=r(107),a=r(112);t.exports=n},function(t,e,r){function n(t,e){var r=i(e),n=[];return n=n.concat(r(t)),n=n.concat(r(null))}var i=r(108);t.exports=n},function(t,e,r){function n(t){function e(t){t.length&&j.push({type:w[V],data:t,position:q,line:X,column:Y})}function r(t){D=0,W+=t,F=W.length;for(var e;C=W[D],D<F;){switch(e=D,V){case l:D=R();break;case f:D=S();break;case p:D=T();break;case d:D=N();break;case v:D=O();break;case E:D=P();break;case m:D=U();break;case c:D=L();break;case x:D=A();break;case h:D=M()}if(e!==D)switch(W[e]){case"\n":Y=0,++X;break;default:++Y}}return B+=D,W=W.slice(D),j}function n(t){return k.length&&e(k.join("")),V=b,e("(eof)"),j}function M(){return k=k.length?[]:k,"/"===z&&"*"===C?(q=B+D-1,V=l,z=C,D+1):"/"===z&&"/"===C?(q=B+D-1,V=f,z=C,D+1):"#"===C?(V=p,q=B+D,D):/\s/.test(C)?(V=x,q=B+D,D):(G=/\d/.test(C),H=/[^\w_]/.test(C),q=B+D,V=G?v:H?d:c,D)}function A(){return/[^\s]/g.test(C)?(e(k.join("")),V=h,D):(k.push(C),z=C,D+1)}function T(){return"\r"!==C&&"\n"!==C||"\\"===z?(k.push(C),z=C,D+1):(e(k.join("")),V=h,D)}function S(){return T()}function R(){return"/"===C&&"*"===z?(k.push(C),e(k.join("")),V=h,D+1):(k.push(C),z=C,D+1)}function N(){if("."===z&&/\d/.test(C))return V=m,D;if("/"===z&&"*"===C)return V=l,D;if("/"===z&&"/"===C)return V=f,D;if("."===C&&k.length){for(;I(k););return V=m,D}if(";"===C||")"===C||"("===C){if(k.length)for(;I(k););return e(C),V=h,D+1}var t=2===k.length&&"="!==C;if(/[\w_\d\s]/.test(C)||t){for(;I(k););return V=h,D}return k.push(C),z=C,D+1}function I(t){for(var r,n,i=0;;){if(r=a.indexOf(t.slice(0,t.length+i).join("")),n=a[r],-1===r){if(i--+t.length>0)continue;n=t.slice(0,1).join("")}return e(n),q+=n.length,k=k.slice(n.length),k.length}}function P(){return/[^a-fA-F0-9]/.test(C)?(e(k.join("")),V=h,D):(k.push(C),z=C,D+1)}function O(){return"."===C?(k.push(C),V=m,z=C,D+1):/[eE]/.test(C)?(k.push(C),V=m,z=C,D+1):"x"===C&&1===k.length&&"0"===k[0]?(V=E,k.push(C),z=C,D+1):/[^\d]/.test(C)?(e(k.join("")),V=h,D):(k.push(C),z=C,D+1)}function U(){return"f"===C&&(k.push(C),z=C,D+=1),/[eE]/.test(C)?(k.push(C),z=C,D+1):"-"===C&&/[eE]/.test(z)?(k.push(C),z=C,D+1):/[^\d]/.test(C)?(e(k.join("")),V=h,D):(k.push(C),z=C,D+1)}function L(){if(/[^\d\w_]/.test(C)){var t=k.join("");return V=Q.indexOf(t)>-1?_:Z.indexOf(t)>-1?y:g,e(k.join("")),V=h,D}return k.push(C),z=C,D+1}var C,z,F,D=0,B=0,V=h,k=[],j=[],X=1,Y=0,q=0,G=!1,H=!1,W="";t=t||{};var Z=s,Q=i;return"300 es"===t.version&&(Z=u,Q=o),function(t){return j=[],null!==t?r(t.replace?t.replace(/\r\n/g,"\n"):t):n()}}t.exports=n;var i=r(44),a=r(109),s=r(45),o=r(110),u=r(111),h=999,c=9999,l=0,f=1,p=2,d=3,v=4,m=5,g=6,y=7,_=8,x=9,b=10,E=11,w=["block-comment","line-comment","preprocessor","operator","integer","float","ident","builtin","keyword","whitespace","eof","integer"]},function(t,e){t.exports=["<<=",">>=","++","--","<<",">>","<=",">=","==","!=","&&","||","+=","-=","*=","/=","%=","&=","^^","^=","|=","(",")","[","]",".","!","~","*","/","%","+","-","<",">","&","^","|","?",":","=",",",";","{","}"]},function(t,e,r){var n=r(44);t.exports=n.slice().concat(["layout","centroid","smooth","case","mat2x2","mat2x3","mat2x4","mat3x2","mat3x3","mat3x4","mat4x2","mat4x3","mat4x4","uint","uvec2","uvec3","uvec4","samplerCubeShadow","sampler2DArray","sampler2DArrayShadow","isampler2D","isampler3D","isamplerCube","isampler2DArray","usampler2D","usampler3D","usamplerCube","usampler2DArray","coherent","restrict","readonly","writeonly","resource","atomic_uint","noperspective","patch","sample","subroutine","common","partition","active","filter","image1D","image2D","image3D","imageCube","iimage1D","iimage2D","iimage3D","iimageCube","uimage1D","uimage2D","uimage3D","uimageCube","image1DArray","image2DArray","iimage1DArray","iimage2DArray","uimage1DArray","uimage2DArray","image1DShadow","image2DShadow","image1DArrayShadow","image2DArrayShadow","imageBuffer","iimageBuffer","uimageBuffer","sampler1DArray","sampler1DArrayShadow","isampler1D","isampler1DArray","usampler1D","usampler1DArray","isampler2DRect","usampler2DRect","samplerBuffer","isamplerBuffer","usamplerBuffer","sampler2DMS","isampler2DMS","usampler2DMS","sampler2DMSArray","isampler2DMSArray","usampler2DMSArray"])},function(t,e,r){var n=r(45);n=n.slice().filter(function(t){return!/^(gl\_|texture)/.test(t)}),t.exports=n.concat(["gl_VertexID","gl_InstanceID","gl_Position","gl_PointSize","gl_FragCoord","gl_FrontFacing","gl_FragDepth","gl_PointCoord","gl_MaxVertexAttribs","gl_MaxVertexUniformVectors","gl_MaxVertexOutputVectors","gl_MaxFragmentInputVectors","gl_MaxVertexTextureImageUnits","gl_MaxCombinedTextureImageUnits","gl_MaxTextureImageUnits","gl_MaxFragmentUniformVectors","gl_MaxDrawBuffers","gl_MinProgramTexelOffset","gl_MaxProgramTexelOffset","gl_DepthRangeParameters","gl_DepthRange","trunc","round","roundEven","isnan","isinf","floatBitsToInt","floatBitsToUint","intBitsToFloat","uintBitsToFloat","packSnorm2x16","unpackSnorm2x16","packUnorm2x16","unpackUnorm2x16","packHalf2x16","unpackHalf2x16","outerProduct","transpose","determinant","inverse","texture","textureSize","textureProj","textureLod","textureOffset","texelFetch","texelFetchOffset","textureProjOffset","textureLodOffset","textureProjLod","textureProjLodOffset","textureGrad","textureGradOffset","textureProjGrad","textureProjGradOffset"])},function(t,e){t.exports=function(t){return atob(t)}},function(t,e,r){function n(t,e,r){e="number"==typeof e?e:1,r=r||": ";var n=t.split(/\r?\n/),a=String(n.length+e-1).length;return n.map(function(t,n){var s=n+e,o=String(s).length;return i(s,a-o)+r+t}).join("\n")}var i=r(114);t.exports=n},function(t,e,r){"use strict";var n=r(115);t.exports=function(t,e,r){return r=void 0!==r?r+"":" ",n(r,e)+t}},function(t,e,r){"use strict";function n(t,e){if("string"!=typeof t)throw new TypeError("expected a string");if(1===e)return t;if(2===e)return t+t;var r=t.length*e;if(i!==t||void 0===i)i=t,a="";else if(a.length>=r)return a.substr(0,r);for(;r>a.length&&e>1;)1&e&&(a+=t),e>>=1,t+=t;return a+=t,a=a.substr(0,r)}var i,a="";t.exports=n},function(t,e,r){function n(){var t=i();return{get:function(e,r){var n=t(e);return n.hasOwnProperty("value")?n.value:r},set:function(e,r){return t(e).value=r,this},has:function(e){return"value"in t(e)},delete:function(e){return delete t(e).value}}}var i=r(117);t.exports=n},function(t,e,r){function n(){var t={};return function(e){if(("object"!=typeof e||null===e)&&"function"!=typeof e)throw new Error("Weakmap-shim: Key must be object");var r=e.valueOf(t);return r&&r.identity===t?r:i(e,t)}}var i=r(118);t.exports=n},function(t,e){function r(t,e){var r={identity:e},n=t.valueOf;return Object.defineProperty(t,"valueOf",{value:function(t){return t!==e?n.apply(this,arguments):r},writable:!0}),r}t.exports=r},function(t,e,r){"use strict";function n(t,e){if(!o){var r=Object.keys(s);o={};for(var n=0;n<r.length;++n){var i=r[n];o[t[i]]=s[i]}}return o[e]}function i(t,e){for(var r=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),i=[],a=0;a<r;++a){var s=t.getActiveUniform(e,a);if(s){var o=n(t,s.type);if(s.size>1)for(var u=0;u<s.size;++u)i.push({name:s.name.replace("[0]","["+u+"]"),type:o});else i.push({name:s.name,type:o})}}return i}function a(t,e){for(var r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),i=[],a=0;a<r;++a){var s=t.getActiveAttrib(e,a);s&&i.push({name:s.name,type:n(t,s.type)})}return i}e.uniforms=i,e.attributes=a;var s={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube"},o=null},function(t,e,r){t.exports={create:r(121),clone:r(122),copy:r(123),identity:r(46),transpose:r(124),invert:r(125),adjoint:r(126),determinant:r(127),multiply:r(128),translate:r(129),scale:r(130),rotate:r(131),rotateX:r(132),rotateY:r(133),rotateZ:r(134),fromRotationTranslation:r(135),fromQuat:r(136),frustum:r(137),perspective:r(138),perspectiveFromFieldOfView:r(139),ortho:r(140),lookAt:r(141),str:r(142)}},function(t,e){function r(){var t=new Float32Array(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}t.exports=r},function(t,e){function r(t){var e=new Float32Array(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}t.exports=r},function(t,e){function r(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}t.exports=r},function(t,e){function r(t,e){if(t===e){var r=e[1],n=e[2],i=e[3],a=e[6],s=e[7],o=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=r,t[6]=e[9],t[7]=e[13],t[8]=n,t[9]=a,t[11]=e[14],t[12]=i,t[13]=s,t[14]=o}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}t.exports=r},function(t,e){function r(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],s=e[4],o=e[5],u=e[6],h=e[7],c=e[8],l=e[9],f=e[10],p=e[11],d=e[12],v=e[13],m=e[14],g=e[15],y=r*o-n*s,_=r*u-i*s,x=r*h-a*s,b=n*u-i*o,E=n*h-a*o,w=i*h-a*u,M=c*v-l*d,A=c*m-f*d,T=c*g-p*d,S=l*m-f*v,R=l*g-p*v,N=f*g-p*m,I=y*N-_*R+x*S+b*T-E*A+w*M;return I?(I=1/I,t[0]=(o*N-u*R+h*S)*I,t[1]=(i*R-n*N-a*S)*I,t[2]=(v*w-m*E+g*b)*I,t[3]=(f*E-l*w-p*b)*I,t[4]=(u*T-s*N-h*A)*I,t[5]=(r*N-i*T+a*A)*I,t[6]=(m*x-d*w-g*_)*I,t[7]=(c*w-f*x+p*_)*I,t[8]=(s*R-o*T+h*M)*I,t[9]=(n*T-r*R-a*M)*I,t[10]=(d*E-v*x+g*y)*I,t[11]=(l*x-c*E-p*y)*I,t[12]=(o*A-s*S-u*M)*I,t[13]=(r*S-n*A+i*M)*I,t[14]=(v*_-d*b-m*y)*I,t[15]=(c*b-l*_+f*y)*I,t):null}t.exports=r},function(t,e){function r(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],s=e[4],o=e[5],u=e[6],h=e[7],c=e[8],l=e[9],f=e[10],p=e[11],d=e[12],v=e[13],m=e[14],g=e[15];return t[0]=o*(f*g-p*m)-l*(u*g-h*m)+v*(u*p-h*f),t[1]=-(n*(f*g-p*m)-l*(i*g-a*m)+v*(i*p-a*f)),t[2]=n*(u*g-h*m)-o*(i*g-a*m)+v*(i*h-a*u),t[3]=-(n*(u*p-h*f)-o*(i*p-a*f)+l*(i*h-a*u)),t[4]=-(s*(f*g-p*m)-c*(u*g-h*m)+d*(u*p-h*f)),t[5]=r*(f*g-p*m)-c*(i*g-a*m)+d*(i*p-a*f),t[6]=-(r*(u*g-h*m)-s*(i*g-a*m)+d*(i*h-a*u)),t[7]=r*(u*p-h*f)-s*(i*p-a*f)+c*(i*h-a*u),t[8]=s*(l*g-p*v)-c*(o*g-h*v)+d*(o*p-h*l),t[9]=-(r*(l*g-p*v)-c*(n*g-a*v)+d*(n*p-a*l)),t[10]=r*(o*g-h*v)-s*(n*g-a*v)+d*(n*h-a*o),t[11]=-(r*(o*p-h*l)-s*(n*p-a*l)+c*(n*h-a*o)),t[12]=-(s*(l*m-f*v)-c*(o*m-u*v)+d*(o*f-u*l)),t[13]=r*(l*m-f*v)-c*(n*m-i*v)+d*(n*f-i*l),t[14]=-(r*(o*m-u*v)-s*(n*m-i*v)+d*(n*u-i*o)),t[15]=r*(o*f-u*l)-s*(n*f-i*l)+c*(n*u-i*o),t}t.exports=r},function(t,e){function r(t){var e=t[0],r=t[1],n=t[2],i=t[3],a=t[4],s=t[5],o=t[6],u=t[7],h=t[8],c=t[9],l=t[10],f=t[11],p=t[12],d=t[13],v=t[14],m=t[15];return(e*s-r*a)*(l*m-f*v)-(e*o-n*a)*(c*m-f*d)+(e*u-i*a)*(c*v-l*d)+(r*o-n*s)*(h*m-f*p)-(r*u-i*s)*(h*v-l*p)+(n*u-i*o)*(h*d-c*p)}t.exports=r},function(t,e){function r(t,e,r){var n=e[0],i=e[1],a=e[2],s=e[3],o=e[4],u=e[5],h=e[6],c=e[7],l=e[8],f=e[9],p=e[10],d=e[11],v=e[12],m=e[13],g=e[14],y=e[15],_=r[0],x=r[1],b=r[2],E=r[3];return t[0]=_*n+x*o+b*l+E*v,t[1]=_*i+x*u+b*f+E*m,t[2]=_*a+x*h+b*p+E*g,t[3]=_*s+x*c+b*d+E*y,_=r[4],x=r[5],b=r[6],E=r[7],t[4]=_*n+x*o+b*l+E*v,t[5]=_*i+x*u+b*f+E*m,t[6]=_*a+x*h+b*p+E*g,t[7]=_*s+x*c+b*d+E*y,_=r[8],x=r[9],b=r[10],E=r[11],t[8]=_*n+x*o+b*l+E*v,t[9]=_*i+x*u+b*f+E*m,t[10]=_*a+x*h+b*p+E*g,t[11]=_*s+x*c+b*d+E*y,_=r[12],x=r[13],b=r[14],E=r[15],t[12]=_*n+x*o+b*l+E*v,t[13]=_*i+x*u+b*f+E*m,t[14]=_*a+x*h+b*p+E*g,t[15]=_*s+x*c+b*d+E*y,t}t.exports=r},function(t,e){function r(t,e,r){var n,i,a,s,o,u,h,c,l,f,p,d,v=r[0],m=r[1],g=r[2];return e===t?(t[12]=e[0]*v+e[4]*m+e[8]*g+e[12],t[13]=e[1]*v+e[5]*m+e[9]*g+e[13],t[14]=e[2]*v+e[6]*m+e[10]*g+e[14],t[15]=e[3]*v+e[7]*m+e[11]*g+e[15]):(n=e[0],i=e[1],a=e[2],s=e[3],o=e[4],u=e[5],h=e[6],c=e[7],l=e[8],f=e[9],p=e[10],d=e[11],t[0]=n,t[1]=i,t[2]=a,t[3]=s,t[4]=o,t[5]=u,t[6]=h,t[7]=c,t[8]=l,t[9]=f,t[10]=p,t[11]=d,t[12]=n*v+o*m+l*g+e[12],t[13]=i*v+u*m+f*g+e[13],t[14]=a*v+h*m+p*g+e[14],t[15]=s*v+c*m+d*g+e[15]),t}t.exports=r},function(t,e){function r(t,e,r){var n=r[0],i=r[1],a=r[2];return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*a,t[9]=e[9]*a,t[10]=e[10]*a,t[11]=e[11]*a,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}t.exports=r},function(t,e){function r(t,e,r,n){var i,a,s,o,u,h,c,l,f,p,d,v,m,g,y,_,x,b,E,w,M,A,T,S,R=n[0],N=n[1],I=n[2],P=Math.sqrt(R*R+N*N+I*I);return Math.abs(P)<1e-6?null:(P=1/P,R*=P,N*=P,I*=P,i=Math.sin(r),a=Math.cos(r),s=1-a,o=e[0],u=e[1],h=e[2],c=e[3],l=e[4],f=e[5],p=e[6],d=e[7],v=e[8],m=e[9],g=e[10],y=e[11],_=R*R*s+a,x=N*R*s+I*i,b=I*R*s-N*i,E=R*N*s-I*i,w=N*N*s+a,M=I*N*s+R*i,A=R*I*s+N*i,T=N*I*s-R*i,S=I*I*s+a,t[0]=o*_+l*x+v*b,t[1]=u*_+f*x+m*b,t[2]=h*_+p*x+g*b,t[3]=c*_+d*x+y*b,t[4]=o*E+l*w+v*M,t[5]=u*E+f*w+m*M,t[6]=h*E+p*w+g*M,t[7]=c*E+d*w+y*M,t[8]=o*A+l*T+v*S,t[9]=u*A+f*T+m*S,t[10]=h*A+p*T+g*S,t[11]=c*A+d*T+y*S,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}t.exports=r},function(t,e){function r(t,e,r){var n=Math.sin(r),i=Math.cos(r),a=e[4],s=e[5],o=e[6],u=e[7],h=e[8],c=e[9],l=e[10],f=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=a*i+h*n,t[5]=s*i+c*n,t[6]=o*i+l*n,t[7]=u*i+f*n,t[8]=h*i-a*n,t[9]=c*i-s*n,t[10]=l*i-o*n,t[11]=f*i-u*n,t}t.exports=r},function(t,e){function r(t,e,r){var n=Math.sin(r),i=Math.cos(r),a=e[0],s=e[1],o=e[2],u=e[3],h=e[8],c=e[9],l=e[10],f=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=a*i-h*n,t[1]=s*i-c*n,t[2]=o*i-l*n,t[3]=u*i-f*n,t[8]=a*n+h*i,t[9]=s*n+c*i,t[10]=o*n+l*i,t[11]=u*n+f*i,t}t.exports=r},function(t,e){function r(t,e,r){var n=Math.sin(r),i=Math.cos(r),a=e[0],s=e[1],o=e[2],u=e[3],h=e[4],c=e[5],l=e[6],f=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=a*i+h*n,t[1]=s*i+c*n,t[2]=o*i+l*n,t[3]=u*i+f*n,t[4]=h*i-a*n,t[5]=c*i-s*n,t[6]=l*i-o*n,t[7]=f*i-u*n,t}t.exports=r},function(t,e){function r(t,e,r){var n=e[0],i=e[1],a=e[2],s=e[3],o=n+n,u=i+i,h=a+a,c=n*o,l=n*u,f=n*h,p=i*u,d=i*h,v=a*h,m=s*o,g=s*u,y=s*h;return t[0]=1-(p+v),t[1]=l+y,t[2]=f-g,t[3]=0,t[4]=l-y,t[5]=1-(c+v),t[6]=d+m,t[7]=0,t[8]=f+g,t[9]=d-m,t[10]=1-(c+p),t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t}t.exports=r},function(t,e){function r(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],s=r+r,o=n+n,u=i+i,h=r*s,c=n*s,l=n*o,f=i*s,p=i*o,d=i*u,v=a*s,m=a*o,g=a*u;return t[0]=1-l-d,t[1]=c+g,t[2]=f-m,t[3]=0,t[4]=c-g,t[5]=1-h-d,t[6]=p+v,t[7]=0,t[8]=f+m,t[9]=p-v,t[10]=1-h-l,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}t.exports=r},function(t,e){function r(t,e,r,n,i,a,s){var o=1/(r-e),u=1/(i-n),h=1/(a-s);return t[0]=2*a*o,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*a*u,t[6]=0,t[7]=0,t[8]=(r+e)*o,t[9]=(i+n)*u,t[10]=(s+a)*h,t[11]=-1,t[12]=0,t[13]=0,t[14]=s*a*2*h,t[15]=0,t}t.exports=r},function(t,e){function r(t,e,r,n,i){var a=1/Math.tan(e/2),s=1/(n-i);return t[0]=a/r,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(i+n)*s,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*i*n*s,t[15]=0,t}t.exports=r},function(t,e){function r(t,e,r,n){var i=Math.tan(e.upDegrees*Math.PI/180),a=Math.tan(e.downDegrees*Math.PI/180),s=Math.tan(e.leftDegrees*Math.PI/180),o=Math.tan(e.rightDegrees*Math.PI/180),u=2/(s+o),h=2/(i+a);return t[0]=u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=h,t[6]=0,t[7]=0,t[8]=-(s-o)*u*.5,t[9]=(i-a)*h*.5,t[10]=n/(r-n),t[11]=-1,t[12]=0,t[13]=0,t[14]=n*r/(r-n),t[15]=0,t}t.exports=r},function(t,e){function r(t,e,r,n,i,a,s){var o=1/(e-r),u=1/(n-i),h=1/(a-s);return t[0]=-2*o,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*h,t[11]=0,t[12]=(e+r)*o,t[13]=(i+n)*u,t[14]=(s+a)*h,t[15]=1,t}t.exports=r},function(t,e,r){function n(t,e,r,n){var a,s,o,u,h,c,l,f,p,d,v=e[0],m=e[1],g=e[2],y=n[0],_=n[1],x=n[2],b=r[0],E=r[1],w=r[2];return Math.abs(v-b)<1e-6&&Math.abs(m-E)<1e-6&&Math.abs(g-w)<1e-6?i(t):(l=v-b,f=m-E,p=g-w,d=1/Math.sqrt(l*l+f*f+p*p),l*=d,f*=d,p*=d,a=_*p-x*f,s=x*l-y*p,o=y*f-_*l,d=Math.sqrt(a*a+s*s+o*o),d?(d=1/d,a*=d,s*=d,o*=d):(a=0,s=0,o=0),u=f*o-p*s,h=p*a-l*o,c=l*s-f*a,d=Math.sqrt(u*u+h*h+c*c),d?(d=1/d,u*=d,h*=d,c*=d):(u=0,h=0,c=0),t[0]=a,t[1]=u,t[2]=l,t[3]=0,t[4]=s,t[5]=h,t[6]=f,t[7]=0,t[8]=o,t[9]=c,t[10]=p,t[11]=0,t[12]=-(a*v+s*m+o*g),t[13]=-(u*v+h*m+c*g),t[14]=-(l*v+f*m+p*g),t[15]=1,t)}var i=r(46);t.exports=n},function(t,e){function r(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}t.exports=r},function(t,e){e.vertexNormals=function(t,e){for(var r=e.length,n=new Array(r),i=0;i<r;++i)n[i]=[0,0,0];for(var i=0;i<t.length;++i)for(var a=t[i],s=0,o=a[a.length-1],u=a[0],h=0;h<a.length;++h){s=o,o=u,u=a[(h+1)%a.length];for(var c=e[s],l=e[o],f=e[u],p=new Array(3),d=0,v=new Array(3),m=0,g=0;g<3;++g)p[g]=c[g]-l[g],d+=p[g]*p[g],v[g]=f[g]-l[g],m+=v[g]*v[g];if(d*m>1e-6)for(var y=n[o],_=1/Math.sqrt(d*m),g=0;g<3;++g){var x=(g+1)%3,b=(g+2)%3;y[g]+=_*(v[x]*p[b]-v[b]*p[x])}}for(var i=0;i<r;++i){for(var y=n[i],E=0,g=0;g<3;++g)E+=y[g]*y[g];if(E>1e-6)for(var _=1/Math.sqrt(E),g=0;g<3;++g)y[g]*=_;else for(var g=0;g<3;++g)y[g]=0}return n},e.faceNormals=function(t,e){for(var r=t.length,n=new Array(r),i=0;i<r;++i){for(var a=t[i],s=new Array(3),o=0;o<3;++o)s[o]=e[a[o]];for(var u=new Array(3),h=new Array(3),o=0;o<3;++o)u[o]=s[1][o]-s[0][o],h[o]=s[2][o]-s[0][o];for(var c=new Array(3),l=0,o=0;o<3;++o){var f=(o+1)%3,p=(o+2)%3;c[o]=u[f]*h[p]-u[p]*h[f],l+=c[o]*c[o]}l=l>1e-6?1/Math.sqrt(l):0;for(var o=0;o<3;++o)c[o]*=l;n[i]=c}return n}},function(t,e,r){function n(t,e){function r(){var r=u("<control>")||u("<alt>"),i=u("<shift>"),a=t.height,s=t.width;if(e.rotate&&c.left&&!r&&!i&&f.rotate([l.x/s-.5,l.y/a-.5],[l.prevX/s-.5,l.prevY/a-.5]),(e.pan&&c.right||c.left&&r&&!i)&&f.pan([h*(l.x-l.prevX)/s,h*(l.y-l.prevY)/a]),e.scale&&n[1]&&(f.distance*=Math.exp(n[1]/a)),e.scale&&(c.middle||c.left&&!r&&i)){var o=l.y-l.prevY;if(!o)return;f.distance*=Math.exp(o/a)}n.flush(),l.flush()}e=e||{},e.pan=!1!==e.pan,e.scale=!1!==e.scale,e.rotate=!1!==e.rotate;var n=a(t,e.scale),c=o(t,e.rotate),l=s(t),f=i([0,10,30],[0,0,0],[0,1,0]);return f.tick=r,f}var i=r(145),a=r(147),s=r(149),o=r(150),u=r(151),h=1;t.exports=n},function(t,e,r){"use strict";function n(t,e,r){this.rotation=t,this.center=e,this.distance=r}function i(t,e){var r=e[0],n=e[1],i=(e[2],r*r+n*n);i>1&&(i=1),t[0]=-e[0],t[1]=e[1],t[2]=e[2]||Math.sqrt(1-i),t[3]=0}function a(t,e,r){t=t||[0,0,-1],e=e||[0,0,0],r=r||[0,1,0];var i=new n(c.create(),o.create(),1);return i.lookAt(t,e,r),i}var s=r(146),o=s.vec3,u=s.mat3,h=s.mat4,c=s.quat,l=new Float32Array(16),f=new Float32Array(16),p=n.prototype;p.view=function(t){return t||(t=h.create()),f[0]=f[1]=0,f[2]=-this.distance,h.fromRotationTranslation(t,c.conjugate(l,this.rotation),f),h.translate(t,t,o.negate(l,this.center)),t},p.lookAt=function(t,e,r){h.lookAt(l,t,e,r),u.fromMat4(l,l),c.fromMat3(this.rotation,l),o.copy(this.center,e),this.distance=o.distance(t,e)},p.pan=function(t){var e=this.distance;l[0]=-e*(t[0]||0),l[1]=e*(t[1]||0),l[2]=e*(t[2]||0),o.transformQuat(l,l,this.rotation),o.add(this.center,this.center,l)},p.zoom=function(t){this.distance+=t,this.distance<0&&(this.distance=0)},p.rotate=function(t,e){i(l,t),i(f,e),c.invert(f,f),c.multiply(l,l,f),c.length(l)<1e-6||(c.multiply(this.rotation,this.rotation,l),c.normalize(this.rotation,this.rotation))},t.exports=a},function(t,e,r){!function(e,r){t.exports=r()}(0,function(){return function(t){function e(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var r={};return e.m=t,e.c=r,e.d=function(t,r,n){e.o(t,r)||Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=4)}([function(t,e,r){"use strict";function n(t){e.ARRAY_TYPE=o=t}function i(t){return t*u}function a(t,e){return Math.abs(t-e)<=s*Math.max(1,Math.abs(t),Math.abs(e))}Object.defineProperty(e,"__esModule",{value:!0}),e.setMatrixArrayType=n,e.toRadian=i,e.equals=a;var s=e.EPSILON=1e-6,o=e.ARRAY_TYPE="undefined"!=typeof Float32Array?Float32Array:Array,u=(e.RANDOM=Math.random,Math.PI/180)},function(t,e,r){"use strict";function n(){var t=new L.ARRAY_TYPE(9);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function i(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}function a(t){var e=new L.ARRAY_TYPE(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function s(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function o(t,e,r,n,i,a,s,o,u){var h=new L.ARRAY_TYPE(9);return h[0]=t,h[1]=e,h[2]=r,h[3]=n,h[4]=i,h[5]=a,h[6]=s,h[7]=o,h[8]=u,h}function u(t,e,r,n,i,a,s,o,u,h){return t[0]=e,t[1]=r,t[2]=n,t[3]=i,t[4]=a,t[5]=s,t[6]=o,t[7]=u,t[8]=h,t}function h(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function c(t,e){if(t===e){var r=e[1],n=e[2],i=e[5];t[1]=e[3],t[2]=e[6],t[3]=r,t[5]=e[7],t[6]=n,t[7]=i}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t}function l(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],s=e[4],o=e[5],u=e[6],h=e[7],c=e[8],l=c*s-o*h,f=-c*a+o*u,p=h*a-s*u,d=r*l+n*f+i*p;return d?(d=1/d,t[0]=l*d,t[1]=(-c*n+i*h)*d,t[2]=(o*n-i*s)*d,t[3]=f*d,t[4]=(c*r-i*u)*d,t[5]=(-o*r+i*a)*d,t[6]=p*d,t[7]=(-h*r+n*u)*d,t[8]=(s*r-n*a)*d,t):null}function f(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],s=e[4],o=e[5],u=e[6],h=e[7],c=e[8];return t[0]=s*c-o*h,t[1]=i*h-n*c,t[2]=n*o-i*s,t[3]=o*u-a*c,t[4]=r*c-i*u,t[5]=i*a-r*o,t[6]=a*h-s*u,t[7]=n*u-r*h,t[8]=r*s-n*a,t}function p(t){var e=t[0],r=t[1],n=t[2],i=t[3],a=t[4],s=t[5],o=t[6],u=t[7],h=t[8];return e*(h*a-s*u)+r*(-h*i+s*o)+n*(u*i-a*o)}function d(t,e,r){var n=e[0],i=e[1],a=e[2],s=e[3],o=e[4],u=e[5],h=e[6],c=e[7],l=e[8],f=r[0],p=r[1],d=r[2],v=r[3],m=r[4],g=r[5],y=r[6],_=r[7],x=r[8];return t[0]=f*n+p*s+d*h,t[1]=f*i+p*o+d*c,t[2]=f*a+p*u+d*l,t[3]=v*n+m*s+g*h,t[4]=v*i+m*o+g*c,t[5]=v*a+m*u+g*l,t[6]=y*n+_*s+x*h,t[7]=y*i+_*o+x*c,t[8]=y*a+_*u+x*l,t}function v(t,e,r){var n=e[0],i=e[1],a=e[2],s=e[3],o=e[4],u=e[5],h=e[6],c=e[7],l=e[8],f=r[0],p=r[1];return t[0]=n,t[1]=i,t[2]=a,t[3]=s,t[4]=o,t[5]=u,t[6]=f*n+p*s+h,t[7]=f*i+p*o+c,t[8]=f*a+p*u+l,t}function m(t,e,r){var n=e[0],i=e[1],a=e[2],s=e[3],o=e[4],u=e[5],h=e[6],c=e[7],l=e[8],f=Math.sin(r),p=Math.cos(r);return t[0]=p*n+f*s,t[1]=p*i+f*o,t[2]=p*a+f*u,t[3]=p*s-f*n,t[4]=p*o-f*i,t[5]=p*u-f*a,t[6]=h,t[7]=c,t[8]=l,t}function g(t,e,r){var n=r[0],i=r[1];return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=i*e[3],t[4]=i*e[4],t[5]=i*e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function y(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t}function _(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=r,t[2]=0,t[3]=-r,t[4]=n,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function x(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function b(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t}function E(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],s=r+r,o=n+n,u=i+i,h=r*s,c=n*s,l=n*o,f=i*s,p=i*o,d=i*u,v=a*s,m=a*o,g=a*u;return t[0]=1-l-d,t[3]=c-g,t[6]=f+m,t[1]=c+g,t[4]=1-h-d,t[7]=p-v,t[2]=f-m,t[5]=p+v,t[8]=1-h-l,t}function w(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],s=e[4],o=e[5],u=e[6],h=e[7],c=e[8],l=e[9],f=e[10],p=e[11],d=e[12],v=e[13],m=e[14],g=e[15],y=r*o-n*s,_=r*u-i*s,x=r*h-a*s,b=n*u-i*o,E=n*h-a*o,w=i*h-a*u,M=c*v-l*d,A=c*m-f*d,T=c*g-p*d,S=l*m-f*v,R=l*g-p*v,N=f*g-p*m,I=y*N-_*R+x*S+b*T-E*A+w*M;return I?(I=1/I,t[0]=(o*N-u*R+h*S)*I,t[1]=(u*T-s*N-h*A)*I,t[2]=(s*R-o*T+h*M)*I,t[3]=(i*R-n*N-a*S)*I,t[4]=(r*N-i*T+a*A)*I,t[5]=(n*T-r*R-a*M)*I,t[6]=(v*w-m*E+g*b)*I,t[7]=(m*x-d*w-g*_)*I,t[8]=(d*E-v*x+g*y)*I,t):null}function M(t,e,r){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/r,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}function A(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"}function T(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2))}function S(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t[4]=e[4]+r[4],t[5]=e[5]+r[5],t[6]=e[6]+r[6],t[7]=e[7]+r[7],t[8]=e[8]+r[8],t}function R(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t[4]=e[4]-r[4],t[5]=e[5]-r[5],t[6]=e[6]-r[6],t[7]=e[7]-r[7],t[8]=e[8]-r[8],t}function N(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t[8]=e[8]*r,t}function I(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t[4]=e[4]+r[4]*n,t[5]=e[5]+r[5]*n,t[6]=e[6]+r[6]*n,t[7]=e[7]+r[7]*n,t[8]=e[8]+r[8]*n,t}function P(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]}function O(t,e){var r=t[0],n=t[1],i=t[2],a=t[3],s=t[4],o=t[5],u=t[6],h=t[7],c=t[8],l=e[0],f=e[1],p=e[2],d=e[3],v=e[4],m=e[5],g=e[6],y=e[7],_=e[8];return Math.abs(r-l)<=L.EPSILON*Math.max(1,Math.abs(r),Math.abs(l))&&Math.abs(n-f)<=L.EPSILON*Math.max(1,Math.abs(n),Math.abs(f))&&Math.abs(i-p)<=L.EPSILON*Math.max(1,Math.abs(i),Math.abs(p))&&Math.abs(a-d)<=L.EPSILON*Math.max(1,Math.abs(a),Math.abs(d))&&Math.abs(s-v)<=L.EPSILON*Math.max(1,Math.abs(s),Math.abs(v))&&Math.abs(o-m)<=L.EPSILON*Math.max(1,Math.abs(o),Math.abs(m))&&Math.abs(u-g)<=L.EPSILON*Math.max(1,Math.abs(u),Math.abs(g))&&Math.abs(h-y)<=L.EPSILON*Math.max(1,Math.abs(h),Math.abs(y))&&Math.abs(c-_)<=L.EPSILON*Math.max(1,Math.abs(c),Math.abs(_))}Object.defineProperty(e,"__esModule",{value:!0}),e.sub=e.mul=void 0,e.create=n,e.fromMat4=i,e.clone=a,e.copy=s,e.fromValues=o,e.set=u,e.identity=h,e.transpose=c,e.invert=l,e.adjoint=f,e.determinant=p,e.multiply=d,e.translate=v,e.rotate=m,e.scale=g,e.fromTranslation=y,e.fromRotation=_,e.fromScaling=x,e.fromMat2d=b,e.fromQuat=E,e.normalFromMat4=w,e.projection=M,e.str=A,e.frob=T,e.add=S,e.subtract=R,e.multiplyScalar=N,e.multiplyScalarAndAdd=I,e.exactEquals=P,e.equals=O;var U=r(0),L=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(U);e.mul=d,e.sub=R},function(t,e,r){"use strict";function n(){var t=new X.ARRAY_TYPE(3);return t[0]=0,t[1]=0,t[2]=0,t}function i(t){var e=new X.ARRAY_TYPE(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function a(t){var e=t[0],r=t[1],n=t[2];return Math.sqrt(e*e+r*r+n*n)}function s(t,e,r){var n=new X.ARRAY_TYPE(3);return n[0]=t,n[1]=e,n[2]=r,n}function o(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function u(t,e,r,n){return t[0]=e,t[1]=r,t[2]=n,t}function h(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t}function c(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t}function l(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t[2]=e[2]*r[2],t}function f(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t[2]=e[2]/r[2],t}function p(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t}function d(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t}function v(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t[2]=Math.min(e[2],r[2]),t}function m(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t[2]=Math.max(e[2],r[2]),t}function g(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t}function y(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t}function _(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t}function x(t,e){var r=e[0]-t[0],n=e[1]-t[1],i=e[2]-t[2];return Math.sqrt(r*r+n*n+i*i)}function b(t,e){var r=e[0]-t[0],n=e[1]-t[1],i=e[2]-t[2];return r*r+n*n+i*i}function E(t){var e=t[0],r=t[1],n=t[2];return e*e+r*r+n*n}function w(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function M(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}function A(t,e){var r=e[0],n=e[1],i=e[2],a=r*r+n*n+i*i;return a>0&&(a=1/Math.sqrt(a),t[0]=e[0]*a,t[1]=e[1]*a,t[2]=e[2]*a),t}function T(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function S(t,e,r){var n=e[0],i=e[1],a=e[2],s=r[0],o=r[1],u=r[2];return t[0]=i*u-a*o,t[1]=a*s-n*u,t[2]=n*o-i*s,t}function R(t,e,r,n){var i=e[0],a=e[1],s=e[2];return t[0]=i+n*(r[0]-i),t[1]=a+n*(r[1]-a),t[2]=s+n*(r[2]-s),t}function N(t,e,r,n,i,a){var s=a*a,o=s*(2*a-3)+1,u=s*(a-2)+a,h=s*(a-1),c=s*(3-2*a);return t[0]=e[0]*o+r[0]*u+n[0]*h+i[0]*c,t[1]=e[1]*o+r[1]*u+n[1]*h+i[1]*c,t[2]=e[2]*o+r[2]*u+n[2]*h+i[2]*c,t}function I(t,e,r,n,i,a){var s=1-a,o=s*s,u=a*a,h=o*s,c=3*a*o,l=3*u*s,f=u*a;return t[0]=e[0]*h+r[0]*c+n[0]*l+i[0]*f,t[1]=e[1]*h+r[1]*c+n[1]*l+i[1]*f,t[2]=e[2]*h+r[2]*c+n[2]*l+i[2]*f,t}function P(t,e){e=e||1;var r=2*X.RANDOM()*Math.PI,n=2*X.RANDOM()-1,i=Math.sqrt(1-n*n)*e;return t[0]=Math.cos(r)*i,t[1]=Math.sin(r)*i,t[2]=n*e,t}function O(t,e,r){var n=e[0],i=e[1],a=e[2],s=r[3]*n+r[7]*i+r[11]*a+r[15];return s=s||1,t[0]=(r[0]*n+r[4]*i+r[8]*a+r[12])/s,t[1]=(r[1]*n+r[5]*i+r[9]*a+r[13])/s,t[2]=(r[2]*n+r[6]*i+r[10]*a+r[14])/s,t}function U(t,e,r){var n=e[0],i=e[1],a=e[2];return t[0]=n*r[0]+i*r[3]+a*r[6],t[1]=n*r[1]+i*r[4]+a*r[7],t[2]=n*r[2]+i*r[5]+a*r[8],t}function L(t,e,r){var n=e[0],i=e[1],a=e[2],s=r[0],o=r[1],u=r[2],h=r[3],c=h*n+o*a-u*i,l=h*i+u*n-s*a,f=h*a+s*i-o*n,p=-s*n-o*i-u*a;return t[0]=c*h+p*-s+l*-u-f*-o,t[1]=l*h+p*-o+f*-s-c*-u,t[2]=f*h+p*-u+c*-o-l*-s,t}function C(t,e,r,n){var i=[],a=[];return i[0]=e[0]-r[0],i[1]=e[1]-r[1],i[2]=e[2]-r[2],a[0]=i[0],a[1]=i[1]*Math.cos(n)-i[2]*Math.sin(n),a[2]=i[1]*Math.sin(n)+i[2]*Math.cos(n),t[0]=a[0]+r[0],t[1]=a[1]+r[1],t[2]=a[2]+r[2],t}function z(t,e,r,n){var i=[],a=[];return i[0]=e[0]-r[0],i[1]=e[1]-r[1],i[2]=e[2]-r[2],a[0]=i[2]*Math.sin(n)+i[0]*Math.cos(n),a[1]=i[1],a[2]=i[2]*Math.cos(n)-i[0]*Math.sin(n),t[0]=a[0]+r[0],t[1]=a[1]+r[1],t[2]=a[2]+r[2],t}function F(t,e,r,n){var i=[],a=[];return i[0]=e[0]-r[0],i[1]=e[1]-r[1],i[2]=e[2]-r[2],a[0]=i[0]*Math.cos(n)-i[1]*Math.sin(n),a[1]=i[0]*Math.sin(n)+i[1]*Math.cos(n),a[2]=i[2],t[0]=a[0]+r[0],t[1]=a[1]+r[1],t[2]=a[2]+r[2],t}function D(t,e){var r=s(t[0],t[1],t[2]),n=s(e[0],e[1],e[2]);A(r,r),A(n,n);var i=T(r,n);return i>1?0:i<-1?Math.PI:Math.acos(i)}function B(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"}function V(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}function k(t,e){var r=t[0],n=t[1],i=t[2],a=e[0],s=e[1],o=e[2];return Math.abs(r-a)<=X.EPSILON*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(n-s)<=X.EPSILON*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(i-o)<=X.EPSILON*Math.max(1,Math.abs(i),Math.abs(o))}Object.defineProperty(e,"__esModule",{value:!0}),e.forEach=e.sqrLen=e.len=e.sqrDist=e.dist=e.div=e.mul=e.sub=void 0,e.create=n,e.clone=i,e.length=a,e.fromValues=s,e.copy=o,e.set=u,e.add=h,e.subtract=c,e.multiply=l,e.divide=f,e.ceil=p,e.floor=d,e.min=v,e.max=m,e.round=g,e.scale=y,e.scaleAndAdd=_,e.distance=x,e.squaredDistance=b,e.squaredLength=E,e.negate=w,e.inverse=M,e.normalize=A,e.dot=T,e.cross=S,e.lerp=R,e.hermite=N,e.bezier=I,e.random=P,e.transformMat4=O,e.transformMat3=U,e.transformQuat=L,e.rotateX=C,e.rotateY=z,e.rotateZ=F,e.angle=D,e.str=B,e.exactEquals=V,e.equals=k;var j=r(0),X=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(j);e.sub=c,e.mul=l,e.div=f,e.dist=x,e.sqrDist=b,e.len=a,e.sqrLen=E,e.forEach=function(){var t=n();return function(e,r,n,i,a,s){var o=void 0,u=void 0;for(r||(r=3),n||(n=0),u=i?Math.min(i*r+n,e.length):e.length,o=n;o<u;o+=r)t[0]=e[o],t[1]=e[o+1],t[2]=e[o+2],a(t,t,s),e[o]=t[0],e[o+1]=t[1],e[o+2]=t[2];return e}}()},function(t,e,r){"use strict";function n(){var t=new C.ARRAY_TYPE(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t}function i(t){var e=new C.ARRAY_TYPE(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function a(t,e,r,n){var i=new C.ARRAY_TYPE(4);return i[0]=t,i[1]=e,i[2]=r,i[3]=n,i}function s(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function o(t,e,r,n,i){return t[0]=e,t[1]=r,t[2]=n,t[3]=i,t}function u(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t}function h(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t}function c(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t[2]=e[2]*r[2],t[3]=e[3]*r[3],t}function l(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t[2]=e[2]/r[2],t[3]=e[3]/r[3],t}function f(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t[3]=Math.ceil(e[3]),t}function p(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t[3]=Math.floor(e[3]),t}function d(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t[2]=Math.min(e[2],r[2]),t[3]=Math.min(e[3],r[3]),t}function v(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t[2]=Math.max(e[2],r[2]),t[3]=Math.max(e[3],r[3]),t}function m(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t[3]=Math.round(e[3]),t}function g(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t}function y(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t}function _(t,e){var r=e[0]-t[0],n=e[1]-t[1],i=e[2]-t[2],a=e[3]-t[3];return Math.sqrt(r*r+n*n+i*i+a*a)}function x(t,e){var r=e[0]-t[0],n=e[1]-t[1],i=e[2]-t[2],a=e[3]-t[3];return r*r+n*n+i*i+a*a}function b(t){var e=t[0],r=t[1],n=t[2],i=t[3];return Math.sqrt(e*e+r*r+n*n+i*i)}function E(t){var e=t[0],r=t[1],n=t[2],i=t[3];return e*e+r*r+n*n+i*i}function w(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t}function M(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t}function A(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],s=r*r+n*n+i*i+a*a;return s>0&&(s=1/Math.sqrt(s),t[0]=r*s,t[1]=n*s,t[2]=i*s,t[3]=a*s),t}function T(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function S(t,e,r,n){var i=e[0],a=e[1],s=e[2],o=e[3];return t[0]=i+n*(r[0]-i),t[1]=a+n*(r[1]-a),t[2]=s+n*(r[2]-s),t[3]=o+n*(r[3]-o),t}function R(t,e){return e=e||1,t[0]=C.RANDOM(),t[1]=C.RANDOM(),t[2]=C.RANDOM(),t[3]=C.RANDOM(),A(t,t),g(t,t,e),t}function N(t,e,r){var n=e[0],i=e[1],a=e[2],s=e[3];return t[0]=r[0]*n+r[4]*i+r[8]*a+r[12]*s,t[1]=r[1]*n+r[5]*i+r[9]*a+r[13]*s,t[2]=r[2]*n+r[6]*i+r[10]*a+r[14]*s,t[3]=r[3]*n+r[7]*i+r[11]*a+r[15]*s,t}function I(t,e,r){var n=e[0],i=e[1],a=e[2],s=r[0],o=r[1],u=r[2],h=r[3],c=h*n+o*a-u*i,l=h*i+u*n-s*a,f=h*a+s*i-o*n,p=-s*n-o*i-u*a;return t[0]=c*h+p*-s+l*-u-f*-o,t[1]=l*h+p*-o+f*-s-c*-u,t[2]=f*h+p*-u+c*-o-l*-s,t[3]=e[3],t}function P(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function O(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]}function U(t,e){var r=t[0],n=t[1],i=t[2],a=t[3],s=e[0],o=e[1],u=e[2],h=e[3];return Math.abs(r-s)<=C.EPSILON*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(n-o)<=C.EPSILON*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(i-u)<=C.EPSILON*Math.max(1,Math.abs(i),Math.abs(u))&&Math.abs(a-h)<=C.EPSILON*Math.max(1,Math.abs(a),Math.abs(h))}Object.defineProperty(e,"__esModule",{value:!0}),e.forEach=e.sqrLen=e.len=e.sqrDist=e.dist=e.div=e.mul=e.sub=void 0,e.create=n,e.clone=i,e.fromValues=a,e.copy=s,e.set=o,e.add=u,e.subtract=h,e.multiply=c,e.divide=l,e.ceil=f,e.floor=p,e.min=d,e.max=v,e.round=m,e.scale=g,e.scaleAndAdd=y,e.distance=_,e.squaredDistance=x,e.length=b,e.squaredLength=E,e.negate=w,e.inverse=M,e.normalize=A,e.dot=T,e.lerp=S,e.random=R,e.transformMat4=N,e.transformQuat=I,e.str=P,e.exactEquals=O,e.equals=U;var L=r(0),C=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(L);e.sub=h,e.mul=c,e.div=l,e.dist=_,e.sqrDist=x,e.len=b,e.sqrLen=E,e.forEach=function(){var t=n();return function(e,r,n,i,a,s){var o=void 0,u=void 0;for(r||(r=4),n||(n=0),u=i?Math.min(i*r+n,e.length):e.length,o=n;o<u;o+=r)t[0]=e[o],t[1]=e[o+1],t[2]=e[o+2],t[3]=e[o+3],a(t,t,s),e[o]=t[0],e[o+1]=t[1],e[o+2]=t[2],e[o+3]=t[3];return e}}()},function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}Object.defineProperty(e,"__esModule",{value:!0}),e.vec4=e.vec3=e.vec2=e.quat=e.mat4=e.mat3=e.mat2d=e.mat2=e.glMatrix=void 0;var i=r(0),a=n(i),s=r(5),o=n(s),u=r(6),h=n(u),c=r(1),l=n(c),f=r(7),p=n(f),d=r(8),v=n(d),m=r(9),g=n(m),y=r(2),_=n(y),x=r(3),b=n(x);e.glMatrix=a,e.mat2=o,e.mat2d=h,e.mat3=l,e.mat4=p,e.quat=v,e.vec2=g,e.vec3=_,e.vec4=b},function(t,e,r){"use strict";function n(){var t=new R.ARRAY_TYPE(4);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t}function i(t){var e=new R.ARRAY_TYPE(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function a(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function s(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t}function o(t,e,r,n){var i=new R.ARRAY_TYPE(4);return i[0]=t,i[1]=e,i[2]=r,i[3]=n,i}function u(t,e,r,n,i){return t[0]=e,t[1]=r,t[2]=n,t[3]=i,t}function h(t,e){if(t===e){var r=e[1];t[1]=e[2],t[2]=r}else t[0]=e[0],t[1]=e[2],t[2]=e[1],t[3]=e[3];return t}function c(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],s=r*a-i*n;return s?(s=1/s,t[0]=a*s,t[1]=-n*s,t[2]=-i*s,t[3]=r*s,t):null}function l(t,e){var r=e[0];return t[0]=e[3],t[1]=-e[1],t[2]=-e[2],t[3]=r,t}function f(t){return t[0]*t[3]-t[2]*t[1]}function p(t,e,r){var n=e[0],i=e[1],a=e[2],s=e[3],o=r[0],u=r[1],h=r[2],c=r[3];return t[0]=n*o+a*u,t[1]=i*o+s*u,t[2]=n*h+a*c,t[3]=i*h+s*c,t}function d(t,e,r){var n=e[0],i=e[1],a=e[2],s=e[3],o=Math.sin(r),u=Math.cos(r);return t[0]=n*u+a*o,t[1]=i*u+s*o,t[2]=n*-o+a*u,t[3]=i*-o+s*u,t}function v(t,e,r){var n=e[0],i=e[1],a=e[2],s=e[3],o=r[0],u=r[1];return t[0]=n*o,t[1]=i*o,t[2]=a*u,t[3]=s*u,t}function m(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=r,t[2]=-r,t[3]=n,t}function g(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t}function y(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function _(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2))}function x(t,e,r,n){return t[2]=n[2]/n[0],r[0]=n[0],r[1]=n[1],r[3]=n[3]-t[2]*r[1],[t,e,r]}function b(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t}function E(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t}function w(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]}function M(t,e){var r=t[0],n=t[1],i=t[2],a=t[3],s=e[0],o=e[1],u=e[2],h=e[3];return Math.abs(r-s)<=R.EPSILON*Math.max(1,Math.abs(r),Math.abs(s))&&Math.abs(n-o)<=R.EPSILON*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(i-u)<=R.EPSILON*Math.max(1,Math.abs(i),Math.abs(u))&&Math.abs(a-h)<=R.EPSILON*Math.max(1,Math.abs(a),Math.abs(h))}function A(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t}function T(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t}Object.defineProperty(e,"__esModule",{value:!0}),e.sub=e.mul=void 0,e.create=n,e.clone=i,e.copy=a,e.identity=s,e.fromValues=o,e.set=u,e.transpose=h,e.invert=c,e.adjoint=l,e.determinant=f,e.multiply=p,e.rotate=d,e.scale=v,e.fromRotation=m,e.fromScaling=g,e.str=y,e.frob=_,e.LDU=x,e.add=b,e.subtract=E,e.exactEquals=w,e.equals=M,e.multiplyScalar=A,e.multiplyScalarAndAdd=T;var S=r(0),R=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(S);e.mul=p,e.sub=E},function(t,e,r){"use strict";function n(){var t=new S.ARRAY_TYPE(6);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function i(t){var e=new S.ARRAY_TYPE(6);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function a(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function s(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function o(t,e,r,n,i,a){var s=new S.ARRAY_TYPE(6);return s[0]=t,s[1]=e,s[2]=r,s[3]=n,s[4]=i,s[5]=a,s}function u(t,e,r,n,i,a,s){return t[0]=e,t[1]=r,t[2]=n,t[3]=i,t[4]=a,t[5]=s,t}function h(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],s=e[4],o=e[5],u=r*a-n*i;return u?(u=1/u,t[0]=a*u,t[1]=-n*u,t[2]=-i*u,t[3]=r*u,t[4]=(i*o-a*s)*u,t[5]=(n*s-r*o)*u,t):null}function c(t){return t[0]*t[3]-t[1]*t[2]}function l(t,e,r){var n=e[0],i=e[1],a=e[2],s=e[3],o=e[4],u=e[5],h=r[0],c=r[1],l=r[2],f=r[3],p=r[4],d=r[5];return t[0]=n*h+a*c,t[1]=i*h+s*c,t[2]=n*l+a*f,t[3]=i*l+s*f,t[4]=n*p+a*d+o,t[5]=i*p+s*d+u,t}function f(t,e,r){var n=e[0],i=e[1],a=e[2],s=e[3],o=e[4],u=e[5],h=Math.sin(r),c=Math.cos(r);return t[0]=n*c+a*h,t[1]=i*c+s*h,t[2]=n*-h+a*c,t[3]=i*-h+s*c,t[4]=o,t[5]=u,t}function p(t,e,r){var n=e[0],i=e[1],a=e[2],s=e[3],o=e[4],u=e[5],h=r[0],c=r[1];return t[0]=n*h,t[1]=i*h,t[2]=a*c,t[3]=s*c,t[4]=o,t[5]=u,t}function d(t,e,r){var n=e[0],i=e[1],a=e[2],s=e[3],o=e[4],u=e[5],h=r[0],c=r[1];return t[0]=n,t[1]=i,t[2]=a,t[3]=s,t[4]=n*h+a*c+o,t[5]=i*h+s*c+u,t}function v(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=r,t[2]=-r,t[3]=n,t[4]=0,t[5]=0,t}function m(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t[4]=0,t[5]=0,t}function g(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=e[0],t[5]=e[1],t}function y(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"}function _(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+1)}function x(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t[4]=e[4]+r[4],t[5]=e[5]+r[5],t}function b(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t[4]=e[4]-r[4],t[5]=e[5]-r[5],t}function E(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*r,t[5]=e[5]*r,t}function w(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t[4]=e[4]+r[4]*n,t[5]=e[5]+r[5]*n,t}function M(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]}function A(t,e){var r=t[0],n=t[1],i=t[2],a=t[3],s=t[4],o=t[5],u=e[0],h=e[1],c=e[2],l=e[3],f=e[4],p=e[5];return Math.abs(r-u)<=S.EPSILON*Math.max(1,Math.abs(r),Math.abs(u))&&Math.abs(n-h)<=S.EPSILON*Math.max(1,Math.abs(n),Math.abs(h))&&Math.abs(i-c)<=S.EPSILON*Math.max(1,Math.abs(i),Math.abs(c))&&Math.abs(a-l)<=S.EPSILON*Math.max(1,Math.abs(a),Math.abs(l))&&Math.abs(s-f)<=S.EPSILON*Math.max(1,Math.abs(s),Math.abs(f))&&Math.abs(o-p)<=S.EPSILON*Math.max(1,Math.abs(o),Math.abs(p))}Object.defineProperty(e,"__esModule",{value:!0}),e.sub=e.mul=void 0,e.create=n,e.clone=i,e.copy=a,e.identity=s,e.fromValues=o,e.set=u,e.invert=h,e.determinant=c,e.multiply=l,e.rotate=f,e.scale=p,e.translate=d,e.fromRotation=v,e.fromScaling=m,e.fromTranslation=g,e.str=y,e.frob=_,e.add=x,e.subtract=b,e.multiplyScalar=E,e.multiplyScalarAndAdd=w,e.exactEquals=M,e.equals=A;var T=r(0),S=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(T);e.mul=l,e.sub=b},function(t,e,r){"use strict";function n(){var t=new W.ARRAY_TYPE(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function i(t){var e=new W.ARRAY_TYPE(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function a(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function s(t,e,r,n,i,a,s,o,u,h,c,l,f,p,d,v){var m=new W.ARRAY_TYPE(16);return m[0]=t,m[1]=e,m[2]=r,m[3]=n,m[4]=i,m[5]=a,m[6]=s,m[7]=o,m[8]=u,m[9]=h,m[10]=c,m[11]=l,m[12]=f,m[13]=p,m[14]=d,m[15]=v,m}function o(t,e,r,n,i,a,s,o,u,h,c,l,f,p,d,v,m){return t[0]=e,t[1]=r,t[2]=n,t[3]=i,t[4]=a,t[5]=s,t[6]=o,t[7]=u,t[8]=h,t[9]=c,t[10]=l,t[11]=f,t[12]=p,t[13]=d,t[14]=v,t[15]=m,t}function u(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function h(t,e){if(t===e){var r=e[1],n=e[2],i=e[3],a=e[6],s=e[7],o=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=r,t[6]=e[9],t[7]=e[13],t[8]=n,t[9]=a,t[11]=e[14],t[12]=i,t[13]=s,t[14]=o}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}function c(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],s=e[4],o=e[5],u=e[6],h=e[7],c=e[8],l=e[9],f=e[10],p=e[11],d=e[12],v=e[13],m=e[14],g=e[15],y=r*o-n*s,_=r*u-i*s,x=r*h-a*s,b=n*u-i*o,E=n*h-a*o,w=i*h-a*u,M=c*v-l*d,A=c*m-f*d,T=c*g-p*d,S=l*m-f*v,R=l*g-p*v,N=f*g-p*m,I=y*N-_*R+x*S+b*T-E*A+w*M;return I?(I=1/I,t[0]=(o*N-u*R+h*S)*I,t[1]=(i*R-n*N-a*S)*I,t[2]=(v*w-m*E+g*b)*I,t[3]=(f*E-l*w-p*b)*I,t[4]=(u*T-s*N-h*A)*I,t[5]=(r*N-i*T+a*A)*I,t[6]=(m*x-d*w-g*_)*I,t[7]=(c*w-f*x+p*_)*I,t[8]=(s*R-o*T+h*M)*I,t[9]=(n*T-r*R-a*M)*I,t[10]=(d*E-v*x+g*y)*I,t[11]=(l*x-c*E-p*y)*I,t[12]=(o*A-s*S-u*M)*I,t[13]=(r*S-n*A+i*M)*I,t[14]=(v*_-d*b-m*y)*I,t[15]=(c*b-l*_+f*y)*I,t):null}function l(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],s=e[4],o=e[5],u=e[6],h=e[7],c=e[8],l=e[9],f=e[10],p=e[11],d=e[12],v=e[13],m=e[14],g=e[15];return t[0]=o*(f*g-p*m)-l*(u*g-h*m)+v*(u*p-h*f),t[1]=-(n*(f*g-p*m)-l*(i*g-a*m)+v*(i*p-a*f)),t[2]=n*(u*g-h*m)-o*(i*g-a*m)+v*(i*h-a*u),t[3]=-(n*(u*p-h*f)-o*(i*p-a*f)+l*(i*h-a*u)),t[4]=-(s*(f*g-p*m)-c*(u*g-h*m)+d*(u*p-h*f)),t[5]=r*(f*g-p*m)-c*(i*g-a*m)+d*(i*p-a*f),t[6]=-(r*(u*g-h*m)-s*(i*g-a*m)+d*(i*h-a*u)),t[7]=r*(u*p-h*f)-s*(i*p-a*f)+c*(i*h-a*u),t[8]=s*(l*g-p*v)-c*(o*g-h*v)+d*(o*p-h*l),t[9]=-(r*(l*g-p*v)-c*(n*g-a*v)+d*(n*p-a*l)),t[10]=r*(o*g-h*v)-s*(n*g-a*v)+d*(n*h-a*o),t[11]=-(r*(o*p-h*l)-s*(n*p-a*l)+c*(n*h-a*o)),t[12]=-(s*(l*m-f*v)-c*(o*m-u*v)+d*(o*f-u*l)),t[13]=r*(l*m-f*v)-c*(n*m-i*v)+d*(n*f-i*l),t[14]=-(r*(o*m-u*v)-s*(n*m-i*v)+d*(n*u-i*o)),t[15]=r*(o*f-u*l)-s*(n*f-i*l)+c*(n*u-i*o),t}function f(t){var e=t[0],r=t[1],n=t[2],i=t[3],a=t[4],s=t[5],o=t[6],u=t[7],h=t[8],c=t[9],l=t[10],f=t[11],p=t[12],d=t[13],v=t[14],m=t[15];return(e*s-r*a)*(l*m-f*v)-(e*o-n*a)*(c*m-f*d)+(e*u-i*a)*(c*v-l*d)+(r*o-n*s)*(h*m-f*p)-(r*u-i*s)*(h*v-l*p)+(n*u-i*o)*(h*d-c*p)}function p(t,e,r){var n=e[0],i=e[1],a=e[2],s=e[3],o=e[4],u=e[5],h=e[6],c=e[7],l=e[8],f=e[9],p=e[10],d=e[11],v=e[12],m=e[13],g=e[14],y=e[15],_=r[0],x=r[1],b=r[2],E=r[3];return t[0]=_*n+x*o+b*l+E*v,t[1]=_*i+x*u+b*f+E*m,t[2]=_*a+x*h+b*p+E*g,t[3]=_*s+x*c+b*d+E*y,_=r[4],x=r[5],b=r[6],E=r[7],t[4]=_*n+x*o+b*l+E*v,t[5]=_*i+x*u+b*f+E*m,t[6]=_*a+x*h+b*p+E*g,t[7]=_*s+x*c+b*d+E*y,_=r[8],x=r[9],b=r[10],E=r[11],t[8]=_*n+x*o+b*l+E*v,t[9]=_*i+x*u+b*f+E*m,t[10]=_*a+x*h+b*p+E*g,t[11]=_*s+x*c+b*d+E*y,_=r[12],x=r[13],b=r[14],E=r[15],t[12]=_*n+x*o+b*l+E*v,t[13]=_*i+x*u+b*f+E*m,t[14]=_*a+x*h+b*p+E*g,t[15]=_*s+x*c+b*d+E*y,t}function d(t,e,r){var n=r[0],i=r[1],a=r[2],s=void 0,o=void 0,u=void 0,h=void 0,c=void 0,l=void 0,f=void 0,p=void 0,d=void 0,v=void 0,m=void 0,g=void 0;return e===t?(t[12]=e[0]*n+e[4]*i+e[8]*a+e[12],t[13]=e[1]*n+e[5]*i+e[9]*a+e[13],t[14]=e[2]*n+e[6]*i+e[10]*a+e[14],t[15]=e[3]*n+e[7]*i+e[11]*a+e[15]):(s=e[0],o=e[1],u=e[2],h=e[3],c=e[4],l=e[5],f=e[6],p=e[7],d=e[8],v=e[9],m=e[10],g=e[11],t[0]=s,t[1]=o,t[2]=u,t[3]=h,t[4]=c,t[5]=l,t[6]=f,t[7]=p,t[8]=d,t[9]=v,t[10]=m,t[11]=g,t[12]=s*n+c*i+d*a+e[12],t[13]=o*n+l*i+v*a+e[13],t[14]=u*n+f*i+m*a+e[14],t[15]=h*n+p*i+g*a+e[15]),t}function v(t,e,r){var n=r[0],i=r[1],a=r[2];return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*a,t[9]=e[9]*a,t[10]=e[10]*a,t[11]=e[11]*a,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function m(t,e,r,n){var i=n[0],a=n[1],s=n[2],o=Math.sqrt(i*i+a*a+s*s),u=void 0,h=void 0,c=void 0,l=void 0,f=void 0,p=void 0,d=void 0,v=void 0,m=void 0,g=void 0,y=void 0,_=void 0,x=void 0,b=void 0,E=void 0,w=void 0,M=void 0,A=void 0,T=void 0,S=void 0,R=void 0,N=void 0,I=void 0,P=void 0;return Math.abs(o)<W.EPSILON?null:(o=1/o,i*=o,a*=o,s*=o,u=Math.sin(r),h=Math.cos(r),c=1-h,l=e[0],f=e[1],p=e[2],d=e[3],v=e[4],m=e[5],g=e[6],y=e[7],_=e[8],x=e[9],b=e[10],E=e[11],w=i*i*c+h,M=a*i*c+s*u,A=s*i*c-a*u,T=i*a*c-s*u,S=a*a*c+h,R=s*a*c+i*u,N=i*s*c+a*u,I=a*s*c-i*u,P=s*s*c+h,t[0]=l*w+v*M+_*A,t[1]=f*w+m*M+x*A,t[2]=p*w+g*M+b*A,t[3]=d*w+y*M+E*A,t[4]=l*T+v*S+_*R,t[5]=f*T+m*S+x*R,t[6]=p*T+g*S+b*R,t[7]=d*T+y*S+E*R,t[8]=l*N+v*I+_*P,t[9]=f*N+m*I+x*P,t[10]=p*N+g*I+b*P,t[11]=d*N+y*I+E*P,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t)}function g(t,e,r){var n=Math.sin(r),i=Math.cos(r),a=e[4],s=e[5],o=e[6],u=e[7],h=e[8],c=e[9],l=e[10],f=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=a*i+h*n,t[5]=s*i+c*n,t[6]=o*i+l*n,t[7]=u*i+f*n,t[8]=h*i-a*n,t[9]=c*i-s*n,t[10]=l*i-o*n,t[11]=f*i-u*n,t}function y(t,e,r){var n=Math.sin(r),i=Math.cos(r),a=e[0],s=e[1],o=e[2],u=e[3],h=e[8],c=e[9],l=e[10],f=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=a*i-h*n,t[1]=s*i-c*n,t[2]=o*i-l*n,t[3]=u*i-f*n,t[8]=a*n+h*i,t[9]=s*n+c*i,t[10]=o*n+l*i,t[11]=u*n+f*i,t}function _(t,e,r){var n=Math.sin(r),i=Math.cos(r),a=e[0],s=e[1],o=e[2],u=e[3],h=e[4],c=e[5],l=e[6],f=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=a*i+h*n,t[1]=s*i+c*n,t[2]=o*i+l*n,t[3]=u*i+f*n,t[4]=h*i-a*n,t[5]=c*i-s*n,t[6]=l*i-o*n,t[7]=f*i-u*n,t}function x(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function b(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function E(t,e,r){var n=r[0],i=r[1],a=r[2],s=Math.sqrt(n*n+i*i+a*a),o=void 0,u=void 0,h=void 0;return Math.abs(s)<W.EPSILON?null:(s=1/s,n*=s,i*=s,a*=s,o=Math.sin(e),u=Math.cos(e),h=1-u,t[0]=n*n*h+u,t[1]=i*n*h+a*o,t[2]=a*n*h-i*o,t[3]=0,t[4]=n*i*h-a*o,t[5]=i*i*h+u,t[6]=a*i*h+n*o,t[7]=0,t[8]=n*a*h+i*o,t[9]=i*a*h-n*o,t[10]=a*a*h+u,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)}function w(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=n,t[6]=r,t[7]=0,t[8]=0,t[9]=-r,t[10]=n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function M(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=0,t[2]=-r,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=r,t[9]=0,t[10]=n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function A(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=r,t[2]=0,t[3]=0,t[4]=-r,t[5]=n,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function T(t,e,r){var n=e[0],i=e[1],a=e[2],s=e[3],o=n+n,u=i+i,h=a+a,c=n*o,l=n*u,f=n*h,p=i*u,d=i*h,v=a*h,m=s*o,g=s*u,y=s*h;return t[0]=1-(p+v),t[1]=l+y,t[2]=f-g,t[3]=0,t[4]=l-y,t[5]=1-(c+v),t[6]=d+m,t[7]=0,t[8]=f+g,t[9]=d-m,t[10]=1-(c+p),t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t}function S(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t}function R(t,e){var r=e[0],n=e[1],i=e[2],a=e[4],s=e[5],o=e[6],u=e[8],h=e[9],c=e[10];return t[0]=Math.sqrt(r*r+n*n+i*i),t[1]=Math.sqrt(a*a+s*s+o*o),t[2]=Math.sqrt(u*u+h*h+c*c),t}function N(t,e){var r=e[0]+e[5]+e[10],n=0;return r>0?(n=2*Math.sqrt(r+1),t[3]=.25*n,t[0]=(e[6]-e[9])/n,t[1]=(e[8]-e[2])/n,t[2]=(e[1]-e[4])/n):e[0]>e[5]&e[0]>e[10]?(n=2*Math.sqrt(1+e[0]-e[5]-e[10]),t[3]=(e[6]-e[9])/n,t[0]=.25*n,t[1]=(e[1]+e[4])/n,t[2]=(e[8]+e[2])/n):e[5]>e[10]?(n=2*Math.sqrt(1+e[5]-e[0]-e[10]),t[3]=(e[8]-e[2])/n,t[0]=(e[1]+e[4])/n,t[1]=.25*n,t[2]=(e[6]+e[9])/n):(n=2*Math.sqrt(1+e[10]-e[0]-e[5]),t[3]=(e[1]-e[4])/n,t[0]=(e[8]+e[2])/n,t[1]=(e[6]+e[9])/n,t[2]=.25*n),t}function I(t,e,r,n){var i=e[0],a=e[1],s=e[2],o=e[3],u=i+i,h=a+a,c=s+s,l=i*u,f=i*h,p=i*c,d=a*h,v=a*c,m=s*c,g=o*u,y=o*h,_=o*c,x=n[0],b=n[1],E=n[2];return t[0]=(1-(d+m))*x,t[1]=(f+_)*x,t[2]=(p-y)*x,t[3]=0,t[4]=(f-_)*b,t[5]=(1-(l+m))*b,t[6]=(v+g)*b,t[7]=0,t[8]=(p+y)*E,t[9]=(v-g)*E,t[10]=(1-(l+d))*E,t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t}function P(t,e,r,n,i){var a=e[0],s=e[1],o=e[2],u=e[3],h=a+a,c=s+s,l=o+o,f=a*h,p=a*c,d=a*l,v=s*c,m=s*l,g=o*l,y=u*h,_=u*c,x=u*l,b=n[0],E=n[1],w=n[2],M=i[0],A=i[1],T=i[2];return t[0]=(1-(v+g))*b,t[1]=(p+x)*b,t[2]=(d-_)*b,t[3]=0,t[4]=(p-x)*E,t[5]=(1-(f+g))*E,t[6]=(m+y)*E,t[7]=0,t[8]=(d+_)*w,t[9]=(m-y)*w,t[10]=(1-(f+v))*w,t[11]=0,t[12]=r[0]+M-(t[0]*M+t[4]*A+t[8]*T),t[13]=r[1]+A-(t[1]*M+t[5]*A+t[9]*T),t[14]=r[2]+T-(t[2]*M+t[6]*A+t[10]*T),t[15]=1,t}function O(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],s=r+r,o=n+n,u=i+i,h=r*s,c=n*s,l=n*o,f=i*s,p=i*o,d=i*u,v=a*s,m=a*o,g=a*u;return t[0]=1-l-d,t[1]=c+g,t[2]=f-m,t[3]=0,t[4]=c-g,t[5]=1-h-d,t[6]=p+v,t[7]=0,t[8]=f+m,t[9]=p-v,t[10]=1-h-l,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function U(t,e,r,n,i,a,s){var o=1/(r-e),u=1/(i-n),h=1/(a-s);return t[0]=2*a*o,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*a*u,t[6]=0,t[7]=0,t[8]=(r+e)*o,t[9]=(i+n)*u,t[10]=(s+a)*h,t[11]=-1,t[12]=0,t[13]=0,t[14]=s*a*2*h,t[15]=0,t}function L(t,e,r,n,i){var a=1/Math.tan(e/2),s=1/(n-i);return t[0]=a/r,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(i+n)*s,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*i*n*s,t[15]=0,t}function C(t,e,r,n){var i=Math.tan(e.upDegrees*Math.PI/180),a=Math.tan(e.downDegrees*Math.PI/180),s=Math.tan(e.leftDegrees*Math.PI/180),o=Math.tan(e.rightDegrees*Math.PI/180),u=2/(s+o),h=2/(i+a);return t[0]=u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=h,t[6]=0,t[7]=0,t[8]=-(s-o)*u*.5,t[9]=(i-a)*h*.5,t[10]=n/(r-n),t[11]=-1,t[12]=0,t[13]=0,t[14]=n*r/(r-n),t[15]=0,t}function z(t,e,r,n,i,a,s){var o=1/(e-r),u=1/(n-i),h=1/(a-s);return t[0]=-2*o,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*h,t[11]=0,t[12]=(e+r)*o,t[13]=(i+n)*u,t[14]=(s+a)*h,t[15]=1,t}function F(t,e,r,n){var i=void 0,a=void 0,s=void 0,o=void 0,u=void 0,h=void 0,c=void 0,l=void 0,f=void 0,p=void 0,d=e[0],v=e[1],m=e[2],g=n[0],y=n[1],_=n[2],x=r[0],b=r[1],E=r[2];return Math.abs(d-x)<W.EPSILON&&Math.abs(v-b)<W.EPSILON&&Math.abs(m-E)<W.EPSILON?mat4.identity(t):(c=d-x,l=v-b,f=m-E,p=1/Math.sqrt(c*c+l*l+f*f),c*=p,l*=p,f*=p,i=y*f-_*l,a=_*c-g*f,s=g*l-y*c,p=Math.sqrt(i*i+a*a+s*s),p?(p=1/p,i*=p,a*=p,s*=p):(i=0,a=0,s=0),o=l*s-f*a,u=f*i-c*s,h=c*a-l*i,p=Math.sqrt(o*o+u*u+h*h),p?(p=1/p,o*=p,u*=p,h*=p):(o=0,u=0,h=0),t[0]=i,t[1]=o,t[2]=c,t[3]=0,t[4]=a,t[5]=u,t[6]=l,t[7]=0,t[8]=s,t[9]=h,t[10]=f,t[11]=0,t[12]=-(i*d+a*v+s*m),t[13]=-(o*d+u*v+h*m),t[14]=-(c*d+l*v+f*m),t[15]=1,t)}function D(t,e,r,n){var i=e[0],a=e[1],s=e[2],o=n[0],u=n[1],h=n[2],c=i-r[0],l=a-r[1],f=s-r[2],p=c*c+l*l+f*f;p>0&&(p=1/Math.sqrt(p),c*=p,l*=p,f*=p);var d=u*f-h*l,v=h*c-o*f,m=o*l-u*c;return t[0]=d,t[1]=v,t[2]=m,t[3]=0,t[4]=l*m-f*v,t[5]=f*d-c*m,t[6]=c*v-l*d,t[7]=0,t[8]=c,t[9]=l,t[10]=f,t[11]=0,t[12]=i,t[13]=a,t[14]=s,t[15]=1,t}function B(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}function V(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2)+Math.pow(t[4],2)+Math.pow(t[5],2)+Math.pow(t[6],2)+Math.pow(t[7],2)+Math.pow(t[8],2)+Math.pow(t[9],2)+Math.pow(t[10],2)+Math.pow(t[11],2)+Math.pow(t[12],2)+Math.pow(t[13],2)+Math.pow(t[14],2)+Math.pow(t[15],2))}function k(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t[4]=e[4]+r[4],t[5]=e[5]+r[5],t[6]=e[6]+r[6],t[7]=e[7]+r[7],t[8]=e[8]+r[8],t[9]=e[9]+r[9],t[10]=e[10]+r[10],t[11]=e[11]+r[11],t[12]=e[12]+r[12],t[13]=e[13]+r[13],t[14]=e[14]+r[14],t[15]=e[15]+r[15],t}function j(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t[4]=e[4]-r[4],t[5]=e[5]-r[5],t[6]=e[6]-r[6],t[7]=e[7]-r[7],t[8]=e[8]-r[8],t[9]=e[9]-r[9],t[10]=e[10]-r[10],t[11]=e[11]-r[11],t[12]=e[12]-r[12],t[13]=e[13]-r[13],t[14]=e[14]-r[14],t[15]=e[15]-r[15],t}function X(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t[8]=e[8]*r,t[9]=e[9]*r,t[10]=e[10]*r,t[11]=e[11]*r,t[12]=e[12]*r,t[13]=e[13]*r,t[14]=e[14]*r,t[15]=e[15]*r,t}function Y(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t[4]=e[4]+r[4]*n,t[5]=e[5]+r[5]*n,t[6]=e[6]+r[6]*n,t[7]=e[7]+r[7]*n,t[8]=e[8]+r[8]*n,t[9]=e[9]+r[9]*n,t[10]=e[10]+r[10]*n,t[11]=e[11]+r[11]*n,t[12]=e[12]+r[12]*n,t[13]=e[13]+r[13]*n,t[14]=e[14]+r[14]*n,t[15]=e[15]+r[15]*n,t}function q(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]}function G(t,e){var r=t[0],n=t[1],i=t[2],a=t[3],s=t[4],o=t[5],u=t[6],h=t[7],c=t[8],l=t[9],f=t[10],p=t[11],d=t[12],v=t[13],m=t[14],g=t[15],y=e[0],_=e[1],x=e[2],b=e[3],E=e[4],w=e[5],M=e[6],A=e[7],T=e[8],S=e[9],R=e[10],N=e[11],I=e[12],P=e[13],O=e[14],U=e[15];return Math.abs(r-y)<=W.EPSILON*Math.max(1,Math.abs(r),Math.abs(y))&&Math.abs(n-_)<=W.EPSILON*Math.max(1,Math.abs(n),Math.abs(_))&&Math.abs(i-x)<=W.EPSILON*Math.max(1,Math.abs(i),Math.abs(x))&&Math.abs(a-b)<=W.EPSILON*Math.max(1,Math.abs(a),Math.abs(b))&&Math.abs(s-E)<=W.EPSILON*Math.max(1,Math.abs(s),Math.abs(E))&&Math.abs(o-w)<=W.EPSILON*Math.max(1,Math.abs(o),Math.abs(w))&&Math.abs(u-M)<=W.EPSILON*Math.max(1,Math.abs(u),Math.abs(M))&&Math.abs(h-A)<=W.EPSILON*Math.max(1,Math.abs(h),Math.abs(A))&&Math.abs(c-T)<=W.EPSILON*Math.max(1,Math.abs(c),Math.abs(T))&&Math.abs(l-S)<=W.EPSILON*Math.max(1,Math.abs(l),Math.abs(S))&&Math.abs(f-R)<=W.EPSILON*Math.max(1,Math.abs(f),Math.abs(R))&&Math.abs(p-N)<=W.EPSILON*Math.max(1,Math.abs(p),Math.abs(N))&&Math.abs(d-I)<=W.EPSILON*Math.max(1,Math.abs(d),Math.abs(I))&&Math.abs(v-P)<=W.EPSILON*Math.max(1,Math.abs(v),Math.abs(P))&&Math.abs(m-O)<=W.EPSILON*Math.max(1,Math.abs(m),Math.abs(O))&&Math.abs(g-U)<=W.EPSILON*Math.max(1,Math.abs(g),Math.abs(U))}Object.defineProperty(e,"__esModule",{value:!0}),e.sub=e.mul=void 0,e.create=n,e.clone=i,e.copy=a,e.fromValues=s,e.set=o,e.identity=u,e.transpose=h,e.invert=c,e.adjoint=l,e.determinant=f,e.multiply=p,e.translate=d,e.scale=v,e.rotate=m,e.rotateX=g,e.rotateY=y,e.rotateZ=_,e.fromTranslation=x,e.fromScaling=b,e.fromRotation=E,e.fromXRotation=w,e.fromYRotation=M,e.fromZRotation=A,e.fromRotationTranslation=T,e.getTranslation=S,e.getScaling=R,e.getRotation=N,e.fromRotationTranslationScale=I,e.fromRotationTranslationScaleOrigin=P,e.fromQuat=O,e.frustum=U,e.perspective=L,e.perspectiveFromFieldOfView=C,e.ortho=z,e.lookAt=F,e.targetTo=D,e.str=B,e.frob=V,e.add=k,e.subtract=j,e.multiplyScalar=X,e.multiplyScalarAndAdd=Y,e.exactEquals=q,e.equals=G;var H=r(0),W=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(H);e.mul=p,e.sub=j},function(t,e,r){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function i(){var t=new x.ARRAY_TYPE(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function a(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t}function s(t,e,r){r*=.5;var n=Math.sin(r);return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=Math.cos(r),t}function o(t,e){var r=2*Math.acos(e[3]),n=Math.sin(r/2);return 0!=n?(t[0]=e[0]/n,t[1]=e[1]/n,t[2]=e[2]/n):(t[0]=1,t[1]=0,t[2]=0),r}function u(t,e,r){var n=e[0],i=e[1],a=e[2],s=e[3],o=r[0],u=r[1],h=r[2],c=r[3];return t[0]=n*c+s*o+i*h-a*u,t[1]=i*c+s*u+a*o-n*h,t[2]=a*c+s*h+n*u-i*o,t[3]=s*c-n*o-i*u-a*h,t}function h(t,e,r){r*=.5;var n=e[0],i=e[1],a=e[2],s=e[3],o=Math.sin(r),u=Math.cos(r);return t[0]=n*u+s*o,t[1]=i*u+a*o,t[2]=a*u-i*o,t[3]=s*u-n*o,t}function c(t,e,r){r*=.5;var n=e[0],i=e[1],a=e[2],s=e[3],o=Math.sin(r),u=Math.cos(r);return t[0]=n*u-a*o,t[1]=i*u+s*o,t[2]=a*u+n*o,t[3]=s*u-i*o,t}function l(t,e,r){r*=.5;var n=e[0],i=e[1],a=e[2],s=e[3],o=Math.sin(r),u=Math.cos(r);return t[0]=n*u+i*o,t[1]=i*u-n*o,t[2]=a*u+s*o,t[3]=s*u-a*o,t}function f(t,e){var r=e[0],n=e[1],i=e[2];return t[0]=r,t[1]=n,t[2]=i,t[3]=Math.sqrt(Math.abs(1-r*r-n*n-i*i)),t}function p(t,e,r,n){var i=e[0],a=e[1],s=e[2],o=e[3],u=r[0],h=r[1],c=r[2],l=r[3],f=void 0,p=void 0,d=void 0,v=void 0,m=void 0;return p=i*u+a*h+s*c+o*l,p<0&&(p=-p,u=-u,h=-h,c=-c,l=-l),1-p>1e-6?(f=Math.acos(p),d=Math.sin(f),v=Math.sin((1-n)*f)/d,m=Math.sin(n*f)/d):(v=1-n,m=n),t[0]=v*i+m*u,t[1]=v*a+m*h,t[2]=v*s+m*c,t[3]=v*o+m*l,t}function d(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],s=r*r+n*n+i*i+a*a,o=s?1/s:0;return t[0]=-r*o,t[1]=-n*o,t[2]=-i*o,t[3]=a*o,t}function v(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=e[3],t}function m(t,e){var r=e[0]+e[4]+e[8],n=void 0;if(r>0)n=Math.sqrt(r+1),t[3]=.5*n,n=.5/n,t[0]=(e[5]-e[7])*n,t[1]=(e[6]-e[2])*n,t[2]=(e[1]-e[3])*n;else{var i=0;e[4]>e[0]&&(i=1),e[8]>e[3*i+i]&&(i=2);var a=(i+1)%3,s=(i+2)%3;n=Math.sqrt(e[3*i+i]-e[3*a+a]-e[3*s+s]+1),t[i]=.5*n,n=.5/n,t[3]=(e[3*a+s]-e[3*s+a])*n,t[a]=(e[3*a+i]+e[3*i+a])*n,t[s]=(e[3*s+i]+e[3*i+s])*n}return t}function g(t,e,r,n){var i=.5*Math.PI/180;e*=i,r*=i,n*=i;var a=Math.sin(e),s=Math.cos(e),o=Math.sin(r),u=Math.cos(r),h=Math.sin(n),c=Math.cos(n);return t[0]=a*u*c-s*o*h,t[1]=s*o*c+a*u*h,t[2]=s*u*h-a*o*c,t[3]=s*u*c+a*o*h,t}function y(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}Object.defineProperty(e,"__esModule",{value:!0}),e.setAxes=e.sqlerp=e.rotationTo=e.equals=e.exactEquals=e.normalize=e.sqrLen=e.squaredLength=e.len=e.length=e.lerp=e.dot=e.scale=e.mul=e.add=e.set=e.copy=e.fromValues=e.clone=void 0,e.create=i,e.identity=a,e.setAxisAngle=s,e.getAxisAngle=o,e.multiply=u,e.rotateX=h,e.rotateY=c,e.rotateZ=l,e.calculateW=f,e.slerp=p,e.invert=d,e.conjugate=v,e.fromMat3=m,e.fromEuler=g,e.str=y;var _=r(0),x=n(_),b=r(1),E=n(b),w=r(2),M=n(w),A=r(3),T=n(A),S=(e.clone=T.clone,e.fromValues=T.fromValues,e.copy=T.copy,e.set=T.set,e.add=T.add,e.mul=u,e.scale=T.scale,e.dot=T.dot,e.lerp=T.lerp,e.length=T.length),R=(e.len=S,e.squaredLength=T.squaredLength),N=(e.sqrLen=R,e.normalize=T.normalize);e.exactEquals=T.exactEquals,e.equals=T.equals,e.rotationTo=function(){var t=M.create(),e=M.fromValues(1,0,0),r=M.fromValues(0,1,0);return function(n,i,a){var o=M.dot(i,a);return o<-.999999?(M.cross(t,e,i),M.len(t)<1e-6&&M.cross(t,r,i),M.normalize(t,t),s(n,t,Math.PI),n):o>.999999?(n[0]=0,n[1]=0,n[2]=0,n[3]=1,n):(M.cross(t,i,a),n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=1+o,N(n,n))}}(),e.sqlerp=function(){var t=i(),e=i();return function(r,n,i,a,s,o){return p(t,n,s,o),p(e,i,a,o),p(r,t,e,2*o*(1-o)),r}}(),e.setAxes=function(){var t=E.create();return function(e,r,n,i){return t[0]=n[0],t[3]=n[1],t[6]=n[2],t[1]=i[0],t[4]=i[1],t[7]=i[2],t[2]=-r[0],t[5]=-r[1],t[8]=-r[2],N(e,m(e,t))}}()},function(t,e,r){"use strict";function n(){var t=new D.ARRAY_TYPE(2);return t[0]=0,t[1]=0,t}function i(t){var e=new D.ARRAY_TYPE(2);return e[0]=t[0],e[1]=t[1],e}function a(t,e){var r=new D.ARRAY_TYPE(2);return r[0]=t,r[1]=e,r}function s(t,e){return t[0]=e[0],t[1]=e[1],t}function o(t,e,r){return t[0]=e,t[1]=r,t}function u(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t}function h(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t}function c(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t}function l(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t}function f(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t}function p(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t}function d(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t}function v(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t}function m(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t}function g(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t}function y(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t}function _(t,e){var r=e[0]-t[0],n=e[1]-t[1];return Math.sqrt(r*r+n*n)}function x(t,e){var r=e[0]-t[0],n=e[1]-t[1];return r*r+n*n}function b(t){var e=t[0],r=t[1];return Math.sqrt(e*e+r*r)}function E(t){var e=t[0],r=t[1];return e*e+r*r}function w(t,e){return t[0]=-e[0],t[1]=-e[1],t}function M(t,e){return t[0]=1/e[0],t[1]=1/e[1],t}function A(t,e){var r=e[0],n=e[1],i=r*r+n*n;return i>0&&(i=1/Math.sqrt(i),t[0]=e[0]*i,t[1]=e[1]*i),t}function T(t,e){return t[0]*e[0]+t[1]*e[1]}function S(t,e,r){var n=e[0]*r[1]-e[1]*r[0];return t[0]=t[1]=0,t[2]=n,t}function R(t,e,r,n){var i=e[0],a=e[1];return t[0]=i+n*(r[0]-i),t[1]=a+n*(r[1]-a),t}function N(t,e){e=e||1;var r=2*D.RANDOM()*Math.PI;return t[0]=Math.cos(r)*e,t[1]=Math.sin(r)*e,t}function I(t,e,r){var n=e[0],i=e[1];return t[0]=r[0]*n+r[2]*i,t[1]=r[1]*n+r[3]*i,t}function P(t,e,r){var n=e[0],i=e[1];return t[0]=r[0]*n+r[2]*i+r[4],t[1]=r[1]*n+r[3]*i+r[5],t}function O(t,e,r){var n=e[0],i=e[1];return t[0]=r[0]*n+r[3]*i+r[6],t[1]=r[1]*n+r[4]*i+r[7],t}function U(t,e,r){var n=e[0],i=e[1];return t[0]=r[0]*n+r[4]*i+r[12],t[1]=r[1]*n+r[5]*i+r[13],t}function L(t){return"vec2("+t[0]+", "+t[1]+")"}function C(t,e){return t[0]===e[0]&&t[1]===e[1]}function z(t,e){var r=t[0],n=t[1],i=e[0],a=e[1];return Math.abs(r-i)<=D.EPSILON*Math.max(1,Math.abs(r),Math.abs(i))&&Math.abs(n-a)<=D.EPSILON*Math.max(1,Math.abs(n),Math.abs(a))}Object.defineProperty(e,"__esModule",{value:!0}),e.forEach=e.sqrLen=e.sqrDist=e.dist=e.div=e.mul=e.sub=e.len=void 0,e.create=n,e.clone=i,e.fromValues=a,e.copy=s,e.set=o,e.add=u,e.subtract=h,e.multiply=c,e.divide=l,e.ceil=f,e.floor=p,e.min=d,e.max=v,e.round=m,e.scale=g,e.scaleAndAdd=y,e.distance=_,e.squaredDistance=x,e.length=b,e.squaredLength=E,e.negate=w,e.inverse=M,e.normalize=A,e.dot=T,e.cross=S,e.lerp=R,e.random=N,e.transformMat2=I,e.transformMat2d=P,e.transformMat3=O,e.transformMat4=U,e.str=L,e.exactEquals=C,e.equals=z;var F=r(0),D=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(F);e.len=b,e.sub=h,e.mul=c,e.div=l,e.dist=_,e.sqrDist=x,e.sqrLen=E,e.forEach=function(){var t=n();return function(e,r,n,i,a,s){var o=void 0,u=void 0;for(r||(r=2),n||(n=0),u=i?Math.min(i*r+n,e.length):e.length,o=n;o<u;o+=r)t[0]=e[o],t[1]=e[o+1],a(t,t,s),e[o]=t[0],e[o+1]=t[1];return e}}()}])})},function(t,e,r){function n(t,e){function r(){s[0]=s[1]=s[2]=0}function n(t){var r=1===t.deltaMode?12:1;s[0]+=r*(t.deltaX||0),s[1]+=r*(t.deltaY||0),s[2]+=r*(t.deltaZ||0),s.emit("scroll",s),e&&t.preventDefault&&(t.preventDefault(),t.stopPropagation&&t.stopPropagation())}var s=new i;return s.flush=r,r(),"undefined"==typeof window?s:(t=t||window,a(t,n,!1),s)}var i=r(18),a=r(148);t.exports=n},function(t,e){function r(t,e,r){n(t,a,e,r),"DOMMouseScroll"==a&&n(t,"MozMousePixelScroll",e,r)}function n(t,e,r,n){t[i](s+e,"wheel"==a?r:function(t){!t&&(t=window.event);var e={originalEvent:t,target:t.target||t.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==t.type?0:1,deltaX:0,delatZ:0,preventDefault:function(){t.preventDefault?t.preventDefault():t.returnValue=!1}};return"mousewheel"==a?(e.deltaY=-.025*t.wheelDelta,t.wheelDeltaX&&(e.deltaX=-.025*t.wheelDeltaX)):e.deltaY=t.detail,r(e)},n||!1)}t.exports=r;var i,a,s="";window.addEventListener?i="addEventListener":(i="attachEvent",s="on"),a="onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll"},function(t,e,r){function n(t,e){function r(){this.prevX=this.x,this.prevY=this.y}var n=new i;return n.x=0,n.y=0,n.prevX=0,n.prevY=0,n.flush=r,"undefined"==typeof window?n:(e=e||t||window,t=t||document.body,e.addEventListener("mousemove",t===document.body||t===window?function(t){n.prevX=n.x,n.prevY=n.y,n.x=t.clientX,n.y=t.clientY,n.emit("move",t)}:function(e){n.prevX=n.x,n.prevY=n.y;var r=t.getBoundingClientRect();n.x=e.clientX-r.left,n.y=e.clientY-r.top,n.emit("move",e)},!1),n)}var i=r(18);t.exports=n},function(t,e,r){function n(t,e){function r(t){if(s.right=!1,s[a[t.button]]=!0,s.emit("down",t),e){if(!t.preventDefault)return!1;t.preventDefault(),t.stopPropagation()}}function n(t){s.right=!1,s[a[t.button]]=!1,s.emit("up",t),e&&t.preventDefault&&(t.preventDefault(),t.stopPropagation())}var s=new i;return s.left=!1,s.right=!1,s.middle=!1,"undefined"!=typeof window&&(t=t||window,t.addEventListener("mousedown",r,!1),t.addEventListener("mouseup",n,!1),e&&t.addEventListener("contextmenu",function(t){return t.preventDefault&&t.preventDefault()&&!1},!1)),s}var i=r(18),a=["left","middle","right"];t.exports=n},function(t,e,r){(function(e){function n(t){return t?h[t]:h}function i(){u.forEach(function(t){h[o[t]]=!1})}function a(t){h[o[t.keyCode]]=!1}function s(t){h[o[t.keyCode]]=!0}var o=r(153),u=Object.keys(o),h={};i(),t.exports=n,e.browser&&(window.addEventListener("keydown",s,!1),window.addEventListener("keyup",a,!1),window.addEventListener("blur",i,!1))}).call(e,r(152))},function(t,e){function r(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function i(t){if(c===setTimeout)return setTimeout(t,0);if((c===r||!c)&&setTimeout)return c=setTimeout,setTimeout(t,0);try{return c(t,0)}catch(e){try{return c.call(null,t,0)}catch(e){return c.call(this,t,0)}}}function a(t){if(l===clearTimeout)return clearTimeout(t);if((l===n||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(t);try{return l(t)}catch(e){try{return l.call(null,t)}catch(e){return l.call(this,t)}}}function s(){v&&p&&(v=!1,p.length?d=p.concat(d):m=-1,d.length&&o())}function o(){if(!v){var t=i(s);v=!0;for(var e=d.length;e;){for(p=d,d=[];++m<e;)p&&p[m].run();m=-1,e=d.length}p=null,v=!1,a(t)}}function u(t,e){this.fun=t,this.array=e}function h(){}var c,l,f=t.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:r}catch(t){c=r}try{l="function"==typeof clearTimeout?clearTimeout:n}catch(t){l=n}}();var p,d=[],v=!1,m=-1;f.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];d.push(new u(t,e)),1!==d.length||v||i(o)},u.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=h,f.addListener=h,f.once=h,f.off=h,f.removeListener=h,f.removeAllListeners=h,f.emit=h,f.prependListener=h,f.prependOnceListener=h,f.listeners=function(t){return[]},f.binding=function(t){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(t){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},function(t,e){var r,n="undefined"!=typeof window?window.navigator.userAgent:"",i=/OS X/.test(n),a=/Opera/.test(n),s=!/like Gecko/.test(n)&&!a,o=t.exports={0:i?"<menu>":"<UNK>",1:"<mouse 1>",2:"<mouse 2>",3:"<break>",4:"<mouse 3>",5:"<mouse 4>",6:"<mouse 5>",8:"<backspace>",9:"<tab>",12:"<clear>",13:"<enter>",16:"<shift>",17:"<control>",18:"<alt>",19:"<pause>",20:"<caps-lock>",21:"<ime-hangul>",23:"<ime-junja>",24:"<ime-final>",25:"<ime-kanji>",27:"<escape>",28:"<ime-convert>",29:"<ime-nonconvert>",30:"<ime-accept>",31:"<ime-mode-change>",27:"<escape>",32:"<space>",33:"<page-up>",34:"<page-down>",35:"<end>",36:"<home>",37:"<left>",38:"<up>",39:"<right>",40:"<down>",41:"<select>",42:"<print>",43:"<execute>",44:"<snapshot>",45:"<insert>",46:"<delete>",47:"<help>",91:"<meta>",92:"<meta>",93:i?"<meta>":"<menu>",95:"<sleep>",106:"<num-*>",107:"<num-+>",108:"<num-enter>",109:"<num--\x3e",110:"<num-.>",111:"<num-/>",144:"<num-lock>",145:"<scroll-lock>",160:"<shift-left>",161:"<shift-right>",162:"<control-left>",163:"<control-right>",164:"<alt-left>",165:"<alt-right>",166:"<browser-back>",167:"<browser-forward>",168:"<browser-refresh>",169:"<browser-stop>",170:"<browser-search>",171:"<browser-favorites>",172:"<browser-home>",173:i&&s?"-":"<volume-mute>",174:"<volume-down>",175:"<volume-up>",176:"<next-track>",177:"<prev-track>",178:"<stop>",179:"<play-pause>",180:"<launch-mail>",181:"<launch-media-select>",182:"<launch-app 1>",183:"<launch-app 2>",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",223:"<meta>",224:"<meta>",226:"<alt-gr>",229:"<ime-process>",231:a?"`":"<unicode>",246:"<attention>",247:"<crsel>",248:"<exsel>",249:"<erase-eof>",250:"<play>",251:"<zoom>",252:"<no-name>",253:"<pa-1>",254:"<clear>"};for(r=58;r<65;++r)o[r]=String.fromCharCode(r);for(r=48;r<58;++r)o[r]=r-48+"";for(r=65;r<91;++r)o[r]=String.fromCharCode(r);for(r=96;r<106;++r)o[r]="<num-"+(r-96)+">";for(r=112;r<136;++r)o[r]="F"+(r-111)},function(t,e){function r(t){var e=(new Date).getTime(),r=Math.max(0,16-(e-n)),i=setTimeout(t,r);return n=e,i}e=t.exports=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||r;var n=(new Date).getTime(),i=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||window.clearTimeout;e.cancel=function(t){i.call(window,t)}},function(t,e,r){"use strict";function n(t){g=[t.LINEAR,t.NEAREST_MIPMAP_LINEAR,t.LINEAR_MIPMAP_NEAREST,t.LINEAR_MIPMAP_NEAREST],y=[t.NEAREST,t.LINEAR,t.NEAREST_MIPMAP_NEAREST,t.NEAREST_MIPMAP_LINEAR,t.LINEAR_MIPMAP_NEAREST,t.LINEAR_MIPMAP_LINEAR],_=[t.REPEAT,t.CLAMP_TO_EDGE,t.MIRRORED_REPEAT]}function i(t){return"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!=typeof HTMLVideoElement&&t instanceof HTMLVideoElement||"undefined"!=typeof ImageData&&t instanceof ImageData}function a(t,e,r){var n=t.gl,i=n.getParameter(n.MAX_TEXTURE_SIZE);if(e<0||e>i||r<0||r>i)throw new Error("gl-texture2d: Invalid texture size");return t._shape=[e,r],t.bind(),n.texImage2D(n.TEXTURE_2D,0,t.format,e,r,0,t.format,t.type,null),t._mipLevels=[0],t}function s(t,e,r,n,i,a){this.gl=t,this.handle=e,this.format=i,this.type=a,this._shape=[r,n],this._mipLevels=[0],this._magFilter=t.NEAREST,this._minFilter=t.NEAREST,this._wrapS=t.CLAMP_TO_EDGE,this._wrapT=t.CLAMP_TO_EDGE,this._anisoSamples=1;var s=this,o=[this._wrapS,this._wrapT];Object.defineProperties(o,[{get:function(){return s._wrapS},set:function(t){return s.wrapS=t}},{get:function(){return s._wrapT},set:function(t){return s.wrapT=t}}]),this._wrapVector=o;var u=[this._shape[0],this._shape[1]];Object.defineProperties(u,[{get:function(){return s._shape[0]},set:function(t){return s.width=t}},{get:function(){return s._shape[1]},set:function(t){return s.height=t}}]),this._shapeVector=u}function o(t,e){return 3===t.length?1===e[2]&&e[1]===t[0]*t[2]&&e[0]===t[2]:1===e[0]&&e[1]===t[0]}function u(t,e,r,n,i,a,s,u){var h=u.dtype,c=u.shape.slice();if(c.length<2||c.length>3)throw new Error("gl-texture2d: Invalid ndarray, must be 2d or 3d");var l=0,f=0,p=o(c,u.stride.slice());"float32"===h?l=t.FLOAT:"float64"===h?(l=t.FLOAT,p=!1,h="float32"):"uint8"===h?l=t.UNSIGNED_BYTE:(l=t.UNSIGNED_BYTE,p=!1,h="uint8");if(2===c.length)f=t.LUMINANCE,c=[c[0],c[1],1],u=d(u.data,c,[u.stride[0],u.stride[1],1],u.offset);else{if(3!==c.length)throw new Error("gl-texture2d: Invalid shape for texture");if(1===c[2])f=t.ALPHA;else if(2===c[2])f=t.LUMINANCE_ALPHA;else if(3===c[2])f=t.RGB;else{if(4!==c[2])throw new Error("gl-texture2d: Invalid shape for pixel coords");f=t.RGBA}c[2]}if(f!==t.LUMINANCE&&f!==t.ALPHA||i!==t.LUMINANCE&&i!==t.ALPHA||(f=i),f!==i)throw new Error("gl-texture2d: Incompatible texture format for setPixels");var g=u.size,y=s.indexOf(n)<0;if(y&&s.push(n),l===a&&p)0===u.offset&&u.data.length===g?y?t.texImage2D(t.TEXTURE_2D,n,i,c[0],c[1],0,i,a,u.data):t.texSubImage2D(t.TEXTURE_2D,n,e,r,c[0],c[1],i,a,u.data):y?t.texImage2D(t.TEXTURE_2D,n,i,c[0],c[1],0,i,a,u.data.subarray(u.offset,u.offset+g)):t.texSubImage2D(t.TEXTURE_2D,n,e,r,c[0],c[1],i,a,u.data.subarray(u.offset,u.offset+g));else{var _;_=a===t.FLOAT?m.mallocFloat32(g):m.mallocUint8(g);var b=d(_,c,[c[2],c[2]*c[0],1]);l===t.FLOAT&&a===t.UNSIGNED_BYTE?x(b,u):v.assign(b,u),y?t.texImage2D(t.TEXTURE_2D,n,i,c[0],c[1],0,i,a,_.subarray(0,g)):t.texSubImage2D(t.TEXTURE_2D,n,e,r,c[0],c[1],i,a,_.subarray(0,g)),a===t.FLOAT?m.freeFloat32(_):m.freeUint8(_)}}function h(t){var e=t.createTexture();return t.bindTexture(t.TEXTURE_2D,e),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),e}function c(t,e,r,n,i){var a=t.getParameter(t.MAX_TEXTURE_SIZE);if(e<0||e>a||r<0||r>a)throw new Error("gl-texture2d: Invalid texture shape");if(i===t.FLOAT&&!t.getExtension("OES_texture_float"))throw new Error("gl-texture2d: Floating point textures not supported on this platform");var o=h(t);return t.texImage2D(t.TEXTURE_2D,0,n,e,r,0,n,i,null),new s(t,o,e,r,n,i)}function l(t,e,r,n,i,a){var o=h(t);return t.texImage2D(t.TEXTURE_2D,0,i,i,a,e),new s(t,o,r,n,i,a)}function f(t,e){var r=e.dtype,n=e.shape.slice(),i=t.getParameter(t.MAX_TEXTURE_SIZE);if(n[0]<0||n[0]>i||n[1]<0||n[1]>i)throw new Error("gl-texture2d: Invalid texture size");var a=o(n,e.stride.slice()),u=0;"float32"===r?u=t.FLOAT:"float64"===r?(u=t.FLOAT,a=!1,r="float32"):"uint8"===r?u=t.UNSIGNED_BYTE:(u=t.UNSIGNED_BYTE,a=!1,r="uint8");var c=0;if(2===n.length)c=t.LUMINANCE,n=[n[0],n[1],1],e=d(e.data,n,[e.stride[0],e.stride[1],1],e.offset);else{if(3!==n.length)throw new Error("gl-texture2d: Invalid shape for texture");if(1===n[2])c=t.ALPHA;else if(2===n[2])c=t.LUMINANCE_ALPHA;else if(3===n[2])c=t.RGB;else{if(4!==n[2])throw new Error("gl-texture2d: Invalid shape for pixel coords");c=t.RGBA}}u!==t.FLOAT||t.getExtension("OES_texture_float")||(u=t.UNSIGNED_BYTE,a=!1);var l,f,p=e.size;if(a)l=0===e.offset&&e.data.length===p?e.data:e.data.subarray(e.offset,e.offset+p);else{var g=[n[2],n[2]*n[0],1];f=m.malloc(p,r);var y=d(f,n,g,0);"float32"!==r&&"float64"!==r||u!==t.UNSIGNED_BYTE?v.assign(y,e):x(y,e),l=f.subarray(0,p)}var _=h(t);return t.texImage2D(t.TEXTURE_2D,0,c,n[0],n[1],0,c,u,l),a||m.free(f),new s(t,_,n[0],n[1],c,u)}function p(t){if(arguments.length<=1)throw new Error("gl-texture2d: Missing arguments for texture2d constructor");if(g||n(t),"number"==typeof arguments[1])return c(t,arguments[1],arguments[2],arguments[3]||t.RGBA,arguments[4]||t.UNSIGNED_BYTE);if(Array.isArray(arguments[1]))return c(t,0|arguments[1][0],0|arguments[1][1],arguments[2]||t.RGBA,arguments[3]||t.UNSIGNED_BYTE);if("object"==typeof arguments[1]){var e=arguments[1],r=i(e)?e:e.raw;if(r)return l(t,r,0|e.width,0|e.height,arguments[2]||t.RGBA,arguments[3]||t.UNSIGNED_BYTE);if(e.shape&&e.data&&e.stride)return f(t,e)}throw new Error("gl-texture2d: Invalid arguments for texture2d constructor")}var d=r(41),v=r(40),m=r(39);t.exports=p;var g=null,y=null,_=null,x=function(t,e){v.muls(t,e,255)},b=s.prototype;Object.defineProperties(b,{minFilter:{get:function(){return this._minFilter},set:function(t){this.bind();var e=this.gl;if(this.type===e.FLOAT&&g.indexOf(t)>=0&&(e.getExtension("OES_texture_float_linear")||(t=e.NEAREST)),y.indexOf(t)<0)throw new Error("gl-texture2d: Unknown filter mode "+t);return e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t),this._minFilter=t}},magFilter:{get:function(){return this._magFilter},set:function(t){this.bind();var e=this.gl;if(this.type===e.FLOAT&&g.indexOf(t)>=0&&(e.getExtension("OES_texture_float_linear")||(t=e.NEAREST)),y.indexOf(t)<0)throw new Error("gl-texture2d: Unknown filter mode "+t);return e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,t),this._magFilter=t}},mipSamples:{get:function(){return this._anisoSamples},set:function(t){var e=this._anisoSamples;if(this._anisoSamples=0|Math.max(t,1),e!==this._anisoSamples){var r=this.gl.getExtension("EXT_texture_filter_anisotropic");r&&this.gl.texParameterf(this.gl.TEXTURE_2D,r.TEXTURE_MAX_ANISOTROPY_EXT,this._anisoSamples)}return this._anisoSamples}},wrapS:{get:function(){return this._wrapS},set:function(t){if(this.bind(),_.indexOf(t)<0)throw new Error("gl-texture2d: Unknown wrap mode "+t);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,t),this._wrapS=t}},wrapT:{get:function(){return this._wrapT},set:function(t){if(this.bind(),_.indexOf(t)<0)throw new Error("gl-texture2d: Unknown wrap mode "+t);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,t),this._wrapT=t}},wrap:{get:function(){return this._wrapVector},set:function(t){if(Array.isArray(t)||(t=[t,t]),2!==t.length)throw new Error("gl-texture2d: Must specify wrap mode for rows and columns");for(var e=0;e<2;++e)if(_.indexOf(t[e])<0)throw new Error("gl-texture2d: Unknown wrap mode "+t);this._wrapS=t[0],this._wrapT=t[1];var r=this.gl;return this.bind(),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,this._wrapS),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,this._wrapT),t}},shape:{get:function(){return this._shapeVector},set:function(t){if(Array.isArray(t)){if(2!==t.length)throw new Error("gl-texture2d: Invalid texture shape")}else t=[0|t,0|t];return a(this,0|t[0],0|t[1]),[0|t[0],0|t[1]]}},width:{get:function(){return this._shape[0]},set:function(t){return t|=0,a(this,t,this._shape[1]),t}},height:{get:function(){return this._shape[1]},set:function(t){return t|=0,a(this,this._shape[0],t),t}}}),b.bind=function(t){var e=this.gl;return void 0!==t&&e.activeTexture(e.TEXTURE0+(0|t)),e.bindTexture(e.TEXTURE_2D,this.handle),void 0!==t?0|t:e.getParameter(e.ACTIVE_TEXTURE)-e.TEXTURE0},b.dispose=function(){this.gl.deleteTexture(this.handle)},b.generateMipmap=function(){this.bind(),this.gl.generateMipmap(this.gl.TEXTURE_2D);for(var t=Math.min(this._shape[0],this._shape[1]),e=0;t>0;++e,t>>>=1)this._mipLevels.indexOf(e)<0&&this._mipLevels.push(e)},b.setPixels=function(t,e,r,n){var a=this.gl;this.bind(),Array.isArray(e)?(n=r,r=0|e[1],e=0|e[0]):(e=e||0,r=r||0),n=n||0;var s=i(t)?t:t.raw;if(s){this._mipLevels.indexOf(n)<0?(a.texImage2D(a.TEXTURE_2D,0,this.format,this.format,this.type,s),this._mipLevels.push(n)):a.texSubImage2D(a.TEXTURE_2D,n,e,r,this.format,this.type,s)}else{if(!(t.shape&&t.stride&&t.data))throw new Error("gl-texture2d: Unsupported data type");if(t.shape.length<2||e+t.shape[1]>this._shape[1]>>>n||r+t.shape[0]>this._shape[0]>>>n||e<0||r<0)throw new Error("gl-texture2d: Texture dimensions are out of bounds");u(a,e,r,n,this.format,this.type,this._mipLevels,t)}}},function(t,e,r){"use strict";function n(t,e){return!(!t||!e)&&t.toString()!==e.toString()}e.a=n;var i=r(157),a=(r.n(i),r(174)),s=(r.n(a),r(180));r.n(s)},function(t,e,r){t.exports={default:r(158),__esModule:!0}},function(t,e,r){r(48),r(57),t.exports=r(173)},function(t,e,r){"use strict";var n=r(160),i=r(49),a=r(11),s=r(19);t.exports=r(23)(Array,"Array",function(t,e){this._t=s(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,r=this._i++;return!t||r>=t.length?(this._t=void 0,i(1)):"keys"==e?i(0,r):"values"==e?i(0,t[r]):i(0,[r,t[r]])},"values"),a.Arguments=a.Array,n("keys"),n("values"),n("entries")},function(t,e){t.exports=function(){}},function(t,e){t.exports=!0},function(t,e,r){t.exports=!r(6)&&!r(13)(function(){return 7!=Object.defineProperty(r(51)("div"),"a",{get:function(){return 7}}).a})},function(t,e,r){var n=r(5);t.exports=function(t,e){if(!n(t))return t;var r,i;if(e&&"function"==typeof(r=t.toString)&&!n(i=r.call(t)))return i;if("function"==typeof(r=t.valueOf)&&!n(i=r.call(t)))return i;if(!e&&"function"==typeof(r=t.toString)&&!n(i=r.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e,r){t.exports=r(3)},function(t,e,r){"use strict";var n=r(53),i=r(52),a=r(28),s={};r(3)(s,r(1)("iterator"),function(){return this}),t.exports=function(t,e,r){t.prototype=n(s,{next:i(1,r)}),a(t,e+" Iterator")}},function(t,e,r){var n=r(4),i=r(10),a=r(54);t.exports=r(6)?Object.defineProperties:function(t,e){i(t);for(var r,s=a(e),o=s.length,u=0;o>u;)n.f(t,r=s[u++],e[r]);return t}},function(t,e,r){var n=r(14),i=r(19),a=r(168)(!1),s=r(26)("IE_PROTO");t.exports=function(t,e){var r,o=i(t),u=0,h=[];for(r in o)r!=s&&n(o,r)&&h.push(r);for(;e.length>u;)n(o,r=e[u++])&&(~a(h,r)||h.push(r));return h}},function(t,e,r){var n=r(19),i=r(24),a=r(169);t.exports=function(t){return function(e,r,s){var o,u=n(e),h=i(u.length),c=a(s,h);if(t&&r!=r){for(;h>c;)if((o=u[c++])!=o)return!0}else for(;h>c;c++)if((t||c in u)&&u[c]===r)return t||c||0;return!t&&-1}}},function(t,e,r){var n=r(25),i=Math.max,a=Math.min;t.exports=function(t,e){return t=n(t),t<0?i(t+e,0):a(t,e)}},function(t,e,r){var n=r(2).document;t.exports=n&&n.documentElement},function(t,e,r){var n=r(14),i=r(29),a=r(26)("IE_PROTO"),s=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=i(t),n(t,a)?t[a]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?s:null}},function(t,e,r){var n=r(25),i=r(22);t.exports=function(t){return function(e,r){var a,s,o=String(i(e)),u=n(r),h=o.length;return u<0||u>=h?t?"":void 0:(a=o.charCodeAt(u),a<55296||a>56319||u+1===h||(s=o.charCodeAt(u+1))<56320||s>57343?t?o.charAt(u):a:t?o.slice(u,u+2):s-56320+(a-55296<<10)+65536)}}},function(t,e,r){var n=r(10),i=r(58);t.exports=r(9).getIterator=function(t){var e=i(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return n(e.call(t))}},function(t,e,r){t.exports={default:r(175),__esModule:!0}},function(t,e,r){r(176),t.exports=r(9).Object.assign},function(t,e,r){var n=r(8);n(n.S+n.F,"Object",{assign:r(177)})},function(t,e,r){"use strict";var n=r(54),i=r(178),a=r(179),s=r(29),o=r(20),u=Object.assign;t.exports=!u||r(13)(function(){var t={},e={},r=Symbol(),n="abcdefghijklmnopqrst";return t[r]=7,n.split("").forEach(function(t){e[t]=t}),7!=u({},t)[r]||Object.keys(u({},e)).join("")!=n})?function(t,e){for(var r=s(t),u=arguments.length,h=1,c=i.f,l=a.f;u>h;)for(var f,p=o(arguments[h++]),d=c?n(p).concat(c(p)):n(p),v=d.length,m=0;v>m;)l.call(p,f=d[m++])&&(r[f]=p[f]);return r}:u},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,r){t.exports={default:r(181),__esModule:!0}},function(t,e,r){r(182),r(57),r(48),r(183),r(193),r(196),r(198),t.exports=r(9).Set},function(t,e){},function(t,e,r){"use strict";var n=r(184),i=r(63);t.exports=r(188)("Set",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return n.def(i(this,"Set"),t=0===t?0:t,t)}},n)},function(t,e,r){"use strict";var n=r(4).f,i=r(53),a=r(60),s=r(12),o=r(61),u=r(17),h=r(23),c=r(49),l=r(187),f=r(6),p=r(62).fastKey,d=r(63),v=f?"_s":"size",m=function(t,e){var r,n=p(e);if("F"!==n)return t._i[n];for(r=t._f;r;r=r.n)if(r.k==e)return r};t.exports={getConstructor:function(t,e,r,h){var c=t(function(t,n){o(t,c,e,"_i"),t._t=e,t._i=i(null),t._f=void 0,t._l=void 0,t[v]=0,void 0!=n&&u(n,r,t[h],t)});return a(c.prototype,{clear:function(){for(var t=d(this,e),r=t._i,n=t._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete r[n.i];t._f=t._l=void 0,t[v]=0},delete:function(t){var r=d(this,e),n=m(r,t);if(n){var i=n.n,a=n.p;delete r._i[n.i],n.r=!0,a&&(a.n=i),i&&(i.p=a),r._f==n&&(r._f=i),r._l==n&&(r._l=a),r[v]--}return!!n},forEach:function(t){d(this,e);for(var r,n=s(t,arguments.length>1?arguments[1]:void 0,3);r=r?r.n:this._f;)for(n(r.v,r.k,this);r&&r.r;)r=r.p},has:function(t){return!!m(d(this,e),t)}}),f&&n(c.prototype,"size",{get:function(){return d(this,e)[v]}}),c},def:function(t,e,r){var n,i,a=m(t,e);return a?a.v=r:(t._l=a={i:i=p(e,!0),k:e,v:r,p:n=t._l,n:void 0,r:!1},t._f||(t._f=a),n&&(n.n=a),t[v]++,"F"!==i&&(t._i[i]=a)),t},getEntry:m,setStrong:function(t,e,r){h(t,e,function(t,r){this._t=d(t,e),this._k=r,this._l=void 0},function(){for(var t=this,e=t._k,r=t._l;r&&r.r;)r=r.p;return t._t&&(t._l=r=r?r.n:t._t._f)?"keys"==e?c(0,r.k):"values"==e?c(0,r.v):c(0,[r.k,r.v]):(t._t=void 0,c(1))},r?"entries":"values",!r,!0),l(e)}}},function(t,e,r){var n=r(10);t.exports=function(t,e,r,i){try{return i?e(n(r)[0],r[1]):e(r)}catch(e){var a=t.return;throw void 0!==a&&n(a.call(t)),e}}},function(t,e,r){var n=r(11),i=r(1)("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(n.Array===t||a[i]===t)}},function(t,e,r){"use strict";var n=r(2),i=r(9),a=r(4),s=r(6),o=r(1)("species");t.exports=function(t){var e="function"==typeof i[t]?i[t]:n[t];s&&e&&!e[o]&&a.f(e,o,{configurable:!0,get:function(){return this}})}},function(t,e,r){"use strict";var n=r(2),i=r(8),a=r(62),s=r(13),o=r(3),u=r(60),h=r(17),c=r(61),l=r(5),f=r(28),p=r(4).f,d=r(189)(0),v=r(6);t.exports=function(t,e,r,m,g,y){var _=n[t],x=_,b=g?"set":"add",E=x&&x.prototype,w={};return v&&"function"==typeof x&&(y||E.forEach&&!s(function(){(new x).entries().next()}))?(x=e(function(e,r){c(e,x,t,"_c"),e._c=new _,void 0!=r&&h(r,g,e[b],e)}),d("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(t){var e="add"==t||"set"==t;t in E&&(!y||"clear"!=t)&&o(x.prototype,t,function(r,n){if(c(this,x,t),!e&&y&&!l(r))return"get"==t&&void 0;var i=this._c[t](0===r?0:r,n);return e?this:i})}),y||p(x.prototype,"size",{get:function(){return this._c.size}})):(x=m.getConstructor(e,t,g,b),u(x.prototype,r),a.NEED=!0),f(x,t),w[t]=x,i(i.G+i.W+i.F,w),y||m.setStrong(x,t,g),x}},function(t,e,r){var n=r(12),i=r(20),a=r(29),s=r(24),o=r(190);t.exports=function(t,e){var r=1==t,u=2==t,h=3==t,c=4==t,l=6==t,f=5==t||l,p=e||o;return function(e,o,d){for(var v,m,g=a(e),y=i(g),_=n(o,d,3),x=s(y.length),b=0,E=r?p(e,x):u?p(e,0):void 0;x>b;b++)if((f||b in y)&&(v=y[b],m=_(v,b,g),t))if(r)E[b]=m;else if(m)switch(t){case 3:return!0;case 5:return v;case 6:return b;case 2:E.push(v)}else if(c)return!1;return l?-1:h||c?c:E}}},function(t,e,r){var n=r(191);t.exports=function(t,e){return new(n(t))(e)}},function(t,e,r){var n=r(5),i=r(192),a=r(1)("species");t.exports=function(t){var e;return i(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!i(e.prototype)||(e=void 0),n(e)&&null===(e=e[a])&&(e=void 0)),void 0===e?Array:e}},function(t,e,r){var n=r(21);t.exports=Array.isArray||function(t){return"Array"==n(t)}},function(t,e,r){var n=r(8);n(n.P+n.R,"Set",{toJSON:r(194)("Set")})},function(t,e,r){var n=r(59),i=r(195);t.exports=function(t){return function(){if(n(this)!=t)throw TypeError(t+"#toJSON isn't generic");return i(this)}}},function(t,e,r){var n=r(17);t.exports=function(t,e){var r=[];return n(t,!1,r.push,r,e),r}},function(t,e,r){r(197)("Set")},function(t,e,r){"use strict";var n=r(8);t.exports=function(t){n(n.S,t,{of:function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];return new this(e)}})}},function(t,e,r){r(199)("Set")},function(t,e,r){"use strict";var n=r(8),i=r(50),a=r(12),s=r(17);t.exports=function(t){n(n.S,t,{from:function(t){var e,r,n,o,u=arguments[1];return i(this),e=void 0!==u,e&&i(u),void 0==t?new this:(r=[],e?(n=0,o=a(u,arguments[2],2),s(t,!1,function(t){r.push(o(t,n++))})):s(t,!1,r.push,r),new this(r))}})}},function(t,e,r){"use strict";function n(t,e,r,n,s,o,u){a.a.call(this),this.type="SphereGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:r,phiStart:n,phiLength:s,thetaStart:o,thetaLength:u},this.fromBufferGeometry(new i(t,e,r,n,s,o,u)),this.mergeVertices()}function i(t,e,r,n,i,a,h){s.a.call(this),this.type="SphereBufferGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:r,phiStart:n,phiLength:i,thetaStart:a,thetaLength:h},t=t||1,e=Math.max(3,Math.floor(e)||8),r=Math.max(2,Math.floor(r)||6),n=void 0!==n?n:0,i=void 0!==i?i:2*Math.PI,a=void 0!==a?a:0,h=void 0!==h?h:Math.PI;var c,l,f=a+h,p=0,d=[],v=new u.a,m=new u.a,g=[],y=[],_=[],x=[];for(l=0;l<=r;l++){var b=[],E=l/r;for(c=0;c<=e;c++){var w=c/e;v.x=-t*Math.cos(n+w*i)*Math.sin(a+E*h),v.y=t*Math.cos(a+E*h),v.z=t*Math.sin(n+w*i)*Math.sin(a+E*h),y.push(v.x,v.y,v.z),m.set(v.x,v.y,v.z).normalize(),_.push(m.x,m.y,m.z),x.push(w,1-E),b.push(p++)}d.push(b)}for(l=0;l<r;l++)for(c=0;c<e;c++){var M=d[l][c+1],A=d[l][c],T=d[l+1][c],S=d[l+1][c+1];(0!==l||a>0)&&g.push(M,A,S),(l!==r-1||f<Math.PI)&&g.push(A,T,S)}this.setIndex(g),this.addAttribute("position",new o.b(y,3)),this.addAttribute("normal",new o.b(_,3)),this.addAttribute("uv",new o.b(x,2))}r.d(e,"a",function(){return n});var a=r(201),s=r(205),o=r(65),u=r(0);n.prototype=Object.create(a.a.prototype),n.prototype.constructor=n,i.prototype=Object.create(s.a.prototype),i.prototype.constructor=i},function(t,e,r){"use strict";function n(){Object.defineProperty(this,"id",{value:v+=2}),this.uuid=d.a.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}r.d(e,"a",function(){return n});var i=r(30),a=r(202),s=r(33),o=r(34),u=r(35),h=r(0),c=r(15),l=r(36),f=r(31),p=r(64),d=r(7),v=0;n.prototype=Object.assign(Object.create(i.a.prototype),{constructor:n,isGeometry:!0,applyMatrix:function(t){for(var e=(new s.a).getNormalMatrix(t),r=0,n=this.vertices.length;r<n;r++){this.vertices[r].applyMatrix4(t)}for(var r=0,n=this.faces.length;r<n;r++){var i=this.faces[r];i.normal.applyMatrix3(e).normalize();for(var a=0,o=i.vertexNormals.length;a<o;a++)i.vertexNormals[a].applyMatrix3(e).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(){var t=new c.a;return function(e){return t.makeRotationX(e),this.applyMatrix(t),this}}(),rotateY:function(){var t=new c.a;return function(e){return t.makeRotationY(e),this.applyMatrix(t),this}}(),rotateZ:function(){var t=new c.a;return function(e){return t.makeRotationZ(e),this.applyMatrix(t),this}}(),translate:function(){var t=new c.a;return function(e,r,n){return t.makeTranslation(e,r,n),this.applyMatrix(t),this}}(),scale:function(){var t=new c.a;return function(e,r,n){return t.makeScale(e,r,n),this.applyMatrix(t),this}}(),lookAt:function(){var t=new p.a;return function(e){t.lookAt(e),t.updateMatrix(),this.applyMatrix(t.matrix)}}(),fromBufferGeometry:function(t){function e(t,e,n,i){var s=void 0!==o?[d[t].clone(),d[e].clone(),d[n].clone()]:[],h=void 0!==u?[r.colors[t].clone(),r.colors[e].clone(),r.colors[n].clone()]:[],l=new a.a(t,e,n,s,h,i);r.faces.push(l),void 0!==c&&r.faceVertexUvs[0].push([v[t].clone(),v[e].clone(),v[n].clone()]),void 0!==p&&r.faceVertexUvs[1].push([m[t].clone(),m[e].clone(),m[n].clone()])}var r=this,n=null!==t.index?t.index.array:void 0,i=t.attributes,s=i.position.array,o=void 0!==i.normal?i.normal.array:void 0,u=void 0!==i.color?i.color.array:void 0,c=void 0!==i.uv?i.uv.array:void 0,p=void 0!==i.uv2?i.uv2.array:void 0;void 0!==p&&(this.faceVertexUvs[1]=[]);for(var d=[],v=[],m=[],g=0,y=0;g<s.length;g+=3,y+=2)r.vertices.push(new h.a(s[g],s[g+1],s[g+2])),void 0!==o&&d.push(new h.a(o[g],o[g+1],o[g+2])),void 0!==u&&r.colors.push(new f.a(u[g],u[g+1],u[g+2])),void 0!==c&&v.push(new l.a(c[y],c[y+1])),void 0!==p&&m.push(new l.a(p[y],p[y+1]));var _=t.groups;if(_.length>0)for(var g=0;g<_.length;g++)for(var x=_[g],b=x.start,E=x.count,y=b,w=b+E;y<w;y+=3)void 0!==n?e(n[y],n[y+1],n[y+2],x.materialIndex):e(y,y+1,y+2,x.materialIndex);else if(void 0!==n)for(var g=0;g<n.length;g+=3)e(n[g],n[g+1],n[g+2]);else for(var g=0;g<s.length/3;g+=3)e(g,g+1,g+2);return this.computeFaceNormals(),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),this},center:function(){this.computeBoundingBox();var t=this.boundingBox.getCenter().negate();return this.translate(t.x,t.y,t.z),t},normalize:function(){this.computeBoundingSphere();var t=this.boundingSphere.center,e=this.boundingSphere.radius,r=0===e?1:1/e,n=new c.a;return n.set(r,0,0,-r*t.x,0,r,0,-r*t.y,0,0,r,-r*t.z,0,0,0,1),this.applyMatrix(n),this},computeFaceNormals:function(){for(var t=new h.a,e=new h.a,r=0,n=this.faces.length;r<n;r++){var i=this.faces[r],a=this.vertices[i.a],s=this.vertices[i.b],o=this.vertices[i.c];t.subVectors(o,s),e.subVectors(a,s),t.cross(e),t.normalize(),i.normal.copy(t)}},computeVertexNormals:function(t){void 0===t&&(t=!0);var e,r,n,i,a,s;for(s=new Array(this.vertices.length),e=0,r=this.vertices.length;e<r;e++)s[e]=new h.a;if(t){var o,u,c,l=new h.a,f=new h.a;for(n=0,i=this.faces.length;n<i;n++)a=this.faces[n],o=this.vertices[a.a],u=this.vertices[a.b],c=this.vertices[a.c],l.subVectors(c,u),f.subVectors(o,u),l.cross(f),s[a.a].add(l),s[a.b].add(l),s[a.c].add(l)}else for(this.computeFaceNormals(),n=0,i=this.faces.length;n<i;n++)a=this.faces[n],s[a.a].add(a.normal),s[a.b].add(a.normal),s[a.c].add(a.normal);for(e=0,r=this.vertices.length;e<r;e++)s[e].normalize();for(n=0,i=this.faces.length;n<i;n++){a=this.faces[n];var p=a.vertexNormals;3===p.length?(p[0].copy(s[a.a]),p[1].copy(s[a.b]),p[2].copy(s[a.c])):(p[0]=s[a.a].clone(),p[1]=s[a.b].clone(),p[2]=s[a.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){var t,e,r;for(this.computeFaceNormals(),t=0,e=this.faces.length;t<e;t++){r=this.faces[t];var n=r.vertexNormals;3===n.length?(n[0].copy(r.normal),n[1].copy(r.normal),n[2].copy(r.normal)):(n[0]=r.normal.clone(),n[1]=r.normal.clone(),n[2]=r.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var t,e,r,i,a;for(r=0,i=this.faces.length;r<i;r++)for(a=this.faces[r],a.__originalFaceNormal?a.__originalFaceNormal.copy(a.normal):a.__originalFaceNormal=a.normal.clone(),a.__originalVertexNormals||(a.__originalVertexNormals=[]),t=0,e=a.vertexNormals.length;t<e;t++)a.__originalVertexNormals[t]?a.__originalVertexNormals[t].copy(a.vertexNormals[t]):a.__originalVertexNormals[t]=a.vertexNormals[t].clone();var s=new n;for(s.faces=this.faces,t=0,e=this.morphTargets.length;t<e;t++){if(!this.morphNormals[t]){this.morphNormals[t]={},this.morphNormals[t].faceNormals=[],this.morphNormals[t].vertexNormals=[];var o,u,c=this.morphNormals[t].faceNormals,l=this.morphNormals[t].vertexNormals;for(r=0,i=this.faces.length;r<i;r++)o=new h.a,u={a:new h.a,b:new h.a,c:new h.a},c.push(o),l.push(u)}var f=this.morphNormals[t];s.vertices=this.morphTargets[t].vertices,s.computeFaceNormals(),s.computeVertexNormals();var o,u;for(r=0,i=this.faces.length;r<i;r++)a=this.faces[r],o=f.faceNormals[r],u=f.vertexNormals[r],o.copy(a.normal),u.a.copy(a.vertexNormals[0]),u.b.copy(a.vertexNormals[1]),u.c.copy(a.vertexNormals[2])}for(r=0,i=this.faces.length;r<i;r++)a=this.faces[r],a.normal=a.__originalFaceNormal,a.vertexNormals=a.__originalVertexNormals},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new u.a),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new o.a),this.boundingSphere.setFromPoints(this.vertices)},merge:function(t,e,r){if(t&&t.isGeometry){var n,i=this.vertices.length,o=this.vertices,u=t.vertices,h=this.faces,c=t.faces,l=this.faceVertexUvs[0],f=t.faceVertexUvs[0],p=this.colors,d=t.colors;void 0===r&&(r=0),void 0!==e&&(n=(new s.a).getNormalMatrix(e));for(var v=0,m=u.length;v<m;v++){var g=u[v],y=g.clone();void 0!==e&&y.applyMatrix4(e),o.push(y)}for(var v=0,m=d.length;v<m;v++)p.push(d[v].clone());for(v=0,m=c.length;v<m;v++){var _,x,b,E=c[v],w=E.vertexNormals,M=E.vertexColors;_=new a.a(E.a+i,E.b+i,E.c+i),_.normal.copy(E.normal),void 0!==n&&_.normal.applyMatrix3(n).normalize();for(var A=0,T=w.length;A<T;A++)x=w[A].clone(),void 0!==n&&x.applyMatrix3(n).normalize(),_.vertexNormals.push(x);_.color.copy(E.color);for(var A=0,T=M.length;A<T;A++)b=M[A],_.vertexColors.push(b.clone());_.materialIndex=E.materialIndex+r,h.push(_)}for(v=0,m=f.length;v<m;v++){var S=f[v],R=[];if(void 0!==S){for(var A=0,T=S.length;A<T;A++)R.push(S[A].clone());l.push(R)}}}},mergeMesh:function(t){t&&t.isMesh&&(t.matrixAutoUpdate&&t.updateMatrix(),this.merge(t.geometry,t.matrix))},mergeVertices:function(){var t,e,r,n,i,a,s,o,u={},h=[],c=[],l=Math.pow(10,4);for(r=0,n=this.vertices.length;r<n;r++)t=this.vertices[r],e=Math.round(t.x*l)+"_"+Math.round(t.y*l)+"_"+Math.round(t.z*l),void 0===u[e]?(u[e]=r,h.push(this.vertices[r]),c[r]=h.length-1):c[r]=c[u[e]];var f=[];for(r=0,n=this.faces.length;r<n;r++){i=this.faces[r],i.a=c[i.a],i.b=c[i.b],i.c=c[i.c],a=[i.a,i.b,i.c];for(var p=0;p<3;p++)if(a[p]===a[(p+1)%3]){f.push(r);break}}for(r=f.length-1;r>=0;r--){var d=f[r];for(this.faces.splice(d,1),s=0,o=this.faceVertexUvs.length;s<o;s++)this.faceVertexUvs[s].splice(d,1)}var v=this.vertices.length-h.length;return this.vertices=h,v},setFromPoints:function(t){this.vertices=[];for(var e=0,r=t.length;e<r;e++){var n=t[e];this.vertices.push(new h.a(n.x,n.y,n.z||0))}return this},sortFacesByMaterialIndex:function(){function t(t,e){return t.materialIndex-e.materialIndex}for(var e=this.faces,r=e.length,n=0;n<r;n++)e[n]._id=n;e.sort(t);var i,a,s=this.faceVertexUvs[0],o=this.faceVertexUvs[1];s&&s.length===r&&(i=[]),o&&o.length===r&&(a=[]);for(var n=0;n<r;n++){var u=e[n]._id;i&&i.push(s[u]),a&&a.push(o[u])}i&&(this.faceVertexUvs[0]=i),a&&(this.faceVertexUvs[1]=a)},toJSON:function(){function t(t,e,r){return r?t|1<<e:t&~(1<<e)}function e(t){var e=t.x.toString()+t.y.toString()+t.z.toString();return void 0!==f[e]?f[e]:(f[e]=l.length/3,l.push(t.x,t.y,t.z),f[e])}function r(t){var e=t.r.toString()+t.g.toString()+t.b.toString();return void 0!==d[e]?d[e]:(d[e]=p.length,p.push(t.getHex()),d[e])}function n(t){var e=t.x.toString()+t.y.toString();return void 0!==m[e]?m[e]:(m[e]=v.length/2,v.push(t.x,t.y),m[e])}var i={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),void 0!==this.parameters){var a=this.parameters;for(var s in a)void 0!==a[s]&&(i[s]=a[s]);return i}for(var o=[],u=0;u<this.vertices.length;u++){var h=this.vertices[u];o.push(h.x,h.y,h.z)}for(var c=[],l=[],f={},p=[],d={},v=[],m={},u=0;u<this.faces.length;u++){var g=this.faces[u],y=void 0!==this.faceVertexUvs[0][u],_=g.normal.length()>0,x=g.vertexNormals.length>0,b=1!==g.color.r||1!==g.color.g||1!==g.color.b,E=g.vertexColors.length>0,w=0;if(w=t(w,0,0),w=t(w,1,!0),w=t(w,2,!1),w=t(w,3,y),w=t(w,4,_),w=t(w,5,x),w=t(w,6,b),w=t(w,7,E),c.push(w),c.push(g.a,g.b,g.c),c.push(g.materialIndex),y){var M=this.faceVertexUvs[0][u];c.push(n(M[0]),n(M[1]),n(M[2]))}if(_&&c.push(e(g.normal)),x){var A=g.vertexNormals;c.push(e(A[0]),e(A[1]),e(A[2]))}if(b&&c.push(r(g.color)),E){var T=g.vertexColors;c.push(r(T[0]),r(T[1]),r(T[2]))}}return i.data={},i.data.vertices=o,i.data.normals=l,p.length>0&&(i.data.colors=p),v.length>0&&(i.data.uvs=[v]),i.data.faces=c,i},clone:function(){return(new n).copy(this)},copy:function(t){var e,r,n,i,a,s;this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=t.name;var o=t.vertices;for(e=0,r=o.length;e<r;e++)this.vertices.push(o[e].clone());var u=t.colors;for(e=0,r=u.length;e<r;e++)this.colors.push(u[e].clone());var h=t.faces;for(e=0,r=h.length;e<r;e++)this.faces.push(h[e].clone());for(e=0,r=t.faceVertexUvs.length;e<r;e++){var c=t.faceVertexUvs[e];for(void 0===this.faceVertexUvs[e]&&(this.faceVertexUvs[e]=[]),n=0,i=c.length;n<i;n++){var l=c[n],f=[];for(a=0,s=l.length;a<s;a++){var p=l[a];f.push(p.clone())}this.faceVertexUvs[e].push(f)}}var d=t.morphTargets;for(e=0,r=d.length;e<r;e++){var v={};if(v.name=d[e].name,void 0!==d[e].vertices)for(v.vertices=[],n=0,i=d[e].vertices.length;n<i;n++)v.vertices.push(d[e].vertices[n].clone());if(void 0!==d[e].normals)for(v.normals=[],n=0,i=d[e].normals.length;n<i;n++)v.normals.push(d[e].normals[n].clone());this.morphTargets.push(v)}var m=t.morphNormals;for(e=0,r=m.length;e<r;e++){var g={};if(void 0!==m[e].vertexNormals)for(g.vertexNormals=[],n=0,i=m[e].vertexNormals.length;n<i;n++){var y=m[e].vertexNormals[n],_={};_.a=y.a.clone(),_.b=y.b.clone(),_.c=y.c.clone(),g.vertexNormals.push(_)}if(void 0!==m[e].faceNormals)for(g.faceNormals=[],n=0,i=m[e].faceNormals.length;n<i;n++)g.faceNormals.push(m[e].faceNormals[n].clone());this.morphNormals.push(g)}var x=t.skinWeights;for(e=0,r=x.length;e<r;e++)this.skinWeights.push(x[e].clone());var b=t.skinIndices;for(e=0,r=b.length;e<r;e++)this.skinIndices.push(b[e].clone());var E=t.lineDistances;for(e=0,r=E.length;e<r;e++)this.lineDistances.push(E[e]);var w=t.boundingBox;null!==w&&(this.boundingBox=w.clone());var M=t.boundingSphere;return null!==M&&(this.boundingSphere=M.clone()),this.elementsNeedUpdate=t.elementsNeedUpdate,this.verticesNeedUpdate=t.verticesNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.lineDistancesNeedUpdate=t.lineDistancesNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}})},function(t,e,r){"use strict";function n(t,e,r,n,s,o){this.a=t,this.b=e,this.c=r,this.normal=n&&n.isVector3?n:new a.a,this.vertexNormals=Array.isArray(n)?n:[],this.color=s&&s.isColor?s:new i.a,this.vertexColors=Array.isArray(s)?s:[],this.materialIndex=void 0!==o?o:0}r.d(e,"a",function(){return n});var i=r(31),a=r(0);Object.assign(n.prototype,{clone:function(){return(new this.constructor).copy(this)},copy:function(t){this.a=t.a,this.b=t.b,this.c=t.c,this.normal.copy(t.normal),this.color.copy(t.color),this.materialIndex=t.materialIndex;for(var e=0,r=t.vertexNormals.length;e<r;e++)this.vertexNormals[e]=t.vertexNormals[e].clone();for(var e=0,r=t.vertexColors.length;e<r;e++)this.vertexColors[e]=t.vertexColors[e].clone();return this}})},function(t,e,r){"use strict";function n(t,e,r,i){this._x=t||0,this._y=e||0,this._z=r||0,this._order=i||n.DefaultOrder}r.d(e,"a",function(){return n});var i=r(32),a=r(0),s=r(15),o=r(7);n.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],n.DefaultOrder="XYZ",Object.defineProperties(n.prototype,{x:{get:function(){return this._x},set:function(t){this._x=t,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(t){this._y=t,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(t){this._z=t,this.onChangeCallback()}},order:{get:function(){return this._order},set:function(t){this._order=t,this.onChangeCallback()}}}),Object.assign(n.prototype,{isEuler:!0,set:function(t,e,r,n){return this._x=t,this._y=e,this._z=r,this._order=n||this._order,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this.onChangeCallback(),this},setFromRotationMatrix:function(t,e,r){var n=o.a.clamp,i=t.elements,a=i[0],s=i[4],u=i[8],h=i[1],c=i[5],l=i[9],f=i[2],p=i[6],d=i[10];return e=e||this._order,"XYZ"===e?(this._y=Math.asin(n(u,-1,1)),Math.abs(u)<.99999?(this._x=Math.atan2(-l,d),this._z=Math.atan2(-s,a)):(this._x=Math.atan2(p,c),this._z=0)):"YXZ"===e?(this._x=Math.asin(-n(l,-1,1)),Math.abs(l)<.99999?(this._y=Math.atan2(u,d),this._z=Math.atan2(h,c)):(this._y=Math.atan2(-f,a),this._z=0)):"ZXY"===e?(this._x=Math.asin(n(p,-1,1)),Math.abs(p)<.99999?(this._y=Math.atan2(-f,d),this._z=Math.atan2(-s,c)):(this._y=0,this._z=Math.atan2(h,a))):"ZYX"===e?(this._y=Math.asin(-n(f,-1,1)),Math.abs(f)<.99999?(this._x=Math.atan2(p,d),this._z=Math.atan2(h,a)):(this._x=0,this._z=Math.atan2(-s,c))):"YZX"===e?(this._z=Math.asin(n(h,-1,1)),Math.abs(h)<.99999?(this._x=Math.atan2(-l,c),this._y=Math.atan2(-f,a)):(this._x=0,this._y=Math.atan2(u,d))):"XZY"===e&&(this._z=Math.asin(-n(s,-1,1)),Math.abs(s)<.99999?(this._x=Math.atan2(p,c),this._y=Math.atan2(u,a)):(this._x=Math.atan2(-l,d),this._y=0)),this._order=e,!1!==r&&this.onChangeCallback(),this},setFromQuaternion:function(){var t=new s.a;return function(e,r,n){return t.makeRotationFromQuaternion(e),this.setFromRotationMatrix(t,r,n)}}(),setFromVector3:function(t,e){return this.set(t.x,t.y,t.z,e||this._order)},reorder:function(){var t=new i.a;return function(e){return t.setFromEuler(this),this.setFromQuaternion(t,e)}}(),equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order},fromArray:function(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this.onChangeCallback(),this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t},toVector3:function(t){return t?t.set(this._x,this._y,this._z):new a.a(this._x,this._y,this._z)},onChange:function(t){return this.onChangeCallback=t,this},onChangeCallback:function(){}})},function(t,e,r){"use strict";function n(){this.mask=1}r.d(e,"a",function(){return n}),Object.assign(n.prototype,{set:function(t){this.mask=1<<t|0},enable:function(t){this.mask|=1<<t|0},toggle:function(t){this.mask^=1<<t|0},disable:function(t){this.mask&=~(1<<t|0)},test:function(t){return 0!=(this.mask&t.mask)}})},function(t,e,r){"use strict";function n(){Object.defineProperty(this,"id",{value:v+=2}),this.uuid=p.a.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0}}r.d(e,"a",function(){return n});var i=r(0),a=r(35),s=r(30),o=r(65),u=r(34),h=r(207),c=r(64),l=r(15),f=r(33),p=r(7),d=r(208),v=1;n.prototype=Object.assign(Object.create(s.a.prototype),{constructor:n,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(t){Array.isArray(t)?this.index=new(Object(d.a)(t)>65535?o.d:o.c)(t,1):this.index=t},addAttribute:function(t,e){return e&&e.isBufferAttribute||e&&e.isInterleavedBufferAttribute?"index"===t?void this.setIndex(e):(this.attributes[t]=e,this):void this.addAttribute(t,new o.a(arguments[1],arguments[2]))},getAttribute:function(t){return this.attributes[t]},removeAttribute:function(t){return delete this.attributes[t],this},addGroup:function(t,e,r){this.groups.push({start:t,count:e,materialIndex:void 0!==r?r:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(t,e){this.drawRange.start=t,this.drawRange.count=e},applyMatrix:function(t){var e=this.attributes.position;void 0!==e&&(t.applyToBufferAttribute(e),e.needsUpdate=!0);var r=this.attributes.normal;if(void 0!==r){(new f.a).getNormalMatrix(t).applyToBufferAttribute(r),r.needsUpdate=!0}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(){var t=new l.a;return function(e){return t.makeRotationX(e),this.applyMatrix(t),this}}(),rotateY:function(){var t=new l.a;return function(e){return t.makeRotationY(e),this.applyMatrix(t),this}}(),rotateZ:function(){var t=new l.a;return function(e){return t.makeRotationZ(e),this.applyMatrix(t),this}}(),translate:function(){var t=new l.a;return function(e,r,n){return t.makeTranslation(e,r,n),this.applyMatrix(t),this}}(),scale:function(){var t=new l.a;return function(e,r,n){return t.makeScale(e,r,n),this.applyMatrix(t),this}}(),lookAt:function(){var t=new c.a;return function(e){t.lookAt(e),t.updateMatrix(),this.applyMatrix(t.matrix)}}(),center:function(){this.computeBoundingBox();var t=this.boundingBox.getCenter().negate();return this.translate(t.x,t.y,t.z),t},setFromObject:function(t){var e=t.geometry;if(t.isPoints||t.isLine){var r=new o.b(3*e.vertices.length,3),n=new o.b(3*e.colors.length,3);if(this.addAttribute("position",r.copyVector3sArray(e.vertices)),this.addAttribute("color",n.copyColorsArray(e.colors)),e.lineDistances&&e.lineDistances.length===e.vertices.length){var i=new o.b(e.lineDistances.length,1);this.addAttribute("lineDistance",i.copyArray(e.lineDistances))}null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone())}else t.isMesh&&e&&e.isGeometry&&this.fromGeometry(e);return this},setFromPoints:function(t){for(var e=[],r=0,n=t.length;r<n;r++){var i=t[r];e.push(i.x,i.y,i.z||0)}return this.addAttribute("position",new o.b(e,3)),this},updateFromObject:function(t){var e=t.geometry;if(t.isMesh){var r=e.__directGeometry;if(!0===e.elementsNeedUpdate&&(r=void 0,e.elementsNeedUpdate=!1),void 0===r)return this.fromGeometry(e);r.verticesNeedUpdate=e.verticesNeedUpdate,r.normalsNeedUpdate=e.normalsNeedUpdate,r.colorsNeedUpdate=e.colorsNeedUpdate,r.uvsNeedUpdate=e.uvsNeedUpdate,r.groupsNeedUpdate=e.groupsNeedUpdate,e.verticesNeedUpdate=!1,e.normalsNeedUpdate=!1,e.colorsNeedUpdate=!1,e.uvsNeedUpdate=!1,e.groupsNeedUpdate=!1,e=r}var n;return!0===e.verticesNeedUpdate&&(n=this.attributes.position,void 0!==n&&(n.copyVector3sArray(e.vertices),n.needsUpdate=!0),e.verticesNeedUpdate=!1),!0===e.normalsNeedUpdate&&(n=this.attributes.normal,void 0!==n&&(n.copyVector3sArray(e.normals),n.needsUpdate=!0),e.normalsNeedUpdate=!1),!0===e.colorsNeedUpdate&&(n=this.attributes.color,void 0!==n&&(n.copyColorsArray(e.colors),n.needsUpdate=!0),e.colorsNeedUpdate=!1),e.uvsNeedUpdate&&(n=this.attributes.uv,void 0!==n&&(n.copyVector2sArray(e.uvs),n.needsUpdate=!0),e.uvsNeedUpdate=!1),e.lineDistancesNeedUpdate&&(n=this.attributes.lineDistance,void 0!==n&&(n.copyArray(e.lineDistances),n.needsUpdate=!0),e.lineDistancesNeedUpdate=!1),e.groupsNeedUpdate&&(e.computeGroups(t.geometry),this.groups=e.groups,e.groupsNeedUpdate=!1),this},fromGeometry:function(t){return t.__directGeometry=(new h.a).fromGeometry(t),this.fromDirectGeometry(t.__directGeometry)},fromDirectGeometry:function(t){var e=new Float32Array(3*t.vertices.length);if(this.addAttribute("position",new o.a(e,3).copyVector3sArray(t.vertices)),t.normals.length>0){var r=new Float32Array(3*t.normals.length);this.addAttribute("normal",new o.a(r,3).copyVector3sArray(t.normals))}if(t.colors.length>0){var n=new Float32Array(3*t.colors.length);this.addAttribute("color",new o.a(n,3).copyColorsArray(t.colors))}if(t.uvs.length>0){var i=new Float32Array(2*t.uvs.length);this.addAttribute("uv",new o.a(i,2).copyVector2sArray(t.uvs))}if(t.uvs2.length>0){var a=new Float32Array(2*t.uvs2.length);this.addAttribute("uv2",new o.a(a,2).copyVector2sArray(t.uvs2))}if(t.indices.length>0){var s=Object(d.a)(t.indices)>65535?Uint32Array:Uint16Array,u=new s(3*t.indices.length);this.setIndex(new o.a(u,1).copyIndicesArray(t.indices))}this.groups=t.groups;for(var h in t.morphTargets){for(var c=[],l=t.morphTargets[h],f=0,p=l.length;f<p;f++){var v=l[f],m=new o.b(3*v.length,3);c.push(m.copyVector3sArray(v))}this.morphAttributes[h]=c}if(t.skinIndices.length>0){var g=new o.b(4*t.skinIndices.length,4);this.addAttribute("skinIndex",g.copyVector4sArray(t.skinIndices))}if(t.skinWeights.length>0){var y=new o.b(4*t.skinWeights.length,4);this.addAttribute("skinWeight",y.copyVector4sArray(t.skinWeights))}return null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new a.a);var t=this.attributes.position;void 0!==t?this.boundingBox.setFromBufferAttribute(t):this.boundingBox.makeEmpty(),isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z)},computeBoundingSphere:function(){var t=new a.a,e=new i.a;return function(){null===this.boundingSphere&&(this.boundingSphere=new u.a);var r=this.attributes.position;if(r){var n=this.boundingSphere.center;t.setFromBufferAttribute(r),t.getCenter(n);for(var i=0,a=0,s=r.count;a<s;a++)e.x=r.getX(a),e.y=r.getY(a),e.z=r.getZ(a),i=Math.max(i,n.distanceToSquared(e));this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)}}}(),computeFaceNormals:function(){},computeVertexNormals:function(){var t=this.index,e=this.attributes,r=this.groups;if(e.position){var n=e.position.array;if(void 0===e.normal)this.addAttribute("normal",new o.a(new Float32Array(n.length),3));else for(var a=e.normal.array,s=0,u=a.length;s<u;s++)a[s]=0;var h,c,l,f=e.normal.array,p=new i.a,d=new i.a,v=new i.a,m=new i.a,g=new i.a;if(t){var y=t.array;0===r.length&&this.addGroup(0,y.length);for(var _=0,x=r.length;_<x;++_)for(var b=r[_],E=b.start,w=b.count,s=E,u=E+w;s<u;s+=3)h=3*y[s+0],c=3*y[s+1],l=3*y[s+2],p.fromArray(n,h),d.fromArray(n,c),v.fromArray(n,l),m.subVectors(v,d),g.subVectors(p,d),m.cross(g),f[h]+=m.x,f[h+1]+=m.y,f[h+2]+=m.z,f[c]+=m.x,f[c+1]+=m.y,f[c+2]+=m.z,f[l]+=m.x,f[l+1]+=m.y,f[l+2]+=m.z}else for(var s=0,u=n.length;s<u;s+=9)p.fromArray(n,s),d.fromArray(n,s+3),v.fromArray(n,s+6),m.subVectors(v,d),g.subVectors(p,d),m.cross(g),f[s]=m.x,f[s+1]=m.y,f[s+2]=m.z,f[s+3]=m.x,f[s+4]=m.y,f[s+5]=m.z,f[s+6]=m.x,f[s+7]=m.y,f[s+8]=m.z;this.normalizeNormals(),e.normal.needsUpdate=!0}},merge:function(t,e){if(t&&t.isBufferGeometry){void 0===e&&(e=0);var r=this.attributes;for(var n in r)if(void 0!==t.attributes[n])for(var i=r[n],a=i.array,s=t.attributes[n],o=s.array,u=s.itemSize,h=0,c=u*e;h<o.length;h++,c++)a[c]=o[h];return this}},normalizeNormals:function(){var t=new i.a;return function(){for(var e=this.attributes.normal,r=0,n=e.count;r<n;r++)t.x=e.getX(r),t.y=e.getY(r),t.z=e.getZ(r),t.normalize(),e.setXYZ(r,t.x,t.y,t.z)}}(),toNonIndexed:function(){if(null===this.index)return this;var t=new n,e=this.index.array,r=this.attributes;for(var i in r){for(var a=r[i],s=a.array,u=a.itemSize,h=new s.constructor(e.length*u),c=0,l=0,f=0,p=e.length;f<p;f++){c=e[f]*u;for(var d=0;d<u;d++)h[l++]=s[c++]}t.addAttribute(i,new o.a(h,u))}return t},toJSON:function(){var t={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),void 0!==this.parameters){var e=this.parameters;for(var r in e)void 0!==e[r]&&(t[r]=e[r]);return t}t.data={attributes:{}};var n=this.index;if(null!==n){var i=Array.prototype.slice.call(n.array);t.data.index={type:n.array.constructor.name,array:i}}var a=this.attributes;for(var r in a){var s=a[r],i=Array.prototype.slice.call(s.array);t.data.attributes[r]={itemSize:s.itemSize,type:s.array.constructor.name,array:i,normalized:s.normalized}}var o=this.groups;o.length>0&&(t.data.groups=JSON.parse(JSON.stringify(o)));var u=this.boundingSphere;return null!==u&&(t.data.boundingSphere={center:u.center.toArray(),radius:u.radius}),t},clone:function(){return(new n).copy(this)},copy:function(t){var e,r,n;this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.name=t.name;var i=t.index;null!==i&&this.setIndex(i.clone());var a=t.attributes;for(e in a){var s=a[e];this.addAttribute(e,s.clone())}var o=t.morphAttributes;for(e in o){var u=[],h=o[e];for(r=0,n=h.length;r<n;r++)u.push(h[r].clone());this.morphAttributes[e]=u}var c=t.groups;for(r=0,n=c.length;r<n;r++){var l=c[r];this.addGroup(l.start,l.count,l.materialIndex)}var f=t.boundingBox;null!==f&&(this.boundingBox=f.clone());var p=t.boundingSphere;return null!==p&&(this.boundingSphere=p.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this},dispose:function(){this.dispatchEvent({type:"dispose"})}})},function(t,e,r){"use strict";function n(t,e,r,n){this.x=t||0,this.y=e||0,this.z=r||0,this.w=void 0!==n?n:1}r.d(e,"a",function(){return n}),Object.assign(n.prototype,{isVector4:!0,set:function(t,e,r,n){return this.x=t,this.y=e,this.z=r,this.w=n,this},setScalar:function(t){return this.x=t,this.y=t,this.z=t,this.w=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setW:function(t){return this.w=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=void 0!==t.w?t.w:1,this},add:function(t,e){return void 0!==e?this.addVectors(t,e):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this},sub:function(t,e){return void 0!==e?this.subVectors(t,e):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this},multiplyScalar:function(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this},applyMatrix4:function(t){var e=this.x,r=this.y,n=this.z,i=this.w,a=t.elements;return this.x=a[0]*e+a[4]*r+a[8]*n+a[12]*i,this.y=a[1]*e+a[5]*r+a[9]*n+a[13]*i,this.z=a[2]*e+a[6]*r+a[10]*n+a[14]*i,this.w=a[3]*e+a[7]*r+a[11]*n+a[15]*i,this},divideScalar:function(t){return this.multiplyScalar(1/t)},setAxisAngleFromQuaternion:function(t){this.w=2*Math.acos(t.w);var e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this},setAxisAngleFromRotationMatrix:function(t){var e,r,n,i,a=t.elements,s=a[0],o=a[4],u=a[8],h=a[1],c=a[5],l=a[9],f=a[2],p=a[6],d=a[10];if(Math.abs(o-h)<.01&&Math.abs(u-f)<.01&&Math.abs(l-p)<.01){if(Math.abs(o+h)<.1&&Math.abs(u+f)<.1&&Math.abs(l+p)<.1&&Math.abs(s+c+d-3)<.1)return this.set(1,0,0,0),this;e=Math.PI;var v=(s+1)/2,m=(c+1)/2,g=(d+1)/2,y=(o+h)/4,_=(u+f)/4,x=(l+p)/4;return v>m&&v>g?v<.01?(r=0,n=.707106781,i=.707106781):(r=Math.sqrt(v),n=y/r,i=_/r):m>g?m<.01?(r=.707106781,n=0,i=.707106781):(n=Math.sqrt(m),r=y/n,i=x/n):g<.01?(r=.707106781,n=.707106781,i=0):(i=Math.sqrt(g),r=_/i,n=x/i),this.set(r,n,i,e),this}var b=Math.sqrt((p-l)*(p-l)+(u-f)*(u-f)+(h-o)*(h-o));return Math.abs(b)<.001&&(b=1),this.x=(p-l)/b,this.y=(u-f)/b,this.z=(h-o)/b,this.w=Math.acos((s+c+d-1)/2),this},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this.w=Math.max(t.w,Math.min(e.w,this.w)),this},clampScalar:function(){var t,e;return function(r,i){return void 0===t&&(t=new n,e=new n),t.set(r,r,r,r),e.set(i,i,i,i),this.clamp(t,e)}}(),clampLength:function(t,e){var r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(t,Math.min(e,r)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(t){return this.normalize().multiplyScalar(t)},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this},lerpVectors:function(t,e,r){return this.subVectors(e,t).multiplyScalar(r).add(t)},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t},fromBufferAttribute:function(t,e,r){return this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this.w=t.getW(e),this}})},function(t,e,r){"use strict";function n(){this.indices=[],this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}r.d(e,"a",function(){return n});var i=r(36);Object.assign(n.prototype,{computeGroups:function(t){for(var e,r=[],n=void 0,i=t.faces,a=0;a<i.length;a++){var s=i[a];s.materialIndex!==n&&(n=s.materialIndex,void 0!==e&&(e.count=3*a-e.start,r.push(e)),e={start:3*a,materialIndex:n})}void 0!==e&&(e.count=3*a-e.start,r.push(e)),this.groups=r},fromGeometry:function(t){var e,r=t.faces,n=t.vertices,a=t.faceVertexUvs,s=a[0]&&a[0].length>0,o=a[1]&&a[1].length>0,u=t.morphTargets,h=u.length;if(h>0){e=[];for(var c=0;c<h;c++)e[c]=[];this.morphTargets.position=e}var l,f=t.morphNormals,p=f.length;if(p>0){l=[];for(var c=0;c<p;c++)l[c]=[];this.morphTargets.normal=l}for(var d=t.skinIndices,v=t.skinWeights,m=d.length===n.length,g=v.length===n.length,c=0;c<r.length;c++){var y=r[c];this.vertices.push(n[y.a],n[y.b],n[y.c]);var _=y.vertexNormals;if(3===_.length)this.normals.push(_[0],_[1],_[2]);else{var x=y.normal;this.normals.push(x,x,x)}var b=y.vertexColors;if(3===b.length)this.colors.push(b[0],b[1],b[2]);else{var E=y.color;this.colors.push(E,E,E)}if(!0===s){var w=a[0][c];void 0!==w?this.uvs.push(w[0],w[1],w[2]):this.uvs.push(new i.a,new i.a,new i.a)}if(!0===o){var w=a[1][c];void 0!==w?this.uvs2.push(w[0],w[1],w[2]):this.uvs2.push(new i.a,new i.a,new i.a)}for(var M=0;M<h;M++){var A=u[M].vertices;e[M].push(A[y.a],A[y.b],A[y.c])}for(var M=0;M<p;M++){var T=f[M].vertexNormals[c];l[M].push(T.a,T.b,T.c)}m&&this.skinIndices.push(d[y.a],d[y.b],d[y.c]),g&&this.skinWeights.push(v[y.a],v[y.b],v[y.c])}return this.computeGroups(t),this.verticesNeedUpdate=t.verticesNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,this}})},function(t,e,r){"use strict";function n(t){if(0===t.length)return-1/0;for(var e=t[0],r=1,n=t.length;r<n;++r)t[r]>e&&(e=t[r]);return e}r.d(e,"a",function(){return n})},function(t,e){t.exports="precision mediump float;\n\nvarying vec3 vNormal;\nvarying float intensity;\nvec3 white = vec3(1.0,1.0,1.0);\n\nuniform sampler2D texture;\nvarying vec2 texCoord;\n\nvoid main() {\n  vec3 glow = white * intensity;\n  gl_FragColor = vec4( glow, glow.r);\n  //gl_FragColor = texture2D(texture, texCoord);\n}\n"},function(t,e){t.exports="precision mediump float;\n\nattribute vec3 aPosition;\nattribute vec3 aNormal;\nvarying vec3 vNormal;\nvarying vec2 texCoord;\n\nuniform mat4 uProjection;\nuniform mat4 uModel;\nuniform mat4 uView;\n\nvarying float intensity;\nuniform float time;\n\nvoid main() {\n  mat4 modelViewMatrix = uView * uModel;\n  vNormal = aNormal;\n  vec3 modelNormal = normalize(vec3(0.0,0.0,-1.0) );\n  vec3 cameraNormal = normalize( vec3(modelViewMatrix * vec4(aPosition,0.0)));\n\n  float frequency = 100.0;\n  float speed=0.003;\n  float amplitude = 0.123;\n    float p = 6.0;\n  float c = 0.5;\n  intensity = pow( c - dot(cameraNormal, modelNormal), p );\n\n  float distortion = sin(aPosition.y * frequency + time * speed) * amplitude;\n  vec3 newPosition = vec3(aPosition.x + 5.5 + distortion, aPosition.y, aPosition.z);\n  texCoord = vec2(0.0,1.0)+vec2(0.5,-0.5) * (aPosition.xz + 1.0);\n  gl_Position = uProjection * modelViewMatrix * vec4(newPosition, 1.0);\n}\n"},function(t,e){t.exports="#ifdef GL_ES\nprecision mediump float;\n#endif\n\nuniform vec2 u_resolution;\nuniform vec2 u_mouse;\nuniform float u_time;\n\nuniform sampler2D u_tex0;\nuniform vec2 u_tex0Resolution;\n\nvarying highp vec2 vTextureCoord;\n\nvoid main() {\n    vec2 st = gl_FragCoord.xy/u_resolution.xy;\n    st.x *= u_resolution.x/u_resolution.y;\n\n    vec3 color = vec3(0.);\n    color = vec3(st.x,st.y,abs(sin(u_time)));\n\n    //gl_FragColor = vec4(color,1.0);\n    gl_FragColor = texture2D(u_tex0, vTextureCoord);\n}"},function(t,e){t.exports="#ifdef GL_ES\nprecision mediump float;\n#endif\n\nattribute vec2 aTextureCoord;\nvarying highp vec2 vTextureCoord;\n\nattribute vec3 a_position;\n\nuniform mat4 uProjection;\nuniform mat4 uModel;\nuniform mat4 uView;\n\nvarying float intensity;\n\nvoid main() {\n    mat4 modelViewMatrix = uView * uModel;\n    gl_Position = uProjection * modelViewMatrix * vec4(a_position, 1.0);\n    //gl_Position = vec4(a_position, 1.0);\n    vTextureCoord = gl_Position.xy;\n    //vec3 newPosition = vec3(aPosition.x + 5.5, aPosition.y, aPosition.z);\n    //gl_Position = uProjection * modelViewMatrix * vec4(a_position, 1.0);\n}"},function(t,e){t.exports="#ifdef GL_ES\nprecision mediump float;\n#endif\n\n#define PI 3.1415926535\n#define HALF_PI 1.57079632679\n\nuniform vec2 u_resolution;\nuniform float u_time;\n\nuniform sampler2D u_tex0;\nuniform vec2 u_tex0Resolution;\n\nuniform sampler2D u_tex1;\nuniform vec2 u_tex1Resolution;\n\nvec3 white = vec3(1.0,1.0,1.0);\nvec3 black = vec3(0.0,0.0,0.0);\nfloat speedMoon = 0.02;\nfloat speedSun = 0.25;\n\nvec3 sphereNormals(in vec2 uv) {\n    uv = fract(uv)*2.0-1.0;\n    vec3 ret;\n    ret.xy = sqrt(uv * uv) * sign(uv);\n    ret.z = sqrt(abs(1.0 - dot(ret.xy,ret.xy)));\n    ret = ret * 0.5 + 0.5;\n    return mix(vec3(0.0), ret, smoothstep(1.0,0.98,dot(uv,uv)) );\n}\n\nvec2 sphereCoords(vec2 _st, float _scale){\n    float maxFactor = sin(1.570796327);\n    vec2 uv = vec2(0.0);\n    vec2 xy = 2.0 * _st.xy - 1.0;\n    float d = length(xy);\n    if (d < (2.0-maxFactor)){\n        d = length(xy * maxFactor);\n        float z = sqrt(1.0 - d * d);\n        float r = atan(d, z) / 3.1415926535 * _scale;\n        float phi = atan(xy.y, xy.x);\n\n        uv.x = r * cos(phi) + 0.5;\n        uv.y = r * sin(phi) + 0.5;\n    } else {\n        uv = _st.xy;\n    }\n    return uv;\n}\n\nvec4 sphereTexture(in sampler2D _tex, in vec2 _uv) {\n    vec2 st = sphereCoords(_uv, 1.0);\n\n    float aspect = u_tex0Resolution.y/u_tex0Resolution.x;\n    // moon from left to right\n    st.x = fract(st.x*aspect - u_time*speedMoon);\n    // moon from right to left\n    // st.x = fract(st.x*aspect + u_time*speedMoon);\n\n    return texture2D(_tex, st);\n}\nmat2 scale(vec2 _scale){\n    return mat2(_scale.x,0.0,\n                0.0,_scale.y);\n}\n\nvec2 random2(vec2 st){\n    st = vec2( dot(st,vec2(127.1,311.7)),\n              dot(st,vec2(269.5,183.3)) );\n    return -1.0 + 2.0*fract(sin(st)*43758.5453123);\n}\n\nvoid main(){\n    vec2 defaultSt = gl_FragCoord.xy/u_resolution.xy;\n    vec2 st = defaultSt;\n    vec3 color = vec3(1.0);\n    float ratio = u_resolution.y/u_resolution.x;\n    float scaleRatio = 5.5;\n\n    if(ratio>0.9){\n        scaleRatio = 3.0;\n    }\n    mat2 scaleInt = scale(vec2(1.0,1.0*ratio))*scaleRatio;\n    st = scaleInt * st;\n    st.x = (st.x + 0.5 - (scaleRatio/2.0));\n    st.y = (st.y + 0.5 - (scaleRatio*ratio/2.0));\n    \n    // Calculate sun direction\n    float sunTime = u_time*1.3;\n    // sun from right to left\n    //vec3 sunPos = normalize(vec3(cos(sunTime*speedSun-HALF_PI),0.0,sin(speedSun*sunTime-HALF_PI)));\n    // sun from left to right\n    vec3 sunPos =  normalize(vec3(sin(speedSun*sunTime-HALF_PI),0.0,cos(sunTime*speedSun-HALF_PI)));\n    vec3 surface = normalize(sphereNormals(st)*2.0-1.0);\n\n    color *= sphereTexture(u_tex0, st).rgb;\n    // Add Shadows\n    color *= dot(sunPos,surface);\n\n    // Blend black the edge of the sphere\n    float border = 0.05;\n    float radius = 1.0-length( vec2(0.5)-(st) )*2.0;\n    float smoothRadius = smoothstep(0.001,border,radius); \n\n    // White highlights\n    vec4 fragColor = vec4(color,1.0);\n    if(smoothRadius<border){\n        st -=0.5;\n        float pw = pow(length(st),3.0)*5.0;\n        float invPosition = 1.0;//-length((1.0+sunPos.b)*.5);\n        float outRadius = invPosition-pw;\n        // with stars background\n        //color = texture2D(u_tex1, defaultSt).rgb;\n        // with black background\n        // color = black;\n        //color = white*fract(sin(gl_FragCoord.x)*0.2);\n        float multiplie = fract(cos(gl_FragCoord.x)*0.2)*fract(cos(gl_FragCoord.y)*0.2);\n        //color = white*outRadius*multiplie;\n        color = mix(color, white,0.0);\n        fragColor = vec4(color,0.0);\n        \n    }\n    gl_FragColor = fragColor;\n\n}\n"}]);
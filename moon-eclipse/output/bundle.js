!function(t){function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}var e={};r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,r){return Object.prototype.hasOwnProperty.call(t,r)},r.p="",r(r.s=22)}([function(t,r,e){"use strict";function n(t,r,e){this.x=t||0,this.y=r||0,this.z=e||0}e.d(r,"a",function(){return n});var i=e(1),s=e(2),a=e(7);Object.assign(n.prototype,{isVector3:!0,set:function(t,r,e){return this.x=t,this.y=r,this.z=e,this},setScalar:function(t){return this.x=t,this.y=t,this.z=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setComponent:function(t,r){switch(t){case 0:this.x=r;break;case 1:this.y=r;break;case 2:this.z=r;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},add:function(t,r){return void 0!==r?this.addVectors(t,r):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this},addVectors:function(t,r){return this.x=t.x+r.x,this.y=t.y+r.y,this.z=t.z+r.z,this},addScaledVector:function(t,r){return this.x+=t.x*r,this.y+=t.y*r,this.z+=t.z*r,this},sub:function(t,r){return void 0!==r?this.subVectors(t,r):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this},subVectors:function(t,r){return this.x=t.x-r.x,this.y=t.y-r.y,this.z=t.z-r.z,this},multiply:function(t,r){return void 0!==r?this.multiplyVectors(t,r):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)},multiplyScalar:function(t){return this.x*=t,this.y*=t,this.z*=t,this},multiplyVectors:function(t,r){return this.x=t.x*r.x,this.y=t.y*r.y,this.z=t.z*r.z,this},applyEuler:function(){var t=new a.a;return function(r){return!r||r.isEuler,this.applyQuaternion(t.setFromEuler(r))}}(),applyAxisAngle:function(){var t=new a.a;return function(r,e){return this.applyQuaternion(t.setFromAxisAngle(r,e))}}(),applyMatrix3:function(t){var r=this.x,e=this.y,n=this.z,i=t.elements;return this.x=i[0]*r+i[3]*e+i[6]*n,this.y=i[1]*r+i[4]*e+i[7]*n,this.z=i[2]*r+i[5]*e+i[8]*n,this},applyMatrix4:function(t){var r=this.x,e=this.y,n=this.z,i=t.elements,s=1/(i[3]*r+i[7]*e+i[11]*n+i[15]);return this.x=(i[0]*r+i[4]*e+i[8]*n+i[12])*s,this.y=(i[1]*r+i[5]*e+i[9]*n+i[13])*s,this.z=(i[2]*r+i[6]*e+i[10]*n+i[14])*s,this},applyQuaternion:function(t){var r=this.x,e=this.y,n=this.z,i=t.x,s=t.y,a=t.z,o=t.w,h=o*r+s*n-a*e,u=o*e+a*r-i*n,c=o*n+i*e-s*r,l=-i*r-s*e-a*n;return this.x=h*o+l*-i+u*-a-c*-s,this.y=u*o+l*-s+c*-i-h*-a,this.z=c*o+l*-a+h*-s-u*-i,this},project:function(){var t=new s.a;return function(r){return t.multiplyMatrices(r.projectionMatrix,t.getInverse(r.matrixWorld)),this.applyMatrix4(t)}}(),unproject:function(){var t=new s.a;return function(r){return t.multiplyMatrices(r.matrixWorld,t.getInverse(r.projectionMatrix)),this.applyMatrix4(t)}}(),transformDirection:function(t){var r=this.x,e=this.y,n=this.z,i=t.elements;return this.x=i[0]*r+i[4]*e+i[8]*n,this.y=i[1]*r+i[5]*e+i[9]*n,this.z=i[2]*r+i[6]*e+i[10]*n,this.normalize()},divide:function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this},divideScalar:function(t){return this.multiplyScalar(1/t)},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this},clamp:function(t,r){return this.x=Math.max(t.x,Math.min(r.x,this.x)),this.y=Math.max(t.y,Math.min(r.y,this.y)),this.z=Math.max(t.z,Math.min(r.z,this.z)),this},clampScalar:function(){var t=new n,r=new n;return function(e,n){return t.set(e,e,e),r.set(n,n,n),this.clamp(t,r)}}(),clampLength:function(t,r){var e=this.length();return this.divideScalar(e||1).multiplyScalar(Math.max(t,Math.min(r,e)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(t){return this.normalize().multiplyScalar(t)},lerp:function(t,r){return this.x+=(t.x-this.x)*r,this.y+=(t.y-this.y)*r,this.z+=(t.z-this.z)*r,this},lerpVectors:function(t,r,e){return this.subVectors(r,t).multiplyScalar(e).add(t)},cross:function(t,r){return void 0!==r?this.crossVectors(t,r):this.crossVectors(this,t)},crossVectors:function(t,r){var e=t.x,n=t.y,i=t.z,s=r.x,a=r.y,o=r.z;return this.x=n*o-i*a,this.y=i*s-e*o,this.z=e*a-n*s,this},projectOnVector:function(t){var r=t.dot(this)/t.lengthSq();return this.copy(t).multiplyScalar(r)},projectOnPlane:function(){var t=new n;return function(r){return t.copy(this).projectOnVector(r),this.sub(t)}}(),reflect:function(){var t=new n;return function(r){return this.sub(t.copy(r).multiplyScalar(2*this.dot(r)))}}(),angleTo:function(t){var r=this.dot(t)/Math.sqrt(this.lengthSq()*t.lengthSq());return Math.acos(i.a.clamp(r,-1,1))},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var r=this.x-t.x,e=this.y-t.y,n=this.z-t.z;return r*r+e*e+n*n},manhattanDistanceTo:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)},setFromSpherical:function(t){var r=Math.sin(t.phi)*t.radius;return this.x=r*Math.sin(t.theta),this.y=Math.cos(t.phi)*t.radius,this.z=r*Math.cos(t.theta),this},setFromCylindrical:function(t){return this.x=t.radius*Math.sin(t.theta),this.y=t.y,this.z=t.radius*Math.cos(t.theta),this},setFromMatrixPosition:function(t){var r=t.elements;return this.x=r[12],this.y=r[13],this.z=r[14],this},setFromMatrixScale:function(t){var r=this.setFromMatrixColumn(t,0).length(),e=this.setFromMatrixColumn(t,1).length(),n=this.setFromMatrixColumn(t,2).length();return this.x=r,this.y=e,this.z=n,this},setFromMatrixColumn:function(t,r){return this.fromArray(t.elements,4*r)},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z},fromArray:function(t,r){return void 0===r&&(r=0),this.x=t[r],this.y=t[r+1],this.z=t[r+2],this},toArray:function(t,r){return void 0===t&&(t=[]),void 0===r&&(r=0),t[r]=this.x,t[r+1]=this.y,t[r+2]=this.z,t},fromBufferAttribute:function(t,r,e){return this.x=t.getX(r),this.y=t.getY(r),this.z=t.getZ(r),this}})},function(t,r,e){"use strict";e.d(r,"a",function(){return n});var n={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){for(var t=[],r=0;r<256;r++)t[r]=(r<16?"0":"")+r.toString(16).toUpperCase();return function(){var r=4294967295*Math.random()|0,e=4294967295*Math.random()|0,n=4294967295*Math.random()|0,i=4294967295*Math.random()|0;return t[255&r]+t[r>>8&255]+t[r>>16&255]+t[r>>24&255]+"-"+t[255&e]+t[e>>8&255]+"-"+t[e>>16&15|64]+t[e>>24&255]+"-"+t[63&n|128]+t[n>>8&255]+"-"+t[n>>16&255]+t[n>>24&255]+t[255&i]+t[i>>8&255]+t[i>>16&255]+t[i>>24&255]}}(),clamp:function(t,r,e){return Math.max(r,Math.min(e,t))},euclideanModulo:function(t,r){return(t%r+r)%r},mapLinear:function(t,r,e,n,i){return n+(t-r)*(i-n)/(e-r)},lerp:function(t,r,e){return(1-e)*t+e*r},smoothstep:function(t,r,e){return t<=r?0:t>=e?1:(t=(t-r)/(e-r))*t*(3-2*t)},smootherstep:function(t,r,e){return t<=r?0:t>=e?1:(t=(t-r)/(e-r))*t*t*(t*(6*t-15)+10)},randInt:function(t,r){return t+Math.floor(Math.random()*(r-t+1))},randFloat:function(t,r){return t+Math.random()*(r-t)},randFloatSpread:function(t){return t*(.5-Math.random())},degToRad:function(t){return t*n.DEG2RAD},radToDeg:function(t){return t*n.RAD2DEG},isPowerOfTwo:function(t){return 0==(t&t-1)&&0!==t},ceilPowerOfTwo:function(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))},floorPowerOfTwo:function(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}}},function(t,r,e){"use strict";function n(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length}e.d(r,"a",function(){return n});var i=e(0);Object.assign(n.prototype,{isMatrix4:!0,set:function(t,r,e,n,i,s,a,o,h,u,c,l,f,p,d,y){var g=this.elements;return g[0]=t,g[4]=r,g[8]=e,g[12]=n,g[1]=i,g[5]=s,g[9]=a,g[13]=o,g[2]=h,g[6]=u,g[10]=c,g[14]=l,g[3]=f,g[7]=p,g[11]=d,g[15]=y,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new n).fromArray(this.elements)},copy:function(t){var r=this.elements,e=t.elements;return r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r[4]=e[4],r[5]=e[5],r[6]=e[6],r[7]=e[7],r[8]=e[8],r[9]=e[9],r[10]=e[10],r[11]=e[11],r[12]=e[12],r[13]=e[13],r[14]=e[14],r[15]=e[15],this},copyPosition:function(t){var r=this.elements,e=t.elements;return r[12]=e[12],r[13]=e[13],r[14]=e[14],this},extractBasis:function(t,r,e){return t.setFromMatrixColumn(this,0),r.setFromMatrixColumn(this,1),e.setFromMatrixColumn(this,2),this},makeBasis:function(t,r,e){return this.set(t.x,r.x,e.x,0,t.y,r.y,e.y,0,t.z,r.z,e.z,0,0,0,0,1),this},extractRotation:function(){var t=new i.a;return function(r){var e=this.elements,n=r.elements,i=1/t.setFromMatrixColumn(r,0).length(),s=1/t.setFromMatrixColumn(r,1).length(),a=1/t.setFromMatrixColumn(r,2).length();return e[0]=n[0]*i,e[1]=n[1]*i,e[2]=n[2]*i,e[4]=n[4]*s,e[5]=n[5]*s,e[6]=n[6]*s,e[8]=n[8]*a,e[9]=n[9]*a,e[10]=n[10]*a,this}}(),makeRotationFromEuler:function(t){!t||t.isEuler;var r=this.elements,e=t.x,n=t.y,i=t.z,s=Math.cos(e),a=Math.sin(e),o=Math.cos(n),h=Math.sin(n),u=Math.cos(i),c=Math.sin(i);if("XYZ"===t.order){var l=s*u,f=s*c,p=a*u,d=a*c;r[0]=o*u,r[4]=-o*c,r[8]=h,r[1]=f+p*h,r[5]=l-d*h,r[9]=-a*o,r[2]=d-l*h,r[6]=p+f*h,r[10]=s*o}else if("YXZ"===t.order){var y=o*u,g=o*c,m=h*u,v=h*c;r[0]=y+v*a,r[4]=m*a-g,r[8]=s*h,r[1]=s*c,r[5]=s*u,r[9]=-a,r[2]=g*a-m,r[6]=v+y*a,r[10]=s*o}else if("ZXY"===t.order){var y=o*u,g=o*c,m=h*u,v=h*c;r[0]=y-v*a,r[4]=-s*c,r[8]=m+g*a,r[1]=g+m*a,r[5]=s*u,r[9]=v-y*a,r[2]=-s*h,r[6]=a,r[10]=s*o}else if("ZYX"===t.order){var l=s*u,f=s*c,p=a*u,d=a*c;r[0]=o*u,r[4]=p*h-f,r[8]=l*h+d,r[1]=o*c,r[5]=d*h+l,r[9]=f*h-p,r[2]=-h,r[6]=a*o,r[10]=s*o}else if("YZX"===t.order){var x=s*o,b=s*h,_=a*o,w=a*h;r[0]=o*u,r[4]=w-x*c,r[8]=_*c+b,r[1]=c,r[5]=s*u,r[9]=-a*u,r[2]=-h*u,r[6]=b*c+_,r[10]=x-w*c}else if("XZY"===t.order){var x=s*o,b=s*h,_=a*o,w=a*h;r[0]=o*u,r[4]=-c,r[8]=h*u,r[1]=x*c+w,r[5]=s*u,r[9]=b*c-_,r[2]=_*c-b,r[6]=a*u,r[10]=w*c+x}return r[3]=0,r[7]=0,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,this},makeRotationFromQuaternion:function(t){var r=this.elements,e=t._x,n=t._y,i=t._z,s=t._w,a=e+e,o=n+n,h=i+i,u=e*a,c=e*o,l=e*h,f=n*o,p=n*h,d=i*h,y=s*a,g=s*o,m=s*h;return r[0]=1-(f+d),r[4]=c-m,r[8]=l+g,r[1]=c+m,r[5]=1-(u+d),r[9]=p-y,r[2]=l-g,r[6]=p+y,r[10]=1-(u+f),r[3]=0,r[7]=0,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,this},lookAt:function(){var t=new i.a,r=new i.a,e=new i.a;return function(n,i,s){var a=this.elements;return e.subVectors(n,i),0===e.lengthSq()&&(e.z=1),e.normalize(),t.crossVectors(s,e),0===t.lengthSq()&&(1===Math.abs(s.z)?e.x+=1e-4:e.z+=1e-4,e.normalize(),t.crossVectors(s,e)),t.normalize(),r.crossVectors(e,t),a[0]=t.x,a[4]=r.x,a[8]=e.x,a[1]=t.y,a[5]=r.y,a[9]=e.y,a[2]=t.z,a[6]=r.z,a[10]=e.z,this}}(),multiply:function(t,r){return void 0!==r?this.multiplyMatrices(t,r):this.multiplyMatrices(this,t)},premultiply:function(t){return this.multiplyMatrices(t,this)},multiplyMatrices:function(t,r){var e=t.elements,n=r.elements,i=this.elements,s=e[0],a=e[4],o=e[8],h=e[12],u=e[1],c=e[5],l=e[9],f=e[13],p=e[2],d=e[6],y=e[10],g=e[14],m=e[3],v=e[7],x=e[11],b=e[15],_=n[0],w=n[4],A=n[8],M=n[12],z=n[1],S=n[5],E=n[9],N=n[13],U=n[2],V=n[6],k=n[10],B=n[14],j=n[3],R=n[7],T=n[11],I=n[15];return i[0]=s*_+a*z+o*U+h*j,i[4]=s*w+a*S+o*V+h*R,i[8]=s*A+a*E+o*k+h*T,i[12]=s*M+a*N+o*B+h*I,i[1]=u*_+c*z+l*U+f*j,i[5]=u*w+c*S+l*V+f*R,i[9]=u*A+c*E+l*k+f*T,i[13]=u*M+c*N+l*B+f*I,i[2]=p*_+d*z+y*U+g*j,i[6]=p*w+d*S+y*V+g*R,i[10]=p*A+d*E+y*k+g*T,i[14]=p*M+d*N+y*B+g*I,i[3]=m*_+v*z+x*U+b*j,i[7]=m*w+v*S+x*V+b*R,i[11]=m*A+v*E+x*k+b*T,i[15]=m*M+v*N+x*B+b*I,this},multiplyScalar:function(t){var r=this.elements;return r[0]*=t,r[4]*=t,r[8]*=t,r[12]*=t,r[1]*=t,r[5]*=t,r[9]*=t,r[13]*=t,r[2]*=t,r[6]*=t,r[10]*=t,r[14]*=t,r[3]*=t,r[7]*=t,r[11]*=t,r[15]*=t,this},applyToBufferAttribute:function(){var t=new i.a;return function(r){for(var e=0,n=r.count;e<n;e++)t.x=r.getX(e),t.y=r.getY(e),t.z=r.getZ(e),t.applyMatrix4(this),r.setXYZ(e,t.x,t.y,t.z);return r}}(),determinant:function(){var t=this.elements,r=t[0],e=t[4],n=t[8],i=t[12],s=t[1],a=t[5],o=t[9],h=t[13],u=t[2],c=t[6],l=t[10],f=t[14];return t[3]*(+i*o*c-n*h*c-i*a*l+e*h*l+n*a*f-e*o*f)+t[7]*(+r*o*f-r*h*l+i*s*l-n*s*f+n*h*u-i*o*u)+t[11]*(+r*h*c-r*a*f-i*s*c+e*s*f+i*a*u-e*h*u)+t[15]*(-n*a*u-r*o*c+r*a*l+n*s*c-e*s*l+e*o*u)},transpose:function(){var t,r=this.elements;return t=r[1],r[1]=r[4],r[4]=t,t=r[2],r[2]=r[8],r[8]=t,t=r[6],r[6]=r[9],r[9]=t,t=r[3],r[3]=r[12],r[12]=t,t=r[7],r[7]=r[13],r[13]=t,t=r[11],r[11]=r[14],r[14]=t,this},setPosition:function(t){var r=this.elements;return r[12]=t.x,r[13]=t.y,r[14]=t.z,this},getInverse:function(t,r){var e=this.elements,n=t.elements,i=n[0],s=n[1],a=n[2],o=n[3],h=n[4],u=n[5],c=n[6],l=n[7],f=n[8],p=n[9],d=n[10],y=n[11],g=n[12],m=n[13],v=n[14],x=n[15],b=p*v*l-m*d*l+m*c*y-u*v*y-p*c*x+u*d*x,_=g*d*l-f*v*l-g*c*y+h*v*y+f*c*x-h*d*x,w=f*m*l-g*p*l+g*u*y-h*m*y-f*u*x+h*p*x,A=g*p*c-f*m*c-g*u*d+h*m*d+f*u*v-h*p*v,M=i*b+s*_+a*w+o*A;if(0===M){var z="THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0";if(!0===r)throw new Error(z);return this.identity()}var S=1/M;return e[0]=b*S,e[1]=(m*d*o-p*v*o-m*a*y+s*v*y+p*a*x-s*d*x)*S,e[2]=(u*v*o-m*c*o+m*a*l-s*v*l-u*a*x+s*c*x)*S,e[3]=(p*c*o-u*d*o-p*a*l+s*d*l+u*a*y-s*c*y)*S,e[4]=_*S,e[5]=(f*v*o-g*d*o+g*a*y-i*v*y-f*a*x+i*d*x)*S,e[6]=(g*c*o-h*v*o-g*a*l+i*v*l+h*a*x-i*c*x)*S,e[7]=(h*d*o-f*c*o+f*a*l-i*d*l-h*a*y+i*c*y)*S,e[8]=w*S,e[9]=(g*p*o-f*m*o-g*s*y+i*m*y+f*s*x-i*p*x)*S,e[10]=(h*m*o-g*u*o+g*s*l-i*m*l-h*s*x+i*u*x)*S,e[11]=(f*u*o-h*p*o-f*s*l+i*p*l+h*s*y-i*u*y)*S,e[12]=A*S,e[13]=(f*m*a-g*p*a+g*s*d-i*m*d-f*s*v+i*p*v)*S,e[14]=(g*u*a-h*m*a-g*s*c+i*m*c+h*s*v-i*u*v)*S,e[15]=(h*p*a-f*u*a+f*s*c-i*p*c-h*s*d+i*u*d)*S,this},scale:function(t){var r=this.elements,e=t.x,n=t.y,i=t.z;return r[0]*=e,r[4]*=n,r[8]*=i,r[1]*=e,r[5]*=n,r[9]*=i,r[2]*=e,r[6]*=n,r[10]*=i,r[3]*=e,r[7]*=n,r[11]*=i,this},getMaxScaleOnAxis:function(){var t=this.elements,r=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],e=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],n=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(r,e,n))},makeTranslation:function(t,r,e){return this.set(1,0,0,t,0,1,0,r,0,0,1,e,0,0,0,1),this},makeRotationX:function(t){var r=Math.cos(t),e=Math.sin(t);return this.set(1,0,0,0,0,r,-e,0,0,e,r,0,0,0,0,1),this},makeRotationY:function(t){var r=Math.cos(t),e=Math.sin(t);return this.set(r,0,e,0,0,1,0,0,-e,0,r,0,0,0,0,1),this},makeRotationZ:function(t){var r=Math.cos(t),e=Math.sin(t);return this.set(r,-e,0,0,e,r,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(t,r){var e=Math.cos(r),n=Math.sin(r),i=1-e,s=t.x,a=t.y,o=t.z,h=i*s,u=i*a;return this.set(h*s+e,h*a-n*o,h*o+n*a,0,h*a+n*o,u*a+e,u*o-n*s,0,h*o-n*a,u*o+n*s,i*o*o+e,0,0,0,0,1),this},makeScale:function(t,r,e){return this.set(t,0,0,0,0,r,0,0,0,0,e,0,0,0,0,1),this},makeShear:function(t,r,e){return this.set(1,r,e,0,t,1,e,0,t,r,1,0,0,0,0,1),this},compose:function(t,r,e){return this.makeRotationFromQuaternion(r),this.scale(e),this.setPosition(t),this},decompose:function(){var t=new i.a,r=new n;return function(e,n,i){var s=this.elements,a=t.set(s[0],s[1],s[2]).length(),o=t.set(s[4],s[5],s[6]).length(),h=t.set(s[8],s[9],s[10]).length();this.determinant()<0&&(a=-a),e.x=s[12],e.y=s[13],e.z=s[14],r.copy(this);var u=1/a,c=1/o,l=1/h;return r.elements[0]*=u,r.elements[1]*=u,r.elements[2]*=u,r.elements[4]*=c,r.elements[5]*=c,r.elements[6]*=c,r.elements[8]*=l,r.elements[9]*=l,r.elements[10]*=l,n.setFromRotationMatrix(r),i.x=a,i.y=o,i.z=h,this}}(),makePerspective:function(t,r,e,n,i,s){var a=this.elements,o=2*i/(r-t),h=2*i/(e-n),u=(r+t)/(r-t),c=(e+n)/(e-n),l=-(s+i)/(s-i),f=-2*s*i/(s-i);return a[0]=o,a[4]=0,a[8]=u,a[12]=0,a[1]=0,a[5]=h,a[9]=c,a[13]=0,a[2]=0,a[6]=0,a[10]=l,a[14]=f,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this},makeOrthographic:function(t,r,e,n,i,s){var a=this.elements,o=1/(r-t),h=1/(e-n),u=1/(s-i),c=(r+t)*o,l=(e+n)*h,f=(s+i)*u;return a[0]=2*o,a[4]=0,a[8]=0,a[12]=-c,a[1]=0,a[5]=2*h,a[9]=0,a[13]=-l,a[2]=0,a[6]=0,a[10]=-2*u,a[14]=-f,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this},equals:function(t){for(var r=this.elements,e=t.elements,n=0;n<16;n++)if(r[n]!==e[n])return!1;return!0},fromArray:function(t,r){void 0===r&&(r=0);for(var e=0;e<16;e++)this.elements[e]=t[e+r];return this},toArray:function(t,r){void 0===t&&(t=[]),void 0===r&&(r=0);var e=this.elements;return t[r]=e[0],t[r+1]=e[1],t[r+2]=e[2],t[r+3]=e[3],t[r+4]=e[4],t[r+5]=e[5],t[r+6]=e[6],t[r+7]=e[7],t[r+8]=e[8],t[r+9]=e[9],t[r+10]=e[10],t[r+11]=e[11],t[r+12]=e[12],t[r+13]=e[13],t[r+14]=e[14],t[r+15]=e[15],t}})},function(t,r,e){t.exports=!e(15)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,r){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,r,e){"use strict";function n(){}e.d(r,"a",function(){return n}),Object.assign(n.prototype,{addEventListener:function(t,r){void 0===this._listeners&&(this._listeners={});var e=this._listeners;void 0===e[t]&&(e[t]=[]),-1===e[t].indexOf(r)&&e[t].push(r)},hasEventListener:function(t,r){if(void 0===this._listeners)return!1;var e=this._listeners;return void 0!==e[t]&&-1!==e[t].indexOf(r)},removeEventListener:function(t,r){if(void 0!==this._listeners){var e=this._listeners,n=e[t];if(void 0!==n){var i=n.indexOf(r);-1!==i&&n.splice(i,1)}}},dispatchEvent:function(t){if(void 0!==this._listeners){var r=this._listeners,e=r[t.type];if(void 0!==e){t.target=this;for(var n=e.slice(0),i=0,s=n.length;i<s;i++)n[i].call(this,t)}}}})},function(t,r,e){"use strict";function n(t,r,e){return void 0===r&&void 0===e?this.set(t):this.setRGB(t,r,e)}e.d(r,"a",function(){return n});var i=e(1),s={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Object.assign(n.prototype,{isColor:!0,r:1,g:1,b:1,set:function(t){return t&&t.isColor?this.copy(t):"number"==typeof t?this.setHex(t):"string"==typeof t&&this.setStyle(t),this},setScalar:function(t){return this.r=t,this.g=t,this.b=t,this},setHex:function(t){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,this},setRGB:function(t,r,e){return this.r=t,this.g=r,this.b=e,this},setHSL:function(){function t(t,r,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?t+6*(r-t)*e:e<.5?r:e<2/3?t+6*(r-t)*(2/3-e):t}return function(r,e,n){if(r=i.a.euclideanModulo(r,1),e=i.a.clamp(e,0,1),n=i.a.clamp(n,0,1),0===e)this.r=this.g=this.b=n;else{var s=n<=.5?n*(1+e):n+e-n*e,a=2*n-s;this.r=t(a,s,r+1/3),this.g=t(a,s,r),this.b=t(a,s,r-1/3)}return this}}(),setStyle:function(t){function r(t){void 0!==t&&parseFloat(t)}var e;if(e=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(t)){var n,i=e[1],a=e[2];switch(i){case"rgb":case"rgba":if(n=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(n[1],10))/255,this.g=Math.min(255,parseInt(n[2],10))/255,this.b=Math.min(255,parseInt(n[3],10))/255,r(n[5]),this;if(n=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(n[1],10))/100,this.g=Math.min(100,parseInt(n[2],10))/100,this.b=Math.min(100,parseInt(n[3],10))/100,r(n[5]),this;break;case"hsl":case"hsla":if(n=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a)){var o=parseFloat(n[1])/360,h=parseInt(n[2],10)/100,u=parseInt(n[3],10)/100;return r(n[5]),this.setHSL(o,h,u)}}}else if(e=/^\#([A-Fa-f0-9]+)$/.exec(t)){var c=e[1],l=c.length;if(3===l)return this.r=parseInt(c.charAt(0)+c.charAt(0),16)/255,this.g=parseInt(c.charAt(1)+c.charAt(1),16)/255,this.b=parseInt(c.charAt(2)+c.charAt(2),16)/255,this;if(6===l)return this.r=parseInt(c.charAt(0)+c.charAt(1),16)/255,this.g=parseInt(c.charAt(2)+c.charAt(3),16)/255,this.b=parseInt(c.charAt(4)+c.charAt(5),16)/255,this}if(t&&t.length>0){var c=s[t];void 0!==c&&this.setHex(c)}return this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this},copyGammaToLinear:function(t,r){return void 0===r&&(r=2),this.r=Math.pow(t.r,r),this.g=Math.pow(t.g,r),this.b=Math.pow(t.b,r),this},copyLinearToGamma:function(t,r){void 0===r&&(r=2);var e=r>0?1/r:1;return this.r=Math.pow(t.r,e),this.g=Math.pow(t.g,e),this.b=Math.pow(t.b,e),this},convertGammaToLinear:function(){var t=this.r,r=this.g,e=this.b;return this.r=t*t,this.g=r*r,this.b=e*e,this},convertLinearToGamma:function(){return this.r=Math.sqrt(this.r),this.g=Math.sqrt(this.g),this.b=Math.sqrt(this.b),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(t){var r,e,n=t||{h:0,s:0,l:0},i=this.r,s=this.g,a=this.b,o=Math.max(i,s,a),h=Math.min(i,s,a),u=(h+o)/2;if(h===o)r=0,e=0;else{var c=o-h;switch(e=u<=.5?c/(o+h):c/(2-o-h),o){case i:r=(s-a)/c+(s<a?6:0);break;case s:r=(a-i)/c+2;break;case a:r=(i-s)/c+4}r/=6}return n.h=r,n.s=e,n.l=u,n},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:function(t,r,e){var n=this.getHSL();return n.h+=t,n.s+=r,n.l+=e,this.setHSL(n.h,n.s,n.l),this},add:function(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this},addColors:function(t,r){return this.r=t.r+r.r,this.g=t.g+r.g,this.b=t.b+r.b,this},addScalar:function(t){return this.r+=t,this.g+=t,this.b+=t,this},sub:function(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this},multiply:function(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this},multiplyScalar:function(t){return this.r*=t,this.g*=t,this.b*=t,this},lerp:function(t,r){return this.r+=(t.r-this.r)*r,this.g+=(t.g-this.g)*r,this.b+=(t.b-this.b)*r,this},equals:function(t){return t.r===this.r&&t.g===this.g&&t.b===this.b},fromArray:function(t,r){return void 0===r&&(r=0),this.r=t[r],this.g=t[r+1],this.b=t[r+2],this},toArray:function(t,r){return void 0===t&&(t=[]),void 0===r&&(r=0),t[r]=this.r,t[r+1]=this.g,t[r+2]=this.b,t},toJSON:function(){return this.getHex()}})},function(t,r,e){"use strict";function n(t,r,e,n){this._x=t||0,this._y=r||0,this._z=e||0,this._w=void 0!==n?n:1}e.d(r,"a",function(){return n});var i=e(0);Object.assign(n,{slerp:function(t,r,e,n){return e.copy(t).slerp(r,n)},slerpFlat:function(t,r,e,n,i,s,a){var o=e[n+0],h=e[n+1],u=e[n+2],c=e[n+3],l=i[s+0],f=i[s+1],p=i[s+2],d=i[s+3];if(c!==d||o!==l||h!==f||u!==p){var y=1-a,g=o*l+h*f+u*p+c*d,m=g>=0?1:-1,v=1-g*g;if(v>Number.EPSILON){var x=Math.sqrt(v),b=Math.atan2(x,g*m);y=Math.sin(y*b)/x,a=Math.sin(a*b)/x}var _=a*m;if(o=o*y+l*_,h=h*y+f*_,u=u*y+p*_,c=c*y+d*_,y===1-a){var w=1/Math.sqrt(o*o+h*h+u*u+c*c);o*=w,h*=w,u*=w,c*=w}}t[r]=o,t[r+1]=h,t[r+2]=u,t[r+3]=c}}),Object.defineProperties(n.prototype,{x:{get:function(){return this._x},set:function(t){this._x=t,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(t){this._y=t,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(t){this._z=t,this.onChangeCallback()}},w:{get:function(){return this._w},set:function(t){this._w=t,this.onChangeCallback()}}}),Object.assign(n.prototype,{set:function(t,r,e,n){return this._x=t,this._y=r,this._z=e,this._w=n,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this.onChangeCallback(),this},setFromEuler:function(t,r){if(!t||!t.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var e=t._x,n=t._y,i=t._z,s=t.order,a=Math.cos,o=Math.sin,h=a(e/2),u=a(n/2),c=a(i/2),l=o(e/2),f=o(n/2),p=o(i/2);return"XYZ"===s?(this._x=l*u*c+h*f*p,this._y=h*f*c-l*u*p,this._z=h*u*p+l*f*c,this._w=h*u*c-l*f*p):"YXZ"===s?(this._x=l*u*c+h*f*p,this._y=h*f*c-l*u*p,this._z=h*u*p-l*f*c,this._w=h*u*c+l*f*p):"ZXY"===s?(this._x=l*u*c-h*f*p,this._y=h*f*c+l*u*p,this._z=h*u*p+l*f*c,this._w=h*u*c-l*f*p):"ZYX"===s?(this._x=l*u*c-h*f*p,this._y=h*f*c+l*u*p,this._z=h*u*p-l*f*c,this._w=h*u*c+l*f*p):"YZX"===s?(this._x=l*u*c+h*f*p,this._y=h*f*c+l*u*p,this._z=h*u*p-l*f*c,this._w=h*u*c-l*f*p):"XZY"===s&&(this._x=l*u*c-h*f*p,this._y=h*f*c-l*u*p,this._z=h*u*p+l*f*c,this._w=h*u*c+l*f*p),!1!==r&&this.onChangeCallback(),this},setFromAxisAngle:function(t,r){var e=r/2,n=Math.sin(e);return this._x=t.x*n,this._y=t.y*n,this._z=t.z*n,this._w=Math.cos(e),this.onChangeCallback(),this},setFromRotationMatrix:function(t){var r,e=t.elements,n=e[0],i=e[4],s=e[8],a=e[1],o=e[5],h=e[9],u=e[2],c=e[6],l=e[10],f=n+o+l;return f>0?(r=.5/Math.sqrt(f+1),this._w=.25/r,this._x=(c-h)*r,this._y=(s-u)*r,this._z=(a-i)*r):n>o&&n>l?(r=2*Math.sqrt(1+n-o-l),this._w=(c-h)/r,this._x=.25*r,this._y=(i+a)/r,this._z=(s+u)/r):o>l?(r=2*Math.sqrt(1+o-n-l),this._w=(s-u)/r,this._x=(i+a)/r,this._y=.25*r,this._z=(h+c)/r):(r=2*Math.sqrt(1+l-n-o),this._w=(a-i)/r,this._x=(s+u)/r,this._y=(h+c)/r,this._z=.25*r),this.onChangeCallback(),this},setFromUnitVectors:function(){var t,r=new i.a;return function(e,n){return void 0===r&&(r=new i.a),t=e.dot(n)+1,t<1e-6?(t=0,Math.abs(e.x)>Math.abs(e.z)?r.set(-e.y,e.x,0):r.set(0,-e.z,e.y)):r.crossVectors(e,n),this._x=r.x,this._y=r.y,this._z=r.z,this._w=t,this.normalize()}}(),inverse:function(){return this.conjugate()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this.onChangeCallback(),this},dot:function(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this.onChangeCallback(),this},multiply:function(t,r){return void 0!==r?this.multiplyQuaternions(t,r):this.multiplyQuaternions(this,t)},premultiply:function(t){return this.multiplyQuaternions(t,this)},multiplyQuaternions:function(t,r){var e=t._x,n=t._y,i=t._z,s=t._w,a=r._x,o=r._y,h=r._z,u=r._w;return this._x=e*u+s*a+n*h-i*o,this._y=n*u+s*o+i*a-e*h,this._z=i*u+s*h+e*o-n*a,this._w=s*u-e*a-n*o-i*h,this.onChangeCallback(),this},slerp:function(t,r){if(0===r)return this;if(1===r)return this.copy(t);var e=this._x,n=this._y,i=this._z,s=this._w,a=s*t._w+e*t._x+n*t._y+i*t._z;if(a<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,a=-a):this.copy(t),a>=1)return this._w=s,this._x=e,this._y=n,this._z=i,this;var o=Math.sqrt(1-a*a);if(Math.abs(o)<.001)return this._w=.5*(s+this._w),this._x=.5*(e+this._x),this._y=.5*(n+this._y),this._z=.5*(i+this._z),this;var h=Math.atan2(o,a),u=Math.sin((1-r)*h)/o,c=Math.sin(r*h)/o;return this._w=s*u+this._w*c,this._x=e*u+this._x*c,this._y=n*u+this._y*c,this._z=i*u+this._z*c,this.onChangeCallback(),this},equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w},fromArray:function(t,r){return void 0===r&&(r=0),this._x=t[r],this._y=t[r+1],this._z=t[r+2],this._w=t[r+3],this.onChangeCallback(),this},toArray:function(t,r){return void 0===t&&(t=[]),void 0===r&&(r=0),t[r]=this._x,t[r+1]=this._y,t[r+2]=this._z,t[r+3]=this._w,t},onChange:function(t){return this.onChangeCallback=t,this},onChangeCallback:function(){}})},function(t,r,e){"use strict";function n(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length}e.d(r,"a",function(){return n});var i=e(0);Object.assign(n.prototype,{isMatrix3:!0,set:function(t,r,e,n,i,s,a,o,h){var u=this.elements;return u[0]=t,u[1]=n,u[2]=a,u[3]=r,u[4]=i,u[5]=o,u[6]=e,u[7]=s,u[8]=h,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(t){var r=this.elements,e=t.elements;return r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],r[4]=e[4],r[5]=e[5],r[6]=e[6],r[7]=e[7],r[8]=e[8],this},setFromMatrix4:function(t){var r=t.elements;return this.set(r[0],r[4],r[8],r[1],r[5],r[9],r[2],r[6],r[10]),this},applyToBufferAttribute:function(){var t=new i.a;return function(r){for(var e=0,n=r.count;e<n;e++)t.x=r.getX(e),t.y=r.getY(e),t.z=r.getZ(e),t.applyMatrix3(this),r.setXYZ(e,t.x,t.y,t.z);return r}}(),multiply:function(t){return this.multiplyMatrices(this,t)},premultiply:function(t){return this.multiplyMatrices(t,this)},multiplyMatrices:function(t,r){var e=t.elements,n=r.elements,i=this.elements,s=e[0],a=e[3],o=e[6],h=e[1],u=e[4],c=e[7],l=e[2],f=e[5],p=e[8],d=n[0],y=n[3],g=n[6],m=n[1],v=n[4],x=n[7],b=n[2],_=n[5],w=n[8];return i[0]=s*d+a*m+o*b,i[3]=s*y+a*v+o*_,i[6]=s*g+a*x+o*w,i[1]=h*d+u*m+c*b,i[4]=h*y+u*v+c*_,i[7]=h*g+u*x+c*w,i[2]=l*d+f*m+p*b,i[5]=l*y+f*v+p*_,i[8]=l*g+f*x+p*w,this},multiplyScalar:function(t){var r=this.elements;return r[0]*=t,r[3]*=t,r[6]*=t,r[1]*=t,r[4]*=t,r[7]*=t,r[2]*=t,r[5]*=t,r[8]*=t,this},determinant:function(){var t=this.elements,r=t[0],e=t[1],n=t[2],i=t[3],s=t[4],a=t[5],o=t[6],h=t[7],u=t[8];return r*s*u-r*a*h-e*i*u+e*a*o+n*i*h-n*s*o},getInverse:function(t,r){t&&t.isMatrix4;var e=t.elements,n=this.elements,i=e[0],s=e[1],a=e[2],o=e[3],h=e[4],u=e[5],c=e[6],l=e[7],f=e[8],p=f*h-u*l,d=u*c-f*o,y=l*o-h*c,g=i*p+s*d+a*y;if(0===g){var m="THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0";if(!0===r)throw new Error(m);return this.identity()}var v=1/g;return n[0]=p*v,n[1]=(a*l-f*s)*v,n[2]=(u*s-a*h)*v,n[3]=d*v,n[4]=(f*i-a*c)*v,n[5]=(a*o-u*i)*v,n[6]=y*v,n[7]=(s*c-l*i)*v,n[8]=(h*i-s*o)*v,this},transpose:function(){var t,r=this.elements;return t=r[1],r[1]=r[3],r[3]=t,t=r[2],r[2]=r[6],r[6]=t,t=r[5],r[5]=r[7],r[7]=t,this},getNormalMatrix:function(t){return this.setFromMatrix4(t).getInverse(this).transpose()},transposeIntoArray:function(t){var r=this.elements;return t[0]=r[0],t[1]=r[3],t[2]=r[6],t[3]=r[1],t[4]=r[4],t[5]=r[7],t[6]=r[2],t[7]=r[5],t[8]=r[8],this},setUvTransform:function(t,r,e,n,i,s,a){var o=Math.cos(i),h=Math.sin(i);this.set(e*o,e*h,-e*(o*s+h*a)+s+t,-n*h,n*o,-n*(-h*s+o*a)+a+r,0,0,1)},scale:function(t,r){var e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=r,e[4]*=r,e[7]*=r,this},rotate:function(t){var r=Math.cos(t),e=Math.sin(t),n=this.elements,i=n[0],s=n[3],a=n[6],o=n[1],h=n[4],u=n[7];return n[0]=r*i+e*o,n[3]=r*s+e*h,n[6]=r*a+e*u,n[1]=-e*i+r*o,n[4]=-e*s+r*h,n[7]=-e*a+r*u,this},translate:function(t,r){var e=this.elements;return e[0]+=t*e[2],e[3]+=t*e[5],e[6]+=t*e[8],e[1]+=r*e[2],e[4]+=r*e[5],e[7]+=r*e[8],this},equals:function(t){for(var r=this.elements,e=t.elements,n=0;n<9;n++)if(r[n]!==e[n])return!1;return!0},fromArray:function(t,r){void 0===r&&(r=0);for(var e=0;e<9;e++)this.elements[e]=t[e+r];return this},toArray:function(t,r){void 0===t&&(t=[]),void 0===r&&(r=0);var e=this.elements;return t[r]=e[0],t[r+1]=e[1],t[r+2]=e[2],t[r+3]=e[3],t[r+4]=e[4],t[r+5]=e[5],t[r+6]=e[6],t[r+7]=e[7],t[r+8]=e[8],t}})},function(t,r,e){"use strict";function n(t,r){this.center=void 0!==t?t:new s.a,this.radius=void 0!==r?r:0}e.d(r,"a",function(){return n});var i=e(10),s=e(0);Object.assign(n.prototype,{set:function(t,r){return this.center.copy(t),this.radius=r,this},setFromPoints:function(){var t=new i.a;return function(r,e){var n=this.center;void 0!==e?n.copy(e):t.setFromPoints(r).getCenter(n);for(var i=0,s=0,a=r.length;s<a;s++)i=Math.max(i,n.distanceToSquared(r[s]));return this.radius=Math.sqrt(i),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.center.copy(t.center),this.radius=t.radius,this},empty:function(){return this.radius<=0},containsPoint:function(t){return t.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(t){return t.distanceTo(this.center)-this.radius},intersectsSphere:function(t){var r=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=r*r},intersectsBox:function(t){return t.intersectsSphere(this)},intersectsPlane:function(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius},clampPoint:function(t,r){var e=this.center.distanceToSquared(t),n=r||new s.a;return n.copy(t),e>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n},getBoundingBox:function(t){var r=t||new i.a;return r.set(this.center,this.center),r.expandByScalar(this.radius),r},applyMatrix4:function(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this},translate:function(t){return this.center.add(t),this},equals:function(t){return t.center.equals(this.center)&&t.radius===this.radius}})},function(t,r,e){"use strict";function n(t,r){this.min=void 0!==t?t:new i.a(1/0,1/0,1/0),this.max=void 0!==r?r:new i.a(-1/0,-1/0,-1/0)}e.d(r,"a",function(){return n});var i=e(0),s=e(9);Object.assign(n.prototype,{isBox3:!0,set:function(t,r){return this.min.copy(t),this.max.copy(r),this},setFromArray:function(t){for(var r=1/0,e=1/0,n=1/0,i=-1/0,s=-1/0,a=-1/0,o=0,h=t.length;o<h;o+=3){var u=t[o],c=t[o+1],l=t[o+2];u<r&&(r=u),c<e&&(e=c),l<n&&(n=l),u>i&&(i=u),c>s&&(s=c),l>a&&(a=l)}return this.min.set(r,e,n),this.max.set(i,s,a),this},setFromBufferAttribute:function(t){for(var r=1/0,e=1/0,n=1/0,i=-1/0,s=-1/0,a=-1/0,o=0,h=t.count;o<h;o++){var u=t.getX(o),c=t.getY(o),l=t.getZ(o);u<r&&(r=u),c<e&&(e=c),l<n&&(n=l),u>i&&(i=u),c>s&&(s=c),l>a&&(a=l)}return this.min.set(r,e,n),this.max.set(i,s,a),this},setFromPoints:function(t){this.makeEmpty();for(var r=0,e=t.length;r<e;r++)this.expandByPoint(t[r]);return this},setFromCenterAndSize:function(){var t=new i.a;return function(r,e){var n=t.copy(e).multiplyScalar(.5);return this.min.copy(r).sub(n),this.max.copy(r).add(n),this}}(),setFromObject:function(t){return this.makeEmpty(),this.expandByObject(t)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.min.copy(t.min),this.max.copy(t.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(t){var r=t||new i.a;return this.isEmpty()?r.set(0,0,0):r.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(t){var r=t||new i.a;return this.isEmpty()?r.set(0,0,0):r.subVectors(this.max,this.min)},expandByPoint:function(t){return this.min.min(t),this.max.max(t),this},expandByVector:function(t){return this.min.sub(t),this.max.add(t),this},expandByScalar:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},expandByObject:function(){function t(t){var i=t.geometry;if(void 0!==i)if(i.isGeometry){var a=i.vertices;for(e=0,n=a.length;e<n;e++)s.copy(a[e]),s.applyMatrix4(t.matrixWorld),r.expandByPoint(s)}else if(i.isBufferGeometry){var o=i.attributes.position;if(void 0!==o)for(e=0,n=o.count;e<n;e++)s.fromBufferAttribute(o,e).applyMatrix4(t.matrixWorld),r.expandByPoint(s)}}var r,e,n,s=new i.a;return function(e){return r=this,e.updateMatrixWorld(!0),e.traverse(t),this}}(),containsPoint:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)},containsBox:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z},getParameter:function(t,r){return(r||new i.a).set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)},intersectsSphere:function(){var t=new i.a;return function(r){return this.clampPoint(r.center,t),t.distanceToSquared(r.center)<=r.radius*r.radius}}(),intersectsPlane:function(t){var r,e;return t.normal.x>0?(r=t.normal.x*this.min.x,e=t.normal.x*this.max.x):(r=t.normal.x*this.max.x,e=t.normal.x*this.min.x),t.normal.y>0?(r+=t.normal.y*this.min.y,e+=t.normal.y*this.max.y):(r+=t.normal.y*this.max.y,e+=t.normal.y*this.min.y),t.normal.z>0?(r+=t.normal.z*this.min.z,e+=t.normal.z*this.max.z):(r+=t.normal.z*this.max.z,e+=t.normal.z*this.min.z),r<=t.constant&&e>=t.constant},intersectsTriangle:function(){function t(t){var i,s;for(i=0,s=t.length-3;i<=s;i+=3){h.fromArray(t,i);var a=c.x*Math.abs(h.x)+c.y*Math.abs(h.y)+c.z*Math.abs(h.z),o=r.dot(h),u=e.dot(h),l=n.dot(h);if(Math.max(-Math.max(o,u,l),Math.min(o,u,l))>a)return!1}return!0}var r=new i.a,e=new i.a,n=new i.a,s=new i.a,a=new i.a,o=new i.a,h=new i.a,u=new i.a,c=new i.a,l=new i.a;return function(i){if(this.isEmpty())return!1;this.getCenter(u),c.subVectors(this.max,u),r.subVectors(i.a,u),e.subVectors(i.b,u),n.subVectors(i.c,u),s.subVectors(e,r),a.subVectors(n,e),o.subVectors(r,n);var h=[0,-s.z,s.y,0,-a.z,a.y,0,-o.z,o.y,s.z,0,-s.x,a.z,0,-a.x,o.z,0,-o.x,-s.y,s.x,0,-a.y,a.x,0,-o.y,o.x,0];return!!t(h)&&(h=[1,0,0,0,1,0,0,0,1],!!t(h)&&(l.crossVectors(s,a),h=[l.x,l.y,l.z],t(h)))}}(),clampPoint:function(t,r){return(r||new i.a).copy(t).clamp(this.min,this.max)},distanceToPoint:function(){var t=new i.a;return function(r){return t.copy(r).clamp(this.min,this.max).sub(r).length()}}(),getBoundingSphere:function(){var t=new i.a;return function(r){var e=r||new s.a;return this.getCenter(e.center),e.radius=.5*this.getSize(t).length(),e}}(),intersect:function(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this},union:function(t){return this.min.min(t.min),this.max.max(t.max),this},applyMatrix4:function(){var t=[new i.a,new i.a,new i.a,new i.a,new i.a,new i.a,new i.a,new i.a];return function(r){return this.isEmpty()?this:(t[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(r),t[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(r),t[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(r),t[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(r),t[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(r),t[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(r),t[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(r),t[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(r),this.setFromPoints(t),this)}}(),translate:function(t){return this.min.add(t),this.max.add(t),this},equals:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}})},function(t,r,e){"use strict";function n(t,r){this.x=t||0,this.y=r||0}e.d(r,"a",function(){return n}),Object.defineProperties(n.prototype,{width:{get:function(){return this.x},set:function(t){this.x=t}},height:{get:function(){return this.y},set:function(t){this.y=t}}}),Object.assign(n.prototype,{isVector2:!0,set:function(t,r){return this.x=t,this.y=r,this},setScalar:function(t){return this.x=t,this.y=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setComponent:function(t,r){switch(t){case 0:this.x=r;break;case 1:this.y=r;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(t){return this.x=t.x,this.y=t.y,this},add:function(t,r){return void 0!==r?this.addVectors(t,r):(this.x+=t.x,this.y+=t.y,this)},addScalar:function(t){return this.x+=t,this.y+=t,this},addVectors:function(t,r){return this.x=t.x+r.x,this.y=t.y+r.y,this},addScaledVector:function(t,r){return this.x+=t.x*r,this.y+=t.y*r,this},sub:function(t,r){return void 0!==r?this.subVectors(t,r):(this.x-=t.x,this.y-=t.y,this)},subScalar:function(t){return this.x-=t,this.y-=t,this},subVectors:function(t,r){return this.x=t.x-r.x,this.y=t.y-r.y,this},multiply:function(t){return this.x*=t.x,this.y*=t.y,this},multiplyScalar:function(t){return this.x*=t,this.y*=t,this},divide:function(t){return this.x/=t.x,this.y/=t.y,this},divideScalar:function(t){return this.multiplyScalar(1/t)},applyMatrix3:function(t){var r=this.x,e=this.y,n=t.elements;return this.x=n[0]*r+n[3]*e+n[6],this.y=n[1]*r+n[4]*e+n[7],this},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this},clamp:function(t,r){return this.x=Math.max(t.x,Math.min(r.x,this.x)),this.y=Math.max(t.y,Math.min(r.y,this.y)),this},clampScalar:function(){var t=new n,r=new n;return function(e,n){return t.set(e,e),r.set(n,n),this.clamp(t,r)}}(),clampLength:function(t,r){var e=this.length();return this.divideScalar(e||1).multiplyScalar(Math.max(t,Math.min(r,e)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(t){return this.x*t.x+this.y*t.y},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length()||1)},angle:function(){var t=Math.atan2(this.y,this.x);return t<0&&(t+=2*Math.PI),t},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var r=this.x-t.x,e=this.y-t.y;return r*r+e*e},manhattanDistanceTo:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)},setLength:function(t){return this.normalize().multiplyScalar(t)},lerp:function(t,r){return this.x+=(t.x-this.x)*r,this.y+=(t.y-this.y)*r,this},lerpVectors:function(t,r,e){return this.subVectors(r,t).multiplyScalar(e).add(t)},equals:function(t){return t.x===this.x&&t.y===this.y},fromArray:function(t,r){return void 0===r&&(r=0),this.x=t[r],this.y=t[r+1],this},toArray:function(t,r){return void 0===t&&(t=[]),void 0===r&&(r=0),t[r]=this.x,t[r+1]=this.y,t},fromBufferAttribute:function(t,r,e){return this.x=t.getX(r),this.y=t.getY(r),this},rotateAround:function(t,r){var e=Math.cos(r),n=Math.sin(r),i=this.x-t.x,s=this.y-t.y;return this.x=i*e-s*n+t.x,this.y=i*n+s*e+t.y,this}})},function(t,r){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)},function(t,r){var e=t.exports={version:"2.5.3"};"number"==typeof __e&&(__e=e)},function(t,r,e){var n=e(33),i=e(34),s=e(36),a=Object.defineProperty;r.f=e(3)?Object.defineProperty:function(t,r,e){if(n(t),r=s(r,!0),n(e),i)try{return a(t,r,e)}catch(t){}if("get"in e||"set"in e)throw TypeError("Accessors not supported!");return"value"in e&&(t[r]=e.value),t}},function(t,r){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,r,e){"use strict";(function(t){function n(){return s.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function i(t,r){if(n()<r)throw new RangeError("Invalid typed array length");return s.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(r),t.__proto__=s.prototype):(null===t&&(t=new s(r)),t.length=r),t}function s(t,r,e){if(!(s.TYPED_ARRAY_SUPPORT||this instanceof s))return new s(t,r,e);if("number"==typeof t){if("string"==typeof r)throw new Error("If encoding is specified then the first argument must be a string");return u(this,t)}return a(this,t,r,e)}function a(t,r,e,n){if("number"==typeof r)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&r instanceof ArrayBuffer?f(t,r,e,n):"string"==typeof r?c(t,r,e):p(t,r)}function o(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function h(t,r,e,n){return o(r),r<=0?i(t,r):void 0!==e?"string"==typeof n?i(t,r).fill(e,n):i(t,r).fill(e):i(t,r)}function u(t,r){if(o(r),t=i(t,r<0?0:0|d(r)),!s.TYPED_ARRAY_SUPPORT)for(var e=0;e<r;++e)t[e]=0;return t}function c(t,r,e){if("string"==typeof e&&""!==e||(e="utf8"),!s.isEncoding(e))throw new TypeError('"encoding" must be a valid string encoding');var n=0|g(r,e);t=i(t,n);var a=t.write(r,e);return a!==n&&(t=t.slice(0,a)),t}function l(t,r){var e=r.length<0?0:0|d(r.length);t=i(t,e);for(var n=0;n<e;n+=1)t[n]=255&r[n];return t}function f(t,r,e,n){if(r.byteLength,e<0||r.byteLength<e)throw new RangeError("'offset' is out of bounds");if(r.byteLength<e+(n||0))throw new RangeError("'length' is out of bounds");return r=void 0===e&&void 0===n?new Uint8Array(r):void 0===n?new Uint8Array(r,e):new Uint8Array(r,e,n),s.TYPED_ARRAY_SUPPORT?(t=r,t.__proto__=s.prototype):t=l(t,r),t}function p(t,r){if(s.isBuffer(r)){var e=0|d(r.length);return t=i(t,e),0===t.length?t:(r.copy(t,0,0,e),t)}if(r){if("undefined"!=typeof ArrayBuffer&&r.buffer instanceof ArrayBuffer||"length"in r)return"number"!=typeof r.length||H(r.length)?i(t,0):l(t,r);if("Buffer"===r.type&&$(r.data))return l(t,r.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function d(t){if(t>=n())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n().toString(16)+" bytes");return 0|t}function y(t){return+t!=t&&(t=0),s.alloc(+t)}function g(t,r){if(s.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var e=t.length;if(0===e)return 0;for(var n=!1;;)switch(r){case"ascii":case"latin1":case"binary":return e;case"utf8":case"utf-8":case void 0:return L(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*e;case"hex":return e>>>1;case"base64":return X(t).length;default:if(n)return L(t).length;r=(""+r).toLowerCase(),n=!0}}function m(t,r,e){var n=!1;if((void 0===r||r<0)&&(r=0),r>this.length)return"";if((void 0===e||e>this.length)&&(e=this.length),e<=0)return"";if(e>>>=0,r>>>=0,e<=r)return"";for(t||(t="utf8");;)switch(t){case"hex":return B(this,r,e);case"utf8":case"utf-8":return N(this,r,e);case"ascii":return V(this,r,e);case"latin1":case"binary":return k(this,r,e);case"base64":return E(this,r,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,r,e);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function v(t,r,e){var n=t[r];t[r]=t[e],t[e]=n}function x(t,r,e,n,i){if(0===t.length)return-1;if("string"==typeof e?(n=e,e=0):e>2147483647?e=2147483647:e<-2147483648&&(e=-2147483648),e=+e,isNaN(e)&&(e=i?0:t.length-1),e<0&&(e=t.length+e),e>=t.length){if(i)return-1;e=t.length-1}else if(e<0){if(!i)return-1;e=0}if("string"==typeof r&&(r=s.from(r,n)),s.isBuffer(r))return 0===r.length?-1:b(t,r,e,n,i);if("number"==typeof r)return r&=255,s.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,r,e):Uint8Array.prototype.lastIndexOf.call(t,r,e):b(t,[r],e,n,i);throw new TypeError("val must be string, number or Buffer")}function b(t,r,e,n,i){function s(t,r){return 1===a?t[r]:t.readUInt16BE(r*a)}var a=1,o=t.length,h=r.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||r.length<2)return-1;a=2,o/=2,h/=2,e/=2}var u;if(i){var c=-1;for(u=e;u<o;u++)if(s(t,u)===s(r,-1===c?0:u-c)){if(-1===c&&(c=u),u-c+1===h)return c*a}else-1!==c&&(u-=u-c),c=-1}else for(e+h>o&&(e=o-h),u=e;u>=0;u--){for(var l=!0,f=0;f<h;f++)if(s(t,u+f)!==s(r,f)){l=!1;break}if(l)return u}return-1}function _(t,r,e,n){e=Number(e)||0;var i=t.length-e;n?(n=Number(n))>i&&(n=i):n=i;var s=r.length;if(s%2!=0)throw new TypeError("Invalid hex string");n>s/2&&(n=s/2);for(var a=0;a<n;++a){var o=parseInt(r.substr(2*a,2),16);if(isNaN(o))return a;t[e+a]=o}return a}function w(t,r,e,n){return Z(L(r,t.length-e),t,e,n)}function A(t,r,e,n){return Z(W(r),t,e,n)}function M(t,r,e,n){return A(t,r,e,n)}function z(t,r,e,n){return Z(X(r),t,e,n)}function S(t,r,e,n){return Z(G(r,t.length-e),t,e,n)}function E(t,r,e){return 0===r&&e===t.length?Q.fromByteArray(t):Q.fromByteArray(t.slice(r,e))}function N(t,r,e){e=Math.min(t.length,e);for(var n=[],i=r;i<e;){var s=t[i],a=null,o=s>239?4:s>223?3:s>191?2:1;if(i+o<=e){var h,u,c,l;switch(o){case 1:s<128&&(a=s);break;case 2:h=t[i+1],128==(192&h)&&(l=(31&s)<<6|63&h)>127&&(a=l);break;case 3:h=t[i+1],u=t[i+2],128==(192&h)&&128==(192&u)&&(l=(15&s)<<12|(63&h)<<6|63&u)>2047&&(l<55296||l>57343)&&(a=l);break;case 4:h=t[i+1],u=t[i+2],c=t[i+3],128==(192&h)&&128==(192&u)&&128==(192&c)&&(l=(15&s)<<18|(63&h)<<12|(63&u)<<6|63&c)>65535&&l<1114112&&(a=l)}}null===a?(a=65533,o=1):a>65535&&(a-=65536,n.push(a>>>10&1023|55296),a=56320|1023&a),n.push(a),i+=o}return U(n)}function U(t){var r=t.length;if(r<=K)return String.fromCharCode.apply(String,t);for(var e="",n=0;n<r;)e+=String.fromCharCode.apply(String,t.slice(n,n+=K));return e}function V(t,r,e){var n="";e=Math.min(t.length,e);for(var i=r;i<e;++i)n+=String.fromCharCode(127&t[i]);return n}function k(t,r,e){var n="";e=Math.min(t.length,e);for(var i=r;i<e;++i)n+=String.fromCharCode(t[i]);return n}function B(t,r,e){var n=t.length;(!r||r<0)&&(r=0),(!e||e<0||e>n)&&(e=n);for(var i="",s=r;s<e;++s)i+=Y(t[s]);return i}function j(t,r,e){for(var n=t.slice(r,e),i="",s=0;s<n.length;s+=2)i+=String.fromCharCode(n[s]+256*n[s+1]);return i}function R(t,r,e){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+r>e)throw new RangeError("Trying to access beyond buffer length")}function T(t,r,e,n,i,a){if(!s.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(r>i||r<a)throw new RangeError('"value" argument is out of bounds');if(e+n>t.length)throw new RangeError("Index out of range")}function I(t,r,e,n){r<0&&(r=65535+r+1);for(var i=0,s=Math.min(t.length-e,2);i<s;++i)t[e+i]=(r&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function C(t,r,e,n){r<0&&(r=4294967295+r+1);for(var i=0,s=Math.min(t.length-e,4);i<s;++i)t[e+i]=r>>>8*(n?i:3-i)&255}function O(t,r,e,n,i,s){if(e+n>t.length)throw new RangeError("Index out of range");if(e<0)throw new RangeError("Index out of range")}function F(t,r,e,n,i){return i||O(t,r,e,4,3.4028234663852886e38,-3.4028234663852886e38),J.write(t,r,e,n,23,4),e+4}function P(t,r,e,n,i){return i||O(t,r,e,8,1.7976931348623157e308,-1.7976931348623157e308),J.write(t,r,e,n,52,8),e+8}function D(t){if(t=q(t).replace(tt,""),t.length<2)return"";for(;t.length%4!=0;)t+="=";return t}function q(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function Y(t){return t<16?"0"+t.toString(16):t.toString(16)}function L(t,r){r=r||1/0;for(var e,n=t.length,i=null,s=[],a=0;a<n;++a){if((e=t.charCodeAt(a))>55295&&e<57344){if(!i){if(e>56319){(r-=3)>-1&&s.push(239,191,189);continue}if(a+1===n){(r-=3)>-1&&s.push(239,191,189);continue}i=e;continue}if(e<56320){(r-=3)>-1&&s.push(239,191,189),i=e;continue}e=65536+(i-55296<<10|e-56320)}else i&&(r-=3)>-1&&s.push(239,191,189);if(i=null,e<128){if((r-=1)<0)break;s.push(e)}else if(e<2048){if((r-=2)<0)break;s.push(e>>6|192,63&e|128)}else if(e<65536){if((r-=3)<0)break;s.push(e>>12|224,e>>6&63|128,63&e|128)}else{if(!(e<1114112))throw new Error("Invalid code point");if((r-=4)<0)break;s.push(e>>18|240,e>>12&63|128,e>>6&63|128,63&e|128)}}return s}function W(t){for(var r=[],e=0;e<t.length;++e)r.push(255&t.charCodeAt(e));return r}function G(t,r){for(var e,n,i,s=[],a=0;a<t.length&&!((r-=2)<0);++a)e=t.charCodeAt(a),n=e>>8,i=e%256,s.push(i),s.push(n);return s}function X(t){return Q.toByteArray(D(t))}function Z(t,r,e,n){for(var i=0;i<n&&!(i+e>=r.length||i>=t.length);++i)r[i+e]=t[i];return i}function H(t){return t!==t}var Q=e(47),J=e(48),$=e(49);r.Buffer=s,r.SlowBuffer=y,r.INSPECT_MAX_BYTES=50,s.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),r.kMaxLength=n(),s.poolSize=8192,s._augment=function(t){return t.__proto__=s.prototype,t},s.from=function(t,r,e){return a(null,t,r,e)},s.TYPED_ARRAY_SUPPORT&&(s.prototype.__proto__=Uint8Array.prototype,s.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&s[Symbol.species]===s&&Object.defineProperty(s,Symbol.species,{value:null,configurable:!0})),s.alloc=function(t,r,e){return h(null,t,r,e)},s.allocUnsafe=function(t){return u(null,t)},s.allocUnsafeSlow=function(t){return u(null,t)},s.isBuffer=function(t){return!(null==t||!t._isBuffer)},s.compare=function(t,r){if(!s.isBuffer(t)||!s.isBuffer(r))throw new TypeError("Arguments must be Buffers");if(t===r)return 0;for(var e=t.length,n=r.length,i=0,a=Math.min(e,n);i<a;++i)if(t[i]!==r[i]){e=t[i],n=r[i];break}return e<n?-1:n<e?1:0},s.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(t,r){if(!$(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return s.alloc(0);var e;if(void 0===r)for(r=0,e=0;e<t.length;++e)r+=t[e].length;var n=s.allocUnsafe(r),i=0;for(e=0;e<t.length;++e){var a=t[e];if(!s.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,i),i+=a.length}return n},s.byteLength=g,s.prototype._isBuffer=!0,s.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var r=0;r<t;r+=2)v(this,r,r+1);return this},s.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var r=0;r<t;r+=4)v(this,r,r+3),v(this,r+1,r+2);return this},s.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var r=0;r<t;r+=8)v(this,r,r+7),v(this,r+1,r+6),v(this,r+2,r+5),v(this,r+3,r+4);return this},s.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?N(this,0,t):m.apply(this,arguments)},s.prototype.equals=function(t){if(!s.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===s.compare(this,t)},s.prototype.inspect=function(){var t="",e=r.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(t+=" ... ")),"<Buffer "+t+">"},s.prototype.compare=function(t,r,e,n,i){if(!s.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===r&&(r=0),void 0===e&&(e=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),r<0||e>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&r>=e)return 0;if(n>=i)return-1;if(r>=e)return 1;if(r>>>=0,e>>>=0,n>>>=0,i>>>=0,this===t)return 0;for(var a=i-n,o=e-r,h=Math.min(a,o),u=this.slice(n,i),c=t.slice(r,e),l=0;l<h;++l)if(u[l]!==c[l]){a=u[l],o=c[l];break}return a<o?-1:o<a?1:0},s.prototype.includes=function(t,r,e){return-1!==this.indexOf(t,r,e)},s.prototype.indexOf=function(t,r,e){return x(this,t,r,e,!0)},s.prototype.lastIndexOf=function(t,r,e){return x(this,t,r,e,!1)},s.prototype.write=function(t,r,e,n){if(void 0===r)n="utf8",e=this.length,r=0;else if(void 0===e&&"string"==typeof r)n=r,e=this.length,r=0;else{if(!isFinite(r))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");r|=0,isFinite(e)?(e|=0,void 0===n&&(n="utf8")):(n=e,e=void 0)}var i=this.length-r;if((void 0===e||e>i)&&(e=i),t.length>0&&(e<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var s=!1;;)switch(n){case"hex":return _(this,t,r,e);case"utf8":case"utf-8":return w(this,t,r,e);case"ascii":return A(this,t,r,e);case"latin1":case"binary":return M(this,t,r,e);case"base64":return z(this,t,r,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,t,r,e);default:if(s)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),s=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var K=4096;s.prototype.slice=function(t,r){var e=this.length;t=~~t,r=void 0===r?e:~~r,t<0?(t+=e)<0&&(t=0):t>e&&(t=e),r<0?(r+=e)<0&&(r=0):r>e&&(r=e),r<t&&(r=t);var n;if(s.TYPED_ARRAY_SUPPORT)n=this.subarray(t,r),n.__proto__=s.prototype;else{var i=r-t;n=new s(i,void 0);for(var a=0;a<i;++a)n[a]=this[a+t]}return n},s.prototype.readUIntLE=function(t,r,e){t|=0,r|=0,e||R(t,r,this.length);for(var n=this[t],i=1,s=0;++s<r&&(i*=256);)n+=this[t+s]*i;return n},s.prototype.readUIntBE=function(t,r,e){t|=0,r|=0,e||R(t,r,this.length);for(var n=this[t+--r],i=1;r>0&&(i*=256);)n+=this[t+--r]*i;return n},s.prototype.readUInt8=function(t,r){return r||R(t,1,this.length),this[t]},s.prototype.readUInt16LE=function(t,r){return r||R(t,2,this.length),this[t]|this[t+1]<<8},s.prototype.readUInt16BE=function(t,r){return r||R(t,2,this.length),this[t]<<8|this[t+1]},s.prototype.readUInt32LE=function(t,r){return r||R(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},s.prototype.readUInt32BE=function(t,r){return r||R(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},s.prototype.readIntLE=function(t,r,e){t|=0,r|=0,e||R(t,r,this.length);for(var n=this[t],i=1,s=0;++s<r&&(i*=256);)n+=this[t+s]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*r)),n},s.prototype.readIntBE=function(t,r,e){t|=0,r|=0,e||R(t,r,this.length);for(var n=r,i=1,s=this[t+--n];n>0&&(i*=256);)s+=this[t+--n]*i;return i*=128,s>=i&&(s-=Math.pow(2,8*r)),s},s.prototype.readInt8=function(t,r){return r||R(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},s.prototype.readInt16LE=function(t,r){r||R(t,2,this.length);var e=this[t]|this[t+1]<<8;return 32768&e?4294901760|e:e},s.prototype.readInt16BE=function(t,r){r||R(t,2,this.length);var e=this[t+1]|this[t]<<8;return 32768&e?4294901760|e:e},s.prototype.readInt32LE=function(t,r){return r||R(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},s.prototype.readInt32BE=function(t,r){return r||R(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},s.prototype.readFloatLE=function(t,r){return r||R(t,4,this.length),J.read(this,t,!0,23,4)},s.prototype.readFloatBE=function(t,r){return r||R(t,4,this.length),J.read(this,t,!1,23,4)},s.prototype.readDoubleLE=function(t,r){return r||R(t,8,this.length),J.read(this,t,!0,52,8)},s.prototype.readDoubleBE=function(t,r){return r||R(t,8,this.length),J.read(this,t,!1,52,8)},s.prototype.writeUIntLE=function(t,r,e,n){if(t=+t,r|=0,e|=0,!n){T(this,t,r,e,Math.pow(2,8*e)-1,0)}var i=1,s=0;for(this[r]=255&t;++s<e&&(i*=256);)this[r+s]=t/i&255;return r+e},s.prototype.writeUIntBE=function(t,r,e,n){if(t=+t,r|=0,e|=0,!n){T(this,t,r,e,Math.pow(2,8*e)-1,0)}var i=e-1,s=1;for(this[r+i]=255&t;--i>=0&&(s*=256);)this[r+i]=t/s&255;return r+e},s.prototype.writeUInt8=function(t,r,e){return t=+t,r|=0,e||T(this,t,r,1,255,0),s.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[r]=255&t,r+1},s.prototype.writeUInt16LE=function(t,r,e){return t=+t,r|=0,e||T(this,t,r,2,65535,0),s.TYPED_ARRAY_SUPPORT?(this[r]=255&t,this[r+1]=t>>>8):I(this,t,r,!0),r+2},s.prototype.writeUInt16BE=function(t,r,e){return t=+t,r|=0,e||T(this,t,r,2,65535,0),s.TYPED_ARRAY_SUPPORT?(this[r]=t>>>8,this[r+1]=255&t):I(this,t,r,!1),r+2},s.prototype.writeUInt32LE=function(t,r,e){return t=+t,r|=0,e||T(this,t,r,4,4294967295,0),s.TYPED_ARRAY_SUPPORT?(this[r+3]=t>>>24,this[r+2]=t>>>16,this[r+1]=t>>>8,this[r]=255&t):C(this,t,r,!0),r+4},s.prototype.writeUInt32BE=function(t,r,e){return t=+t,r|=0,e||T(this,t,r,4,4294967295,0),s.TYPED_ARRAY_SUPPORT?(this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=255&t):C(this,t,r,!1),r+4},s.prototype.writeIntLE=function(t,r,e,n){if(t=+t,r|=0,!n){var i=Math.pow(2,8*e-1);T(this,t,r,e,i-1,-i)}var s=0,a=1,o=0;for(this[r]=255&t;++s<e&&(a*=256);)t<0&&0===o&&0!==this[r+s-1]&&(o=1),this[r+s]=(t/a>>0)-o&255;return r+e},s.prototype.writeIntBE=function(t,r,e,n){if(t=+t,r|=0,!n){var i=Math.pow(2,8*e-1);T(this,t,r,e,i-1,-i)}var s=e-1,a=1,o=0;for(this[r+s]=255&t;--s>=0&&(a*=256);)t<0&&0===o&&0!==this[r+s+1]&&(o=1),this[r+s]=(t/a>>0)-o&255;return r+e},s.prototype.writeInt8=function(t,r,e){return t=+t,r|=0,e||T(this,t,r,1,127,-128),s.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[r]=255&t,r+1},s.prototype.writeInt16LE=function(t,r,e){return t=+t,r|=0,e||T(this,t,r,2,32767,-32768),s.TYPED_ARRAY_SUPPORT?(this[r]=255&t,this[r+1]=t>>>8):I(this,t,r,!0),r+2},s.prototype.writeInt16BE=function(t,r,e){return t=+t,r|=0,e||T(this,t,r,2,32767,-32768),s.TYPED_ARRAY_SUPPORT?(this[r]=t>>>8,this[r+1]=255&t):I(this,t,r,!1),r+2},s.prototype.writeInt32LE=function(t,r,e){return t=+t,r|=0,e||T(this,t,r,4,2147483647,-2147483648),s.TYPED_ARRAY_SUPPORT?(this[r]=255&t,this[r+1]=t>>>8,this[r+2]=t>>>16,this[r+3]=t>>>24):C(this,t,r,!0),r+4},s.prototype.writeInt32BE=function(t,r,e){return t=+t,r|=0,e||T(this,t,r,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),s.TYPED_ARRAY_SUPPORT?(this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=255&t):C(this,t,r,!1),r+4},s.prototype.writeFloatLE=function(t,r,e){return F(this,t,r,!0,e)},s.prototype.writeFloatBE=function(t,r,e){return F(this,t,r,!1,e)},s.prototype.writeDoubleLE=function(t,r,e){return P(this,t,r,!0,e)},s.prototype.writeDoubleBE=function(t,r,e){return P(this,t,r,!1,e)},s.prototype.copy=function(t,r,e,n){if(e||(e=0),n||0===n||(n=this.length),r>=t.length&&(r=t.length),r||(r=0),n>0&&n<e&&(n=e),n===e)return 0;if(0===t.length||0===this.length)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(e<0||e>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-r<n-e&&(n=t.length-r+e);var i,a=n-e;if(this===t&&e<r&&r<n)for(i=a-1;i>=0;--i)t[i+r]=this[i+e];else if(a<1e3||!s.TYPED_ARRAY_SUPPORT)for(i=0;i<a;++i)t[i+r]=this[i+e];else Uint8Array.prototype.set.call(t,this.subarray(e,e+a),r);return a},s.prototype.fill=function(t,r,e,n){if("string"==typeof t){if("string"==typeof r?(n=r,r=0,e=this.length):"string"==typeof e&&(n=e,e=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!s.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(r<0||this.length<r||this.length<e)throw new RangeError("Out of range index");if(e<=r)return this;r>>>=0,e=void 0===e?this.length:e>>>0,t||(t=0);var a;if("number"==typeof t)for(a=r;a<e;++a)this[a]=t;else{var o=s.isBuffer(t)?t:L(new s(t,n).toString()),h=o.length;for(a=0;a<e-r;++a)this[a+r]=o[a%h]}return this};var tt=/[^+\/0-9A-Za-z-_]/g}).call(r,e(17))},function(t,r){var e;e=function(){return this}();try{e=e||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(e=window)}t.exports=e},function(t,r,e){"use strict";function n(t,r,e){r?r.bind():t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null);var n=0|t.getParameter(t.MAX_VERTEX_ATTRIBS);if(e){if(e.length>n)throw new Error("gl-vao: Too many vertex attributes");for(var i=0;i<e.length;++i){var s=e[i];if(s.buffer){var a=s.buffer,o=s.size||4,h=s.type||t.FLOAT,u=!!s.normalized,c=s.stride||0,l=s.offset||0;a.bind(),t.enableVertexAttribArray(i),t.vertexAttribPointer(i,o,h,u,c,l)}else{if("number"==typeof s)t.vertexAttrib1f(i,s);else if(1===s.length)t.vertexAttrib1f(i,s[0]);else if(2===s.length)t.vertexAttrib2f(i,s[0],s[1]);else if(3===s.length)t.vertexAttrib3f(i,s[0],s[1],s[2]);else{if(4!==s.length)throw new Error("gl-vao: Invalid vertex attribute");t.vertexAttrib4f(i,s[0],s[1],s[2],s[3])}t.disableVertexAttribArray(i)}}for(;i<n;++i)t.disableVertexAttribArray(i)}else{t.bindBuffer(t.ARRAY_BUFFER,null);for(var i=0;i<n;++i)t.disableVertexAttribArray(i)}}t.exports=n},function(t,r){function e(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}t.exports=e},function(t,r,e){"use strict";function n(){function t(){p.setFromEuler(o,!1)}function r(){o.setFromQuaternion(p,void 0,!1)}Object.defineProperty(this,"id",{value:f++}),this.uuid=l.a.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=n.DefaultUp.clone();var e=new s.a,o=new h.a,p=new i.a,d=new s.a(1,1,1);o.onChange(t),p.onChange(r),Object.defineProperties(this,{position:{enumerable:!0,value:e},rotation:{enumerable:!0,value:o},quaternion:{enumerable:!0,value:p},scale:{enumerable:!0,value:d},modelViewMatrix:{value:new a.a},normalMatrix:{value:new c.a}}),this.matrix=new a.a,this.matrixWorld=new a.a,this.matrixAutoUpdate=n.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new u.a,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}}e.d(r,"a",function(){return n});var i=e(7),s=e(0),a=e(2),o=e(5),h=e(97),u=e(98),c=e(8),l=e(1),f=0;n.DefaultUp=new s.a(0,1,0),n.DefaultMatrixAutoUpdate=!0,n.prototype=Object.assign(Object.create(o.a.prototype),{constructor:n,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix:function(t){this.matrix.multiplyMatrices(t,this.matrix),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(t){return this.quaternion.premultiply(t),this},setRotationFromAxisAngle:function(t,r){this.quaternion.setFromAxisAngle(t,r)},setRotationFromEuler:function(t){this.quaternion.setFromEuler(t,!0)},setRotationFromMatrix:function(t){this.quaternion.setFromRotationMatrix(t)},setRotationFromQuaternion:function(t){this.quaternion.copy(t)},rotateOnAxis:function(){var t=new i.a;return function(r,e){return t.setFromAxisAngle(r,e),this.quaternion.multiply(t),this}}(),rotateOnWorldAxis:function(){var t=new i.a;return function(r,e){return t.setFromAxisAngle(r,e),this.quaternion.premultiply(t),this}}(),rotateX:function(){var t=new s.a(1,0,0);return function(r){return this.rotateOnAxis(t,r)}}(),rotateY:function(){var t=new s.a(0,1,0);return function(r){return this.rotateOnAxis(t,r)}}(),rotateZ:function(){var t=new s.a(0,0,1);return function(r){return this.rotateOnAxis(t,r)}}(),translateOnAxis:function(){var t=new s.a;return function(r,e){return t.copy(r).applyQuaternion(this.quaternion),this.position.add(t.multiplyScalar(e)),this}}(),translateX:function(){var t=new s.a(1,0,0);return function(r){return this.translateOnAxis(t,r)}}(),translateY:function(){var t=new s.a(0,1,0);return function(r){return this.translateOnAxis(t,r)}}(),translateZ:function(){var t=new s.a(0,0,1);return function(r){return this.translateOnAxis(t,r)}}(),localToWorld:function(t){return t.applyMatrix4(this.matrixWorld)},worldToLocal:function(){var t=new a.a;return function(r){return r.applyMatrix4(t.getInverse(this.matrixWorld))}}(),lookAt:function(){var t=new a.a,r=new s.a;return function(e,n,i){e.isVector3?r.copy(e):r.set(e,n,i),this.isCamera?t.lookAt(this.position,r,this.up):t.lookAt(r,this.position,this.up),this.quaternion.setFromRotationMatrix(t)}}(),add:function(t){if(arguments.length>1){for(var r=0;r<arguments.length;r++)this.add(arguments[r]);return this}return t===this?this:(t&&t.isObject3D&&(null!==t.parent&&t.parent.remove(t),t.parent=this,t.dispatchEvent({type:"added"}),this.children.push(t)),this)},remove:function(t){if(arguments.length>1){for(var r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}var e=this.children.indexOf(t);return-1!==e&&(t.parent=null,t.dispatchEvent({type:"removed"}),this.children.splice(e,1)),this},getObjectById:function(t){return this.getObjectByProperty("id",t)},getObjectByName:function(t){return this.getObjectByProperty("name",t)},getObjectByProperty:function(t,r){if(this[t]===r)return this;for(var e=0,n=this.children.length;e<n;e++){var i=this.children[e],s=i.getObjectByProperty(t,r);if(void 0!==s)return s}},getWorldPosition:function(t){var r=t||new s.a;return this.updateMatrixWorld(!0),r.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(){var t=new s.a,r=new s.a;return function(e){var n=e||new i.a;return this.updateMatrixWorld(!0),this.matrixWorld.decompose(t,n,r),n}}(),getWorldRotation:function(){var t=new i.a;return function(r){var e=r||new h.a;return this.getWorldQuaternion(t),e.setFromQuaternion(t,this.rotation.order,!1)}}(),getWorldScale:function(){var t=new s.a,r=new i.a;return function(e){var n=e||new s.a;return this.updateMatrixWorld(!0),this.matrixWorld.decompose(t,r,n),n}}(),getWorldDirection:function(){var t=new i.a;return function(r){var e=r||new s.a;return this.getWorldQuaternion(t),e.set(0,0,1).applyQuaternion(t)}}(),raycast:function(){},traverse:function(t){t(this);for(var r=this.children,e=0,n=r.length;e<n;e++)r[e].traverse(t)},traverseVisible:function(t){if(!1!==this.visible){t(this);for(var r=this.children,e=0,n=r.length;e<n;e++)r[e].traverseVisible(t)}},traverseAncestors:function(t){var r=this.parent;null!==r&&(t(r),r.traverseAncestors(t))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);for(var r=this.children,e=0,n=r.length;e<n;e++)r[e].updateMatrixWorld(t)},toJSON:function(t){function r(r,e){return void 0===r[e.uuid]&&(r[e.uuid]=e.toJSON(t)),e.uuid}function e(t){var r=[];for(var e in t){var n=t[e];delete n.metadata,r.push(n)}return r}var n=void 0===t||"string"==typeof t,i={};n&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{}},i.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var s={};if(s.uuid=this.uuid,s.type=this.type,""!==this.name&&(s.name=this.name),!0===this.castShadow&&(s.castShadow=!0),!0===this.receiveShadow&&(s.receiveShadow=!0),!1===this.visible&&(s.visible=!1),"{}"!==JSON.stringify(this.userData)&&(s.userData=this.userData),s.matrix=this.matrix.toArray(),void 0!==this.geometry){s.geometry=r(t.geometries,this.geometry);var a=this.geometry.parameters;if(void 0!==a&&void 0!==a.shapes){var o=a.shapes;if(Array.isArray(o))for(var h=0,u=o.length;h<u;h++){var c=o[h];r(t.shapes,c)}else r(t.shapes,o)}}if(void 0!==this.material)if(Array.isArray(this.material)){for(var l=[],h=0,u=this.material.length;h<u;h++)l.push(r(t.materials,this.material[h]));s.material=l}else s.material=r(t.materials,this.material);if(this.children.length>0){s.children=[];for(var h=0;h<this.children.length;h++)s.children.push(this.children[h].toJSON(t).object)}if(n){var f=e(t.geometries),p=e(t.materials),d=e(t.textures),y=e(t.images),o=e(t.shapes);f.length>0&&(i.geometries=f),p.length>0&&(i.materials=p),d.length>0&&(i.textures=d),y.length>0&&(i.images=y),o.length>0&&(i.shapes=o)}return i.object=s,i},clone:function(t){return(new this.constructor).copy(this,t)},copy:function(t,r){if(void 0===r&&(r=!0),this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.userData=JSON.parse(JSON.stringify(t.userData)),!0===r)for(var e=0;e<t.children.length;e++){var n=t.children[e];this.add(n.clone())}return this}})},function(t,r,e){"use strict";function n(t,r,e){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.uuid=m.a.generateUUID(),this.name="",this.array=t,this.itemSize=r,this.count=void 0!==t?t.length/r:0,this.normalized=!0===e,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.onUploadCallback=function(){},this.version=0}function i(t,r,e){n.call(this,new Int8Array(t),r,e)}function s(t,r,e){n.call(this,new Uint8Array(t),r,e)}function a(t,r,e){n.call(this,new Uint8ClampedArray(t),r,e)}function o(t,r,e){n.call(this,new Int16Array(t),r,e)}function h(t,r,e){n.call(this,new Uint16Array(t),r,e)}function u(t,r,e){n.call(this,new Int32Array(t),r,e)}function c(t,r,e){n.call(this,new Uint32Array(t),r,e)}function l(t,r,e){n.call(this,new Float32Array(t),r,e)}function f(t,r,e){n.call(this,new Float64Array(t),r,e)}e.d(r,"b",function(){return l}),e.d(r,"d",function(){return c}),e.d(r,"c",function(){return h}),e.d(r,"a",function(){return n});var p=e(100),d=e(0),y=e(11),g=e(6),m=e(1);Object.defineProperty(n.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),Object.assign(n.prototype,{isBufferAttribute:!0,setArray:function(t){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.count=void 0!==t?t.length/this.itemSize:0,this.array=t},setDynamic:function(t){return this.dynamic=t,this},copy:function(t){return this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.dynamic=t.dynamic,this},copyAt:function(t,r,e){t*=this.itemSize,e*=r.itemSize;for(var n=0,i=this.itemSize;n<i;n++)this.array[t+n]=r.array[e+n];return this},copyArray:function(t){return this.array.set(t),this},copyColorsArray:function(t){for(var r=this.array,e=0,n=0,i=t.length;n<i;n++){var s=t[n];void 0===s&&(s=new g.a),r[e++]=s.r,r[e++]=s.g,r[e++]=s.b}return this},copyIndicesArray:function(t){for(var r=this.array,e=0,n=0,i=t.length;n<i;n++){var s=t[n];r[e++]=s.a,r[e++]=s.b,r[e++]=s.c}return this},copyVector2sArray:function(t){for(var r=this.array,e=0,n=0,i=t.length;n<i;n++){var s=t[n];void 0===s&&(s=new y.a),r[e++]=s.x,r[e++]=s.y}return this},copyVector3sArray:function(t){for(var r=this.array,e=0,n=0,i=t.length;n<i;n++){var s=t[n];void 0===s&&(s=new d.a),r[e++]=s.x,r[e++]=s.y,r[e++]=s.z}return this},copyVector4sArray:function(t){for(var r=this.array,e=0,n=0,i=t.length;n<i;n++){var s=t[n];void 0===s&&(s=new p.a),r[e++]=s.x,r[e++]=s.y,r[e++]=s.z,r[e++]=s.w}return this},set:function(t,r){return void 0===r&&(r=0),this.array.set(t,r),this},getX:function(t){return this.array[t*this.itemSize]},setX:function(t,r){return this.array[t*this.itemSize]=r,this},getY:function(t){return this.array[t*this.itemSize+1]},setY:function(t,r){return this.array[t*this.itemSize+1]=r,this},getZ:function(t){return this.array[t*this.itemSize+2]},setZ:function(t,r){return this.array[t*this.itemSize+2]=r,this},getW:function(t){return this.array[t*this.itemSize+3]},setW:function(t,r){return this.array[t*this.itemSize+3]=r,this},setXY:function(t,r,e){return t*=this.itemSize,this.array[t+0]=r,this.array[t+1]=e,this},setXYZ:function(t,r,e,n){return t*=this.itemSize,this.array[t+0]=r,this.array[t+1]=e,this.array[t+2]=n,this},setXYZW:function(t,r,e,n,i){return t*=this.itemSize,this.array[t+0]=r,this.array[t+1]=e,this.array[t+2]=n,this.array[t+3]=i,this},onUpload:function(t){return this.onUploadCallback=t,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)}}),i.prototype=Object.create(n.prototype),i.prototype.constructor=i,s.prototype=Object.create(n.prototype),s.prototype.constructor=s,a.prototype=Object.create(n.prototype),a.prototype.constructor=a,o.prototype=Object.create(n.prototype),o.prototype.constructor=o,h.prototype=Object.create(n.prototype),h.prototype.constructor=h,u.prototype=Object.create(n.prototype),u.prototype.constructor=u,c.prototype=Object.create(n.prototype),c.prototype.constructor=c,l.prototype=Object.create(n.prototype),l.prototype.constructor=l,f.prototype=Object.create(n.prototype),f.prototype.constructor=f},function(t,r,e){t.exports=e(23)},function(t,r,e){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=e(24),i=e.n(n),s=e(25),a=e.n(s),o=e(38),h=(e.n(o),e(42)),u=e.n(h),c=e(43),l=(e.n(c),e(68)),f=(e.n(l),e(70)),p=(e.n(f),e(93)),d=(e.n(p),e(94)),y=(new d.a(5,12,12),function(){function t(r){var e=this;i()(this,t),this.onresize=function(){},this.animate=function(){e.stats.begin(),e.stats.end(),requestAnimationFrame(e.animate)};var n=document.createElement("canvas");this.canvas=n,this.stats=new u.a,document.body.appendChild(n),document.body.appendChild(this.stats.domElement);this.initShader(),requestAnimationFrame(this.animate)}return a()(t,[{key:"initShader",value:function(){this.canvas.width,window.devicePixelRatio,this.canvas.width,window.devicePixelRatio}}]),t}());r.default=y,new y},function(t,r,e){"use strict";r.__esModule=!0,r.default=function(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}},function(t,r,e){"use strict";r.__esModule=!0;var n=e(26),i=function(t){return t&&t.__esModule?t:{default:t}}(n);r.default=function(){function t(t,r){for(var e=0;e<r.length;e++){var n=r[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,i.default)(t,n.key,n)}}return function(r,e,n){return e&&t(r.prototype,e),n&&t(r,n),r}}()},function(t,r,e){t.exports={default:e(27),__esModule:!0}},function(t,r,e){e(28);var n=e(13).Object;t.exports=function(t,r,e){return n.defineProperty(t,r,e)}},function(t,r,e){var n=e(29);n(n.S+n.F*!e(3),"Object",{defineProperty:e(14).f})},function(t,r,e){var n=e(12),i=e(13),s=e(30),a=e(32),o=function(t,r,e){var h,u,c,l=t&o.F,f=t&o.G,p=t&o.S,d=t&o.P,y=t&o.B,g=t&o.W,m=f?i:i[r]||(i[r]={}),v=m.prototype,x=f?n:p?n[r]:(n[r]||{}).prototype;f&&(e=r);for(h in e)(u=!l&&x&&void 0!==x[h])&&h in m||(c=u?x[h]:e[h],m[h]=f&&"function"!=typeof x[h]?e[h]:y&&u?s(c,n):g&&x[h]==c?function(t){var r=function(r,e,n){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(r);case 2:return new t(r,e)}return new t(r,e,n)}return t.apply(this,arguments)};return r.prototype=t.prototype,r}(c):d&&"function"==typeof c?s(Function.call,c):c,d&&((m.virtual||(m.virtual={}))[h]=c,t&o.R&&v&&!v[h]&&a(v,h,c)))};o.F=1,o.G=2,o.S=4,o.P=8,o.B=16,o.W=32,o.U=64,o.R=128,t.exports=o},function(t,r,e){var n=e(31);t.exports=function(t,r,e){if(n(t),void 0===r)return t;switch(e){case 1:return function(e){return t.call(r,e)};case 2:return function(e,n){return t.call(r,e,n)};case 3:return function(e,n,i){return t.call(r,e,n,i)}}return function(){return t.apply(r,arguments)}}},function(t,r){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,r,e){var n=e(14),i=e(37);t.exports=e(3)?function(t,r,e){return n.f(t,r,i(1,e))}:function(t,r,e){return t[r]=e,t}},function(t,r,e){var n=e(4);t.exports=function(t){if(!n(t))throw TypeError(t+" is not an object!");return t}},function(t,r,e){t.exports=!e(3)&&!e(15)(function(){return 7!=Object.defineProperty(e(35)("div"),"a",{get:function(){return 7}}).a})},function(t,r,e){var n=e(4),i=e(12).document,s=n(i)&&n(i.createElement);t.exports=function(t){return s?i.createElement(t):{}}},function(t,r,e){var n=e(4);t.exports=function(t,r){if(!n(t))return t;var e,i;if(r&&"function"==typeof(e=t.toString)&&!n(i=e.call(t)))return i;if("function"==typeof(e=t.valueOf)&&!n(i=e.call(t)))return i;if(!r&&"function"==typeof(e=t.toString)&&!n(i=e.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,r){t.exports=function(t,r){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:r}}},function(t,r,e){var n=e(39);"string"==typeof n&&(n=[[t.i,n,""]]);e(41)(n,{});n.locals&&(t.exports=n.locals)},function(t,r,e){r=t.exports=e(40)(),r.push([t.i,"body,html{margin:0;padding:0;height:100%}body,canvas,html{height:100%}html{overflow:hidden}canvas{width:100%}#stats{position:absolute;top:0}",""])},function(t,r){t.exports=function(){var t=[];return t.toString=function(){for(var t=[],r=0;r<this.length;r++){var e=this[r];e[2]?t.push("@media "+e[2]+"{"+e[1]+"}"):t.push(e[1])}return t.join("")},t.i=function(r,e){"string"==typeof r&&(r=[[null,r,""]]);for(var n={},i=0;i<this.length;i++){var s=this[i][0];"number"==typeof s&&(n[s]=!0)}for(i=0;i<r.length;i++){var a=r[i];"number"==typeof a[0]&&n[a[0]]||(e&&!a[2]?a[2]=e:e&&(a[2]="("+a[2]+") and ("+e+")"),t.push(a))}},t}},function(t,r){function e(t,r){for(var e=0;e<t.length;e++){var n=t[e],i=f[n.id];if(i){i.refs++;for(var s=0;s<i.parts.length;s++)i.parts[s](n.parts[s]);for(;s<n.parts.length;s++)i.parts.push(h(n.parts[s],r))}else{for(var a=[],s=0;s<n.parts.length;s++)a.push(h(n.parts[s],r));f[n.id]={id:n.id,refs:1,parts:a}}}}function n(t){for(var r=[],e={},n=0;n<t.length;n++){var i=t[n],s=i[0],a=i[1],o=i[2],h=i[3],u={css:a,media:o,sourceMap:h};e[s]?e[s].parts.push(u):r.push(e[s]={id:s,parts:[u]})}return r}function i(t,r){var e=y(),n=v[v.length-1];if("top"===t.insertAt)n?n.nextSibling?e.insertBefore(r,n.nextSibling):e.appendChild(r):e.insertBefore(r,e.firstChild),v.push(r);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");e.appendChild(r)}}function s(t){t.parentNode.removeChild(t);var r=v.indexOf(t);r>=0&&v.splice(r,1)}function a(t){var r=document.createElement("style");return r.type="text/css",i(t,r),r}function o(t){var r=document.createElement("link");return r.rel="stylesheet",i(t,r),r}function h(t,r){var e,n,i;if(r.singleton){var h=m++;e=g||(g=a(r)),n=u.bind(null,e,h,!1),i=u.bind(null,e,h,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(e=o(r),n=l.bind(null,e),i=function(){s(e),e.href&&URL.revokeObjectURL(e.href)}):(e=a(r),n=c.bind(null,e),i=function(){s(e)});return n(t),function(r){if(r){if(r.css===t.css&&r.media===t.media&&r.sourceMap===t.sourceMap)return;n(t=r)}else i()}}function u(t,r,e,n){var i=e?"":n.css;if(t.styleSheet)t.styleSheet.cssText=x(r,i);else{var s=document.createTextNode(i),a=t.childNodes;a[r]&&t.removeChild(a[r]),a.length?t.insertBefore(s,a[r]):t.appendChild(s)}}function c(t,r){var e=r.css,n=r.media;if(n&&t.setAttribute("media",n),t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}function l(t,r){var e=r.css,n=r.sourceMap;n&&(e+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */");var i=new Blob([e],{type:"text/css"}),s=t.href;t.href=URL.createObjectURL(i),s&&URL.revokeObjectURL(s)}var f={},p=function(t){var r;return function(){return void 0===r&&(r=t.apply(this,arguments)),r}},d=p(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),y=p(function(){return document.head||document.getElementsByTagName("head")[0]}),g=null,m=0,v=[];t.exports=function(t,r){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");r=r||{},void 0===r.singleton&&(r.singleton=d()),void 0===r.insertAt&&(r.insertAt="bottom");var i=n(t);return e(i,r),function(t){for(var s=[],a=0;a<i.length;a++){var o=i[a],h=f[o.id];h.refs--,s.push(h)}if(t){e(n(t),r)}for(var a=0;a<s.length;a++){var h=s[a];if(0===h.refs){for(var u=0;u<h.parts.length;u++)h.parts[u]();delete f[h.id]}}}};var x=function(){var t=[];return function(r,e){return t[r]=e,t.filter(Boolean).join("\n")}}()},function(t,r){var e=function(){var t=Date.now(),r=t,e=0,n=1/0,i=0,s=0,a=1/0,o=0,h=0,u=0,c=document.createElement("div");c.id="stats",c.addEventListener("mousedown",function(t){t.preventDefault(),v(++u%2)},!1),c.style.cssText="width:80px;opacity:0.9;cursor:pointer";var l=document.createElement("div");l.id="fps",l.style.cssText="padding:0 0 3px 3px;text-align:left;background-color:#002",c.appendChild(l);var f=document.createElement("div");f.id="fpsText",f.style.cssText="color:#0ff;font-family:Helvetica,Arial,sans-serif;font-size:9px;font-weight:bold;line-height:15px",f.innerHTML="FPS",l.appendChild(f);var p=document.createElement("div");for(p.id="fpsGraph",p.style.cssText="position:relative;width:74px;height:30px;background-color:#0ff",l.appendChild(p);74>p.children.length;){var d=document.createElement("span");d.style.cssText="width:1px;height:30px;float:left;background-color:#113",p.appendChild(d)}var y=document.createElement("div");y.id="ms",y.style.cssText="padding:0 0 3px 3px;text-align:left;background-color:#020;display:none",c.appendChild(y);var g=document.createElement("div");g.id="msText",g.style.cssText="color:#0f0;font-family:Helvetica,Arial,sans-serif;font-size:9px;font-weight:bold;line-height:15px",g.innerHTML="MS",y.appendChild(g);var m=document.createElement("div");for(m.id="msGraph",m.style.cssText="position:relative;width:74px;height:30px;background-color:#0f0",y.appendChild(m);74>m.children.length;)d=document.createElement("span"),d.style.cssText="width:1px;height:30px;float:left;background-color:#131",m.appendChild(d);var v=function(t){switch(u=t){case 0:l.style.display="block",y.style.display="none";break;case 1:l.style.display="none",y.style.display="block"}};return{REVISION:12,domElement:c,setMode:v,begin:function(){t=Date.now()},end:function(){var u=Date.now();e=u-t,n=Math.min(n,e),i=Math.max(i,e),g.textContent=e+" MS ("+n+"-"+i+")";var c=Math.min(30,30-e/200*30);return m.appendChild(m.firstChild).style.height=c+"px",h++,u>r+1e3&&(s=Math.round(1e3*h/(u-r)),a=Math.min(a,s),o=Math.max(o,s),f.textContent=s+" FPS ("+a+"-"+o+")",c=Math.min(30,30-s/100*30),p.appendChild(p.firstChild).style.height=c+"px",r=u,h=0),u},update:function(){t=this.end()}}};"object"==typeof t&&(t.exports=e)},function(t,r,e){function n(t){if(!(this instanceof n))return new n(t);this._attributes=[],this._dirty=!0,this._length=0,this._index=null,this._vao=null,this._keys=[],this.gl=t}var i=e(44),s=e(65);t.exports=n,n.prototype.dispose=function(){for(var t=0;t<this._attributes.length;t++)this._attributes[t].buffer.dispose();this._attributes=[],this._keys=[],this._length=0,this._dirty=!0,this._index&&(this._index.dispose(),this._index=null),this._vao&&(this._vao.dispose(),this._vao=null)},n.prototype.faces=function(t,r){var e=r&&r.size||3;return t=t.cells?t.cells:t,this._dirty=!0,this._index&&this._index.dispose(),this._index=i(this.gl,t,e,this.gl.ELEMENT_ARRAY_BUFFER,"uint16"),this._length=this._index.length*e,this._index=this._index.buffer,this},n.prototype.attr=function(t,r,e){e=e||{},this._dirty=!0;var n=this.gl,s=!this._attributes.length,a=e.size||3,o=i(n,r,a,n.ARRAY_BUFFER,"float32");if(!o)throw new Error("Unexpected attribute format: needs an ndarray, array, typed array, gl-buffer or simplicial complex");var h=o.buffer,u=o.length,c=o.index;return this._keys.push(t),this._attributes.push({size:a,buffer:h}),s&&(this._length=u),s&&c&&(this._index=c),this},n.prototype.bind=function(t){if(this.update(),this._vao.bind(),this._keys){for(var r=0;r<this._keys.length;r++){var e=t.attributes[this._keys[r]];e&&(e.location=r)}t&&t.bind()}},n.prototype.draw=function(t,r,e){r=void 0===r?0:r,e=void 0===e?this._length:e,t=void 0===t?this.gl.TRIANGLES:t,this.update(),this._vao._useElements?this.gl.drawElements(t,e-r,this._vao._elementsType,r):this.gl.drawArrays(t,r,e-r)},n.prototype.unbind=function(){this.update(),this._vao.unbind()},n.prototype.update=function(){this._dirty&&(this._dirty=!1,this._vao&&this._vao.dispose(),this._vao=s(this.gl,this._attributes,this._index))}},function(t,r,e){function n(t,r,e,n,l){return Array.isArray(r)&&Array.isArray(r[0])?{buffer:h(t,a(r,l),n),length:r.length}:Array.isArray(r)&&o(r[0])?{buffer:h(t,a(r,l),n),length:r.length*r[0].length/e}:Array.isArray(r)?{buffer:h(t,new(c(l))(r),n),length:r.length/e}:r.handle instanceof WebGLBuffer?{buffer:r,length:r.length/e/4}:r.cells&&r.positions?{length:r.cells.length*e,buffer:h(t,a(r.positions,l),n),index:h(t,a(r.cells,"uint16"),t.ELEMENT_ARRAY_BUFFER)}:u(r)?{buffer:h(t,r,n),length:i(r.shape)/e}:o(r)?(!l||r instanceof c(l)||(r=s(r,c(l))),{buffer:h(t,r,n),length:r.length/e}):void 0}function i(t){for(var r=1,e=0;e<t.length;e++)r*=t[e];return r}function s(t,r){r=new r(t.length);for(var e=0;e<t.length;e++)r[e]=t[e];return r}var a=e(45),o=e(50),h=e(51),u=e(63),c=e(64);t.exports=n},function(t,r,e){function n(t,r){if(r=r||"float32",!t[0]||!t[0].length)return t;for(var e="string"==typeof r?i(r):r,n=t[0].length,s=new e(t.length*n),a=0,o=0;o<t.length;o++)for(var h=0;h<n;h++)s[a++]=t[o][h];return s}var i=e(46);t.exports=n},function(t,r,e){(function(r){t.exports=function(t){switch(t){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array;case"uint8_clamped":return Uint8ClampedArray;case"generic":case"data":case"dataview":return ArrayBuffer;case"buffer":return void 0===r?ArrayBuffer:r}}}).call(r,e(16).Buffer)},function(t,r,e){"use strict";function n(t){var r=t.length;if(r%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===t[r-2]?2:"="===t[r-1]?1:0}function i(t){return 3*t.length/4-n(t)}function s(t){var r,e,i,s,a,o=t.length;s=n(t),a=new l(3*o/4-s),e=s>0?o-4:o;var h=0;for(r=0;r<e;r+=4)i=c[t.charCodeAt(r)]<<18|c[t.charCodeAt(r+1)]<<12|c[t.charCodeAt(r+2)]<<6|c[t.charCodeAt(r+3)],a[h++]=i>>16&255,a[h++]=i>>8&255,a[h++]=255&i;return 2===s?(i=c[t.charCodeAt(r)]<<2|c[t.charCodeAt(r+1)]>>4,a[h++]=255&i):1===s&&(i=c[t.charCodeAt(r)]<<10|c[t.charCodeAt(r+1)]<<4|c[t.charCodeAt(r+2)]>>2,a[h++]=i>>8&255,a[h++]=255&i),a}function a(t){return u[t>>18&63]+u[t>>12&63]+u[t>>6&63]+u[63&t]}function o(t,r,e){for(var n,i=[],s=r;s<e;s+=3)n=(t[s]<<16)+(t[s+1]<<8)+t[s+2],i.push(a(n));return i.join("")}function h(t){for(var r,e=t.length,n=e%3,i="",s=[],a=0,h=e-n;a<h;a+=16383)s.push(o(t,a,a+16383>h?h:a+16383));return 1===n?(r=t[e-1],i+=u[r>>2],i+=u[r<<4&63],i+="=="):2===n&&(r=(t[e-2]<<8)+t[e-1],i+=u[r>>10],i+=u[r>>4&63],i+=u[r<<2&63],i+="="),s.push(i),s.join("")}r.byteLength=i,r.toByteArray=s,r.fromByteArray=h;for(var u=[],c=[],l="undefined"!=typeof Uint8Array?Uint8Array:Array,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p=0,d=f.length;p<d;++p)u[p]=f[p],c[f.charCodeAt(p)]=p;c["-".charCodeAt(0)]=62,c["_".charCodeAt(0)]=63},function(t,r){r.read=function(t,r,e,n,i){var s,a,o=8*i-n-1,h=(1<<o)-1,u=h>>1,c=-7,l=e?i-1:0,f=e?-1:1,p=t[r+l];for(l+=f,s=p&(1<<-c)-1,p>>=-c,c+=o;c>0;s=256*s+t[r+l],l+=f,c-=8);for(a=s&(1<<-c)-1,s>>=-c,c+=n;c>0;a=256*a+t[r+l],l+=f,c-=8);if(0===s)s=1-u;else{if(s===h)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,n),s-=u}return(p?-1:1)*a*Math.pow(2,s-n)},r.write=function(t,r,e,n,i,s){var a,o,h,u=8*s-i-1,c=(1<<u)-1,l=c>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:s-1,d=n?1:-1,y=r<0||0===r&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(o=isNaN(r)?1:0,a=c):(a=Math.floor(Math.log(r)/Math.LN2),r*(h=Math.pow(2,-a))<1&&(a--,h*=2),r+=a+l>=1?f/h:f*Math.pow(2,1-l),r*h>=2&&(a++,h/=2),a+l>=c?(o=0,a=c):a+l>=1?(o=(r*h-1)*Math.pow(2,i),a+=l):(o=r*Math.pow(2,l-1)*Math.pow(2,i),a=0));i>=8;t[e+p]=255&o,p+=d,o/=256,i-=8);for(a=a<<i|o,u+=i;u>0;t[e+p]=255&a,p+=d,a/=256,u-=8);t[e+p-d]|=128*y}},function(t,r){var e={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==e.call(t)}},function(t,r){function e(t){return n(t)||i(t)}function n(t){return t instanceof Int8Array||t instanceof Int16Array||t instanceof Int32Array||t instanceof Uint8Array||t instanceof Uint16Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array}function i(t){return a[s.call(t)]}t.exports=e,e.strict=n,e.loose=i;var s=Object.prototype.toString,a={"[object Int8Array]":!0,"[object Int16Array]":!0,"[object Int32Array]":!0,"[object Uint8Array]":!0,"[object Uint16Array]":!0,"[object Uint32Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0}},function(t,r,e){"use strict";function n(t,r,e,n,i){this.gl=t,this.type=r,this.handle=e,this.length=n,this.usage=i}function i(t,r,e,n,i,s){var a=i.length*i.BYTES_PER_ELEMENT;if(s<0)return t.bufferData(r,i,n),a;if(a+s>e)throw new Error("gl-buffer: If resizing buffer, must not specify offset");return t.bufferSubData(r,s,i),e}function s(t,r){for(var e=h.malloc(t.length,r),n=t.length,i=0;i<n;++i)e[i]=t[i];return e}function a(t,r){for(var e=1,n=r.length-1;n>=0;--n){if(r[n]!==e)return!1;e*=t[n]}return!0}function o(t,r,e,i){if(e=e||t.ARRAY_BUFFER,i=i||t.DYNAMIC_DRAW,e!==t.ARRAY_BUFFER&&e!==t.ELEMENT_ARRAY_BUFFER)throw new Error("gl-buffer: Invalid type for webgl buffer, must be either gl.ARRAY_BUFFER or gl.ELEMENT_ARRAY_BUFFER");if(i!==t.DYNAMIC_DRAW&&i!==t.STATIC_DRAW&&i!==t.STREAM_DRAW)throw new Error("gl-buffer: Invalid usage for buffer, must be either gl.DYNAMIC_DRAW, gl.STATIC_DRAW or gl.STREAM_DRAW");var s=t.createBuffer(),a=new n(t,e,s,0,i);return a.update(r),a}var h=e(52),u=e(55),c=e(60),l=["uint8","uint8_clamped","uint16","uint32","int8","int16","int32","float32"],f=n.prototype;f.bind=function(){this.gl.bindBuffer(this.type,this.handle)},f.unbind=function(){this.gl.bindBuffer(this.type,null)},f.dispose=function(){this.gl.deleteBuffer(this.handle)},f.update=function(t,r){if("number"!=typeof r&&(r=-1),this.bind(),"object"==typeof t&&void 0!==t.shape){var e=t.dtype;if(l.indexOf(e)<0&&(e="float32"),this.type===this.gl.ELEMENT_ARRAY_BUFFER){e=gl.getExtension("OES_element_index_uint")&&"uint16"!==e?"uint32":"uint16"}if(e===t.dtype&&a(t.shape,t.stride))0===t.offset&&t.data.length===t.shape[0]?this.length=i(this.gl,this.type,this.length,this.usage,t.data,r):this.length=i(this.gl,this.type,this.length,this.usage,t.data.subarray(t.offset,t.shape[0]),r);else{var n=h.malloc(t.size,e),o=c(n,t.shape);u.assign(o,t),this.length=r<0?i(this.gl,this.type,this.length,this.usage,n,r):i(this.gl,this.type,this.length,this.usage,n.subarray(0,t.size),r),h.free(n)}}else if(Array.isArray(t)){var f;f=this.type===this.gl.ELEMENT_ARRAY_BUFFER?s(t,"uint16"):s(t,"float32"),this.length=r<0?i(this.gl,this.type,this.length,this.usage,f,r):i(this.gl,this.type,this.length,this.usage,f.subarray(0,t.length),r),h.free(f)}else if("object"==typeof t&&"number"==typeof t.length)this.length=i(this.gl,this.type,this.length,this.usage,t,r);else{if("number"!=typeof t&&void 0!==t)throw new Error("gl-buffer: Invalid data type");if(r>=0)throw new Error("gl-buffer: Cannot specify offset when resizing buffer");t|=0,t<=0&&(t=1),this.gl.bufferData(this.type,0|t,this.usage),this.length=t}},t.exports=o},function(t,r,e){"use strict";(function(t,n){function i(t){if(t){var r=t.length||t.byteLength,e=v.log2(r);w[e].push(t)}}function s(t){i(t.buffer)}function a(t){var t=v.nextPow2(t),r=v.log2(t),e=w[r];return e.length>0?e.pop():new ArrayBuffer(t)}function o(t){return new Uint8Array(a(t),0,t)}function h(t){return new Uint16Array(a(2*t),0,t)}function u(t){return new Uint32Array(a(4*t),0,t)}function c(t){return new Int8Array(a(t),0,t)}function l(t){return new Int16Array(a(2*t),0,t)}function f(t){return new Int32Array(a(4*t),0,t)}function p(t){return new Float32Array(a(4*t),0,t)}function d(t){return new Float64Array(a(8*t),0,t)}function y(t){return b?new Uint8ClampedArray(a(t),0,t):o(t)}function g(t){return new DataView(a(t),0,t)}function m(t){t=v.nextPow2(t);var r=v.log2(t),e=A[r];return e.length>0?e.pop():new n(t)}var v=e(53),x=e(54);t.__TYPEDARRAY_POOL||(t.__TYPEDARRAY_POOL={UINT8:x([32,0]),UINT16:x([32,0]),UINT32:x([32,0]),INT8:x([32,0]),INT16:x([32,0]),INT32:x([32,0]),FLOAT:x([32,0]),DOUBLE:x([32,0]),DATA:x([32,0]),UINT8C:x([32,0]),BUFFER:x([32,0])});var b="undefined"!=typeof Uint8ClampedArray,_=t.__TYPEDARRAY_POOL;_.UINT8C||(_.UINT8C=x([32,0])),_.BUFFER||(_.BUFFER=x([32,0]));var w=_.DATA,A=_.BUFFER;r.free=function(t){if(n.isBuffer(t))A[v.log2(t.length)].push(t);else{if("[object ArrayBuffer]"!==Object.prototype.toString.call(t)&&(t=t.buffer),!t)return;var r=t.length||t.byteLength,e=0|v.log2(r);w[e].push(t)}},r.freeUint8=r.freeUint16=r.freeUint32=r.freeInt8=r.freeInt16=r.freeInt32=r.freeFloat32=r.freeFloat=r.freeFloat64=r.freeDouble=r.freeUint8Clamped=r.freeDataView=s,r.freeArrayBuffer=i,r.freeBuffer=function(t){A[v.log2(t.length)].push(t)},r.malloc=function(t,r){if(void 0===r||"arraybuffer"===r)return a(t);switch(r){case"uint8":return o(t);case"uint16":return h(t);case"uint32":return u(t);case"int8":return c(t);case"int16":return l(t);case"int32":return f(t);case"float":case"float32":return p(t);case"double":case"float64":return d(t);case"uint8_clamped":return y(t);case"buffer":return m(t);case"data":case"dataview":return g(t);default:return null}return null},r.mallocArrayBuffer=a,r.mallocUint8=o,r.mallocUint16=h,r.mallocUint32=u,r.mallocInt8=c,r.mallocInt16=l,r.mallocInt32=f,r.mallocFloat32=r.mallocFloat=p,r.mallocFloat64=r.mallocDouble=d,r.mallocUint8Clamped=y,r.mallocDataView=g,r.mallocBuffer=m,r.clearCache=function(){for(var t=0;t<32;++t)_.UINT8[t].length=0,_.UINT16[t].length=0,_.UINT32[t].length=0,_.INT8[t].length=0,_.INT16[t].length=0,_.INT32[t].length=0,_.FLOAT[t].length=0,_.DOUBLE[t].length=0,_.UINT8C[t].length=0,w[t].length=0,A[t].length=0}}).call(r,e(17),e(16).Buffer)},function(t,r,e){"use strict";"use restrict";function n(t){var r=32;return t&=-t,t&&r--,65535&t&&(r-=16),16711935&t&&(r-=8),252645135&t&&(r-=4),858993459&t&&(r-=2),1431655765&t&&(r-=1),r}r.INT_BITS=32,r.INT_MAX=2147483647,r.INT_MIN=-1<<31,r.sign=function(t){return(t>0)-(t<0)},r.abs=function(t){var r=t>>31;return(t^r)-r},r.min=function(t,r){return r^(t^r)&-(t<r)},r.max=function(t,r){return t^(t^r)&-(t<r)},r.isPow2=function(t){return!(t&t-1||!t)},r.log2=function(t){var r,e;return r=(t>65535)<<4,t>>>=r,e=(t>255)<<3,t>>>=e,r|=e,e=(t>15)<<2,t>>>=e,r|=e,e=(t>3)<<1,t>>>=e,(r|=e)|t>>1},r.log10=function(t){return t>=1e9?9:t>=1e8?8:t>=1e7?7:t>=1e6?6:t>=1e5?5:t>=1e4?4:t>=1e3?3:t>=100?2:t>=10?1:0},r.popCount=function(t){return t-=t>>>1&1431655765,16843009*((t=(858993459&t)+(t>>>2&858993459))+(t>>>4)&252645135)>>>24},r.countTrailingZeros=n,r.nextPow2=function(t){return t+=0===t,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)+1},r.prevPow2=function(t){return t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)-(t>>>1)},r.parity=function(t){return t^=t>>>16,t^=t>>>8,t^=t>>>4,27030>>>(t&=15)&1};var i=new Array(256);!function(t){for(var r=0;r<256;++r){var e=r,n=r,i=7;for(e>>>=1;e;e>>>=1)n<<=1,n|=1&e,--i;t[r]=n<<i&255}}(i),r.reverse=function(t){return i[255&t]<<24|i[t>>>8&255]<<16|i[t>>>16&255]<<8|i[t>>>24&255]},r.interleave2=function(t,r){return t&=65535,t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),r&=65535,r=16711935&(r|r<<8),r=252645135&(r|r<<4),r=858993459&(r|r<<2),r=1431655765&(r|r<<1),t|r<<1},r.deinterleave2=function(t,r){return t=t>>>r&1431655765,t=858993459&(t|t>>>1),t=252645135&(t|t>>>2),t=16711935&(t|t>>>4),(t=65535&(t|t>>>16))<<16>>16},r.interleave3=function(t,r,e){return t&=1023,t=4278190335&(t|t<<16),t=251719695&(t|t<<8),t=3272356035&(t|t<<4),t=1227133513&(t|t<<2),r&=1023,r=4278190335&(r|r<<16),r=251719695&(r|r<<8),r=3272356035&(r|r<<4),r=1227133513&(r|r<<2),t|=r<<1,e&=1023,e=4278190335&(e|e<<16),e=251719695&(e|e<<8),e=3272356035&(e|e<<4),e=1227133513&(e|e<<2),t|e<<2},r.deinterleave3=function(t,r){return t=t>>>r&1227133513,t=3272356035&(t|t>>>2),t=251719695&(t|t>>>4),t=4278190335&(t|t>>>8),(t=1023&(t|t>>>16))<<22>>22},r.nextCombination=function(t){var r=t|t-1;return r+1|(~r&-~r)-1>>>n(t)+1}},function(t,r,e){"use strict";function n(t,r,e){var i=0|t[e];if(i<=0)return[];var s,a=new Array(i);if(e===t.length-1)for(s=0;s<i;++s)a[s]=r;else for(s=0;s<i;++s)a[s]=n(t,r,e+1);return a}function i(t,r){var e,n;for(e=new Array(t),n=0;n<t;++n)e[n]=r;return e}function s(t,r){switch(void 0===r&&(r=0),typeof t){case"number":if(t>0)return i(0|t,r);break;case"object":if("number"==typeof t.length)return n(t,r,0)}return[]}t.exports=s},function(t,r,e){"use strict";function n(t){if(!t)return o;for(var r=0;r<t.args.length;++r){var e=t.args[r];t.args[r]=0===r?{name:e,lvalue:!0,rvalue:!!t.rvalue,count:t.count||1}:{name:e,lvalue:!1,rvalue:!0,count:1}}return t.thisVars||(t.thisVars=[]),t.localVars||(t.localVars=[]),t}function i(t){return a({args:t.args,pre:n(t.pre),body:n(t.body),post:n(t.proc),funcName:t.funcName})}function s(t){for(var r=[],e=0;e<t.args.length;++e)r.push("a"+e);return new Function("P",["return function ",t.funcName,"_ndarrayops(",r.join(","),") {P(",r.join(","),");return a0}"].join(""))(i(t))}var a=e(56),o={body:"",args:[],thisVars:[],localVars:[]},h={add:"+",sub:"-",mul:"*",div:"/",mod:"%",band:"&",bor:"|",bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"};!function(){for(var t in h){var e=h[t];r[t]=s({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+e+"c"},funcName:t}),r[t+"eq"]=s({args:["array","array"],body:{args:["a","b"],body:"a"+e+"=b"},rvalue:!0,funcName:t+"eq"}),r[t+"s"]=s({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+e+"s"},funcName:t+"s"}),r[t+"seq"]=s({args:["array","scalar"],body:{args:["a","s"],body:"a"+e+"=s"},rvalue:!0,funcName:t+"seq"})}}();var u={not:"!",bnot:"~",neg:"-",recip:"1.0/"};!function(){for(var t in u){var e=u[t];r[t]=s({args:["array","array"],body:{args:["a","b"],body:"a="+e+"b"},funcName:t}),r[t+"eq"]=s({args:["array"],body:{args:["a"],body:"a="+e+"a"},rvalue:!0,count:2,funcName:t+"eq"})}}();var c={and:"&&",or:"||",eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">="};!function(){for(var t in c){var e=c[t];r[t]=s({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+e+"c"},funcName:t}),r[t+"s"]=s({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+e+"s"},funcName:t+"s"}),r[t+"eq"]=s({args:["array","array"],body:{args:["a","b"],body:"a=a"+e+"b"},rvalue:!0,count:2,funcName:t+"eq"}),r[t+"seq"]=s({args:["array","scalar"],body:{args:["a","s"],body:"a=a"+e+"s"},rvalue:!0,count:2,funcName:t+"seq"})}}();var l=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan"];!function(){for(var t=0;t<l.length;++t){var e=l[t];r[e]=s({args:["array","array"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b)",thisVars:["this_f"]},funcName:e}),r[e+"eq"]=s({args:["array"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a"],body:"a=this_f(a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:e+"eq"})}}();var f=["max","min","atan2","pow"];!function(){for(var t=0;t<f.length;++t){var e=f[t];r[e]=s({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:e}),r[e+"s"]=s({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:e+"s"}),r[e+"eq"]=s({args:["array","array"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:e+"eq"}),r[e+"seq"]=s({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:e+"seq"})}}();var p=["atan2","pow"];!function(){for(var t=0;t<p.length;++t){var e=p[t];r[e+"op"]=s({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:e+"op"}),r[e+"ops"]=s({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:e+"ops"}),r[e+"opeq"]=s({args:["array","array"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:e+"opeq"}),r[e+"opseq"]=s({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+e,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:e+"opseq"})}}(),r.any=a({args:["array"],pre:o,body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"if(a){return true}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return false"},funcName:"any"}),r.all=a({args:["array"],pre:o,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1}],body:"if(!x){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"all"}),r.sum=a({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s+=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"sum"}),r.prod=a({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=1"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s*=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"prod"}),r.norm2squared=a({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm2squared"}),r.norm2=a({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return Math.sqrt(this_s)"},funcName:"norm2"}),r.norminf=a({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:4}],body:"if(-a>this_s){this_s=-a}else if(a>this_s){this_s=a}",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norminf"}),r.norm1=a({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:3}],body:"this_s+=a<0?-a:a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm1"}),r.sup=a({args:["array"],pre:{body:"this_h=-Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_>this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),r.inf=a({args:["array"],pre:{body:"this_h=Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_<this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),r.argmin=a({args:["index","array","shape"],pre:{body:"{this_v=Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_<this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),r.argmax=a({args:["index","array","shape"],pre:{body:"{this_v=-Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_>this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),r.random=s({args:["array"],pre:{args:[],body:"this_f=Math.random",thisVars:["this_f"]},body:{args:["a"],body:"a=this_f()",thisVars:["this_f"]},funcName:"random"}),r.assign=s({args:["array","array"],body:{args:["a","b"],body:"a=b"},funcName:"assign"}),r.assigns=s({args:["array","scalar"],body:{args:["a","b"],body:"a=b"},funcName:"assigns"}),r.equals=a({args:["array","array"],pre:o,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1},{name:"y",lvalue:!1,rvalue:!0,count:1}],body:"if(x!==y){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"equals"})},function(t,r,e){"use strict";function n(){this.argTypes=[],this.shimArgs=[],this.arrayArgs=[],this.arrayBlockIndices=[],this.scalarArgs=[],this.offsetArgs=[],this.offsetArgIndex=[],this.indexArgs=[],this.shapeArgs=[],this.funcName="",this.pre=null,this.body=null,this.post=null,this.debug=!1}function i(t){var r=new n;r.pre=t.pre,r.body=t.body,r.post=t.post;var e=t.args.slice(0);r.argTypes=e;for(var i=0;i<e.length;++i){var a=e[i];if("array"===a||"object"==typeof a&&a.blockIndices){if(r.argTypes[i]="array",r.arrayArgs.push(i),r.arrayBlockIndices.push(a.blockIndices?a.blockIndices:0),r.shimArgs.push("array"+i),i<r.pre.args.length&&r.pre.args[i].count>0)throw new Error("cwise: pre() block may not reference array args");if(i<r.post.args.length&&r.post.args[i].count>0)throw new Error("cwise: post() block may not reference array args")}else if("scalar"===a)r.scalarArgs.push(i),r.shimArgs.push("scalar"+i);else if("index"===a){if(r.indexArgs.push(i),i<r.pre.args.length&&r.pre.args[i].count>0)throw new Error("cwise: pre() block may not reference array index");if(i<r.body.args.length&&r.body.args[i].lvalue)throw new Error("cwise: body() block may not write to array index");if(i<r.post.args.length&&r.post.args[i].count>0)throw new Error("cwise: post() block may not reference array index")}else if("shape"===a){if(r.shapeArgs.push(i),i<r.pre.args.length&&r.pre.args[i].lvalue)throw new Error("cwise: pre() block may not write to array shape");if(i<r.body.args.length&&r.body.args[i].lvalue)throw new Error("cwise: body() block may not write to array shape");if(i<r.post.args.length&&r.post.args[i].lvalue)throw new Error("cwise: post() block may not write to array shape")}else{if("object"!=typeof a||!a.offset)throw new Error("cwise: Unknown argument type "+e[i]);r.argTypes[i]="offset",r.offsetArgs.push({array:a.array,offset:a.offset}),r.offsetArgIndex.push(i)}}if(r.arrayArgs.length<=0)throw new Error("cwise: No array arguments specified");if(r.pre.args.length>e.length)throw new Error("cwise: Too many arguments in pre() block");if(r.body.args.length>e.length)throw new Error("cwise: Too many arguments in body() block");if(r.post.args.length>e.length)throw new Error("cwise: Too many arguments in post() block");return r.debug=!!t.printCode||!!t.debug,r.funcName=t.funcName||"cwise",r.blockSize=t.blockSize||64,s(r)}var s=e(57);t.exports=i},function(t,r,e){"use strict";function n(t){var r=["'use strict'","var CACHED={}"],e=[],n=t.funcName+"_cwise_thunk";r.push(["return function ",n,"(",t.shimArgs.join(","),"){"].join(""));for(var s=[],a=[],o=[["array",t.arrayArgs[0],".shape.slice(",Math.max(0,t.arrayBlockIndices[0]),t.arrayBlockIndices[0]<0?","+t.arrayBlockIndices[0]+")":")"].join("")],h=[],u=[],c=0;c<t.arrayArgs.length;++c){var l=t.arrayArgs[c];e.push(["t",l,"=array",l,".dtype,","r",l,"=array",l,".order"].join("")),s.push("t"+l),s.push("r"+l),a.push("t"+l),a.push("r"+l+".join()"),o.push("array"+l+".data"),o.push("array"+l+".stride"),o.push("array"+l+".offset|0"),c>0&&(h.push("array"+t.arrayArgs[0]+".shape.length===array"+l+".shape.length+"+(Math.abs(t.arrayBlockIndices[0])-Math.abs(t.arrayBlockIndices[c]))),u.push("array"+t.arrayArgs[0]+".shape[shapeIndex+"+Math.max(0,t.arrayBlockIndices[0])+"]===array"+l+".shape[shapeIndex+"+Math.max(0,t.arrayBlockIndices[c])+"]"))}t.arrayArgs.length>1&&(r.push("if (!("+h.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same dimensionality!')"),r.push("for(var shapeIndex=array"+t.arrayArgs[0]+".shape.length-"+Math.abs(t.arrayBlockIndices[0])+"; shapeIndex--\x3e0;) {"),r.push("if (!("+u.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same shape!')"),r.push("}"));for(var c=0;c<t.scalarArgs.length;++c)o.push("scalar"+t.scalarArgs[c]);return e.push(["type=[",a.join(","),"].join()"].join("")),e.push("proc=CACHED[type]"),r.push("var "+e.join(",")),r.push(["if(!proc){","CACHED[type]=proc=compile([",s.join(","),"])}","return proc(",o.join(","),")}"].join("")),t.debug,new Function("compile",r.join("\n"))(i.bind(void 0,t))}var i=e(58);t.exports=n},function(t,r,e){"use strict";function n(t,r,e){var n,i,s=t.length,a=r.arrayArgs.length,o=r.indexArgs.length>0,h=[],u=[],c=0,l=0;for(n=0;n<s;++n)u.push(["i",n,"=0"].join(""));for(i=0;i<a;++i)for(n=0;n<s;++n)l=c,c=t[n],0===n?u.push(["d",i,"s",n,"=t",i,"p",c].join("")):u.push(["d",i,"s",n,"=(t",i,"p",c,"-s",l,"*t",i,"p",l,")"].join(""));for(u.length>0&&h.push("var "+u.join(",")),n=s-1;n>=0;--n)c=t[n],h.push(["for(i",n,"=0;i",n,"<s",c,";++i",n,"){"].join(""));for(h.push(e),n=0;n<s;++n){for(l=c,c=t[n],i=0;i<a;++i)h.push(["p",i,"+=d",i,"s",n].join(""));o&&(n>0&&h.push(["index[",l,"]-=s",l].join("")),h.push(["++index[",c,"]"].join(""))),h.push("}")}return h.join("\n")}function i(t,r,e,i){for(var s=r.length,a=e.arrayArgs.length,o=e.blockSize,h=e.indexArgs.length>0,u=[],c=0;c<a;++c)u.push(["var offset",c,"=p",c].join(""));for(var c=t;c<s;++c)u.push(["for(var j"+c+"=SS[",r[c],"]|0;j",c,">0;){"].join("")),u.push(["if(j",c,"<",o,"){"].join("")),u.push(["s",r[c],"=j",c].join("")),u.push(["j",c,"=0"].join("")),u.push(["}else{s",r[c],"=",o].join("")),u.push(["j",c,"-=",o,"}"].join("")),h&&u.push(["index[",r[c],"]=j",c].join(""));for(var c=0;c<a;++c){for(var l=["offset"+c],f=t;f<s;++f)l.push(["j",f,"*t",c,"p",r[f]].join(""));u.push(["p",c,"=(",l.join("+"),")"].join(""))}u.push(n(r,e,i));for(var c=t;c<s;++c)u.push("}");return u.join("\n")}function s(t){for(var r=0,e=t[0].length;r<e;){for(var n=1;n<t.length;++n)if(t[n][r]!==t[0][r])return r;++r}return r}function a(t,r,e){for(var n=t.body,i=[],s=[],a=0;a<t.args.length;++a){var o=t.args[a];if(!(o.count<=0)){var h=new RegExp(o.name,"g"),u="",c=r.arrayArgs.indexOf(a);switch(r.argTypes[a]){case"offset":var l=r.offsetArgIndex.indexOf(a);c=r.offsetArgs[l].array,u="+q"+l;case"array":u="p"+c+u;var f="l"+a,p="a"+c;if(0===r.arrayBlockIndices[c])1===o.count?"generic"===e[c]?o.lvalue?(i.push(["var ",f,"=",p,".get(",u,")"].join("")),n=n.replace(h,f),s.push([p,".set(",u,",",f,")"].join(""))):n=n.replace(h,[p,".get(",u,")"].join("")):n=n.replace(h,[p,"[",u,"]"].join("")):"generic"===e[c]?(i.push(["var ",f,"=",p,".get(",u,")"].join("")),n=n.replace(h,f),o.lvalue&&s.push([p,".set(",u,",",f,")"].join(""))):(i.push(["var ",f,"=",p,"[",u,"]"].join("")),n=n.replace(h,f),o.lvalue&&s.push([p,"[",u,"]=",f].join("")));else{for(var d=[o.name],y=[u],g=0;g<Math.abs(r.arrayBlockIndices[c]);g++)d.push("\\s*\\[([^\\]]+)\\]"),y.push("$"+(g+1)+"*t"+c+"b"+g);if(h=new RegExp(d.join(""),"g"),u=y.join("+"),"generic"===e[c])throw new Error("cwise: Generic arrays not supported in combination with blocks!");n=n.replace(h,[p,"[",u,"]"].join(""))}break;case"scalar":n=n.replace(h,"Y"+r.scalarArgs.indexOf(a));break;case"index":n=n.replace(h,"index");break;case"shape":n=n.replace(h,"shape")}}}return[i.join("\n"),n,s.join("\n")].join("\n").trim()}function o(t){for(var r=new Array(t.length),e=!0,n=0;n<t.length;++n){var i=t[n],s=i.match(/\d+/);s=s?s[0]:"",0===i.charAt(0)?r[n]="u"+i.charAt(1)+s:r[n]=i.charAt(0)+s,n>0&&(e=e&&r[n]===r[n-1])}return e?r[0]:r.join("")}function h(t,r){for(var e=r[1].length-Math.abs(t.arrayBlockIndices[0])|0,h=new Array(t.arrayArgs.length),c=new Array(t.arrayArgs.length),l=0;l<t.arrayArgs.length;++l)c[l]=r[2*l],h[l]=r[2*l+1];for(var f=[],p=[],d=[],y=[],g=[],l=0;l<t.arrayArgs.length;++l){t.arrayBlockIndices[l]<0?(d.push(0),y.push(e),f.push(e),p.push(e+t.arrayBlockIndices[l])):(d.push(t.arrayBlockIndices[l]),y.push(t.arrayBlockIndices[l]+e),f.push(0),p.push(t.arrayBlockIndices[l]));for(var m=[],v=0;v<h[l].length;v++)d[l]<=h[l][v]&&h[l][v]<y[l]&&m.push(h[l][v]-d[l]);g.push(m)}for(var x=["SS"],b=["'use strict'"],_=[],v=0;v<e;++v)_.push(["s",v,"=SS[",v,"]"].join(""));for(var l=0;l<t.arrayArgs.length;++l){x.push("a"+l),x.push("t"+l),x.push("p"+l);for(var v=0;v<e;++v)_.push(["t",l,"p",v,"=t",l,"[",d[l]+v,"]"].join(""));for(var v=0;v<Math.abs(t.arrayBlockIndices[l]);++v)_.push(["t",l,"b",v,"=t",l,"[",f[l]+v,"]"].join(""))}for(var l=0;l<t.scalarArgs.length;++l)x.push("Y"+l);if(t.shapeArgs.length>0&&_.push("shape=SS.slice(0)"),t.indexArgs.length>0){for(var w=new Array(e),l=0;l<e;++l)w[l]="0";_.push(["index=[",w.join(","),"]"].join(""))}for(var l=0;l<t.offsetArgs.length;++l){for(var A=t.offsetArgs[l],M=[],v=0;v<A.offset.length;++v)0!==A.offset[v]&&(1===A.offset[v]?M.push(["t",A.array,"p",v].join("")):M.push([A.offset[v],"*t",A.array,"p",v].join("")));0===M.length?_.push("q"+l+"=0"):_.push(["q",l,"=",M.join("+")].join(""))}var z=u([].concat(t.pre.thisVars).concat(t.body.thisVars).concat(t.post.thisVars));_=_.concat(z),_.length>0&&b.push("var "+_.join(","));for(var l=0;l<t.arrayArgs.length;++l)b.push("p"+l+"|=0");t.pre.body.length>3&&b.push(a(t.pre,t,c));var S=a(t.body,t,c),E=s(g);E<e?b.push(i(E,g[0],t,S)):b.push(n(g[0],t,S)),t.post.body.length>3&&b.push(a(t.post,t,c)),t.debug;var N=[t.funcName||"unnamed","_cwise_loop_",h[0].join("s"),"m",E,o(c)].join("");return new Function(["function ",N,"(",x.join(","),"){",b.join("\n"),"} return ",N].join(""))()}var u=e(59);t.exports=h},function(t,r,e){"use strict";function n(t,r){for(var e=1,n=t.length,i=t[0],s=t[0],a=1;a<n;++a)if(s=i,i=t[a],r(i,s)){if(a===e){e++;continue}t[e++]=i}return t.length=e,t}function i(t){for(var r=1,e=t.length,n=t[0],i=t[0],s=1;s<e;++s,i=n)if(i=n,(n=t[s])!==i){if(s===r){r++;continue}t[r++]=n}return t.length=r,t}function s(t,r,e){return 0===t.length?t:r?(e||t.sort(r),n(t,r)):(e||t.sort(),i(t))}t.exports=s},function(t,r,e){function n(t,r){return t[0]-r[0]}function i(){var t,r=this.stride,e=new Array(r.length);for(t=0;t<e.length;++t)e[t]=[Math.abs(r[t]),t];e.sort(n);var i=new Array(e.length);for(t=0;t<i.length;++t)i[t]=e[t][1];return i}function s(t,r){var e=["View",r,"d",t].join("");r<0&&(e="View_Nil"+t);var n="generic"===t;if(-1===r){var s="function "+e+"(a){this.data=a;};var proto="+e+".prototype;proto.dtype='"+t+"';proto.index=function(){return -1};proto.size=0;proto.dimension=-1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function(){return new "+e+"(this.data);};proto.get=proto.set=function(){};proto.pick=function(){return null};return function construct_"+e+"(a){return new "+e+"(a);}",a=new Function(s);return a()}if(0===r){var s="function "+e+"(a,d) {this.data = a;this.offset = d};var proto="+e+".prototype;proto.dtype='"+t+"';proto.index=function(){return this.offset};proto.dimension=0;proto.size=1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function "+e+"_copy() {return new "+e+"(this.data,this.offset)};proto.pick=function "+e+"_pick(){return TrivialArray(this.data);};proto.valueOf=proto.get=function "+e+"_get(){return "+(n?"this.data.get(this.offset)":"this.data[this.offset]")+"};proto.set=function "+e+"_set(v){return "+(n?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"};return function construct_"+e+"(a,b,c,d){return new "+e+"(a,d)}",a=new Function("TrivialArray",s);return a(l[t][0])}var s=["'use strict'"],o=h(r),u=o.map(function(t){return"i"+t}),c="this.offset+"+o.map(function(t){return"this.stride["+t+"]*i"+t}).join("+"),f=o.map(function(t){return"b"+t}).join(","),p=o.map(function(t){return"c"+t}).join(",");s.push("function "+e+"(a,"+f+","+p+",d){this.data=a","this.shape=["+f+"]","this.stride=["+p+"]","this.offset=d|0}","var proto="+e+".prototype","proto.dtype='"+t+"'","proto.dimension="+r),s.push("Object.defineProperty(proto,'size',{get:function "+e+"_size(){return "+o.map(function(t){return"this.shape["+t+"]"}).join("*"),"}})"),1===r?s.push("proto.order=[0]"):(s.push("Object.defineProperty(proto,'order',{get:"),r<4?(s.push("function "+e+"_order(){"),2===r?s.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})"):3===r&&s.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);if(s0>s1){if(s1>s2){return [2,1,0];}else if(s0>s2){return [1,2,0];}else{return [1,0,2];}}else if(s0>s2){return [2,0,1];}else if(s2>s1){return [0,1,2];}else{return [0,2,1];}}})")):s.push("ORDER})")),s.push("proto.set=function "+e+"_set("+u.join(",")+",v){"),n?s.push("return this.data.set("+c+",v)}"):s.push("return this.data["+c+"]=v}"),s.push("proto.get=function "+e+"_get("+u.join(",")+"){"),n?s.push("return this.data.get("+c+")}"):s.push("return this.data["+c+"]}"),s.push("proto.index=function "+e+"_index(",u.join(),"){return "+c+"}"),s.push("proto.hi=function "+e+"_hi("+u.join(",")+"){return new "+e+"(this.data,"+o.map(function(t){return["(typeof i",t,"!=='number'||i",t,"<0)?this.shape[",t,"]:i",t,"|0"].join("")}).join(",")+","+o.map(function(t){return"this.stride["+t+"]"}).join(",")+",this.offset)}");var d=o.map(function(t){return"a"+t+"=this.shape["+t+"]"}),y=o.map(function(t){return"c"+t+"=this.stride["+t+"]"});s.push("proto.lo=function "+e+"_lo("+u.join(",")+"){var b=this.offset,d=0,"+d.join(",")+","+y.join(","));for(var g=0;g<r;++g)s.push("if(typeof i"+g+"==='number'&&i"+g+">=0){d=i"+g+"|0;b+=c"+g+"*d;a"+g+"-=d}");s.push("return new "+e+"(this.data,"+o.map(function(t){return"a"+t}).join(",")+","+o.map(function(t){return"c"+t}).join(",")+",b)}"),s.push("proto.step=function "+e+"_step("+u.join(",")+"){var "+o.map(function(t){return"a"+t+"=this.shape["+t+"]"}).join(",")+","+o.map(function(t){return"b"+t+"=this.stride["+t+"]"}).join(",")+",c=this.offset,d=0,ceil=Math.ceil");for(var g=0;g<r;++g)s.push("if(typeof i"+g+"==='number'){d=i"+g+"|0;if(d<0){c+=b"+g+"*(a"+g+"-1);a"+g+"=ceil(-a"+g+"/d)}else{a"+g+"=ceil(a"+g+"/d)}b"+g+"*=d}");s.push("return new "+e+"(this.data,"+o.map(function(t){return"a"+t}).join(",")+","+o.map(function(t){return"b"+t}).join(",")+",c)}");for(var m=new Array(r),v=new Array(r),g=0;g<r;++g)m[g]="a[i"+g+"]",v[g]="b[i"+g+"]";s.push("proto.transpose=function "+e+"_transpose("+u+"){"+u.map(function(t,r){return t+"=("+t+"===undefined?"+r+":"+t+"|0)"}).join(";"),"var a=this.shape,b=this.stride;return new "+e+"(this.data,"+m.join(",")+","+v.join(",")+",this.offset)}"),s.push("proto.pick=function "+e+"_pick("+u+"){var a=[],b=[],c=this.offset");for(var g=0;g<r;++g)s.push("if(typeof i"+g+"==='number'&&i"+g+">=0){c=(c+this.stride["+g+"]*i"+g+")|0}else{a.push(this.shape["+g+"]);b.push(this.stride["+g+"])}");s.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"),s.push("return function construct_"+e+"(data,shape,stride,offset){return new "+e+"(data,"+o.map(function(t){return"shape["+t+"]"}).join(",")+","+o.map(function(t){return"stride["+t+"]"}).join(",")+",offset)}");var a=new Function("CTOR_LIST","ORDER",s.join("\n"));return a(l[t],i)}function a(t){if(u(t))return"buffer";if(c)switch(Object.prototype.toString.call(t)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Uint8ClampedArray]":return"uint8_clamped"}return Array.isArray(t)?"array":"generic"}function o(t,r,e,n){if(void 0===t){var i=l.array[0];return i([])}"number"==typeof t&&(t=[t]),void 0===r&&(r=[t.length]);var o=r.length;if(void 0===e){e=new Array(o);for(var h=o-1,u=1;h>=0;--h)e[h]=u,u*=r[h]}if(void 0===n){n=0;for(var h=0;h<o;++h)e[h]<0&&(n-=(r[h]-1)*e[h])}for(var c=a(t),f=l[c];f.length<=o+1;)f.push(s(c,f.length-1));var i=f[o+1];return i(t,r,e,n)}var h=e(61),u=e(62),c="undefined"!=typeof Float64Array,l={float32:[],float64:[],int8:[],int16:[],int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],buffer:[],generic:[]};t.exports=o},function(t,r,e){"use strict";function n(t){for(var r=new Array(t),e=0;e<t;++e)r[e]=e;return r}t.exports=n},function(t,r){function e(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}function n(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&e(t.slice(0,0))}t.exports=function(t){return null!=t&&(e(t)||n(t)||!!t._isBuffer)}},function(t,r){t.exports=function(t){return!!t&&(!!t.dtype&&new RegExp("function View[0-9]+d(:?"+t.dtype+")+").test(String(t.constructor)))}},function(t,r){t.exports=function(t){switch(t){case"int8":return Int8Array;case"int16":return Int16Array;case"int32":return Int32Array;case"uint8":return Uint8Array;case"uint16":return Uint16Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;case"array":return Array}}},function(t,r,e){"use strict";function n(t){this.bindVertexArrayOES=t.bindVertexArray.bind(t),this.createVertexArrayOES=t.createVertexArray.bind(t),this.deleteVertexArrayOES=t.deleteVertexArray.bind(t)}function i(t,r,e,i){var o,h=t.createVertexArray?new n(t):t.getExtension("OES_vertex_array_object");return o=h?s(t,h):a(t),o.update(r,e,i),o}var s=e(66),a=e(67);t.exports=i},function(t,r,e){"use strict";function n(t,r,e,n,i,s){this.location=t,this.dimension=r,this.a=e,this.b=n,this.c=i,this.d=s}function i(t,r,e){this.gl=t,this._ext=r,this.handle=e,this._attribs=[],this._useElements=!1,this._elementsType=t.UNSIGNED_SHORT}function s(t,r){return new i(t,r,r.createVertexArrayOES())}var a=e(18);n.prototype.bind=function(t){switch(this.dimension){case 1:t.vertexAttrib1f(this.location,this.a);break;case 2:t.vertexAttrib2f(this.location,this.a,this.b);break;case 3:t.vertexAttrib3f(this.location,this.a,this.b,this.c);break;case 4:t.vertexAttrib4f(this.location,this.a,this.b,this.c,this.d)}},i.prototype.bind=function(){this._ext.bindVertexArrayOES(this.handle);for(var t=0;t<this._attribs.length;++t)this._attribs[t].bind(this.gl)},i.prototype.unbind=function(){this._ext.bindVertexArrayOES(null)},i.prototype.dispose=function(){this._ext.deleteVertexArrayOES(this.handle)},i.prototype.update=function(t,r,e){if(this.bind(),a(this.gl,r,t),this.unbind(),this._attribs.length=0,t)for(var i=0;i<t.length;++i){var s=t[i];"number"==typeof s?this._attribs.push(new n(i,1,s)):Array.isArray(s)&&this._attribs.push(new n(i,s.length,s[0],s[1],s[2],s[3]))}this._useElements=!!r,this._elementsType=e||this.gl.UNSIGNED_SHORT},i.prototype.draw=function(t,r,e){e=e||0;var n=this.gl;this._useElements?n.drawElements(t,r,this._elementsType,e):n.drawArrays(t,e,r)},t.exports=s},function(t,r,e){"use strict";function n(t){this.gl=t,this._elements=null,this._attributes=null,this._elementsType=t.UNSIGNED_SHORT}function i(t){return new n(t)}var s=e(18);n.prototype.bind=function(){s(this.gl,this._elements,this._attributes)},n.prototype.update=function(t,r,e){this._elements=r,this._attributes=t,this._elementsType=e||this.gl.UNSIGNED_SHORT},n.prototype.dispose=function(){},n.prototype.unbind=function(){},n.prototype.draw=function(t,r,e){e=e||0;var n=this.gl;this._elements?n.drawElements(t,r,this._elementsType,e):n.drawArrays(t,e,r)},t.exports=i},function(t,r,e){function n(t,r,e){function n(){var r=n.parent||t.parentNode;if("function"==typeof r)var e=r(s)||s,o=e[0],h=e[1];else if(r&&r!==document.body)var u=i(r),o=0|u[0],h=0|u[1];else var o=window.innerWidth,h=window.innerHeight;return a?(t.setAttribute("width",o*n.scale+"px"),t.setAttribute("height",h*n.scale+"px")):(t.width=o*n.scale,t.height=h*n.scale),t.style.width=o+"px",t.style.height=h+"px",n}var a="SVG"===t.nodeName.toUpperCase();return t.style.position=t.style.position||"absolute",t.style.top=0,t.style.left=0,n.scale=parseFloat(e||1),n.parent=r,n()}var i=e(69);t.exports=n;var s=new Float32Array(2)},function(t,r){function e(t){if(t===window||t===document.body)return[window.innerWidth,window.innerHeight];if(!t.parentNode){var r=!0;document.body.appendChild(t)}var e=t.getBoundingClientRect(),i=getComputedStyle(t),s=(0|e.height)+n(i.getPropertyValue("margin-top"))+n(i.getPropertyValue("margin-bottom")),a=(0|e.width)+n(i.getPropertyValue("margin-left"))+n(i.getPropertyValue("margin-right"));return r&&document.body.removeChild(t),[a,s]}function n(t){return parseFloat(t)||0}t.exports=e},function(t,r,e){t.exports={create:e(71),clone:e(72),copy:e(73),identity:e(19),transpose:e(74),invert:e(75),adjoint:e(76),determinant:e(77),multiply:e(78),translate:e(79),scale:e(80),rotate:e(81),rotateX:e(82),rotateY:e(83),rotateZ:e(84),fromRotationTranslation:e(85),fromQuat:e(86),frustum:e(87),perspective:e(88),perspectiveFromFieldOfView:e(89),ortho:e(90),lookAt:e(91),str:e(92)}},function(t,r){function e(){var t=new Float32Array(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}t.exports=e},function(t,r){function e(t){var r=new Float32Array(16);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4],r[5]=t[5],r[6]=t[6],r[7]=t[7],r[8]=t[8],r[9]=t[9],r[10]=t[10],r[11]=t[11],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15],r}t.exports=e},function(t,r){function e(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],t}t.exports=e},function(t,r){function e(t,r){if(t===r){var e=r[1],n=r[2],i=r[3],s=r[6],a=r[7],o=r[11];t[1]=r[4],t[2]=r[8],t[3]=r[12],t[4]=e,t[6]=r[9],t[7]=r[13],t[8]=n,t[9]=s,t[11]=r[14],t[12]=i,t[13]=a,t[14]=o}else t[0]=r[0],t[1]=r[4],t[2]=r[8],t[3]=r[12],t[4]=r[1],t[5]=r[5],t[6]=r[9],t[7]=r[13],t[8]=r[2],t[9]=r[6],t[10]=r[10],t[11]=r[14],t[12]=r[3],t[13]=r[7],t[14]=r[11],t[15]=r[15];return t}t.exports=e},function(t,r){function e(t,r){var e=r[0],n=r[1],i=r[2],s=r[3],a=r[4],o=r[5],h=r[6],u=r[7],c=r[8],l=r[9],f=r[10],p=r[11],d=r[12],y=r[13],g=r[14],m=r[15],v=e*o-n*a,x=e*h-i*a,b=e*u-s*a,_=n*h-i*o,w=n*u-s*o,A=i*u-s*h,M=c*y-l*d,z=c*g-f*d,S=c*m-p*d,E=l*g-f*y,N=l*m-p*y,U=f*m-p*g,V=v*U-x*N+b*E+_*S-w*z+A*M;return V?(V=1/V,t[0]=(o*U-h*N+u*E)*V,t[1]=(i*N-n*U-s*E)*V,t[2]=(y*A-g*w+m*_)*V,t[3]=(f*w-l*A-p*_)*V,t[4]=(h*S-a*U-u*z)*V,t[5]=(e*U-i*S+s*z)*V,t[6]=(g*b-d*A-m*x)*V,t[7]=(c*A-f*b+p*x)*V,t[8]=(a*N-o*S+u*M)*V,t[9]=(n*S-e*N-s*M)*V,t[10]=(d*w-y*b+m*v)*V,t[11]=(l*b-c*w-p*v)*V,t[12]=(o*z-a*E-h*M)*V,t[13]=(e*E-n*z+i*M)*V,t[14]=(y*x-d*_-g*v)*V,t[15]=(c*_-l*x+f*v)*V,t):null}t.exports=e},function(t,r){function e(t,r){var e=r[0],n=r[1],i=r[2],s=r[3],a=r[4],o=r[5],h=r[6],u=r[7],c=r[8],l=r[9],f=r[10],p=r[11],d=r[12],y=r[13],g=r[14],m=r[15];return t[0]=o*(f*m-p*g)-l*(h*m-u*g)+y*(h*p-u*f),t[1]=-(n*(f*m-p*g)-l*(i*m-s*g)+y*(i*p-s*f)),t[2]=n*(h*m-u*g)-o*(i*m-s*g)+y*(i*u-s*h),t[3]=-(n*(h*p-u*f)-o*(i*p-s*f)+l*(i*u-s*h)),t[4]=-(a*(f*m-p*g)-c*(h*m-u*g)+d*(h*p-u*f)),t[5]=e*(f*m-p*g)-c*(i*m-s*g)+d*(i*p-s*f),t[6]=-(e*(h*m-u*g)-a*(i*m-s*g)+d*(i*u-s*h)),t[7]=e*(h*p-u*f)-a*(i*p-s*f)+c*(i*u-s*h),t[8]=a*(l*m-p*y)-c*(o*m-u*y)+d*(o*p-u*l),t[9]=-(e*(l*m-p*y)-c*(n*m-s*y)+d*(n*p-s*l)),t[10]=e*(o*m-u*y)-a*(n*m-s*y)+d*(n*u-s*o),t[11]=-(e*(o*p-u*l)-a*(n*p-s*l)+c*(n*u-s*o)),t[12]=-(a*(l*g-f*y)-c*(o*g-h*y)+d*(o*f-h*l)),t[13]=e*(l*g-f*y)-c*(n*g-i*y)+d*(n*f-i*l),t[14]=-(e*(o*g-h*y)-a*(n*g-i*y)+d*(n*h-i*o)),t[15]=e*(o*f-h*l)-a*(n*f-i*l)+c*(n*h-i*o),t}t.exports=e},function(t,r){function e(t){var r=t[0],e=t[1],n=t[2],i=t[3],s=t[4],a=t[5],o=t[6],h=t[7],u=t[8],c=t[9],l=t[10],f=t[11],p=t[12],d=t[13],y=t[14],g=t[15];return(r*a-e*s)*(l*g-f*y)-(r*o-n*s)*(c*g-f*d)+(r*h-i*s)*(c*y-l*d)+(e*o-n*a)*(u*g-f*p)-(e*h-i*a)*(u*y-l*p)+(n*h-i*o)*(u*d-c*p)}t.exports=e},function(t,r){function e(t,r,e){var n=r[0],i=r[1],s=r[2],a=r[3],o=r[4],h=r[5],u=r[6],c=r[7],l=r[8],f=r[9],p=r[10],d=r[11],y=r[12],g=r[13],m=r[14],v=r[15],x=e[0],b=e[1],_=e[2],w=e[3];return t[0]=x*n+b*o+_*l+w*y,t[1]=x*i+b*h+_*f+w*g,t[2]=x*s+b*u+_*p+w*m,t[3]=x*a+b*c+_*d+w*v,x=e[4],b=e[5],_=e[6],w=e[7],t[4]=x*n+b*o+_*l+w*y,t[5]=x*i+b*h+_*f+w*g,t[6]=x*s+b*u+_*p+w*m,t[7]=x*a+b*c+_*d+w*v,x=e[8],b=e[9],_=e[10],w=e[11],t[8]=x*n+b*o+_*l+w*y,t[9]=x*i+b*h+_*f+w*g,t[10]=x*s+b*u+_*p+w*m,t[11]=x*a+b*c+_*d+w*v,x=e[12],b=e[13],_=e[14],w=e[15],t[12]=x*n+b*o+_*l+w*y,t[13]=x*i+b*h+_*f+w*g,t[14]=x*s+b*u+_*p+w*m,t[15]=x*a+b*c+_*d+w*v,t}t.exports=e},function(t,r){function e(t,r,e){var n,i,s,a,o,h,u,c,l,f,p,d,y=e[0],g=e[1],m=e[2];return r===t?(t[12]=r[0]*y+r[4]*g+r[8]*m+r[12],t[13]=r[1]*y+r[5]*g+r[9]*m+r[13],t[14]=r[2]*y+r[6]*g+r[10]*m+r[14],t[15]=r[3]*y+r[7]*g+r[11]*m+r[15]):(n=r[0],i=r[1],s=r[2],a=r[3],o=r[4],h=r[5],u=r[6],c=r[7],l=r[8],f=r[9],p=r[10],d=r[11],t[0]=n,t[1]=i,t[2]=s,t[3]=a,t[4]=o,t[5]=h,t[6]=u,t[7]=c,t[8]=l,t[9]=f,t[10]=p,t[11]=d,t[12]=n*y+o*g+l*m+r[12],t[13]=i*y+h*g+f*m+r[13],t[14]=s*y+u*g+p*m+r[14],t[15]=a*y+c*g+d*m+r[15]),t}t.exports=e},function(t,r){function e(t,r,e){var n=e[0],i=e[1],s=e[2];return t[0]=r[0]*n,t[1]=r[1]*n,t[2]=r[2]*n,t[3]=r[3]*n,t[4]=r[4]*i,t[5]=r[5]*i,t[6]=r[6]*i,t[7]=r[7]*i,t[8]=r[8]*s,t[9]=r[9]*s,t[10]=r[10]*s,t[11]=r[11]*s,t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],t}t.exports=e},function(t,r){function e(t,r,e,n){var i,s,a,o,h,u,c,l,f,p,d,y,g,m,v,x,b,_,w,A,M,z,S,E,N=n[0],U=n[1],V=n[2],k=Math.sqrt(N*N+U*U+V*V);return Math.abs(k)<1e-6?null:(k=1/k,N*=k,U*=k,V*=k,i=Math.sin(e),s=Math.cos(e),a=1-s,o=r[0],h=r[1],u=r[2],c=r[3],l=r[4],f=r[5],p=r[6],d=r[7],y=r[8],g=r[9],m=r[10],v=r[11],x=N*N*a+s,b=U*N*a+V*i,_=V*N*a-U*i,w=N*U*a-V*i,A=U*U*a+s,M=V*U*a+N*i,z=N*V*a+U*i,S=U*V*a-N*i,E=V*V*a+s,t[0]=o*x+l*b+y*_,t[1]=h*x+f*b+g*_,t[2]=u*x+p*b+m*_,t[3]=c*x+d*b+v*_,t[4]=o*w+l*A+y*M,t[5]=h*w+f*A+g*M,t[6]=u*w+p*A+m*M,t[7]=c*w+d*A+v*M,t[8]=o*z+l*S+y*E,t[9]=h*z+f*S+g*E,t[10]=u*z+p*S+m*E,t[11]=c*z+d*S+v*E,r!==t&&(t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t)}t.exports=e},function(t,r){function e(t,r,e){var n=Math.sin(e),i=Math.cos(e),s=r[4],a=r[5],o=r[6],h=r[7],u=r[8],c=r[9],l=r[10],f=r[11];return r!==t&&(t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t[4]=s*i+u*n,t[5]=a*i+c*n,t[6]=o*i+l*n,t[7]=h*i+f*n,t[8]=u*i-s*n,t[9]=c*i-a*n,t[10]=l*i-o*n,t[11]=f*i-h*n,t}t.exports=e},function(t,r){function e(t,r,e){var n=Math.sin(e),i=Math.cos(e),s=r[0],a=r[1],o=r[2],h=r[3],u=r[8],c=r[9],l=r[10],f=r[11];return r!==t&&(t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t[0]=s*i-u*n,t[1]=a*i-c*n,t[2]=o*i-l*n,t[3]=h*i-f*n,t[8]=s*n+u*i,t[9]=a*n+c*i,t[10]=o*n+l*i,t[11]=h*n+f*i,t}t.exports=e},function(t,r){function e(t,r,e){var n=Math.sin(e),i=Math.cos(e),s=r[0],a=r[1],o=r[2],h=r[3],u=r[4],c=r[5],l=r[6],f=r[7];return r!==t&&(t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t[0]=s*i+u*n,t[1]=a*i+c*n,t[2]=o*i+l*n,t[3]=h*i+f*n,t[4]=u*i-s*n,t[5]=c*i-a*n,t[6]=l*i-o*n,t[7]=f*i-h*n,t}t.exports=e},function(t,r){function e(t,r,e){var n=r[0],i=r[1],s=r[2],a=r[3],o=n+n,h=i+i,u=s+s,c=n*o,l=n*h,f=n*u,p=i*h,d=i*u,y=s*u,g=a*o,m=a*h,v=a*u;return t[0]=1-(p+y),t[1]=l+v,t[2]=f-m,t[3]=0,t[4]=l-v,t[5]=1-(c+y),t[6]=d+g,t[7]=0,t[8]=f+m,t[9]=d-g,t[10]=1-(c+p),t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}t.exports=e},function(t,r){function e(t,r){var e=r[0],n=r[1],i=r[2],s=r[3],a=e+e,o=n+n,h=i+i,u=e*a,c=n*a,l=n*o,f=i*a,p=i*o,d=i*h,y=s*a,g=s*o,m=s*h;return t[0]=1-l-d,t[1]=c+m,t[2]=f-g,t[3]=0,t[4]=c-m,t[5]=1-u-d,t[6]=p+y,t[7]=0,t[8]=f+g,t[9]=p-y,t[10]=1-u-l,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}t.exports=e},function(t,r){function e(t,r,e,n,i,s,a){var o=1/(e-r),h=1/(i-n),u=1/(s-a);return t[0]=2*s*o,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*s*h,t[6]=0,t[7]=0,t[8]=(e+r)*o,t[9]=(i+n)*h,t[10]=(a+s)*u,t[11]=-1,t[12]=0,t[13]=0,t[14]=a*s*2*u,t[15]=0,t}t.exports=e},function(t,r){function e(t,r,e,n,i){var s=1/Math.tan(r/2),a=1/(n-i);return t[0]=s/e,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(i+n)*a,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*i*n*a,t[15]=0,t}t.exports=e},function(t,r){function e(t,r,e,n){var i=Math.tan(r.upDegrees*Math.PI/180),s=Math.tan(r.downDegrees*Math.PI/180),a=Math.tan(r.leftDegrees*Math.PI/180),o=Math.tan(r.rightDegrees*Math.PI/180),h=2/(a+o),u=2/(i+s);return t[0]=h,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=u,t[6]=0,t[7]=0,t[8]=-(a-o)*h*.5,t[9]=(i-s)*u*.5,t[10]=n/(e-n),t[11]=-1,t[12]=0,t[13]=0,t[14]=n*e/(e-n),t[15]=0,t}t.exports=e},function(t,r){function e(t,r,e,n,i,s,a){var o=1/(r-e),h=1/(n-i),u=1/(s-a);return t[0]=-2*o,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*h,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*u,t[11]=0,t[12]=(r+e)*o,t[13]=(i+n)*h,t[14]=(a+s)*u,t[15]=1,t}t.exports=e},function(t,r,e){function n(t,r,e,n){var s,a,o,h,u,c,l,f,p,d,y=r[0],g=r[1],m=r[2],v=n[0],x=n[1],b=n[2],_=e[0],w=e[1],A=e[2];return Math.abs(y-_)<1e-6&&Math.abs(g-w)<1e-6&&Math.abs(m-A)<1e-6?i(t):(l=y-_,f=g-w,p=m-A,d=1/Math.sqrt(l*l+f*f+p*p),l*=d,f*=d,p*=d,s=x*p-b*f,a=b*l-v*p,o=v*f-x*l,d=Math.sqrt(s*s+a*a+o*o),d?(d=1/d,s*=d,a*=d,o*=d):(s=0,a=0,o=0),h=f*o-p*a,u=p*s-l*o,c=l*a-f*s,d=Math.sqrt(h*h+u*u+c*c),d?(d=1/d,h*=d,u*=d,c*=d):(h=0,u=0,c=0),t[0]=s,t[1]=h,t[2]=l,t[3]=0,t[4]=a,t[5]=u,t[6]=f,t[7]=0,t[8]=o,t[9]=c,t[10]=p,t[11]=0,t[12]=-(s*y+a*g+o*m),t[13]=-(h*y+u*g+c*m),t[14]=-(l*y+f*g+p*m),t[15]=1,t)}var i=e(19);t.exports=n},function(t,r){function e(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}t.exports=e},function(t,r){r.vertexNormals=function(t,r){for(var e=r.length,n=new Array(e),i=0;i<e;++i)n[i]=[0,0,0];for(var i=0;i<t.length;++i)for(var s=t[i],a=0,o=s[s.length-1],h=s[0],u=0;u<s.length;++u){a=o,o=h,h=s[(u+1)%s.length];for(var c=r[a],l=r[o],f=r[h],p=new Array(3),d=0,y=new Array(3),g=0,m=0;m<3;++m)p[m]=c[m]-l[m],d+=p[m]*p[m],y[m]=f[m]-l[m],g+=y[m]*y[m];if(d*g>1e-6)for(var v=n[o],x=1/Math.sqrt(d*g),m=0;m<3;++m){var b=(m+1)%3,_=(m+2)%3;v[m]+=x*(y[b]*p[_]-y[_]*p[b])}}for(var i=0;i<e;++i){for(var v=n[i],w=0,m=0;m<3;++m)w+=v[m]*v[m];if(w>1e-6)for(var x=1/Math.sqrt(w),m=0;m<3;++m)v[m]*=x;else for(var m=0;m<3;++m)v[m]=0}return n},r.faceNormals=function(t,r){for(var e=t.length,n=new Array(e),i=0;i<e;++i){for(var s=t[i],a=new Array(3),o=0;o<3;++o)a[o]=r[s[o]];for(var h=new Array(3),u=new Array(3),o=0;o<3;++o)h[o]=a[1][o]-a[0][o],u[o]=a[2][o]-a[0][o];for(var c=new Array(3),l=0,o=0;o<3;++o){var f=(o+1)%3,p=(o+2)%3;c[o]=h[f]*u[p]-h[p]*u[f],l+=c[o]*c[o]}l=l>1e-6?1/Math.sqrt(l):0;for(var o=0;o<3;++o)c[o]*=l;n[i]=c}return n}},function(t,r,e){"use strict";function n(t,r,e,n,a,o,h){s.a.call(this),this.type="SphereGeometry",this.parameters={radius:t,widthSegments:r,heightSegments:e,phiStart:n,phiLength:a,thetaStart:o,thetaLength:h},this.fromBufferGeometry(new i(t,r,e,n,a,o,h)),this.mergeVertices()}function i(t,r,e,n,i,s,u){a.a.call(this),this.type="SphereBufferGeometry",this.parameters={radius:t,widthSegments:r,heightSegments:e,phiStart:n,phiLength:i,thetaStart:s,thetaLength:u},t=t||1,r=Math.max(3,Math.floor(r)||8),e=Math.max(2,Math.floor(e)||6),n=void 0!==n?n:0,i=void 0!==i?i:2*Math.PI,s=void 0!==s?s:0,u=void 0!==u?u:Math.PI;var c,l,f=s+u,p=0,d=[],y=new h.a,g=new h.a,m=[],v=[],x=[],b=[];for(l=0;l<=e;l++){var _=[],w=l/e;for(c=0;c<=r;c++){var A=c/r;y.x=-t*Math.cos(n+A*i)*Math.sin(s+w*u),y.y=t*Math.cos(s+w*u),y.z=t*Math.sin(n+A*i)*Math.sin(s+w*u),v.push(y.x,y.y,y.z),g.set(y.x,y.y,y.z).normalize(),x.push(g.x,g.y,g.z),b.push(A,1-w),_.push(p++)}d.push(_)}for(l=0;l<e;l++)for(c=0;c<r;c++){var M=d[l][c+1],z=d[l][c],S=d[l+1][c],E=d[l+1][c+1];(0!==l||s>0)&&m.push(M,z,E),(l!==e-1||f<Math.PI)&&m.push(z,S,E)}this.setIndex(m),this.addAttribute("position",new o.b(v,3)),this.addAttribute("normal",new o.b(x,3)),this.addAttribute("uv",new o.b(b,2))}e.d(r,"a",function(){return n});var s=e(95),a=e(99),o=e(21),h=e(0);n.prototype=Object.create(s.a.prototype),n.prototype.constructor=n,i.prototype=Object.create(a.a.prototype),i.prototype.constructor=i},function(t,r,e){"use strict";function n(){Object.defineProperty(this,"id",{value:y+=2}),this.uuid=d.a.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}e.d(r,"a",function(){return n});var i=e(5),s=e(96),a=e(8),o=e(9),h=e(10),u=e(0),c=e(2),l=e(11),f=e(6),p=e(20),d=e(1),y=0;n.prototype=Object.assign(Object.create(i.a.prototype),{constructor:n,isGeometry:!0,applyMatrix:function(t){for(var r=(new a.a).getNormalMatrix(t),e=0,n=this.vertices.length;e<n;e++){this.vertices[e].applyMatrix4(t)}for(var e=0,n=this.faces.length;e<n;e++){var i=this.faces[e];i.normal.applyMatrix3(r).normalize();for(var s=0,o=i.vertexNormals.length;s<o;s++)i.vertexNormals[s].applyMatrix3(r).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(){var t=new c.a;return function(r){return t.makeRotationX(r),this.applyMatrix(t),this}}(),rotateY:function(){var t=new c.a;return function(r){return t.makeRotationY(r),this.applyMatrix(t),this}}(),rotateZ:function(){var t=new c.a;return function(r){return t.makeRotationZ(r),this.applyMatrix(t),this}}(),translate:function(){var t=new c.a;return function(r,e,n){return t.makeTranslation(r,e,n),this.applyMatrix(t),this}}(),scale:function(){var t=new c.a;return function(r,e,n){return t.makeScale(r,e,n),this.applyMatrix(t),this}}(),lookAt:function(){var t=new p.a;return function(r){t.lookAt(r),t.updateMatrix(),this.applyMatrix(t.matrix)}}(),fromBufferGeometry:function(t){function r(t,r,n,i){var a=void 0!==o?[d[t].clone(),d[r].clone(),d[n].clone()]:[],u=void 0!==h?[e.colors[t].clone(),e.colors[r].clone(),e.colors[n].clone()]:[],l=new s.a(t,r,n,a,u,i);e.faces.push(l),void 0!==c&&e.faceVertexUvs[0].push([y[t].clone(),y[r].clone(),y[n].clone()]),void 0!==p&&e.faceVertexUvs[1].push([g[t].clone(),g[r].clone(),g[n].clone()])}var e=this,n=null!==t.index?t.index.array:void 0,i=t.attributes,a=i.position.array,o=void 0!==i.normal?i.normal.array:void 0,h=void 0!==i.color?i.color.array:void 0,c=void 0!==i.uv?i.uv.array:void 0,p=void 0!==i.uv2?i.uv2.array:void 0;void 0!==p&&(this.faceVertexUvs[1]=[]);for(var d=[],y=[],g=[],m=0,v=0;m<a.length;m+=3,v+=2)e.vertices.push(new u.a(a[m],a[m+1],a[m+2])),void 0!==o&&d.push(new u.a(o[m],o[m+1],o[m+2])),void 0!==h&&e.colors.push(new f.a(h[m],h[m+1],h[m+2])),void 0!==c&&y.push(new l.a(c[v],c[v+1])),void 0!==p&&g.push(new l.a(p[v],p[v+1]));var x=t.groups;if(x.length>0)for(var m=0;m<x.length;m++)for(var b=x[m],_=b.start,w=b.count,v=_,A=_+w;v<A;v+=3)void 0!==n?r(n[v],n[v+1],n[v+2],b.materialIndex):r(v,v+1,v+2,b.materialIndex);else if(void 0!==n)for(var m=0;m<n.length;m+=3)r(n[m],n[m+1],n[m+2]);else for(var m=0;m<a.length/3;m+=3)r(m,m+1,m+2);return this.computeFaceNormals(),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),this},center:function(){this.computeBoundingBox();var t=this.boundingBox.getCenter().negate();return this.translate(t.x,t.y,t.z),t},normalize:function(){this.computeBoundingSphere();var t=this.boundingSphere.center,r=this.boundingSphere.radius,e=0===r?1:1/r,n=new c.a;return n.set(e,0,0,-e*t.x,0,e,0,-e*t.y,0,0,e,-e*t.z,0,0,0,1),this.applyMatrix(n),this},computeFaceNormals:function(){for(var t=new u.a,r=new u.a,e=0,n=this.faces.length;e<n;e++){var i=this.faces[e],s=this.vertices[i.a],a=this.vertices[i.b],o=this.vertices[i.c];t.subVectors(o,a),r.subVectors(s,a),t.cross(r),t.normalize(),i.normal.copy(t)}},computeVertexNormals:function(t){void 0===t&&(t=!0);var r,e,n,i,s,a;for(a=new Array(this.vertices.length),r=0,e=this.vertices.length;r<e;r++)a[r]=new u.a;if(t){var o,h,c,l=new u.a,f=new u.a;for(n=0,i=this.faces.length;n<i;n++)s=this.faces[n],o=this.vertices[s.a],h=this.vertices[s.b],c=this.vertices[s.c],l.subVectors(c,h),f.subVectors(o,h),l.cross(f),a[s.a].add(l),a[s.b].add(l),a[s.c].add(l)}else for(this.computeFaceNormals(),n=0,i=this.faces.length;n<i;n++)s=this.faces[n],a[s.a].add(s.normal),a[s.b].add(s.normal),a[s.c].add(s.normal);for(r=0,e=this.vertices.length;r<e;r++)a[r].normalize();for(n=0,i=this.faces.length;n<i;n++){s=this.faces[n];var p=s.vertexNormals;3===p.length?(p[0].copy(a[s.a]),p[1].copy(a[s.b]),p[2].copy(a[s.c])):(p[0]=a[s.a].clone(),p[1]=a[s.b].clone(),p[2]=a[s.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){var t,r,e;for(this.computeFaceNormals(),t=0,r=this.faces.length;t<r;t++){e=this.faces[t];var n=e.vertexNormals;3===n.length?(n[0].copy(e.normal),n[1].copy(e.normal),n[2].copy(e.normal)):(n[0]=e.normal.clone(),n[1]=e.normal.clone(),n[2]=e.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var t,r,e,i,s;for(e=0,i=this.faces.length;e<i;e++)for(s=this.faces[e],s.__originalFaceNormal?s.__originalFaceNormal.copy(s.normal):s.__originalFaceNormal=s.normal.clone(),s.__originalVertexNormals||(s.__originalVertexNormals=[]),t=0,r=s.vertexNormals.length;t<r;t++)s.__originalVertexNormals[t]?s.__originalVertexNormals[t].copy(s.vertexNormals[t]):s.__originalVertexNormals[t]=s.vertexNormals[t].clone();var a=new n;for(a.faces=this.faces,t=0,r=this.morphTargets.length;t<r;t++){if(!this.morphNormals[t]){this.morphNormals[t]={},this.morphNormals[t].faceNormals=[],this.morphNormals[t].vertexNormals=[];var o,h,c=this.morphNormals[t].faceNormals,l=this.morphNormals[t].vertexNormals;for(e=0,i=this.faces.length;e<i;e++)o=new u.a,h={a:new u.a,b:new u.a,c:new u.a},c.push(o),l.push(h)}var f=this.morphNormals[t];a.vertices=this.morphTargets[t].vertices,a.computeFaceNormals(),a.computeVertexNormals();var o,h;for(e=0,i=this.faces.length;e<i;e++)s=this.faces[e],o=f.faceNormals[e],h=f.vertexNormals[e],o.copy(s.normal),h.a.copy(s.vertexNormals[0]),h.b.copy(s.vertexNormals[1]),h.c.copy(s.vertexNormals[2])}for(e=0,i=this.faces.length;e<i;e++)s=this.faces[e],s.normal=s.__originalFaceNormal,s.vertexNormals=s.__originalVertexNormals},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new h.a),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new o.a),this.boundingSphere.setFromPoints(this.vertices)},merge:function(t,r,e){if(t&&t.isGeometry){var n,i=this.vertices.length,o=this.vertices,h=t.vertices,u=this.faces,c=t.faces,l=this.faceVertexUvs[0],f=t.faceVertexUvs[0],p=this.colors,d=t.colors;void 0===e&&(e=0),void 0!==r&&(n=(new a.a).getNormalMatrix(r));for(var y=0,g=h.length;y<g;y++){var m=h[y],v=m.clone();void 0!==r&&v.applyMatrix4(r),o.push(v)}for(var y=0,g=d.length;y<g;y++)p.push(d[y].clone());for(y=0,g=c.length;y<g;y++){var x,b,_,w=c[y],A=w.vertexNormals,M=w.vertexColors;x=new s.a(w.a+i,w.b+i,w.c+i),x.normal.copy(w.normal),void 0!==n&&x.normal.applyMatrix3(n).normalize();for(var z=0,S=A.length;z<S;z++)b=A[z].clone(),void 0!==n&&b.applyMatrix3(n).normalize(),x.vertexNormals.push(b);x.color.copy(w.color);for(var z=0,S=M.length;z<S;z++)_=M[z],x.vertexColors.push(_.clone());x.materialIndex=w.materialIndex+e,u.push(x)}for(y=0,g=f.length;y<g;y++){var E=f[y],N=[];if(void 0!==E){for(var z=0,S=E.length;z<S;z++)N.push(E[z].clone());l.push(N)}}}},mergeMesh:function(t){t&&t.isMesh&&(t.matrixAutoUpdate&&t.updateMatrix(),this.merge(t.geometry,t.matrix))},mergeVertices:function(){var t,r,e,n,i,s,a,o,h={},u=[],c=[],l=Math.pow(10,4);for(e=0,n=this.vertices.length;e<n;e++)t=this.vertices[e],r=Math.round(t.x*l)+"_"+Math.round(t.y*l)+"_"+Math.round(t.z*l),void 0===h[r]?(h[r]=e,u.push(this.vertices[e]),c[e]=u.length-1):c[e]=c[h[r]];var f=[];for(e=0,n=this.faces.length;e<n;e++){i=this.faces[e],i.a=c[i.a],i.b=c[i.b],i.c=c[i.c],s=[i.a,i.b,i.c];for(var p=0;p<3;p++)if(s[p]===s[(p+1)%3]){f.push(e);break}}for(e=f.length-1;e>=0;e--){var d=f[e];for(this.faces.splice(d,1),a=0,o=this.faceVertexUvs.length;a<o;a++)this.faceVertexUvs[a].splice(d,1)}var y=this.vertices.length-u.length;return this.vertices=u,y},setFromPoints:function(t){this.vertices=[];for(var r=0,e=t.length;r<e;r++){var n=t[r];this.vertices.push(new u.a(n.x,n.y,n.z||0))}return this},sortFacesByMaterialIndex:function(){function t(t,r){return t.materialIndex-r.materialIndex}for(var r=this.faces,e=r.length,n=0;n<e;n++)r[n]._id=n;r.sort(t);var i,s,a=this.faceVertexUvs[0],o=this.faceVertexUvs[1];a&&a.length===e&&(i=[]),o&&o.length===e&&(s=[]);for(var n=0;n<e;n++){var h=r[n]._id;i&&i.push(a[h]),s&&s.push(o[h])}i&&(this.faceVertexUvs[0]=i),s&&(this.faceVertexUvs[1]=s)},toJSON:function(){function t(t,r,e){return e?t|1<<r:t&~(1<<r)}function r(t){var r=t.x.toString()+t.y.toString()+t.z.toString();return void 0!==f[r]?f[r]:(f[r]=l.length/3,l.push(t.x,t.y,t.z),f[r])}function e(t){var r=t.r.toString()+t.g.toString()+t.b.toString();return void 0!==d[r]?d[r]:(d[r]=p.length,p.push(t.getHex()),d[r])}function n(t){var r=t.x.toString()+t.y.toString();return void 0!==g[r]?g[r]:(g[r]=y.length/2,y.push(t.x,t.y),g[r])}var i={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),void 0!==this.parameters){var s=this.parameters;for(var a in s)void 0!==s[a]&&(i[a]=s[a]);return i}for(var o=[],h=0;h<this.vertices.length;h++){var u=this.vertices[h];o.push(u.x,u.y,u.z)}for(var c=[],l=[],f={},p=[],d={},y=[],g={},h=0;h<this.faces.length;h++){var m=this.faces[h],v=void 0!==this.faceVertexUvs[0][h],x=m.normal.length()>0,b=m.vertexNormals.length>0,_=1!==m.color.r||1!==m.color.g||1!==m.color.b,w=m.vertexColors.length>0,A=0;if(A=t(A,0,0),A=t(A,1,!0),A=t(A,2,!1),A=t(A,3,v),A=t(A,4,x),A=t(A,5,b),A=t(A,6,_),A=t(A,7,w),c.push(A),c.push(m.a,m.b,m.c),c.push(m.materialIndex),v){var M=this.faceVertexUvs[0][h];c.push(n(M[0]),n(M[1]),n(M[2]))}if(x&&c.push(r(m.normal)),b){var z=m.vertexNormals;c.push(r(z[0]),r(z[1]),r(z[2]))}if(_&&c.push(e(m.color)),w){var S=m.vertexColors;c.push(e(S[0]),e(S[1]),e(S[2]))}}return i.data={},i.data.vertices=o,i.data.normals=l,p.length>0&&(i.data.colors=p),y.length>0&&(i.data.uvs=[y]),i.data.faces=c,i},clone:function(){return(new n).copy(this)},copy:function(t){var r,e,n,i,s,a;this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=t.name;var o=t.vertices;for(r=0,e=o.length;r<e;r++)this.vertices.push(o[r].clone());var h=t.colors;for(r=0,e=h.length;r<e;r++)this.colors.push(h[r].clone());var u=t.faces;for(r=0,e=u.length;r<e;r++)this.faces.push(u[r].clone());for(r=0,e=t.faceVertexUvs.length;r<e;r++){var c=t.faceVertexUvs[r];for(void 0===this.faceVertexUvs[r]&&(this.faceVertexUvs[r]=[]),n=0,i=c.length;n<i;n++){var l=c[n],f=[];for(s=0,a=l.length;s<a;s++){var p=l[s];f.push(p.clone())}this.faceVertexUvs[r].push(f)}}var d=t.morphTargets;for(r=0,e=d.length;r<e;r++){var y={};if(y.name=d[r].name,void 0!==d[r].vertices)for(y.vertices=[],n=0,i=d[r].vertices.length;n<i;n++)y.vertices.push(d[r].vertices[n].clone());if(void 0!==d[r].normals)for(y.normals=[],n=0,i=d[r].normals.length;n<i;n++)y.normals.push(d[r].normals[n].clone());this.morphTargets.push(y)}var g=t.morphNormals;for(r=0,e=g.length;r<e;r++){var m={};if(void 0!==g[r].vertexNormals)for(m.vertexNormals=[],n=0,i=g[r].vertexNormals.length;n<i;n++){var v=g[r].vertexNormals[n],x={};x.a=v.a.clone(),x.b=v.b.clone(),x.c=v.c.clone(),m.vertexNormals.push(x)}if(void 0!==g[r].faceNormals)for(m.faceNormals=[],n=0,i=g[r].faceNormals.length;n<i;n++)m.faceNormals.push(g[r].faceNormals[n].clone());this.morphNormals.push(m)}var b=t.skinWeights;for(r=0,e=b.length;r<e;r++)this.skinWeights.push(b[r].clone());var _=t.skinIndices;for(r=0,e=_.length;r<e;r++)this.skinIndices.push(_[r].clone());var w=t.lineDistances;for(r=0,e=w.length;r<e;r++)this.lineDistances.push(w[r]);var A=t.boundingBox;null!==A&&(this.boundingBox=A.clone());var M=t.boundingSphere;return null!==M&&(this.boundingSphere=M.clone()),this.elementsNeedUpdate=t.elementsNeedUpdate,this.verticesNeedUpdate=t.verticesNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.lineDistancesNeedUpdate=t.lineDistancesNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}})},function(t,r,e){"use strict";function n(t,r,e,n,a,o){this.a=t,this.b=r,this.c=e,this.normal=n&&n.isVector3?n:new s.a,this.vertexNormals=Array.isArray(n)?n:[],this.color=a&&a.isColor?a:new i.a,this.vertexColors=Array.isArray(a)?a:[],this.materialIndex=void 0!==o?o:0}e.d(r,"a",function(){return n});var i=e(6),s=e(0);Object.assign(n.prototype,{clone:function(){return(new this.constructor).copy(this)},copy:function(t){this.a=t.a,this.b=t.b,this.c=t.c,this.normal.copy(t.normal),this.color.copy(t.color),this.materialIndex=t.materialIndex;for(var r=0,e=t.vertexNormals.length;r<e;r++)this.vertexNormals[r]=t.vertexNormals[r].clone();for(var r=0,e=t.vertexColors.length;r<e;r++)this.vertexColors[r]=t.vertexColors[r].clone();return this}})},function(t,r,e){"use strict";function n(t,r,e,i){this._x=t||0,this._y=r||0,this._z=e||0,this._order=i||n.DefaultOrder}e.d(r,"a",function(){return n});var i=e(7),s=e(0),a=e(2),o=e(1);n.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],n.DefaultOrder="XYZ",Object.defineProperties(n.prototype,{x:{get:function(){return this._x},set:function(t){this._x=t,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(t){this._y=t,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(t){this._z=t,this.onChangeCallback()}},order:{get:function(){return this._order},set:function(t){this._order=t,this.onChangeCallback()}}}),Object.assign(n.prototype,{isEuler:!0,set:function(t,r,e,n){return this._x=t,this._y=r,this._z=e,this._order=n||this._order,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this.onChangeCallback(),this},setFromRotationMatrix:function(t,r,e){var n=o.a.clamp,i=t.elements,s=i[0],a=i[4],h=i[8],u=i[1],c=i[5],l=i[9],f=i[2],p=i[6],d=i[10];return r=r||this._order,"XYZ"===r?(this._y=Math.asin(n(h,-1,1)),Math.abs(h)<.99999?(this._x=Math.atan2(-l,d),this._z=Math.atan2(-a,s)):(this._x=Math.atan2(p,c),this._z=0)):"YXZ"===r?(this._x=Math.asin(-n(l,-1,1)),Math.abs(l)<.99999?(this._y=Math.atan2(h,d),this._z=Math.atan2(u,c)):(this._y=Math.atan2(-f,s),this._z=0)):"ZXY"===r?(this._x=Math.asin(n(p,-1,1)),Math.abs(p)<.99999?(this._y=Math.atan2(-f,d),this._z=Math.atan2(-a,c)):(this._y=0,this._z=Math.atan2(u,s))):"ZYX"===r?(this._y=Math.asin(-n(f,-1,1)),Math.abs(f)<.99999?(this._x=Math.atan2(p,d),this._z=Math.atan2(u,s)):(this._x=0,this._z=Math.atan2(-a,c))):"YZX"===r?(this._z=Math.asin(n(u,-1,1)),Math.abs(u)<.99999?(this._x=Math.atan2(-l,c),this._y=Math.atan2(-f,s)):(this._x=0,this._y=Math.atan2(h,d))):"XZY"===r&&(this._z=Math.asin(-n(a,-1,1)),Math.abs(a)<.99999?(this._x=Math.atan2(p,c),this._y=Math.atan2(h,s)):(this._x=Math.atan2(-l,d),this._y=0)),this._order=r,!1!==e&&this.onChangeCallback(),this},setFromQuaternion:function(){var t=new a.a;return function(r,e,n){return t.makeRotationFromQuaternion(r),this.setFromRotationMatrix(t,e,n)}}(),setFromVector3:function(t,r){return this.set(t.x,t.y,t.z,r||this._order)},reorder:function(){var t=new i.a;return function(r){return t.setFromEuler(this),this.setFromQuaternion(t,r)}}(),equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order},fromArray:function(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this.onChangeCallback(),this},toArray:function(t,r){return void 0===t&&(t=[]),void 0===r&&(r=0),t[r]=this._x,t[r+1]=this._y,t[r+2]=this._z,t[r+3]=this._order,t},toVector3:function(t){return t?t.set(this._x,this._y,this._z):new s.a(this._x,this._y,this._z)},onChange:function(t){return this.onChangeCallback=t,this},onChangeCallback:function(){}})},function(t,r,e){"use strict";function n(){this.mask=1}e.d(r,"a",function(){return n}),Object.assign(n.prototype,{set:function(t){this.mask=1<<t|0},enable:function(t){this.mask|=1<<t|0},toggle:function(t){this.mask^=1<<t|0},disable:function(t){this.mask&=~(1<<t|0)},test:function(t){return 0!=(this.mask&t.mask)}})},function(t,r,e){"use strict";function n(){Object.defineProperty(this,"id",{value:y+=2}),this.uuid=p.a.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0}}e.d(r,"a",function(){return n});var i=e(0),s=e(10),a=e(5),o=e(21),h=e(9),u=e(101),c=e(20),l=e(2),f=e(8),p=e(1),d=e(102),y=1;n.prototype=Object.assign(Object.create(a.a.prototype),{constructor:n,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(t){Array.isArray(t)?this.index=new(Object(d.a)(t)>65535?o.d:o.c)(t,1):this.index=t},addAttribute:function(t,r){return r&&r.isBufferAttribute||r&&r.isInterleavedBufferAttribute?"index"===t?void this.setIndex(r):(this.attributes[t]=r,this):void this.addAttribute(t,new o.a(arguments[1],arguments[2]))},getAttribute:function(t){return this.attributes[t]},removeAttribute:function(t){return delete this.attributes[t],this},addGroup:function(t,r,e){this.groups.push({start:t,count:r,materialIndex:void 0!==e?e:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(t,r){this.drawRange.start=t,this.drawRange.count=r},applyMatrix:function(t){var r=this.attributes.position;void 0!==r&&(t.applyToBufferAttribute(r),r.needsUpdate=!0);var e=this.attributes.normal;if(void 0!==e){(new f.a).getNormalMatrix(t).applyToBufferAttribute(e),e.needsUpdate=!0}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(){var t=new l.a;return function(r){return t.makeRotationX(r),this.applyMatrix(t),this}}(),rotateY:function(){var t=new l.a;return function(r){return t.makeRotationY(r),this.applyMatrix(t),this}}(),rotateZ:function(){var t=new l.a;return function(r){return t.makeRotationZ(r),this.applyMatrix(t),this}}(),translate:function(){var t=new l.a;return function(r,e,n){return t.makeTranslation(r,e,n),this.applyMatrix(t),this}}(),scale:function(){var t=new l.a;return function(r,e,n){return t.makeScale(r,e,n),this.applyMatrix(t),this}}(),lookAt:function(){var t=new c.a;return function(r){t.lookAt(r),t.updateMatrix(),this.applyMatrix(t.matrix)}}(),center:function(){this.computeBoundingBox();var t=this.boundingBox.getCenter().negate();return this.translate(t.x,t.y,t.z),t},setFromObject:function(t){var r=t.geometry;if(t.isPoints||t.isLine){var e=new o.b(3*r.vertices.length,3),n=new o.b(3*r.colors.length,3);if(this.addAttribute("position",e.copyVector3sArray(r.vertices)),this.addAttribute("color",n.copyColorsArray(r.colors)),r.lineDistances&&r.lineDistances.length===r.vertices.length){var i=new o.b(r.lineDistances.length,1);this.addAttribute("lineDistance",i.copyArray(r.lineDistances))}null!==r.boundingSphere&&(this.boundingSphere=r.boundingSphere.clone()),null!==r.boundingBox&&(this.boundingBox=r.boundingBox.clone())}else t.isMesh&&r&&r.isGeometry&&this.fromGeometry(r);return this},setFromPoints:function(t){for(var r=[],e=0,n=t.length;e<n;e++){var i=t[e];r.push(i.x,i.y,i.z||0)}return this.addAttribute("position",new o.b(r,3)),this},updateFromObject:function(t){var r=t.geometry;if(t.isMesh){var e=r.__directGeometry;if(!0===r.elementsNeedUpdate&&(e=void 0,r.elementsNeedUpdate=!1),void 0===e)return this.fromGeometry(r);e.verticesNeedUpdate=r.verticesNeedUpdate,e.normalsNeedUpdate=r.normalsNeedUpdate,e.colorsNeedUpdate=r.colorsNeedUpdate,e.uvsNeedUpdate=r.uvsNeedUpdate,e.groupsNeedUpdate=r.groupsNeedUpdate,r.verticesNeedUpdate=!1,r.normalsNeedUpdate=!1,r.colorsNeedUpdate=!1,r.uvsNeedUpdate=!1,r.groupsNeedUpdate=!1,r=e}var n;return!0===r.verticesNeedUpdate&&(n=this.attributes.position,void 0!==n&&(n.copyVector3sArray(r.vertices),n.needsUpdate=!0),r.verticesNeedUpdate=!1),!0===r.normalsNeedUpdate&&(n=this.attributes.normal,void 0!==n&&(n.copyVector3sArray(r.normals),n.needsUpdate=!0),r.normalsNeedUpdate=!1),!0===r.colorsNeedUpdate&&(n=this.attributes.color,void 0!==n&&(n.copyColorsArray(r.colors),n.needsUpdate=!0),r.colorsNeedUpdate=!1),r.uvsNeedUpdate&&(n=this.attributes.uv,void 0!==n&&(n.copyVector2sArray(r.uvs),n.needsUpdate=!0),r.uvsNeedUpdate=!1),r.lineDistancesNeedUpdate&&(n=this.attributes.lineDistance,void 0!==n&&(n.copyArray(r.lineDistances),n.needsUpdate=!0),r.lineDistancesNeedUpdate=!1),r.groupsNeedUpdate&&(r.computeGroups(t.geometry),this.groups=r.groups,r.groupsNeedUpdate=!1),this},fromGeometry:function(t){return t.__directGeometry=(new u.a).fromGeometry(t),this.fromDirectGeometry(t.__directGeometry)},fromDirectGeometry:function(t){var r=new Float32Array(3*t.vertices.length);if(this.addAttribute("position",new o.a(r,3).copyVector3sArray(t.vertices)),t.normals.length>0){var e=new Float32Array(3*t.normals.length);this.addAttribute("normal",new o.a(e,3).copyVector3sArray(t.normals))}if(t.colors.length>0){var n=new Float32Array(3*t.colors.length);this.addAttribute("color",new o.a(n,3).copyColorsArray(t.colors))}if(t.uvs.length>0){var i=new Float32Array(2*t.uvs.length);this.addAttribute("uv",new o.a(i,2).copyVector2sArray(t.uvs))}if(t.uvs2.length>0){var s=new Float32Array(2*t.uvs2.length);this.addAttribute("uv2",new o.a(s,2).copyVector2sArray(t.uvs2))}if(t.indices.length>0){var a=Object(d.a)(t.indices)>65535?Uint32Array:Uint16Array,h=new a(3*t.indices.length);this.setIndex(new o.a(h,1).copyIndicesArray(t.indices))}this.groups=t.groups;for(var u in t.morphTargets){for(var c=[],l=t.morphTargets[u],f=0,p=l.length;f<p;f++){var y=l[f],g=new o.b(3*y.length,3);c.push(g.copyVector3sArray(y))}this.morphAttributes[u]=c}if(t.skinIndices.length>0){var m=new o.b(4*t.skinIndices.length,4);this.addAttribute("skinIndex",m.copyVector4sArray(t.skinIndices))}if(t.skinWeights.length>0){var v=new o.b(4*t.skinWeights.length,4);this.addAttribute("skinWeight",v.copyVector4sArray(t.skinWeights))}return null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new s.a);var t=this.attributes.position;void 0!==t?this.boundingBox.setFromBufferAttribute(t):this.boundingBox.makeEmpty(),isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z)},computeBoundingSphere:function(){var t=new s.a,r=new i.a;return function(){null===this.boundingSphere&&(this.boundingSphere=new h.a);var e=this.attributes.position;if(e){var n=this.boundingSphere.center;t.setFromBufferAttribute(e),t.getCenter(n);for(var i=0,s=0,a=e.count;s<a;s++)r.x=e.getX(s),r.y=e.getY(s),r.z=e.getZ(s),i=Math.max(i,n.distanceToSquared(r));this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)}}}(),computeFaceNormals:function(){},computeVertexNormals:function(){var t=this.index,r=this.attributes,e=this.groups;if(r.position){var n=r.position.array;if(void 0===r.normal)this.addAttribute("normal",new o.a(new Float32Array(n.length),3));else for(var s=r.normal.array,a=0,h=s.length;a<h;a++)s[a]=0;var u,c,l,f=r.normal.array,p=new i.a,d=new i.a,y=new i.a,g=new i.a,m=new i.a;if(t){var v=t.array;0===e.length&&this.addGroup(0,v.length);for(var x=0,b=e.length;x<b;++x)for(var _=e[x],w=_.start,A=_.count,a=w,h=w+A;a<h;a+=3)u=3*v[a+0],c=3*v[a+1],l=3*v[a+2],p.fromArray(n,u),d.fromArray(n,c),y.fromArray(n,l),g.subVectors(y,d),m.subVectors(p,d),g.cross(m),f[u]+=g.x,f[u+1]+=g.y,f[u+2]+=g.z,f[c]+=g.x,f[c+1]+=g.y,f[c+2]+=g.z,f[l]+=g.x,f[l+1]+=g.y,f[l+2]+=g.z}else for(var a=0,h=n.length;a<h;a+=9)p.fromArray(n,a),d.fromArray(n,a+3),y.fromArray(n,a+6),g.subVectors(y,d),m.subVectors(p,d),g.cross(m),f[a]=g.x,f[a+1]=g.y,f[a+2]=g.z,f[a+3]=g.x,f[a+4]=g.y,f[a+5]=g.z,f[a+6]=g.x,f[a+7]=g.y,f[a+8]=g.z;this.normalizeNormals(),r.normal.needsUpdate=!0}},merge:function(t,r){if(t&&t.isBufferGeometry){void 0===r&&(r=0);var e=this.attributes;for(var n in e)if(void 0!==t.attributes[n])for(var i=e[n],s=i.array,a=t.attributes[n],o=a.array,h=a.itemSize,u=0,c=h*r;u<o.length;u++,c++)s[c]=o[u];return this}},normalizeNormals:function(){var t=new i.a;return function(){for(var r=this.attributes.normal,e=0,n=r.count;e<n;e++)t.x=r.getX(e),t.y=r.getY(e),t.z=r.getZ(e),t.normalize(),r.setXYZ(e,t.x,t.y,t.z)}}(),toNonIndexed:function(){if(null===this.index)return this;var t=new n,r=this.index.array,e=this.attributes;for(var i in e){for(var s=e[i],a=s.array,h=s.itemSize,u=new a.constructor(r.length*h),c=0,l=0,f=0,p=r.length;f<p;f++){c=r[f]*h;for(var d=0;d<h;d++)u[l++]=a[c++]}t.addAttribute(i,new o.a(u,h))}return t},toJSON:function(){var t={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),void 0!==this.parameters){var r=this.parameters;for(var e in r)void 0!==r[e]&&(t[e]=r[e]);return t}t.data={attributes:{}};var n=this.index;if(null!==n){var i=Array.prototype.slice.call(n.array);t.data.index={type:n.array.constructor.name,array:i}}var s=this.attributes;for(var e in s){var a=s[e],i=Array.prototype.slice.call(a.array);t.data.attributes[e]={itemSize:a.itemSize,type:a.array.constructor.name,array:i,normalized:a.normalized}}var o=this.groups;o.length>0&&(t.data.groups=JSON.parse(JSON.stringify(o)));var h=this.boundingSphere;return null!==h&&(t.data.boundingSphere={center:h.center.toArray(),radius:h.radius}),t},clone:function(){return(new n).copy(this)},copy:function(t){var r,e,n;this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.name=t.name;var i=t.index;null!==i&&this.setIndex(i.clone());var s=t.attributes;for(r in s){var a=s[r];this.addAttribute(r,a.clone())}var o=t.morphAttributes;for(r in o){var h=[],u=o[r];for(e=0,n=u.length;e<n;e++)h.push(u[e].clone());this.morphAttributes[r]=h}var c=t.groups;for(e=0,n=c.length;e<n;e++){var l=c[e];this.addGroup(l.start,l.count,l.materialIndex)}var f=t.boundingBox;null!==f&&(this.boundingBox=f.clone());var p=t.boundingSphere;return null!==p&&(this.boundingSphere=p.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this},dispose:function(){this.dispatchEvent({type:"dispose"})}})},function(t,r,e){"use strict";function n(t,r,e,n){this.x=t||0,this.y=r||0,this.z=e||0,this.w=void 0!==n?n:1}e.d(r,"a",function(){return n}),Object.assign(n.prototype,{isVector4:!0,set:function(t,r,e,n){return this.x=t,this.y=r,this.z=e,this.w=n,this},setScalar:function(t){return this.x=t,this.y=t,this.z=t,this.w=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setW:function(t){return this.w=t,this},setComponent:function(t,r){switch(t){case 0:this.x=r;break;case 1:this.y=r;break;case 2:this.z=r;break;case 3:this.w=r;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=void 0!==t.w?t.w:1,this},add:function(t,r){return void 0!==r?this.addVectors(t,r):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this},addVectors:function(t,r){return this.x=t.x+r.x,this.y=t.y+r.y,this.z=t.z+r.z,this.w=t.w+r.w,this},addScaledVector:function(t,r){return this.x+=t.x*r,this.y+=t.y*r,this.z+=t.z*r,this.w+=t.w*r,this},sub:function(t,r){return void 0!==r?this.subVectors(t,r):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this},subVectors:function(t,r){return this.x=t.x-r.x,this.y=t.y-r.y,this.z=t.z-r.z,this.w=t.w-r.w,this},multiplyScalar:function(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this},applyMatrix4:function(t){var r=this.x,e=this.y,n=this.z,i=this.w,s=t.elements;return this.x=s[0]*r+s[4]*e+s[8]*n+s[12]*i,this.y=s[1]*r+s[5]*e+s[9]*n+s[13]*i,this.z=s[2]*r+s[6]*e+s[10]*n+s[14]*i,this.w=s[3]*r+s[7]*e+s[11]*n+s[15]*i,this},divideScalar:function(t){return this.multiplyScalar(1/t)},setAxisAngleFromQuaternion:function(t){this.w=2*Math.acos(t.w);var r=Math.sqrt(1-t.w*t.w);return r<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/r,this.y=t.y/r,this.z=t.z/r),this},setAxisAngleFromRotationMatrix:function(t){var r,e,n,i,s=t.elements,a=s[0],o=s[4],h=s[8],u=s[1],c=s[5],l=s[9],f=s[2],p=s[6],d=s[10];if(Math.abs(o-u)<.01&&Math.abs(h-f)<.01&&Math.abs(l-p)<.01){if(Math.abs(o+u)<.1&&Math.abs(h+f)<.1&&Math.abs(l+p)<.1&&Math.abs(a+c+d-3)<.1)return this.set(1,0,0,0),this;r=Math.PI;var y=(a+1)/2,g=(c+1)/2,m=(d+1)/2,v=(o+u)/4,x=(h+f)/4,b=(l+p)/4;return y>g&&y>m?y<.01?(e=0,n=.707106781,i=.707106781):(e=Math.sqrt(y),n=v/e,i=x/e):g>m?g<.01?(e=.707106781,n=0,i=.707106781):(n=Math.sqrt(g),e=v/n,i=b/n):m<.01?(e=.707106781,n=.707106781,i=0):(i=Math.sqrt(m),e=x/i,n=b/i),this.set(e,n,i,r),this}var _=Math.sqrt((p-l)*(p-l)+(h-f)*(h-f)+(u-o)*(u-o));return Math.abs(_)<.001&&(_=1),this.x=(p-l)/_,this.y=(h-f)/_,this.z=(u-o)/_,this.w=Math.acos((a+c+d-1)/2),this},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this},clamp:function(t,r){return this.x=Math.max(t.x,Math.min(r.x,this.x)),this.y=Math.max(t.y,Math.min(r.y,this.y)),this.z=Math.max(t.z,Math.min(r.z,this.z)),this.w=Math.max(t.w,Math.min(r.w,this.w)),this},clampScalar:function(){var t,r;return function(e,i){return void 0===t&&(t=new n,r=new n),t.set(e,e,e,e),r.set(i,i,i,i),this.clamp(t,r)}}(),clampLength:function(t,r){var e=this.length();return this.divideScalar(e||1).multiplyScalar(Math.max(t,Math.min(r,e)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(t){return this.normalize().multiplyScalar(t)},lerp:function(t,r){return this.x+=(t.x-this.x)*r,this.y+=(t.y-this.y)*r,this.z+=(t.z-this.z)*r,this.w+=(t.w-this.w)*r,this},lerpVectors:function(t,r,e){return this.subVectors(r,t).multiplyScalar(e).add(t)},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w},fromArray:function(t,r){return void 0===r&&(r=0),this.x=t[r],this.y=t[r+1],this.z=t[r+2],this.w=t[r+3],this},toArray:function(t,r){return void 0===t&&(t=[]),void 0===r&&(r=0),t[r]=this.x,t[r+1]=this.y,t[r+2]=this.z,t[r+3]=this.w,t},fromBufferAttribute:function(t,r,e){return this.x=t.getX(r),this.y=t.getY(r),this.z=t.getZ(r),this.w=t.getW(r),this}})},function(t,r,e){"use strict";function n(){this.indices=[],this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}e.d(r,"a",function(){return n});var i=e(11);Object.assign(n.prototype,{computeGroups:function(t){for(var r,e=[],n=void 0,i=t.faces,s=0;s<i.length;s++){var a=i[s];a.materialIndex!==n&&(n=a.materialIndex,void 0!==r&&(r.count=3*s-r.start,e.push(r)),r={start:3*s,materialIndex:n})}void 0!==r&&(r.count=3*s-r.start,e.push(r)),this.groups=e},fromGeometry:function(t){var r,e=t.faces,n=t.vertices,s=t.faceVertexUvs,a=s[0]&&s[0].length>0,o=s[1]&&s[1].length>0,h=t.morphTargets,u=h.length;if(u>0){r=[];for(var c=0;c<u;c++)r[c]=[];this.morphTargets.position=r}var l,f=t.morphNormals,p=f.length;if(p>0){l=[];for(var c=0;c<p;c++)l[c]=[];this.morphTargets.normal=l}for(var d=t.skinIndices,y=t.skinWeights,g=d.length===n.length,m=y.length===n.length,c=0;c<e.length;c++){var v=e[c];this.vertices.push(n[v.a],n[v.b],n[v.c]);var x=v.vertexNormals;if(3===x.length)this.normals.push(x[0],x[1],x[2]);else{var b=v.normal;this.normals.push(b,b,b)}var _=v.vertexColors;if(3===_.length)this.colors.push(_[0],_[1],_[2]);else{var w=v.color;this.colors.push(w,w,w)}if(!0===a){var A=s[0][c];void 0!==A?this.uvs.push(A[0],A[1],A[2]):this.uvs.push(new i.a,new i.a,new i.a)}if(!0===o){var A=s[1][c];void 0!==A?this.uvs2.push(A[0],A[1],A[2]):this.uvs2.push(new i.a,new i.a,new i.a)}for(var M=0;M<u;M++){var z=h[M].vertices;r[M].push(z[v.a],z[v.b],z[v.c])}for(var M=0;M<p;M++){var S=f[M].vertexNormals[c];l[M].push(S.a,S.b,S.c)}g&&this.skinIndices.push(d[v.a],d[v.b],d[v.c]),m&&this.skinWeights.push(y[v.a],y[v.b],y[v.c])}return this.computeGroups(t),this.verticesNeedUpdate=t.verticesNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,this}})},function(t,r,e){"use strict";function n(t){if(0===t.length)return-1/0;for(var r=t[0],e=1,n=t.length;e<n;++e)t[e]>r&&(r=t[e]);return r}e.d(r,"a",function(){return n})}]);